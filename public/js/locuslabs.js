(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function init(){for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,e=o.length;r<e;++r)lookup[r]=o[r],revLookup[o.charCodeAt(r)]=r;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63}function toByteArray(o){var r,e,t,u,n,p,a=o.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");n="="===o[a-2]?2:"="===o[a-1]?1:0,p=new Arr(3*a/4-n),t=n>0?a-4:a;var k=0;for(r=0,e=0;r<t;r+=4,e+=3)u=revLookup[o.charCodeAt(r)]<<18|revLookup[o.charCodeAt(r+1)]<<12|revLookup[o.charCodeAt(r+2)]<<6|revLookup[o.charCodeAt(r+3)],p[k++]=u>>16&255,p[k++]=u>>8&255,p[k++]=255&u;return 2===n?(u=revLookup[o.charCodeAt(r)]<<2|revLookup[o.charCodeAt(r+1)]>>4,p[k++]=255&u):1===n&&(u=revLookup[o.charCodeAt(r)]<<10|revLookup[o.charCodeAt(r+1)]<<4|revLookup[o.charCodeAt(r+2)]>>2,p[k++]=u>>8&255,p[k++]=255&u),p}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,u=[],n=r;n<e;n+=3)t=(o[n]<<16)+(o[n+1]<<8)+o[n+2],u.push(tripletToBase64(t));return u.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,u="",n=[],p=16383,a=0,k=e-t;a<k;a+=p)n.push(encodeChunk(o,a,a+p>k?k:a+p));return 1===t?(r=o[e-1],u+=lookup[r>>2],u+=lookup[r<<4&63],u+="=="):2===t&&(r=(o[e-2]<<8)+o[e-1],u+=lookup[r>>10],u+=lookup[r>>4&63],u+=lookup[r<<2&63],u+="="),n.push(u),n.join("")}exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array;init();
},{}],2:[function(require,module,exports){

},{}],3:[function(require,module,exports){
arguments[4][2][0].apply(exports,arguments)
},{"dup":2}],4:[function(require,module,exports){
(function (global){
"use strict";var buffer=require("buffer"),Buffer=buffer.Buffer,SlowBuffer=buffer.SlowBuffer,MAX_LEN=buffer.kMaxLength||2147483647;exports.alloc=function(r,e,f){if("function"==typeof Buffer.alloc)return Buffer.alloc(r,e,f);if("number"==typeof f)throw new TypeError("encoding must not be number");if("number"!=typeof r)throw new TypeError("size must be a number");if(r>MAX_LEN)throw new RangeError("size is too large");var n=f,o=e;void 0===o&&(n=void 0,o=0);var t=new Buffer(r);if("string"==typeof o)for(var u=new Buffer(o,n),i=u.length,a=-1;++a<r;)t[a]=u[a%i];else t.fill(o);return t},exports.allocUnsafe=function(r){if("function"==typeof Buffer.allocUnsafe)return Buffer.allocUnsafe(r);if("number"!=typeof r)throw new TypeError("size must be a number");if(r>MAX_LEN)throw new RangeError("size is too large");return new Buffer(r)},exports.from=function(r,e,f){if("function"==typeof Buffer.from&&(!global.Uint8Array||Uint8Array.from!==Buffer.from))return Buffer.from(r,e,f);if("number"==typeof r)throw new TypeError('"value" argument must not be a number');if("string"==typeof r)return new Buffer(r,e);if("undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer){var n=e;if(1===arguments.length)return new Buffer(r);"undefined"==typeof n&&(n=0);var o=f;if("undefined"==typeof o&&(o=r.byteLength-n),n>=r.byteLength)throw new RangeError("'offset' is out of bounds");if(o>r.byteLength-n)throw new RangeError("'length' is out of bounds");return new Buffer(r.slice(n,n+o))}if(Buffer.isBuffer(r)){var t=new Buffer(r.length);return r.copy(t,0,0,r.length),t}if(r){if(Array.isArray(r)||"undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return new Buffer(r);if("Buffer"===r.type&&Array.isArray(r.data))return new Buffer(r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},exports.allocUnsafeSlow=function(r){if("function"==typeof Buffer.allocUnsafeSlow)return Buffer.allocUnsafeSlow(r);if("number"!=typeof r)throw new TypeError("size must be a number");if(r>=MAX_LEN)throw new RangeError("size is too large");return new SlowBuffer(r)};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"buffer":5}],5:[function(require,module,exports){
(function (global){
"use strict";function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=Buffer.prototype):(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,e,r)}function from(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?fromArrayBuffer(t,e,r,n):"string"==typeof e?fromString(t,e,r):fromObject(t,e)}function assertSize(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function alloc(t,e,r,n){return assertSize(e),e<=0?createBuffer(t,e):void 0!==r?"string"==typeof n?createBuffer(t,e).fill(r,n):createBuffer(t,e).fill(r):createBuffer(t,e)}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function fromString(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(e,r);t=createBuffer(t,n);var f=t.write(e,r);return f!==n&&(t=t.slice(0,f)),t}function fromArrayLike(t,e){var r=e.length<0?0:0|checked(e.length);t=createBuffer(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function fromArrayBuffer(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),Buffer.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=Buffer.prototype):t=fromArrayLike(t,e),t}function fromObject(t,e){if(Buffer.isBuffer(e)){var r=0|checked(e.length);return t=createBuffer(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||isnan(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&isArray(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function SlowBuffer(t){return+t!=t&&(t=0),Buffer.alloc(+t)}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(n)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),n=!0}}function slowToString(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"latin1":case"binary":return latin1Slice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function swap(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function bidirectionalIndexOf(t,e,r,n,f){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=f?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(f)return-1;r=t.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof e&&(e=Buffer.from(e,n)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,r,n,f);if("number"==typeof e)return e=255&e,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):arrayIndexOf(t,[e],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,r,n,f){function i(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,u=t.length,s=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(t,a)===i(e,h===-1?0:a-h)){if(h===-1&&(h=a),a-h+1===s)return h*o}else h!==-1&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(t,a+l)!==i(e,l)){c=!1;break}if(c)return a}return-1}function hexWrite(t,e,r,n){r=Number(r)||0;var f=t.length-r;n?(n=Number(n),n>f&&(n=f)):n=f;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(e.substr(2*o,2),16);if(isNaN(u))return o;t[r+o]=u}return o}function utf8Write(t,e,r,n){return blitBuffer(utf8ToBytes(e,t.length-r),t,r,n)}function asciiWrite(t,e,r,n){return blitBuffer(asciiToBytes(e),t,r,n)}function latin1Write(t,e,r,n){return asciiWrite(t,e,r,n)}function base64Write(t,e,r,n){return blitBuffer(base64ToBytes(e),t,r,n)}function ucs2Write(t,e,r,n){return blitBuffer(utf16leToBytes(e,t.length-r),t,r,n)}function base64Slice(t,e,r){return 0===e&&r===t.length?base64.fromByteArray(t):base64.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var n=[],f=e;f<r;){var i=t[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=t[f+1],128===(192&s)&&(c=(31&i)<<6|63&s,c>127&&(o=c));break;case 3:s=t[f+1],a=t[f+2],128===(192&s)&&128===(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:s=t[f+1],a=t[f+2],h=t[f+3],128===(192&s)&&128===(192&a)&&128===(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(t){var e=t.length;if(e<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;++f)n+=String.fromCharCode(127&t[f]);return n}function latin1Slice(t,e,r){var n="";r=Math.min(t.length,r);for(var f=e;f<r;++f)n+=String.fromCharCode(t[f]);return n}function hexSlice(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=e;i<r;++i)f+=toHex(t[i]);return f}function utf16leSlice(t,e,r){for(var n=t.slice(e,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,n,f,i){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>f||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,r,n){e<0&&(e=65535+e+1);for(var f=0,i=Math.min(t.length-r,2);f<i;++f)t[r+f]=(e&255<<8*(n?f:1-f))>>>8*(n?f:1-f)}function objectWriteUInt32(t,e,r,n){e<0&&(e=4294967295+e+1);for(var f=0,i=Math.min(t.length-r,4);f<i;++f)t[r+f]=e>>>8*(n?f:3-f)&255}function checkIEEE754(t,e,r,n,f,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(t,e,r,n,f){return f||checkIEEE754(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(t,e,r,n,23,4),r+4}function writeDouble(t,e,r,n,f){return f||checkIEEE754(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(t,e,r,n,52,8),r+8}function base64clean(t){if(t=stringtrim(t).replace(INVALID_BASE64_RE,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){e=e||1/0;for(var r,n=t.length,f=null,i=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!f){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),f=r;continue}r=(f-55296<<10|r-56320)+65536}else f&&(e-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function utf16leToBytes(t,e){for(var r,n,f,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(t){return base64.toByteArray(base64clean(t))}function blitBuffer(t,e,r,n){for(var f=0;f<n&&!(f+r>=e.length||f>=t.length);++f)e[f+r]=t[f];return f}function isnan(t){return t!==t}var base64=require("base64-js"),ieee754=require("ieee754"),isArray=require("isarray");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:typedArraySupport(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,r){return from(null,t,e,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,r){return alloc(null,t,e,r)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function(t){return!(null==t||!t._isBuffer)},Buffer.compare=function(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,f=0,i=Math.min(r,n);f<i;++f)if(t[f]!==e[f]){r=t[f],n=e[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(t,e){if(!isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Buffer.allocUnsafe(e),f=0;for(r=0;r<t.length;++r){var i=t[r];if(!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?utf8Slice(this,0,t):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function(){var t="",e=exports.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function(t,e,r,n,f){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),e<0||r>t.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&e>=r)return 0;if(n>=f)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,f>>>=0,this===t)return 0;for(var i=f-n,o=r-e,u=Math.min(i,o),s=this.slice(n,f),a=t.slice(e,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},Buffer.prototype.indexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!0)},Buffer.prototype.lastIndexOf=function(t,e,r){return bidirectionalIndexOf(this,t,e,r,!1)},Buffer.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-e;if((void 0===r||r>f)&&(r=f),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return utf8Write(this,t,e,r);case"ascii":return asciiWrite(this,t,e,r);case"latin1":case"binary":return latin1Write(this,t,e,r);case"base64":return base64Write(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n;if(Buffer.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=Buffer.prototype;else{var f=e-t;n=new Buffer(f,void 0);for(var i=0;i<f;++i)n[i]=this[i+t]}return n},Buffer.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return n},Buffer.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t+--e],f=1;e>0&&(f*=256);)n+=this[t+--e]*f;return n},Buffer.prototype.readUInt8=function(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=this[t],f=1,i=0;++i<e&&(f*=256);)n+=this[t+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*e)),n},Buffer.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||checkOffset(t,e,this.length);for(var n=e,f=1,i=this[t+--n];n>0&&(f*=256);)i+=this[t+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readInt8=function(t,e){return e||checkOffset(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},Buffer.prototype.readInt16LE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function(t,e){return e||checkOffset(t,4,this.length),ieee754.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function(t,e){return e||checkOffset(t,8,this.length),ieee754.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e=0|e,r=0|r,!n){var f=Math.pow(2,8*r)-1;checkInt(this,t,e,r,f,0)}var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},Buffer.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e=0|e,r=0|r,!n){var f=Math.pow(2,8*r)-1;checkInt(this,t,e,r,f,0)}var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},Buffer.prototype.writeUInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=0,o=1,u=0;for(this[e]=255&t;++i<r&&(o*=256);)t<0&&0===u&&0!==this[e+i-1]&&(u=1),this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var f=Math.pow(2,8*r-1);checkInt(this,t,e,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===u&&0!==this[e+i+1]&&(u=1),this[e+i]=(t/o>>0)-u&255;return e+r},Buffer.prototype.writeInt8=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function(t,e,r){return t=+t,e=0|e,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var f,i=n-r;if(this===t&&r<e&&e<n)for(f=i-1;f>=0;--f)t[f+e]=this[f+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(f=0;f<i;++f)t[f+e]=this[f+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},Buffer.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var f=t.charCodeAt(0);f<256&&(t=f)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t=255&t);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var i;if("number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,n).toString()),u=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"base64-js":1,"ieee754":11,"isarray":6}],6:[function(require,module,exports){
var toString={}.toString;module.exports=Array.isArray||function(r){return"[object Array]"==toString.call(r)};
},{}],7:[function(require,module,exports){
module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};
},{}],8:[function(require,module,exports){
(function (Buffer){
function isArray(r){return Array.isArray?Array.isArray(r):"[object Array]"===objectToString(r)}function isBoolean(r){return"boolean"==typeof r}function isNull(r){return null===r}function isNullOrUndefined(r){return null==r}function isNumber(r){return"number"==typeof r}function isString(r){return"string"==typeof r}function isSymbol(r){return"symbol"==typeof r}function isUndefined(r){return void 0===r}function isRegExp(r){return"[object RegExp]"===objectToString(r)}function isObject(r){return"object"==typeof r&&null!==r}function isDate(r){return"[object Date]"===objectToString(r)}function isError(r){return"[object Error]"===objectToString(r)||r instanceof Error}function isFunction(r){return"function"==typeof r}function isPrimitive(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||"undefined"==typeof r}function objectToString(r){return Object.prototype.toString.call(r)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer;
}).call(this,{"isBuffer":require("../../is-buffer/index.js")})

},{"../../is-buffer/index.js":13}],9:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(i=this._events[e],isUndefined(i))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),o=i.slice(),n=o.length,r=0;r<n;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],isFunction(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};
},{}],10:[function(require,module,exports){
var http=require("http"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(t,e){return t||(t={}),t.scheme="https",t.protocol="https:",http.request.call(this,t,e)};
},{"http":34}],11:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:(s?-1:1)*(1/0);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],12:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],13:[function(require,module,exports){
function isBuffer(f){return!!f.constructor&&"function"==typeof f.constructor.isBuffer&&f.constructor.isBuffer(f)}function isSlowBuffer(f){return"function"==typeof f.readFloatLE&&"function"==typeof f.slice&&isBuffer(f.slice(0,0))}module.exports=function(f){return null!=f&&(isBuffer(f)||isSlowBuffer(f)||!!f._isBuffer)};
},{}],14:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(r){return splitPathRe.exec(r).slice(1)};exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),i=Math.min(n.length,s.length),o=i,u=0;u<i;u++)if(n[u]!==s[u]){o=u;break}for(var l=[],u=o;u<n.length;u++)l.push("..");return l=l.concat(s.slice(o)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=splitPath(r),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},exports.basename=function(r,t){var e=splitPath(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return splitPath(r)[3]};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
}).call(this,require('_process'))

},{"_process":16}],15:[function(require,module,exports){
(function (process){
"use strict";function nextTick(e,n,c,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,t,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,n)});case 3:return process.nextTick(function(){e.call(null,n,c)});case 4:return process.nextTick(function(){e.call(null,n,c,r)});default:for(s=new Array(o-1),t=0;t<s.length;)s[t++]=arguments[t];return process.nextTick(function(){e.apply(null,s)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=nextTick:module.exports=process.nextTick;
}).call(this,require('_process'))

},{"_process":16}],16:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)t[u-1]=arguments[u];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],17:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,r=[];n--;)r[n]=o(e[n]);return r}function r(e,o){var r=e.split("@"),t="";r.length>1&&(t=r[0]+"@",e=r[1]),e=e.replace(S,".");var u=e.split("."),i=n(u,o).join(".");return t+i}function t(e){for(var o,n,r=[],t=0,u=e.length;t<u;)o=e.charCodeAt(t++),o>=55296&&o<=56319&&t<u?(n=e.charCodeAt(t++),56320==(64512&n)?r.push(((1023&o)<<10)+(1023&n)+65536):(r.push(o),t--)):r.push(o);return r}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function f(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function c(e,o,n){var r=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;r+=b)e=M(e/L);return M(r+(L+1)*e/(e+m))}function l(e){var n,r,t,f,l,s,d,a,p,h,v=[],g=e.length,w=0,m=I,j=A;for(r=e.lastIndexOf(E),r<0&&(r=0),t=0;t<r;++t)e.charCodeAt(t)>=128&&o("not-basic"),v.push(e.charCodeAt(t));for(f=r>0?r+1:0;f<g;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),a=i(e.charCodeAt(f++)),(a>=b||a>M((x-w)/s))&&o("overflow"),w+=a*s,p=d<=j?y:d>=j+C?C:d-j,!(a<p);d+=b)h=b-p,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,r,u,i,l,s,d,a,p,h,v,g,w,m,j,F=[];for(e=t(e),g=e.length,n=I,r=0,l=A,s=0;s<g;++s)v=e[s],v<128&&F.push(P(v));for(u=i=F.length,i&&F.push(E);u<g;){for(d=x,s=0;s<g;++s)v=e[s],v>=n&&v<d&&(d=v);for(w=u+1,d-n>M((x-r)/w)&&o("overflow"),r+=(d-n)*w,n=d,s=0;s<g;++s)if(v=e[s],v<n&&++r>x&&o("overflow"),v==n){for(a=r,p=b;h=p<=l?y:p>=l+C?C:p-l,!(a<h);p+=b)j=a-h,m=b-h,F.push(P(f(h+j%m,0))),a=M(j/m);F.push(P(f(a,0))),l=c(r,w,u==i),r=0,++u}++r,++n}return F.join("")}function d(e){return r(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function a(e){return r(e,function(e){return O.test(e)?"xn--"+s(e):e})}var p="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:t,encode:u},decode:l,encode:s,toASCII:a,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&h)if(module.exports==p)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(p[w]=g[w]);else e.punycode=g}(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],18:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;y<p;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],19:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};
},{}],20:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":18,"./encode":19}],21:[function(require,module,exports){
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":22}],22:[function(require,module,exports){
"use strict";function Duplex(e){return this instanceof Duplex?(Readable.call(this,e),Writable.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(e){e.end()}function forEach(e,t){for(var r=0,i=e.length;r<i;r++)t(e[r],r)}var objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=Duplex;var processNextTick=require("process-nextick-args"),util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}
},{"./_stream_readable":24,"./_stream_writable":26,"core-util-is":8,"inherits":12,"process-nextick-args":15}],23:[function(require,module,exports){
"use strict";function PassThrough(r){return this instanceof PassThrough?void Transform.call(this,r):new PassThrough(r)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(r,s,i){i(null,r)};
},{"./_stream_transform":25,"core-util-is":8,"inherits":12}],24:[function(require,module,exports){
(function (process){
"use strict";function prependListener(e,t,r){return"function"==typeof e.prependListener?e.prependListener(t,r):void(e._events&&e._events[t]?isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r))}function ReadableState(e,t){Duplex=Duplex||require("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){return Duplex=Duplex||require("./_stream_duplex"),this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),void Stream.call(this)):new Readable(e)}function readableAddChunk(e,t,r,n,a){var i=chunkInvalid(t,r);if(i)e.emit("error",i);else if(null===r)t.reading=!1,onEofChunk(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var d=new Error("stream.push() after EOF");e.emit("error",d)}else if(t.endEmitted&&a){var o=new Error("stream.unshift() after end event");e.emit("error",o)}else{var u;!t.decoder||a||n||(r=t.decoder.write(r),u=!t.objectMode&&0===r.length),a||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e))),maybeReadMore(e,t)}else a||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function chunkInvalid(e,t){var r=null;return Buffer.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?processNextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,processNextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,processNextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=fromListPartial(e,t.buffer,t.decoder),r}function fromListPartial(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?copyFromBufferString(e,t):copyFromBuffer(e,t),n}function copyFromBufferString(e,t){var r=t.head,n=1,a=r.data;for(e-=a.length;r=r.next;){var i=r.data,d=e>i.length?i.length:e;if(a+=d===i.length?i:i.slice(0,e),e-=d,0===e){d===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(d));break}++n}return t.length-=n,a}function copyFromBuffer(e,t){var r=bufferShim.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,d=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,d),e-=d,0===e){d===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(d));break}++a}return t.length-=a,r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,processNextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function forEach(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}module.exports=Readable;var processNextTick=require("process-nextick-args"),isArray=require("isarray");Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter,EElistenerCount=function(e,t){return e.listeners(t).length},Stream;!function(){try{Stream=require("stream")}catch(e){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer,bufferShim=require("buffer-shims"),util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util"),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var BufferList=require("./internal/streams/BufferList"),StringDecoder;util.inherits(Readable,Stream);var Duplex,Duplex;Readable.prototype.push=function(e,t){var r=this._readableState;return r.objectMode||"string"!=typeof e||(t=t||r.defaultEncoding,t!==r.encoding&&(e=bufferShim.from(e,t),t="")),readableAddChunk(this,r,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.isPaused=function(){return this._readableState.flowing===!1},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var n=t.needReadable;debug("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,debug("length less than watermark",n)),t.ended||t.reading?(n=!1,debug("reading or ended",n)):n&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t)));var a;return a=e>0?fromList(e,t):null,null===a?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==a&&this.emit("data",a),a},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,t){function r(e){debug("onunpipe"),e===s&&a()}function n(){debug("onend"),e.end()}function a(){debug("cleanup"),e.removeListener("close",o),e.removeListener("finish",u),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",r),s.removeListener("end",n),s.removeListener("end",a),s.removeListener("data",i),g=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function i(t){debug("ondata"),b=!1;var r=e.write(t);!1!==r||b||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&indexOf(h.pipes,e)!==-1)&&!g&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,b=!0),s.pause())}function d(t){debug("onerror",t),l(),e.removeListener("error",d),0===EElistenerCount(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",u),l()}function u(){debug("onfinish"),e.removeListener("close",o),l()}function l(){debug("unpipe"),s.unpipe(e)}var s=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,debug("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,p=f?n:a;h.endEmitted?processNextTick(p):s.once("end",p),e.on("unpipe",r);var c=pipeOnDrain(s);e.on("drain",c);var g=!1,b=!1;return s.on("data",i),prependListener(e,"error",d),e.once("close",o),e.once("finish",u),e.emit("pipe",s),h.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}var i=indexOf(t.pipes,e);return i===-1?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this,n):processNextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(debug("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(a){if(debug("wrapped data"),t.decoder&&(a=t.decoder.write(a)),(!t.objectMode||null!==a&&void 0!==a)&&(t.objectMode||a&&a.length)){var i=n.push(a);i||(r=!0,e.pause())}});for(var a in e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));var i=["error","close","destroy","pause","resume"];return forEach(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){debug("wrapped _read",t),r&&(r=!1,e.resume())},n},Readable._fromList=fromList;
}).call(this,require('_process'))

},{"./_stream_duplex":22,"./internal/streams/BufferList":27,"_process":16,"buffer":5,"buffer-shims":4,"core-util-is":8,"events":9,"inherits":12,"isarray":28,"process-nextick-args":15,"stream":33,"string_decoder/":38,"util":2}],25:[function(require,module,exports){
"use strict";function TransformState(r){this.afterTransform=function(t,n){return afterTransform(r,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function afterTransform(r,t,n){var e=r._transformState;e.transforming=!1;var i=e.writecb;if(!i)return r.emit("error",new Error("no writecb in Transform class"));e.writechunk=null,e.writecb=null,null!==n&&void 0!==n&&r.push(n),i(t);var a=r._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&r._read(a.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r),this._transformState=new TransformState(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(r){done(t,r)}):done(t)})}function done(r,t){if(t)return r.emit("error",t);var n=r._writableState,e=r._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(r,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,t)},Transform.prototype._transform=function(r,t,n){throw new Error("Not implemented")},Transform.prototype._write=function(r,t,n){var e=this._transformState;if(e.writecb=n,e.writechunk=r,e.writeencoding=t,!e.transforming){var i=this._readableState;(e.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(r){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};
},{"./_stream_duplex":22,"core-util-is":8,"inherits":12}],26:[function(require,module,exports){
(function (process){
"use strict";function nop(){}function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function WritableState(e,t){Duplex=Duplex||require("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,t instanceof Duplex&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){return Duplex=Duplex||require("./_stream_duplex"),this instanceof Writable||this instanceof Duplex?(this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),void Stream.call(this)):new Writable(e)}function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),processNextTick(t,r)}function validChunk(e,t,r,i){var n=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):Buffer.isBuffer(r)||"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),processNextTick(i,s),n=!1),n}function decodeChunk(e,t,r){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=bufferShim.from(t,r)),t}function writeOrBuffer(e,t,r,i,n){r=decodeChunk(t,r,i),Buffer.isBuffer(r)&&(i="buffer");var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var o=t.lastBufferedRequest;t.lastBufferedRequest=new WriteReq(r,i,n),o?o.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,s,r,i,n);return u}function doWrite(e,t,r,i,n,s,u){t.writelen=i,t.writecb=u,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i,n){--t.pendingcb,r?processNextTick(n,i):n(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,i,t,n);else{var s=needFinish(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?asyncWrite(afterWrite,e,r,s,n):afterWrite(e,r,s,n)}}function afterWrite(e,t,r,i){r||onwriteDrain(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var u=0;r;)n[u]=r,r=r.next,u+=1;doWrite(e,t,!0,t.length,n,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new CorkedRequest(t)}else{for(;r;){var o=r.chunk,f=r.encoding,a=r.callback,c=t.objectMode?1:o.length;if(doWrite(e,t,!1,c,o,f,a),r=r.next,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var r=needFinish(t);return r&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?processNextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(r){var i=t.entry;for(t.entry=null;i;){var n=i.callback;e.pendingcb--,n(r),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}module.exports=Writable;var processNextTick=require("process-nextick-args"),asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")},Stream;!function(){try{Stream=require("stream")}catch(e){}finally{Stream||(Stream=require("events").EventEmitter)}}();var Buffer=require("buffer").Buffer,bufferShim=require("buffer-shims");util.inherits(Writable,Stream);var Duplex;WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var Duplex;Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1;return"function"==typeof t&&(r=t,t=null),Buffer.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=nop),i.ended?writeAfterEnd(this,r):validChunk(this,i,e,r)&&(i.pendingcb++,n=writeOrBuffer(this,i,e,t,r)),n},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Writable.prototype._write=function(e,t,r){r(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||endWritable(this,i,r)};
}).call(this,require('_process'))

},{"./_stream_duplex":22,"_process":16,"buffer":5,"buffer-shims":4,"core-util-is":8,"events":9,"inherits":12,"process-nextick-args":15,"stream":33,"util-deprecate":42}],27:[function(require,module,exports){
"use strict";function BufferList(){this.head=null,this.tail=null,this.length=0}var Buffer=require("buffer").Buffer,bufferShim=require("buffer-shims");module.exports=BufferList,BufferList.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},BufferList.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i},BufferList.prototype.concat=function(t){if(0===this.length)return bufferShim.alloc(0);if(1===this.length)return this.head.data;for(var e=bufferShim.allocUnsafe(t>>>0),i=this.head,h=0;i;)i.data.copy(e,h),h+=i.data.length,i=i.next;return e};
},{"buffer":5,"buffer-shims":4}],28:[function(require,module,exports){
arguments[4][6][0].apply(exports,arguments)
},{"dup":6}],29:[function(require,module,exports){
module.exports=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_passthrough.js":23}],30:[function(require,module,exports){
(function (process){
var Stream=function(){try{return require("stream")}catch(r){}}();exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=Stream||exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),!process.browser&&"disable"===process.env.READABLE_STREAM&&Stream&&(module.exports=Stream);
}).call(this,require('_process'))

},{"./lib/_stream_duplex.js":22,"./lib/_stream_passthrough.js":23,"./lib/_stream_readable.js":24,"./lib/_stream_transform.js":25,"./lib/_stream_writable.js":26,"_process":16,"stream":33}],31:[function(require,module,exports){
module.exports=require("./lib/_stream_transform.js");
},{"./lib/_stream_transform.js":25}],32:[function(require,module,exports){
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":26}],33:[function(require,module,exports){
function Stream(){EE.call(this)}module.exports=Stream;var EE=require("events").EventEmitter,inherits=require("inherits");inherits(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(e,r){function t(r){e.writable&&!1===e.write(r)&&m.pause&&m.pause()}function n(){m.readable&&m.resume&&m.resume()}function a(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function i(e){if(s(),0===EE.listenerCount(this,"error"))throw e}function s(){m.removeListener("data",t),e.removeListener("drain",n),m.removeListener("end",a),m.removeListener("close",o),m.removeListener("error",i),e.removeListener("error",i),m.removeListener("end",s),m.removeListener("close",s),e.removeListener("close",s)}var m=this;m.on("data",t),e.on("drain",n),e._isStdio||r&&r.end===!1||(m.on("end",a),m.on("close",o));var u=!1;return m.on("error",i),e.on("error",i),m.on("end",s),m.on("close",s),e.on("close",s),e.emit("pipe",m),e};
},{"events":9,"inherits":12,"readable-stream/duplex.js":21,"readable-stream/passthrough.js":29,"readable-stream/readable.js":30,"readable-stream/transform.js":31,"readable-stream/writable.js":32}],34:[function(require,module,exports){
(function (global){
var ClientRequest=require("./lib/request"),extend=require("xtend"),statusCodes=require("builtin-status-codes"),url=require("url"),http=exports;http.request=function(t,e){t="string"==typeof t?url.parse(t):extend(t);var r=global.location.protocol.search(/^https?:$/)===-1?"http:":"",s=t.protocol||r,o=t.hostname||t.host,n=t.port,u=t.path||"/";o&&o.indexOf(":")!==-1&&(o="["+o+"]"),t.url=(o?s+"//"+o:"")+(n?":"+n:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var C=new ClientRequest(t);return e&&C.on("response",e),C},http.get=function(t,e){var r=http.request(t,e);return r.end(),r},http.Agent=function(){},http.Agent.defaultMaxSockets=4,http.STATUS_CODES=statusCodes,http.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./lib/request":36,"builtin-status-codes":7,"url":40,"xtend":45}],35:[function(require,module,exports){
(function (global){
function checkTypeSupport(r){try{return xhr.responseType=r,xhr.responseType===r}catch(r){}return!1}function isFunction(r){return"function"==typeof r}exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableStream),exports.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),exports.blobConstructor=!0}catch(r){}var xhr=new global.XMLHttpRequest;xhr.open("GET",global.location.host?"/":"https://example.com");var haveArrayBuffer="undefined"!=typeof global.ArrayBuffer,haveSlice=haveArrayBuffer&&isFunction(global.ArrayBuffer.prototype.slice);exports.arraybuffer=haveArrayBuffer&&checkTypeSupport("arraybuffer"),exports.msstream=!exports.fetch&&haveSlice&&checkTypeSupport("ms-stream"),exports.mozchunkedarraybuffer=!exports.fetch&&haveArrayBuffer&&checkTypeSupport("moz-chunked-arraybuffer"),exports.overrideMimeType=isFunction(xhr.overrideMimeType),exports.vbArray=isFunction(global.VBArray),xhr=null;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],36:[function(require,module,exports){
(function (process,global,Buffer){
function decideMode(e){return capability.fetch?"fetch":capability.mozchunkedarraybuffer?"moz-chunked-arraybuffer":capability.msstream?"ms-stream":capability.arraybuffer&&e?"arraybuffer":capability.vbArray&&e?"text:vbarray":"text"}function statusValid(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}var capability=require("./capability"),inherits=require("inherits"),response=require("./response"),stream=require("readable-stream"),toArrayBuffer=require("to-arraybuffer"),IncomingMessage=response.IncomingMessage,rStates=response.readyStates,ClientRequest=module.exports=function(e){var t=this;stream.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new Buffer(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(r){t.setHeader(r,e.headers[r])});var r;if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!capability.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}t._mode=decideMode(r),t.on("finish",function(){t._onFinish()})};inherits(ClientRequest,stream.Writable),ClientRequest.prototype.setHeader=function(e,t){var r=this,o=e.toLowerCase();unsafeHeaders.indexOf(o)===-1&&(r._headers[o]={name:e,value:t})},ClientRequest.prototype.getHeader=function(e){var t=this;return t._headers[e.toLowerCase()].value},ClientRequest.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},ClientRequest.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t,r=e._opts,o=e._headers;if("POST"!==r.method&&"PUT"!==r.method&&"PATCH"!==r.method||(t=capability.blobConstructor?new global.Blob(e._body.map(function(e){return toArrayBuffer(e)}),{type:(o["content-type"]||{}).value||""}):Buffer.concat(e._body).toString()),"fetch"===e._mode){var n=Object.keys(o).map(function(e){return[o[e].name,o[e].value]});global.fetch(e._opts.url,{method:e._opts.method,headers:n,body:t,mode:"cors",credentials:r.withCredentials?"include":"same-origin"}).then(function(t){e._fetchResponse=t,e._connect()},function(t){e.emit("error",t)})}else{var s=e._xhr=new global.XMLHttpRequest;try{s.open(e._opts.method,e._opts.url,!0)}catch(t){return void process.nextTick(function(){e.emit("error",t)})}"responseType"in s&&(s.responseType=e._mode.split(":")[0]),"withCredentials"in s&&(s.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(o).forEach(function(e){s.setRequestHeader(o[e].name,o[e].value)}),e._response=null,s.onreadystatechange=function(){switch(s.readyState){case rStates.LOADING:case rStates.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(s.onprogress=function(){e._onXHRProgress()}),s.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{s.send(t)}catch(t){return void process.nextTick(function(){e.emit("error",t)})}}}},ClientRequest.prototype._onXHRProgress=function(){var e=this;statusValid(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},ClientRequest.prototype._connect=function(){var e=this;e._destroyed||(e._response=new IncomingMessage(e._xhr,e._fetchResponse,e._mode),e.emit("response",e._response))},ClientRequest.prototype._write=function(e,t,r){var o=this;o._body.push(e),r()},ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){var e=this;e._destroyed=!0,e._response&&(e._response._destroyed=!0),e._xhr&&e._xhr.abort()},ClientRequest.prototype.end=function(e,t,r){var o=this;"function"==typeof e&&(r=e,e=void 0),stream.Writable.prototype.end.call(o,e,t,r)},ClientRequest.prototype.flushHeaders=function(){},ClientRequest.prototype.setTimeout=function(){},ClientRequest.prototype.setNoDelay=function(){},ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"./capability":35,"./response":37,"_process":16,"buffer":5,"inherits":12,"readable-stream":30,"to-arraybuffer":39}],37:[function(require,module,exports){
(function (process,global,Buffer){
var capability=require("./capability"),inherits=require("inherits"),stream=require("readable-stream"),rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},IncomingMessage=exports.IncomingMessage=function(e,r,s){function a(){u.read().then(function(e){if(!t._destroyed){if(e.done)return void t.push(null);t.push(new Buffer(e.value)),a()}})}var t=this;if(stream.Readable.call(t),t._mode=s,t.headers={},t.rawHeaders=[],t.trailers={},t.rawTrailers=[],t.on("end",function(){process.nextTick(function(){t.emit("close")})}),"fetch"===s){t._fetchResponse=r,t.url=r.url,t.statusCode=r.status,t.statusMessage=r.statusText;for(var n,o,i=r.headers[Symbol.iterator]();n=(o=i.next()).value,!o.done;)t.headers[n[0].toLowerCase()]=n[1],t.rawHeaders.push(n[0],n[1]);var u=r.body.getReader();a()}else{t._xhr=e,t._pos=0,t.url=e.responseURL,t.statusCode=e.status,t.statusMessage=e.statusText;var h=e.getAllResponseHeaders().split(/\r?\n/);if(h.forEach(function(e){var r=e.match(/^([^:]+):\s*(.*)/);if(r){var s=r[1].toLowerCase();"set-cookie"===s?(void 0===t.headers[s]&&(t.headers[s]=[]),t.headers[s].push(r[2])):void 0!==t.headers[s]?t.headers[s]+=", "+r[2]:t.headers[s]=r[2],t.rawHeaders.push(r[1],r[2])}}),t._charset="x-user-defined",!capability.overrideMimeType){var d=t.rawHeaders["mime-type"];if(d){var f=d.match(/;\s*charset=([^;])(;|$)/);f&&(t._charset=f[1].toLowerCase())}t._charset||(t._charset="utf-8")}}};inherits(IncomingMessage,stream.Readable),IncomingMessage.prototype._read=function(){},IncomingMessage.prototype._onXHRProgress=function(){var e=this,r=e._xhr,s=null;switch(e._mode){case"text:vbarray":if(r.readyState!==rStates.DONE)break;try{s=new global.VBArray(r.responseBody).toArray()}catch(e){}if(null!==s){e.push(new Buffer(s));break}case"text":try{s=r.responseText}catch(r){e._mode="text:vbarray";break}if(s.length>e._pos){var a=s.substr(e._pos);if("x-user-defined"===e._charset){for(var t=new Buffer(a.length),n=0;n<a.length;n++)t[n]=255&a.charCodeAt(n);e.push(t)}else e.push(a,e._charset);e._pos=s.length}break;case"arraybuffer":if(r.readyState!==rStates.DONE)break;s=r.response,e.push(new Buffer(new Uint8Array(s)));break;case"moz-chunked-arraybuffer":if(s=r.response,r.readyState!==rStates.LOADING||!s)break;e.push(new Buffer(new Uint8Array(s)));break;case"ms-stream":if(s=r.response,r.readyState!==rStates.LOADING)break;var o=new global.MSStreamReader;o.onprogress=function(){o.result.byteLength>e._pos&&(e.push(new Buffer(new Uint8Array(o.result.slice(e._pos)))),e._pos=o.result.byteLength)},o.onload=function(){e.push(null)},o.readAsArrayBuffer(s)}e._xhr.readyState===rStates.DONE&&"ms-stream"!==e._mode&&e.push(null)};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"./capability":35,"_process":16,"buffer":5,"inherits":12,"readable-stream":30}],38:[function(require,module,exports){
function assertEncoding(e){if(e&&!isBufferEncoding(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var Buffer=require("buffer").Buffer,isBufferEncoding=Buffer.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},StringDecoder=exports.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};StringDecoder.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var h=t.charCodeAt(t.length-1);if(!(h>=55296&&h<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,h=t.charCodeAt(i);if(h>=55296&&h<=56319){var c=this.surrogateSize;return this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),e.copy(this.charBuffer,0,0,c),t.substring(0,i)}return t},StringDecoder.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},StringDecoder.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,h=this.charBuffer,i=this.encoding;t+=h.slice(0,r).toString(i)}return t};
},{"buffer":5}],39:[function(require,module,exports){
var Buffer=require("buffer").Buffer;module.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(Buffer.isBuffer(e)){for(var f=new Uint8Array(e.length),r=e.length,t=0;t<r;t++)f[t]=e[t];return f.buffer}throw new Error("Argument must be a Buffer")};
},{"buffer":5}],40:[function(require,module,exports){
"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&util.isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}var punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t.indexOf("?"),r=h!==-1&&h<t.indexOf("#")?"?":"#",a=t.split(r),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(r);var n=t;if(n=n.trim(),!e&&1===t.split("#").length){var i=simplePathPattern.exec(n);if(i)return this.path=n,this.href=n,this.pathname=i[1],i[2]?(this.search=i[2],s?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):s&&(this.search="",this.query={}),this}var l=protocolPattern.exec(n);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,n=n.substr(l.length)}if(e||l||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===n.substr(0,2);!p||l&&hostlessProtocol[l]||(n=n.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(p||l&&!slashedProtocol[l])){for(var c=-1,f=0;f<hostEndingChars.length;f++){var m=n.indexOf(hostEndingChars[f]);m!==-1&&(c===-1||m<c)&&(c=m)}var v,g;g=c===-1?n.lastIndexOf("@"):n.lastIndexOf("@",c),g!==-1&&(v=n.slice(0,g),n=n.slice(g+1),this.auth=decodeURIComponent(v)),c=-1;for(var f=0;f<nonHostChars.length;f++){var m=n.indexOf(nonHostChars[f]);m!==-1&&(c===-1||m<c)&&(c=m)}c===-1&&(c=n.length),this.host=n.slice(0,c),n=n.slice(c),this.parseHost(),this.hostname=this.hostname||"";var y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!y)for(var P=this.hostname.split(/\./),f=0,d=P.length;f<d;f++){var q=P[f];if(q&&!q.match(hostnamePartPattern)){for(var b="",O=0,j=q.length;O<j;O++)b+=q.charCodeAt(O)>127?"x":q[O];if(!b.match(hostnamePartPattern)){var x=P.slice(0,f),U=P.slice(f+1),C=q.match(hostnamePartStart);C&&(x.push(C[1]),U.unshift(C[2])),U.length&&(n="/"+U.join(".")+n),this.hostname=x.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=punycode.toASCII(this.hostname));var A=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+A,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!unsafeProtocol[u])for(var f=0,d=autoEscape.length;f<d;f++){var E=autoEscape[f];if(n.indexOf(E)!==-1){var I=encodeURIComponent(E);I===E&&(I=escape(E)),n=n.split(E).join(I)}}var R=n.indexOf("#");R!==-1&&(this.hash=n.substr(R),n=n.slice(0,R));var S=n.indexOf("?");if(S!==-1?(this.search=n.substr(S),this.query=n.substr(S+1),s&&(this.query=querystring.parse(this.query)),n=n.slice(0,S)):s&&(this.search="",this.query={}),n&&(this.pathname=n),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var A=this.pathname||"",k=this.search||"";this.path=A+k}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(a=querystring.stringify(this.query));var o=this.search||a&&"?"+a||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&r!==!1?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),o&&"?"!==o.charAt(0)&&(o="?"+o),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),s+r+e+o+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(util.isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}for(var e=new Url,h=Object.keys(this),r=0;r<h.length;r++){var a=h[r];e[a]=this[a]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n];"protocol"!==i&&(e[i]=t[i])}return slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var p=l[u];e[p]=t[p]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var f=e.pathname||"",m=e.search||"";e.path=f+m}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var v=e.pathname&&"/"===e.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=g||v||e.host&&t.pathname,P=y,d=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],q=e.protocol&&!slashedProtocol[e.protocol];if(q&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),y=y&&(""===c[0]||""===d[0])),g)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,d=c;else if(c.length)d||(d=[]),d.pop(),d=d.concat(c),e.search=t.search,e.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(q){e.hostname=e.host=d.shift();var b=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return e.search=t.search,e.query=t.query,util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!d.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var O=d.slice(-1)[0],j=(e.host||t.host||d.length>1)&&("."===O||".."===O)||""===O,x=0,U=d.length;U>=0;U--)O=d[U],"."===O?d.splice(U,1):".."===O?(d.splice(U,1),x++):x&&(d.splice(U,1),x--);if(!y&&!P)for(;x--;x)d.unshift("..");!y||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),j&&"/"!==d.join("/").substr(-1)&&d.push("");var C=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(q){e.hostname=e.host=C?"":d.length?d.shift():"";var b=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");b&&(e.auth=b.shift(),e.host=e.hostname=b.shift())}return y=y||e.host&&d.length,y&&!C&&d.unshift(""),d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null),util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"./util":41,"punycode":17,"querystring":20}],41:[function(require,module,exports){
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],42:[function(require,module,exports){
(function (global){
function deprecate(r,e){function o(){if(!t){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}if(config("noDeprecation"))return r;var t=!1;return o}function config(r){try{if(!global.localStorage)return!1}catch(r){return!1}var e=global.localStorage[r];return null!=e&&"true"===String(e).toLowerCase()}module.exports=deprecate;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],43:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],44:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var c="",a=!1,l=["{","}"];if(isArray(r)&&(a=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";c=" [Function"+p+"]"}if(isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(t<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(f,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;s<u;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(e){return"[Circular]"}default:return e}}),s=n[t];t<i;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":43,"_process":16,"inherits":12}],45:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;
},{}],46:[function(require,module,exports){
Function.prototype.bind||(Function.prototype.bind=function(n){return _.bind(this,n)});
},{}],47:[function(require,module,exports){
require("babel-polyfill"),_=require("underscore"),d3=require("d3"),d3_request=require("d3-request"),Promise=require("es6-promise").Promise,require("./addFunctionBindIfNecessary"),require("./svgPathSeg-polyfill"),locuslabs=require("./locuslabs/locuslabsCore"),locuslabs.config=locuslabs.configDefaults,locuslabs.Base=require("./locuslabs/base"),locuslabs.maps.Logger=require("./locuslabs/logger"),require("./locuslabs/underscoreMixins"),require("./locuslabs/logging-setup"),require("./locuslabs/meld"),"undefined"==typeof $&&(jQuery=require("./jquery-polyfill"),$=jQuery),locuslabs.localStorage=require("./localstorage-polyfill"),locuslabs.deserialize=require("./locuslabs/deserialize"),locuslabs.Array2D=require("./locuslabs/array2d"),locuslabs.Events=require("./locuslabs/events"),locuslabs.Native=require("./locuslabs/native"),locuslabs.Person=require("./locuslabs/person"),locuslabs.Session=require("./locuslabs/session"),locuslabs.maps.MVCArray=require("./locuslabs/mvcarray"),locuslabs.maps.MVCObject=require("./locuslabs/mvcobject"),locuslabs.maps.MVCObjectRelay=require("./locuslabs/mvcobjectRelay"),locuslabs.maps.MVCObjectShadow=require("./locuslabs/mvcobjectShadow"),locuslabs.maps.Airport=require("./locuslabs/maps/airport"),locuslabs.maps.AirportDatabase=require("./locuslabs/maps/airportDatabase"),locuslabs.maps.Beacon=require("./locuslabs/maps/beacon"),locuslabs.maps.Building=require("./locuslabs/maps/building"),locuslabs.maps.FixedGeometry=require("./locuslabs/maps/fixedGeometry"),locuslabs.maps.Floor=require("./locuslabs/maps/floor"),locuslabs.maps.FloorView=require("./locuslabs/maps/floorView"),locuslabs.maps.JQueryPanZoomCss=require("./locuslabs/maps/jqueryPanZoomCss"),locuslabs.maps.LatLng=require("./locuslabs/maps/latlng"),locuslabs.maps.LatLngBounds=require("./locuslabs/maps/latlngbounds"),locuslabs.maps.Location=require("./locuslabs/maps/location"),locuslabs.maps.Map=require("./locuslabs/maps/map"),locuslabs.maps.MapView=require("./locuslabs/maps/mapView"),locuslabs.maps.MapViewInitializer=require("./locuslabs/maps/mapViewInitializer"),locuslabs.maps.MouseEvent=require("./locuslabs/maps/mouseevent"),locuslabs.maps.OnScreenGeometry=require("./locuslabs/maps/onScreenGeometry"),locuslabs.maps.Point=require("./locuslabs/maps/point"),locuslabs.maps.Position=require("./locuslabs/maps/position"),locuslabs.maps.Section=require("./locuslabs/maps/section"),locuslabs.maps.Size=require("./locuslabs/maps/size"),locuslabs.maps.SvgRenderer=require("./locuslabs/maps/svgRenderer"),locuslabs.maps.Utilities=require("./locuslabs/maps/utilities"),locuslabs.maps.Venue=require("./locuslabs/maps/venue"),locuslabs.maps.VenueLoader=require("./locuslabs/maps/map-loading/venueLoader"),locuslabs.maps.ViewBox=require("./locuslabs/maps/viewbox"),locuslabs.maps.WalkSimulator=require("./locuslabs/maps/walkSimulator"),locuslabs.maps.GraphBuilder=require("./locuslabs/asset-builders/graph-builder/graphBuilder"),locuslabs.maps.MergeTable=require("./locuslabs/asset-builders/graph-builder/mergeTable"),locuslabs.maps.NameTable=require("./locuslabs/asset-builders/graph-builder/nameTable"),locuslabs.maps.TEdge=require("./locuslabs/asset-builders/graph-builder/tEdge"),locuslabs.maps.TNode=require("./locuslabs/asset-builders/graph-builder/tNode"),locuslabs.maps.BeaconDatabaseBuilder=require("./locuslabs/asset-builders/beaconDatabaseBuilder"),locuslabs.maps.PoiDatabaseBuilder=require("./locuslabs/asset-builders/poiDatabaseBuilder"),locuslabs.maps.VenueDataBuilder=require("./locuslabs/asset-builders/venueDataBuilder"),locuslabs.maps.AndroidUtils=require("./locuslabs/maps/android/androidUtils"),locuslabs.maps.NativeExtraButtonsForPoiPopupHandler=require("./locuslabs/maps/android/nativeExtraButtonsForPoiPopupHandler"),locuslabs.maps.NativeMapDataCache=require("./locuslabs/maps/android/nativeMapDataCache"),locuslabs.maps.NativeMenuButtonForPoiPopupHandler=require("./locuslabs/maps/android/nativeMenuButtonForPoiPopupHandler"),locuslabs.maps.Animation=require("./locuslabs/maps/animation/animation"),locuslabs.maps.AnimationController=require("./locuslabs/maps/animation/animationController"),locuslabs.maps.AnimationInterval=require("./locuslabs/maps/animation/animationInterval"),locuslabs.maps.IOSScrollViewPanZoom=require("./locuslabs/maps/ios/iosScrollViewPanZoom"),locuslabs.maps.IOSNativeCache=require("./locuslabs/maps/ios/iosNativeCache"),locuslabs.maps.NavigationRoute=require("./locuslabs/maps/js-ui-widgets/navigationRoute"),locuslabs.maps.NavigationStepByStepViewer=require("./locuslabs/maps/js-ui-widgets/navigationStepByStepViewer"),locuslabs.maps.NavigationSummaryBox=require("./locuslabs/maps/js-ui-widgets/navigationSummaryBox"),locuslabs.maps.NavStartEnd=require("./locuslabs/maps/js-ui-widgets/navStartEnd"),locuslabs.maps.LocationSelector=require("./locuslabs/maps/js-ui-widgets/locationSelector"),locuslabs.maps.POICarousel=require("./locuslabs/maps/js-ui-widgets/poiCarousel"),locuslabs.maps.PoiPopup=require("./locuslabs/maps/js-ui-widgets/poiPopup"),locuslabs.maps.POIResultsList=require("./locuslabs/maps/js-ui-widgets/poiResultsList"),locuslabs.maps.SearchBar=require("./locuslabs/maps/js-ui-widgets/searchBar"),locuslabs.maps.SearchController=require("./locuslabs/maps/js-ui-widgets/searchController"),locuslabs.maps.SearchField=require("./locuslabs/maps/js-ui-widgets/searchField"),locuslabs.maps.GraphEdge=require("./locuslabs/maps/navigation/edge"),locuslabs.maps.NavigationGraph=require("./locuslabs/maps/navigation/graph"),locuslabs.maps.MinPriorityQueue=require("./locuslabs/maps/navigation/mpq"),locuslabs.maps.NavigatorEngine=require("./locuslabs/maps/navigation/navigator"),locuslabs.maps.GraphNode=require("./locuslabs/maps/navigation/node"),locuslabs.maps.MultiTermSearchResults=require("./locuslabs/maps/poi/multiTermSearchResults"),locuslabs.maps.OperatingHours=require("./locuslabs/maps/poi/operatingHours"),locuslabs.maps.OperatingHoursClause=require("./locuslabs/maps/poi/operatingHoursClause"),locuslabs.maps.POI=require("./locuslabs/maps/poi/poi"),locuslabs.maps.POIDatabase=require("./locuslabs/maps/poi/poiDatabase"),locuslabs.maps.Search=require("./locuslabs/maps/poi/search"),locuslabs.maps.SearchResults=require("./locuslabs/maps/poi/searchresults"),locuslabs.maps.BeaconHistory=require("./locuslabs/maps/position-manager/beaconHistory"),locuslabs.maps.BeaconReading=require("./locuslabs/maps/position-manager/beaconReading"),locuslabs.maps.CumulativeBeaconHistory=require("./locuslabs/maps/position-manager/cumulativeBeaconHistory"),locuslabs.maps.PositionManager=require("./locuslabs/maps/position-manager/positionManager"),locuslabs.maps.PositionSensorReading=require("./locuslabs/maps/position-manager/positionSensorReading"),locuslabs.maps.PositionManagerTrilateration=require("./locuslabs/maps/position-manager/positionManagerTrilateration"),locuslabs.maps.BeaconStrengthGauge=require("./locuslabs/maps/position-manager/algorithm/beaconStrengthGauge"),locuslabs.maps.PositionManagerAbstractAlgorithm=require("./locuslabs/maps/position-manager/algorithm/positionManagerAbstractAlgorithm"),locuslabs.maps.PositionManagerAlgorithmExternal=require("./locuslabs/maps/position-manager/algorithm/positionManagerAlgorithmExternal"),locuslabs.maps.PositionManagerAlgorithmHybrid=require("./locuslabs/maps/position-manager/algorithm/positionManagerAlgorithmHybrid"),locuslabs.maps.PositionManagerAlgorithmInternal=require("./locuslabs/maps/position-manager/algorithm/positionManagerAlgorithmInternal"),locuslabs.maps.PositionManagerAlgorithmTrilateration=require("./locuslabs/maps/position-manager/algorithm/positionManagerAlgorithmTrilateration"),locuslabs.maps.PositionManagerLogger=require("./locuslabs/maps/position-manager/algorithm/positionManagerLogger"),locuslabs.navigation.NavigationController=require("./locuslabs/navigation/controller/navigation"),locuslabs.navigation.NavigationSegment=require("./locuslabs/navigation/model/navigation-segment"),require("./locuslabs/android.js"),module.exports=locuslabs;
},{"./addFunctionBindIfNecessary":46,"./jquery-polyfill":48,"./localstorage-polyfill":49,"./locuslabs/android.js":50,"./locuslabs/array2d":51,"./locuslabs/asset-builders/beaconDatabaseBuilder":52,"./locuslabs/asset-builders/graph-builder/graphBuilder":53,"./locuslabs/asset-builders/graph-builder/mergeTable":54,"./locuslabs/asset-builders/graph-builder/nameTable":55,"./locuslabs/asset-builders/graph-builder/tEdge":56,"./locuslabs/asset-builders/graph-builder/tNode":57,"./locuslabs/asset-builders/poiDatabaseBuilder":58,"./locuslabs/asset-builders/venueDataBuilder":59,"./locuslabs/base":60,"./locuslabs/deserialize":61,"./locuslabs/events":62,"./locuslabs/locuslabsCore":63,"./locuslabs/logger":64,"./locuslabs/logging-setup":65,"./locuslabs/maps/airport":66,"./locuslabs/maps/airportDatabase":67,"./locuslabs/maps/android/androidUtils":68,"./locuslabs/maps/android/nativeExtraButtonsForPoiPopupHandler":69,"./locuslabs/maps/android/nativeMapDataCache":70,"./locuslabs/maps/android/nativeMenuButtonForPoiPopupHandler":71,"./locuslabs/maps/animation/animation":72,"./locuslabs/maps/animation/animationController":73,"./locuslabs/maps/animation/animationInterval":74,"./locuslabs/maps/beacon":75,"./locuslabs/maps/building":76,"./locuslabs/maps/fixedGeometry":77,"./locuslabs/maps/floor":78,"./locuslabs/maps/floorView":79,"./locuslabs/maps/ios/iosNativeCache":80,"./locuslabs/maps/ios/iosScrollViewPanZoom":81,"./locuslabs/maps/jqueryPanZoomCss":82,"./locuslabs/maps/js-ui-widgets/locationSelector":83,"./locuslabs/maps/js-ui-widgets/navStartEnd":84,"./locuslabs/maps/js-ui-widgets/navigationRoute":85,"./locuslabs/maps/js-ui-widgets/navigationStepByStepViewer":86,"./locuslabs/maps/js-ui-widgets/navigationSummaryBox":87,"./locuslabs/maps/js-ui-widgets/poiCarousel":88,"./locuslabs/maps/js-ui-widgets/poiPopup":89,"./locuslabs/maps/js-ui-widgets/poiResultsList":90,"./locuslabs/maps/js-ui-widgets/searchBar":91,"./locuslabs/maps/js-ui-widgets/searchController":92,"./locuslabs/maps/js-ui-widgets/searchField":93,"./locuslabs/maps/latlng":94,"./locuslabs/maps/latlngbounds":95,"./locuslabs/maps/location":96,"./locuslabs/maps/map":110,"./locuslabs/maps/map-loading/venueLoader":109,"./locuslabs/maps/mapView":111,"./locuslabs/maps/mapViewInitializer":112,"./locuslabs/maps/mouseevent":113,"./locuslabs/maps/navigation/edge":114,"./locuslabs/maps/navigation/graph":115,"./locuslabs/maps/navigation/mpq":116,"./locuslabs/maps/navigation/navigator":117,"./locuslabs/maps/navigation/node":118,"./locuslabs/maps/onScreenGeometry":119,"./locuslabs/maps/poi/multiTermSearchResults":120,"./locuslabs/maps/poi/operatingHours":121,"./locuslabs/maps/poi/operatingHoursClause":122,"./locuslabs/maps/poi/poi":123,"./locuslabs/maps/poi/poiDatabase":124,"./locuslabs/maps/poi/search":125,"./locuslabs/maps/poi/searchresults":126,"./locuslabs/maps/point":127,"./locuslabs/maps/position":141,"./locuslabs/maps/position-manager/algorithm/beaconStrengthGauge":128,"./locuslabs/maps/position-manager/algorithm/positionManagerAbstractAlgorithm":129,"./locuslabs/maps/position-manager/algorithm/positionManagerAlgorithmExternal":130,"./locuslabs/maps/position-manager/algorithm/positionManagerAlgorithmHybrid":131,"./locuslabs/maps/position-manager/algorithm/positionManagerAlgorithmInternal":132,"./locuslabs/maps/position-manager/algorithm/positionManagerAlgorithmTrilateration":133,"./locuslabs/maps/position-manager/algorithm/positionManagerLogger":134,"./locuslabs/maps/position-manager/beaconHistory":135,"./locuslabs/maps/position-manager/beaconReading":136,"./locuslabs/maps/position-manager/cumulativeBeaconHistory":137,"./locuslabs/maps/position-manager/positionManager":138,"./locuslabs/maps/position-manager/positionManagerTrilateration":139,"./locuslabs/maps/position-manager/positionSensorReading":140,"./locuslabs/maps/section":142,"./locuslabs/maps/size":143,"./locuslabs/maps/svgRenderer":144,"./locuslabs/maps/utilities":145,"./locuslabs/maps/venue":146,"./locuslabs/maps/viewbox":147,"./locuslabs/maps/walkSimulator":148,"./locuslabs/meld":149,"./locuslabs/mvcarray":150,"./locuslabs/mvcobject":151,"./locuslabs/mvcobjectRelay":152,"./locuslabs/mvcobjectShadow":153,"./locuslabs/native":154,"./locuslabs/navigation/controller/navigation":155,"./locuslabs/navigation/model/navigation-segment":156,"./locuslabs/person":159,"./locuslabs/session":160,"./locuslabs/underscoreMixins":161,"./svgPathSeg-polyfill":574,"babel-polyfill":163,"d3":466,"d3-request":465,"es6-promise":467,"underscore":573}],48:[function(require,module,exports){
$=function(e){if(!_.isObject(e))throw"unexpected argument to $";return e.__llevents__||Object.defineProperty(e,"__llevents__",{value:{},enumerable:!1,configurable:!0,writable:!0}),{on:function(t,n){if(2!=arguments.length||!_.isFunction(n))throw"unexpected arguments to $.on";e.__llevents__[t]=n},one:function(e,t,n,r){throw"somebody called $.one"},off:function(t){if(1!=arguments.length||!_.isString(t))throw"unexpected arguments to $.off";var n=t.substring(1);_.each(e.__llevents__,function(t,r){r.match(n)&&delete e.__llevents__[r]})},trigger:function(t,n){if(2!=arguments.length||!_.isArray(n))throw"unexpected arguments to $.trigger";_.each(e.__llevents__,function(r,o){o.match(t)&&e.__llevents__[o].apply(e,[t].concat(n))})}}},$.ajax=require("../najax"),$.each=function(e,t){_.each(e,function(n,r){return t(r,n,e)})},$.isArray=function(e){return _.isArray(e)},$.isPlainObject=function(e){var t,n;if(!_.isObject(e)||e.nodeType||_.isWindow(e))return!1;try{if(t=e.constructor,t&&!Object.hasOwnProperty.call(t.prototype,"isPrototypeOf"))return!1}catch(e){return n=e,!1}return!0},module.exports=$;
},{"../najax":616}],49:[function(require,module,exports){
var _localStorage={},__localStorage;__localStorage="undefined"!=typeof window&&window.localStorage?window.localStorage:{getItem:function(o){return _localStorage[o]},setItem:function(o,e){_localStorage[o]=e},removeItem:function(o){delete _localStorage[o]}},module.exports=__localStorage;
},{}],50:[function(require,module,exports){
"undefined"!=typeof android&&(locuslabs.android=new locuslabs.Native(android));
},{}],51:[function(require,module,exports){
var Base=require("./base");module.exports=Base.subclass("Array2D",{constructor:function(){this._rows=[],this._columnNames=[]},rowCount:function(){return this._rows.length},columnCount:function(){return this._columnNames.length},columnNames:function(){return this._columnNames},set:function(n,t,o){var s=this._rowIndex(n),r=this._columnIndex(t);this._rows[s][r]=o},get:function(n,t){var o=this._rowIndex(n),s=this._columnIndex(t);return this._rows[o][s]},toString:function(n,t){for(var o=[],s=0;s<this.rowCount();s++)o.push(this._rows[s].join(t));return o.join(n)},addRow:function(){for(var n=[],t=0;t<this.columnCount();t++)n.push("");return this._rows.push(n),this.rowCount()-1},_addColumn:function(n){for(var t=0;t<this.rowCount();t++)this._rows[t].push("");var o="string"==typeof n?n:this._columnNames.length;this._columnNames.push(o)},_rowIndex:function(n){for(var t=n;this._rows.length<=t;)this.addRow();return t},_columnIndex:function(n){var t;for("string"==typeof n?(t=this._columnNames.indexOf(n),t==-1&&(t=this._columnNames.length)):t=n;this.columnCount()<=t;)this._addColumn(n);return t}});
},{"./base":60}],52:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("BeaconDatabaseBuilder",{constructor:function(e,l,t){this.callParent(),this.mapView=t,this.venueId=l,this.venue=e},buildDatabase:function(e){locuslabs.log.debug("Building Beacon Database");var l=this.buildOrdinalToFloorIdsTable();locuslabs.log.debug(l);for(var t=this.venue.getStructures(),o={},a=0;a<t.length;a++){var i=this.getPolygonForBuilding(t[a]+"-bounds");i&&(o[t[a]]=i)}for(var r=[],n=[],a=0;a<e.length;a++){var s=!1,u=!1,g=e[a];if(g.latitude&&g.longitude)for(var d in o){var b=this.mapView.fromLatLng(new locuslabs.maps.LatLng(g.latitude,g.longitude));if(locuslabs.maps.Utilities.isPointInPolygon(b,o[d])){g.buildingId=d,s=!0;var v=g.floorId;if(!isNaN(v))for(var c=this.venue.getStructure(d),f=c.getLevels(),h=0;h<f.length;h++){var I=c.loadFloor(f[h]);I.getOrdinal()==v&&(g.floorId=I.getFloorId(),u=!0)}}else{var m=l[g.floorId];m&&1==m.length&&(g.buildingId=locuslabs.maps.Utilities.getBuildingIdFromFloorId(m[0]),g.floorId=m[0],s=!0,u=!0)}if(s||u)break}s&&u?r.push(g):n.push(g)}return{good:r,bad:n}},getPolygonForBuilding:function(e){locuslabs.log.debug("getPolygonForBuilding: "+e);var l=document.getElementById("ll-"+e);return l?("g"===l.tagName&&(l=l.getElementsByTagName("path")[0]),locuslabs.maps.Utilities.pathToPolygonPoints(l)):(locuslabs.log.debug("No element found for: ["+e+"]"),null)},buildOrdinalToFloorIdsTable:function(){for(var e=this.venue.getVenueId()+"-global",l={},t=this.venue.getStructures(),o=0;o<t.length;o++){var a=this.venue.getStructure(t[o]);if(t[o].indexOf(e)==-1)for(var i=a.getLevels(),r=0;r<i.length;r++){var n=a.loadFloor(i[r]);l[n.getOrdinal()]||(l[n.getOrdinal().toString()]=[]),l[n.getOrdinal().toString()].push(n.getFloorId())}}return l}});
},{}],53:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("GraphBuilder",{constructor:function(e,t,s,o){this.callParent(),this.poiDB=t,this.mapView=s,null!=this.mapView?this.fixedGeometry=this.mapView.fixedGeometry():this.fixedGeometry=o,this.nodes={},this.nodeList=[],this.edges={},this.edgeList=[],this.venue=e,this.floorOrdinals={}},addNode:function(e){return null==this.nodes[e.getId()]&&(this.nodes[e.getId()]=e,this.nodeList.push(e)),this.nodes[e.getId()]},getNode:function(e){return this.nodes[e]},removeNode:function(e){for(var t=0;t<e.getDstEdges().length;t++)this.removeEdge(e.getDstEdges()[t]);for(var t=0;t<e.getSrcEdges().length;t++)this.removeEdge(e.getSrcEdges()[t]);delete this.nodes[e.getId()];var s=this.nodeList.indexOf(e);this.nodeList.splice(s,1)},addEdge:function(e){if(e.getSrcId()!=e.getDstId()&&!this.doesEdgeExist(e)){this.edges[e.getId()]=e,this.edgeList.push(e);var t=this.getNode(e.getSrcId());t.addSrcEdge(e);var s=this.getNode(e.getDstId());return s.addDstEdge(e),!0}return!1},doesEdgeExist:function(e){return e&&null!=this.edges[e.getId()]},removeEdge:function(e){if(this.doesEdgeExist(e)){var t=this.getNode(e.getSrcId());t&&t.removeSrcEdge(e);var s=this.getNode(e.getDstId());s&&s.removeDstEdge(e),delete this.edges[e.getId()];var o=this.edgeList.indexOf(e);this.edgeList.splice(o,1)}},buildGraph:function(e){for(var t=0,s=0,o=0;o<e.levels.length;o++)for(var i=e.levels[o].name,d=e.levels[o].nav,n=0;n<d.length;n++){var r=d[n],l=r.points;r.isDriveway&&t++;for(var a=0;a<l.length-1;a++){var g=l[a],u=l[a+1],h=this._getFirstPoint(g),c=this._getSecondPoint(u);if(h[0][0]==h[1][0]&&h[0][1]==h[1][1])this._buildNodesAndEdge(h[0][0],h[0][1],c[0][0],c[0][1],i,r.delay,r.secure,r.action,r.details,r.isDriveway),s++;else for(var p=locuslabs.maps.Utilities.getCurvePoints([h[0],h[1],c[0],c[1]]),f=0;f<p.length-1;f+=1){var v=p[f][0],E=p[f][1],I=p[f+1][0],b=p[f+1][1];this._buildNodesAndEdge(v,E,I,b,i,r.delay,r.secure,r.action,r.details,r.isDriveway),s++}}}locuslabs.log.debug("Raw Driveways  : "+t),locuslabs.log.debug("Edge Driveways : "+s),locuslabs.log.debug("Objects        : "+d.length),locuslabs.log.debug("Node Count     : "+this.nodeList.length),locuslabs.log.debug("Edge Count     : "+this.edgeList.length),this._findEdge2EdgeIntersections(),this._findNodeEdgeIntersections(),this._findNodeEdgeIntersections(),this._addPortals(e)},_buildNodesAndEdge:function(e,t,s,o,i,d,n,r,l,a){var g=new locuslabs.maps.TNode(e,t,i);this.addNode(g);var u=new locuslabs.maps.TNode(s,o,i);this.addNode(u);var h=new locuslabs.maps.TEdge(g.getId(),u.getId(),"Ground",d,n,null,r,l,a);this.addEdge(h)},_getFirstPoint:function(e){if(e.p){var t=this.calcCoord(e.p.x),s=this.calcCoord(e.p.y),o=this.calcCoord(e.out.x),i=this.calcCoord(e.out.y);return[[t,s],[o,i]]}var d=this.calcCoord(e.x),n=this.calcCoord(e.y);return[[d,n],[d,n]]},_getSecondPoint:function(e){if(e.p){var t=this.calcCoord(e.p.x),s=this.calcCoord(e.p.y),o=this.calcCoord(e.in.x),i=this.calcCoord(e.in.y);return[[o,i],[t,s]]}var d=this.calcCoord(e.x),n=this.calcCoord(e.y);return[[d,n],[d,n]]},_findNodeEdgeIntersections:function(){locuslabs.log.debug("_findNodeEdgeIntersections nodes: "+this.nodeList.length+", edges: "+this.edgeList.length);try{for(var e=[],t={},s=0;s<this.nodeList.length;s++)for(var o=this.nodeList[s],i=0;i<this.edgeList.length;i++){var d=this.edgeList[i];if(this._nodeTouchesEdge(o,d)){var n=new locuslabs.maps.TEdge(d.getSrcId(),o.getId(),d.getType(),d.getDelay(),d.isSecurityCheckpoint(),null,null,null,d.isDriveway());this.doesEdgeExist(n)||(e.push(n),t[n.getId()]=d);var r=new locuslabs.maps.TEdge(o.getId(),d.getDstId(),d.getType(),d.getDelay(),d.isSecurityCheckpoint(),null,null,null,d.isDriveway());this.doesEdgeExist(r)||(e.push(r),t[r.getId()]=d)}}locuslabs.log.debug("Edges to Add: "+e.length);for(var l=0,s=0;s<e.length;s++){var d=e[s];if(this.addEdge(d)){var a=t[d.getId()];this.removeEdge(a),l++}}locuslabs.log.debug("Edges Removed: "+l)}catch(e){locuslabs.log.error("findNodeEdgeIntersections: "+e)}},_findEdge2EdgeIntersections:function(){locuslabs.log.debug("_findEdge2EdgeIntersections edge count: "+this.edgeList.length);try{for(var e=[],t=[],s=0;s<this.edgeList.length;s++)for(var o=0;o<this.edgeList.length;o++){var i=this.edgeList[s],d=this.edgeList[o],n=this.findNonEdgeEndpointIntersection(i,d);if(n){var r=this.nodes[i.getSrcId()],l=this.nodes[i.getDstId()],a=this.nodes[d.getSrcId()],g=this.nodes[d.getDstId()],u=new locuslabs.maps.TNode(this.calcCoord(n[0]),this.calcCoord(n[1]),r.getZ());u=this.addNode(u);var h=new locuslabs.maps.TEdge(r.getId(),u.getId(),i.getType(),i.getDelay(),i.isSecurityCheckpoint(),null,null,null,i.isDriveway()),c=new locuslabs.maps.TEdge(a.getId(),u.getId(),d.getType(),d.getDelay(),d.isSecurityCheckpoint(),null,null,null,d.isDriveway()),p=new locuslabs.maps.TEdge(u.getId(),l.getId(),i.getType(),i.getDelay(),i.isSecurityCheckpoint(),null,null,null,i.isDriveway()),f=new locuslabs.maps.TEdge(u.getId(),g.getId(),d.getType(),d.getDelay(),d.isSecurityCheckpoint(),null,null,null,d.isDriveway());e.push(h),e.push(c),e.push(p),e.push(f),t.push(i),t.push(d)}}for(var s=0;s<e.length;s++)this.addEdge(e[s]);for(var s=0;s<t.length;s++)this.removeEdge(t[s])}catch(e){locuslabs.log.debug("OH NOES!"+e),locuslabs.log.error("_findEdge2EdgeIntersections: "+e)}},_addPortals:function(e){locuslabs.log.debug("_addPortals portal count: "+e.portals.length);for(var t=0;t<e.portals.length;t++)try{if(e.portals[t].srcPoId.length>2||e.portals[t].dstPoId>2){var s="bi"==e.portals[t].direction,o=this.poiDB.getPoiData(e.portals[t].srcPoId.substring(2)),i=this.poiDB.getPoiData(e.portals[t].dstPoId.substring(2)),d=e.portals[t].delay;d||(d=0);var n=this.fixedGeometry.latLngToFixedPoint(o.position.latLng),r=this.fixedGeometry.latLngToFixedPoint(i.position.latLng),l=new locuslabs.maps.TNode(this.calcCoord(n[0]),this.calcCoord(n[1]),o.position.floorId),a=new locuslabs.maps.TNode(this.calcCoord(r[0]),this.calcCoord(r[1]),i.position.floorId),g=this._findClosestNode(l),u=this._findClosestNode(a),h=this.getPortalType(o);if("Train"==h||"Stairs"==h||"Elevator"==h||"Escalator"==h||"Ramp"==h||"Bus"==h){var c=null,p=null;if(""!=e.portals[t].navPathName){var f=this.extractPortalPath(e.portals[t].navPath,n);c=new locuslabs.maps.TEdge(l.getId(),a.getId(),h,d,!1,f);var v=this.extractPortalPath(e.portals[t].navPath,r);p=new locuslabs.maps.TEdge(a.getId(),l.getId(),h,d,!1,v)}else c=new locuslabs.maps.TEdge(l.getId(),a.getId(),h,d),p=new locuslabs.maps.TEdge(a.getId(),l.getId(),h,d);var E=new locuslabs.maps.TEdge(l.getId(),g.getId(),null,null,null,null,null,null,!0),I=new locuslabs.maps.TEdge(g.getId(),l.getId(),null,null,null,null,null,null,!0),b=new locuslabs.maps.TEdge(a.getId(),u.getId(),null,null,null,null,null,null,!0),m=new locuslabs.maps.TEdge(u.getId(),a.getId(),null,null,null,null,null,null,!0);this.addNode(l),this.addNode(a),this.addEdge(c),this.addEdge(E),this.addEdge(I),this.addEdge(b),this.addEdge(m),s&&this.addEdge(p)}else{var c=new locuslabs.maps.TEdge(g.getId(),u.getId(),o.name,d),p=new locuslabs.maps.TEdge(u.getId(),g.getId(),o.name,d);this.addEdge(c),s&&this.addEdge(p)}}else locuslabs.log.debug("Bad POI ID: Src Portal: ["+e.portals[t].srcPoId+"] Dst Portal: ["+e.portals[t].dstPoId+"]")}catch(s){try{this.poiDB.getPoiData(e.portals[t].srcPoId.substring(2))}catch(s){locuslabs.log.debug("Bad Portal Id:"+e.portals[t].srcPoId.substring(2))}try{this.poiDB.getPoiData(e.portals[t].dstPoId.substring(2))}catch(s){locuslabs.log.debug("Bad Portal Id:"+e.portals[t].dstPoId.substring(2))}locuslabs.log.debug("addPortals: "+s+" Src Portal: "+e.portals[t].srcPoId+" Dst Portal: "+e.portals[t].dstPoId)}},getPortalType:function(e){var t=null,s=e.category.toLowerCase();return t="transport"==s?e.name.toLowerCase():s,t.indexOf("train")!=-1?"Train":t.indexOf("stairs")!=-1?"Stairs":t.indexOf("elevator")!=-1?"Elevator":t.indexOf("escalator")!=-1?"Escalator":t.indexOf("ramp")!=-1?"Ramp":t.indexOf("bus")!=-1?"Bus":(locuslabs.log.error("Non Recognized Portal Type! "+JSON.stringify(e)),e.name)},_mergeNodes:function(){locuslabs.log.debug("Merging Nodes");var e=0;try{for(var t=!0;t;){var s=this.__findNodesToMerge();null!=s?(e++,this.__mergeNodes(s[0],s[1]),t=!0):t=!1}locuslabs.log.debug("Nodes Merged : "+e)}catch(e){locuslabs.log.error("mergeNodes:"+e+"  ==>  "+e.stack)}},__findNodesToMerge:function(){for(var e=0;e<this.nodeList.length;e++){var t=this.nodeList[e],s=this._findClosestNode(t),o=this._nodeToNodeDistance(t,s);if(o<=locuslabs.maps.GraphBuilder.MERGE_NODE_TOLERANCE)return[s,t]}return null},__mergeNodes:function(e,t){for(var s=t.getDstEdges(),o=0;o<s.length;o++){var i=s[o],d=new locuslabs.maps.TEdge(e.getId(),i.getDstId(),i.getType(),i.getDelay(),i.isSecurityCheckpoint());this.removeEdge(i),this.addEdge(d)}for(var n=t.getSrcEdges(),o=0;o<n.length;o++){var i=n[o],d=new locuslabs.maps.TEdge(i.getSrcId(),e.getId(),i.getType(),i.getDelay(),i.isSecurityCheckpoint());this.removeEdge(i),this.addEdge(d)}this.removeNode(t)},_findClosestNode:function(e){for(var t=Number.MAX_VALUE,s=null,o=0;o<this.nodeList.length;o++){var i=this.nodeList[o];if(i.getId()!=e.getId()&&this.isSameLevelOrdinal(i.getZ(),e.getZ())){var d=this._nodeToNodeDistance(i,e);d<t&&(s=i,t=d)}}return s},_nodeToNodeDistance:function(e,t){var s=t.getX()-e.getX(),o=t.getY()-e.getY();return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))},_nodeTouchesEdge:function(e,t){if(e.getId()!=t.getSrcId()&&e.getId()!=t.getDstId()){var s=this.nodes[t.getSrcId()],o=this.nodes[t.getDstId()];if(this.isSameLevelOrdinal(e.getZ(),s.getZ())&&this.isSameLevelOrdinal(e.getZ(),o.getZ())){var i=this._distance(t,e);return i<locuslabs.maps.GraphBuilder.NODE_TO_EDGE_TOLERANCE}return!1}return!1},_distance:function(e,t){var s=this.nodes[e.getSrcId()],o=this.nodes[e.getDstId()];return this._distanceHelper(s.getX(),s.getY(),o.getX(),o.getY(),t.getX(),t.getY())},_distanceHelper:function(e,t,s,o,i,d){var n=s-e,r=o-t,l=n*n+r*r,a=((i-e)*n+(d-t)*r)/l;a>1?a=1:a<0&&(a=0);var g=e+a*n,u=t+a*r,h=g-i,c=u-d;return Math.sqrt(h*h+c*c)},findNonEdgeEndpointIntersection:function(e,t){var s=this.findEdgeToEdgeIntersection(e,t);return s&&!(this.isPointANode(s,e.getSrcId())||this.isPointANode(s,e.getDstId())||this.isPointANode(s,t.getSrcId())||this.isPointANode(s,t.getDstId()))?s:null},isPointANode:function(e,t){var s=this.nodes[t];return this.doPointsMatch(e[0],e[1],s.getX(),s.getY())},doPointsMatch:function(e,t,s,o){var i=Math.abs(Number(e).toFixed(0)-Number(s).toFixed(0)),d=Math.abs(Number(t).toFixed(0)-Number(o).toFixed(0));return i<=1&&d<=1},findEdgeToEdgeIntersection:function(e,t){var s=this.nodes[e.getSrcId()],o=this.nodes[e.getDstId()],i=this.nodes[t.getSrcId()],d=this.nodes[t.getDstId()];if(this.isSameLevelOrdinal(s.getZ(),i.getZ())){var n=s.getX(),r=s.getY(),l=o.getX(),a=o.getY(),g=i.getX(),u=i.getY(),h=d.getX(),c=d.getY();return this.findEdgeToEdgeIntersectionHelper(n,r,l,a,g,u,h,c)}return null},findEdgeToEdgeIntersectionHelper:function(e,t,s,o,i,d,n,r){var l,a,g,u;l=s-e,a=o-t,g=n-i,u=r-d;var h=(-a*(e-i)+l*(t-d))/(-g*a+l*u),c=(g*(t-d)-u*(e-i))/(-g*a+l*u);if(h>=0&&h<=1&&c>=0&&c<=1){var p=e+c*l,f=t+c*a;return[p,f]}return null},calcCoord:function(e){return+Number(e).toFixed(0)},pointToPointDistance:function(e,t){var s=e[0]-t[0],o=e[1]-t[1];return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))},closerToFirstPoint:function(e,t){var s=[e.points[0].p.x,e.points[0].p.y],o=[e.points[e.points.length-1].p.x,e.points[e.points.length-1].p.y],i=this.pointToPointDistance(s,t),d=this.pointToPointDistance(o,t);return i<=d},extractPortalPath:function(e,t){if(this.closerToFirstPoint(e,t)){for(var s=[],o=0;o<e.points.length-1;o++){var i={};i.start=[e.points[o].p.x,e.points[o].p.y],i.out=[e.points[o].out.x,e.points[o].out.y],i.in=[e.points[o+1].in.x,e.points[o+1].in.y],i.end=[e.points[o+1].p.x,e.points[o+1].p.y],s.push(i)}return s}for(var s=[],o=e.points.length-1;o>0;o--){var i={};i.start=[e.points[o].p.x,e.points[o].p.y],i.out=[e.points[o].in.x,e.points[o].in.y],i.in=[e.points[o-1].out.x,e.points[o-1].out.y],i.end=[e.points[o-1].p.x,e.points[o-1].p.y],s.push(i)}return s},areNavObjectsInverses:function(e,t){if(e.points.length!=t.points.length)return!1;for(var s=e.points.length,o=0;o<s;o++){var i=e.points[o],d=t.points[s-o-1];if(i.in.x!=d.out.x||i.in.y!=d.out.y||i.out.x!=d.in.x||i.out.y!=d.in.y||i.p.x!=d.p.x||i.p.y!=d.p.y)return!1}return!0},isSameLevelOrdinal:function(e,t){if(e==t)return!0;var s=this.floorOrdinals[e],o=this.floorOrdinals[t];return s||(s=this.venue.getOrdinalForFloorId(e),this.floorOrdinals[e]=s),o||(o=this.venue.getOrdinalForFloorId(t),this.floorOrdinals[t]=o),s==o},generateNavData:function(){try{for(var e=new locuslabs.maps.NameTable,t={},s=[],o=[],i=0;i<this.nodeList.length;i++){var d=this.nodeList[i],n=this.fixedGeometry.fixedPointToLatLng([d.getX(),d.getY()]),r={};r.id=e.getIdForName(d.getId()),r.floorId=d.getZ(),r.lat=+Number(n.lat()).toFixed(6),r.lng=+Number(n.lng()).toFixed(6),s.push(r)}for(var i=0;i<this.edgeList.length;i++){var l=this.edgeList[i],a={};if(a.s=e.getIdForName(l.getSrcId()),a.d=e.getIdForName(l.getDstId()),a.l=l.getDelay(),a.t="Ground"==l.getType()?"":l.getType(),l.isSecurityCheckpoint()&&(a.x=!0),null!=l.getDetails()&&(a.n=l.getDetails()),null!=l.getAction()&&(a.a=l.getAction()),l.isDriveway()&&(a.h=!1),l.getPath()){a.p=[];for(var g=0;g<l.getPath().length;g++){var u=this.fixedGeometry.fixedPointToLatLng(l.getPath()[g].start),h=this.fixedGeometry.fixedPointToLatLng(l.getPath()[g].out),c=this.fixedGeometry.fixedPointToLatLng(l.getPath()[g].in),p=this.fixedGeometry.fixedPointToLatLng(l.getPath()[g].end),f={};f.s=[+Number(u.lat()).toFixed(6),+Number(u.lng()).toFixed(6)],f.o=[+Number(h.lat()).toFixed(6),+Number(h.lng()).toFixed(6)],f.i=[+Number(c.lat()).toFixed(6),+Number(c.lng()).toFixed(6)],f.e=[+Number(p.lat()).toFixed(6),+Number(p.lng()).toFixed(6)],a.p.push(f)}}a.s!=a.d?o.push(a):locuslabs.log.debug("******* SHOULD NOT HAPPEN!")}return t.nodes=s,t.edges=o,locuslabs.log.debug("================================================"),locuslabs.log.debug("Nodes: "+this.nodeList.length),locuslabs.log.debug("Edges: "+this.edgeList.length),locuslabs.log.debug("================================================"),t}catch(e){return locuslabs.log.error("GraphBuilder.generateNavData: "+e),null}},static:{NODE_TO_EDGE_TOLERANCE:2,MERGE_NODE_TOLERANCE:3}});
},{}],54:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("MergeTable",{constructor:function(){this.callParent(),this.table={},this.list=[]},mergeNodes:function(t,e){var s=t.getId()+":"+e.getId(),i=e.getId()+":"+t.getId();this.table[s]||this.table[i]||(this.list.push([t,e]),this.table[s]=1,this.table[i]=1)},getMergeList:function(){return this.list}});
},{}],55:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("NameTable",{constructor:function(){this.callParent(),this.table={},this.count=1},getIdForName:function(t){var s=this.table[t];return null==s&&(s=this.count.toString(),this.table[t]=s,this.count+=1),s}});
},{}],56:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("TEdge",{constructor:function(t,i,n,s,e,r,u,c,h){this.callParent(),this.srcId=t,this.dstId=i,this.type=n?n:"Ground",this.delay=s?s:0,this.path=r,this.securityCheckpoint=!!e&&e,this.action=u||null,this.details=c||null,this.driveway=!!h&&h},getId:function(){return this.srcId+":"+this.dstId},getSrcId:function(){return this.srcId},getDstId:function(){return this.dstId},getType:function(){return this.type},getDelay:function(){return this.delay},isSecurityCheckpoint:function(){return this.securityCheckpoint},getPath:function(){return this.path},getAction:function(){return this.action},getDetails:function(){return this.details},isDriveway:function(){return this.driveway},toString:function(){return"["+this.getSrcId()+"]->["+this.getDstId()+"]"}});
},{}],57:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("TNode",{constructor:function(t,s,e){this.callParent(),this.x=t,this.y=s,this.z=e,this.srcEdges={},this.srcEdgeList=[],this.dstEdges={},this.dstEdgeList=[]},getX:function(){return this.x},getY:function(){return this.y},getZ:function(){return this.z},getId:function(){return this.x+","+this.y+","+this.z},addSrcEdge:function(t){this.srcEdges[t.getDstId()]=t,this.srcEdgeList.push(t)},getSrcEdges:function(){return this.srcEdgeList},doesSrcEdgeExist:function(t){return null!=this.srcEdges[t.getDstId()]},removeSrcEdge:function(t){if(this.doesSrcEdgeExist(t)){delete this.srcEdges[t.getDstId()];var s=this.srcEdgeList.indexOf(t);this.srcEdgeList.splice(s,1)}},addDstEdge:function(t){this.dstEdges[t.getSrcId()]=t,this.dstEdgeList.push(t)},getDstEdges:function(){return this.dstEdgeList},doesDstEdgeExist:function(t){return null!=this.dstEdges[t.getSrcId()]},removeDstEdge:function(t){if(this.doesDstEdgeExist(t)){delete this.dstEdges[t.getSrcId()];var s=this.dstEdgeList.indexOf(t);this.dstEdgeList.splice(s,1)}},toString:function(){return"["+this.getId()+"] = ("+this.getX()+", "+this.getY()+", "+this.getZ()+")"}});
},{}],58:[function(require,module,exports){
geohash=require("geohasher"),encodeGeoHash=geohash.encode,module.exports=locuslabs.Base.subclass("PoiDatabaseBuilder",{constructor:function(o){this.callParent(),this.mapView=o;var i=this,t=this.mapView.get("allFloorIds");_.each(t,function(o){i.mapView.showFloor(o)})},buildDatabase:function(o,i){var t=this.extendData(o);return this.extendedSearchData(t),this.addPortals(t,i),t},extendData:function(o){try{for(var i in o.pois)try{if("terminal"==o.pois[i].category||o.pois[i].position.latLng)if("terminal"==o.pois[i].category){var t=o.pois[i].displayProperties.sectionId,s=this.mapView.elementLatLngAndRadius("ll-"+t);null!=s?(o.pois[i].position.latitude=parseFloat(s.latLng.lat().toFixed(6)),o.pois[i].position.longitude=parseFloat(s.latLng.lng().toFixed(6)),o.pois[i].position.geohash=encodeGeoHash(s.latLng.lat(),s.latLng.lng()),o.pois[i].position.floorId=locuslabs.maps.Utilities.getFloorIdFromSectionId(t),o.pois[i].position.buildingId=locuslabs.maps.Utilities.getBuildingIdFromFloorId(o.pois[i].position.floorId),o.pois[i].position.venueId=locuslabs.maps.Utilities.getVenueIdFromFloorId(o.pois[i].position.floorId),o.pois[i].position.sectionId=t,o.pois[i].radius=s.radius.toFixed(0)):locuslabs.log.debug("No Data for : "+t)}else locuslabs.log.error("Bad POI? : "+i);else{var t=null,e=o.pois[i].displayProperties;if(e&&(t=e.sectionId),t){var s=this.mapView.elementLatLngAndRadius("ll-"+t);null!=s&&(o.pois[i].position.latitude=parseFloat(s.latLng.lat().toFixed(6)),o.pois[i].position.longitude=parseFloat(s.latLng.lng().toFixed(6)),o.pois[i].position.geohash=encodeGeoHash(s.latLng.lat(),s.latLng.lng()),o.pois[i].position.floorId=locuslabs.maps.Utilities.getFloorIdFromSectionId(t),o.pois[i].position.buildingId=locuslabs.maps.Utilities.getBuildingIdFromFloorId(o.pois[i].position.floorId),o.pois[i].position.venueId=locuslabs.maps.Utilities.getVenueIdFromFloorId(o.pois[i].position.floorId),o.pois[i].position.sectionId=t,o.pois[i].radius=s.radius.toFixed(0))}else{var a=this.mapView.poiLatLng(i);if(null!=a){o.pois[i].position.latitude=parseFloat(a.lat().toFixed(6)),o.pois[i].position.longitude=parseFloat(a.lng().toFixed(6)),o.pois[i].position.geohash=encodeGeoHash(a.lat(),a.lng()),o.pois[i].position.floorId=this.extractFloorId(i),o.pois[i].position.buildingId=this.extractBuildingId(o.pois[i].position.floorId),o.pois[i].position.venueId=locuslabs.maps.Utilities.getVenueIdFromFloorId(o.pois[i].position.floorId);var l=o.pois[i].position.floorId;o.pois[i].position.sectionId=this.findSectionId(l,a),o.pois[i].radius=this.mapView.poiRadius(i).toFixed(0)}else locuslabs.log.debug("No Lat/Lng for : "+i)}}}catch(o){locuslabs.log.error("extendData error for : "+i+" : "+o)}}catch(o){locuslabs.log.error("extendData: "+o)}return o},findSectionId:function(o,i){try{var t,s=$(this.mapView.getMapDiv()).find("#ll-"+o).find("[class~=ll_section_bounds]"),e=this,a=this.mapView.fromLatLng(i);return $.each(s,function(){e.mapView.isPointInBounds(a,this)&&(t=$(this).attr("id").substr(3),t=t.substr(0,t.length-"-bounds".length))}),t}catch(o){locuslabs.log.error("findSectionId: "+o)}},extractFloorId:function(o){try{for(var i=this.mapView.get("allFloorIds"),t=$(this.mapView.getMapDiv()).find("#ID"+o).parents(),s=0;s<t.length;s++){var e=t[s].id.substring(3);if(i.indexOf(e)!=-1)return e}return null}catch(o){locuslabs.log.error("extractFloorId: "+o)}},extractBuildingId:function(o){try{var i=o.indexOf("-");if(i==-1)return"";var t=o.indexOf("-",i+1);return t==-1?"":o.substring(0,t)}catch(o){return locuslabs.log.error("extractBuildingId: "+o),""}},extendedSearchData:function(o){locuslabs.log.debug("extendSearchData");try{var i={};for(var t in o.pois)try{var s=o.pois[t].position.geohash;if(s){var e=o.pois[t].position.floorId+":"+s.substr(0,7),a=o.pois[t].position.floorId+":"+s.substr(0,8);i[e]||(i[e]=[]),i[e].push(t),i[a]||(i[a]=[]),i[a].push(t)}}catch(o){locuslabs.log.error("extendSearchData error for : "+t+" : "+o)}o.geoDb=i}catch(o){locuslabs.log.error("extendSearchData: "+o)}},addPortals:function(o,i){for(var t=0;t<i.portals.length;t++)try{if(i.portals[t].srcPoId.length>2||i.portals[t].dstPoId>2){var s="bi"==i.portals[t].direction,e=i.portals[t].srcPoId.substring(2),a=i.portals[t].dstPoId.substring(2),l=o.pois[e],r=l.connectsTo;if(r||(l.connectsTo=[]),l.connectsTo.push(a),s){var n=o.pois[a],r=n.connectsTo;r||(n.connectsTo=[]),n.connectsTo.push(e)}}}catch(o){locuslabs.log.warn("addPortals: "+o+" Src Portal: "+i.portals[t].srcPoId+" Dst Portal: "+i.portals[t].dstPoId)}}});
},{"geohasher":468}],59:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("VenueDataBuilder",{constructor:function(e,t,u){this.callParent(),this.mapView=u,this.venueId=t,this.venue=e},updateVenueData:function(){var e={};return e[this.venueId]={},this.addBuildingBoundsToVenueData(e),this.addViewboxToVenueData(e),e},addBuildingBoundsToVenueData:function(e){locuslabs.log.debug("Determining Bounds for Venue "),e[this.venueId].structures={};for(var t=this.venue.getStructures(),u=0;u<t.length;u++){var o=this.getPolygonForBuilding(t[u]+"-bounds");if(o){for(var n=[],a=0;a<o.length;a++){var s=o[a],i=this.mapView.toLatLng(s);n.push([parseFloat(i.lat().toFixed(6)),parseFloat(i.lng().toFixed(6))])}e[this.venueId].structures[t[u]]={},e[this.venueId].structures[t[u]].boundsPolygon=n}}},addViewboxToVenueData:function(e){locuslabs.log.debug("addViewboxToVenueData");var t=this.venue.getMapData();t=t.substring(0,200).replace(/.*viewBox="([^"]+)".*/,"$1");var u=t.split(/\s+/),o={x:+u[0],y:+u[1],width:+u[2],height:+u[3]};e[this.venueId].viewBox=o},getPolygonForBuilding:function(e){locuslabs.log.debug("getPolygonForBuilding: "+e);var t=document.getElementById("ll-"+e);return t?("g"===t.tagName&&(t=t.getElementsByTagName("path")[0]),locuslabs.maps.Utilities.pathToPolygonPoints(t)):(locuslabs.log.debug("No element found for: ["+e+"]"),null)}});
},{}],60:[function(require,module,exports){
var log4js=require("log4js");Base=function(){},Base.addNonEnumeratedProperty=function(e,t,r){"object"!=typeof e&&"function"!=typeof e||Object.defineProperty(e,t,{value:r,enumerable:!1,configurable:!0,writable:!0})},Base.addNonEnumeratedProperty(Base.prototype,"category","function-prototype-base"),Base.addNonEnumeratedProperty(Base,"category","function-base"),Base.deprecationNotices={},Base.addNonEnumeratedProperty(Base.prototype,"deprecated",function(e){e=e||{};var t=new Error("dummy");if(t.stack){var r,o=t.stack.split("\n").slice(1);if(o.length>=2){var a=o[1].match(/at (?:(.+)\s+\()?(?:(.+?):(\d+):(\d+)|([^)]+))\)?/);if(a){var n=a[1].split(".");n.length>1&&(r=n[n.length-1])}}_.defaults(e,{className:this.className,method:r});var s=e.className+".prototype."+e.method;_.has(Base.deprecationNotices,s)||(this._warn("deprecated","The method %s is deprecated.",s),Base.deprecationNotices[s]=0),Base.deprecationNotices[s]+=1}}),Base.subclass=function(e,t){var r=this,o=t.hasOwnProperty("constructor")?t.constructor:function(){};Base.addNonEnumeratedProperty(o,"$name","constructor"),delete t.constructor,o.prototype=Object.create(r.prototype),Base.addNonEnumeratedProperty(o.prototype,"constructor",o),Base.addNonEnumeratedProperty(o.prototype,"category","function-prototype-"+e),Base.addNonEnumeratedProperty(o,"category","function-"+e),Base.addNonEnumeratedProperty(o,"subclass",Base.subclass),Base.addNonEnumeratedProperty(o.prototype,"parentConstructor",r),Base.addNonEnumeratedProperty(o.prototype,"parentPrototype",r.prototype),Base.addNonEnumeratedProperty(o.prototype,"className",e),Base.addNonEnumeratedProperty(o,"className",e);for(var a in t){var n;if(t.hasOwnProperty(a))if("static"==a){var s=t[a];for(var i in s)s.hasOwnProperty(i)&&(n=s[i],o[i]=n,Base.addNonEnumeratedProperty(n,"$name",i))}else n=t[a],o.prototype[a]=n,Base.addNonEnumeratedProperty(n,"$name",a)}return Base.addNonEnumeratedProperty(Base.prototype,"_loggingPrimitive",function(e,t,r,o){var a;try{var n=_.collect(_.toArray(arguments).slice(4),function(e){return _.isObject(e)&&e._debugDescription?e._debugDescription():e});return a=this.className||"???",e=e||"???",locuslabs.Base.trace?_.sprintf("[%s] %s | %s%s",_.pad(_.sprintf("%s: %s",t,r),15),_.pad(_.sprintf("%s.%s",a,e),60),locuslabs.log.indentation,_.vsprintf(o,n)):_.sprintf("[%s: %s] %s.%s | %s",t,r,a,e,_.vsprintf(o,n))}catch(t){this._exception("logging",t,"exception in logging method: %s topic: %s template: %s",e,r,o)}}),Base.addNonEnumeratedProperty(Base.prototype,"_debug",function(e,t){if(this.log4jsLogger||(this.log4jsLogger=log4js.getLogger("ll")),this.log4jsLogger.isDebugEnabled()){var r=_.collect(arguments,function(e){return e});r.unshift("DEBUG"),r.unshift(arguments.callee.caller.$name);var o=this._loggingPrimitive.apply(this,r);return locuslabs.log.debug(o),o}}),Base.addNonEnumeratedProperty(Base.prototype,"_info",function(e,t){var r=_.collect(arguments,function(e){return e});r.unshift("INFO "),r.unshift(arguments.callee.caller.$name);var o=this._loggingPrimitive.apply(this,r);return locuslabs.log.info(o),o}),Base.addNonEnumeratedProperty(Base.prototype,"_warn",function(e,t){var r=_.collect(arguments,function(e){return e});r.unshift("WARN "),r.unshift(arguments.callee.caller.$name);var o=this._loggingPrimitive.apply(this,r);return locuslabs.log.warn(o),o}),Base.addNonEnumeratedProperty(Base.prototype,"_error",function(e,t){var r=_.collect(arguments,function(e){return e});r.unshift("ERROR"),r.unshift(arguments.callee.caller.$name);var o=this._loggingPrimitive.apply(this,r);return locuslabs.log.error(o),o}),Base.addNonEnumeratedProperty(Base.prototype,"_exception",function(e,t,r){var o=_.toArray(arguments).slice(3);locuslabs.log.exception({topic:e,prefix:_.vsprintf(r,o),exception:t})}),Base.addNonEnumeratedProperty(o.prototype,"callParent",function(e){function t(e){for(var t=e,r=e.callParent.caller,o=r.$name;!t.hasOwnProperty(o)||t[o]!=r;)t=t.__proto__;return t}var r,o=this.callParent.caller.$name;if("constructor"==o)return r=this.callParent.caller.prototype,r.parentConstructor.apply(this,arguments);try{return r=t(this).__proto__,r[o].apply(this,arguments)}catch(e){throw e.message.match(/Cannot read property '.*' of undefined/)?new Error(t(this).className+"."+o+"() called this.callParent, but no ancestor has a method named '"+o+"'"):e}}),o},module.exports=Base;
},{"log4js":475}],61:[function(require,module,exports){
module.exports=function(e){if($.isPlainObject(e)){if(e.__locuslabs_serialized_object__){var i=e.className.split(/\./),n=window;return $.each(i,function(e,a){if(n=n[a],!n)return console.log("Unknown class: "+i),!1}),n.deserialize(e.data)}var a={};return $.each(e,function(e,i){a[e]=locuslabs.deserialize(i)}),a}return e};
},{}],62:[function(require,module,exports){
var MVCObject=require("./mvcobject"),_=require("underscore");module.exports=MVCObject.subclass("Events",{constructor:function(t){var n={};t&&$.each(t,function(t,e){n[t]=e}),$.each(locuslabs.Events.defaults,function(t,e){t in n||(n[t]=e)}),this.options=n;var e=this;this.interval=setInterval(function(){e.checkCurrent()},this.options.maxBatchAge)},addEvent:function(t){this.current||(this.current=[]),this.current.push(t)},isBatchTooBig:function(t){return t.length>=this.options.maxBatchSize},isBatchTooOld:function(t){if(0==t.length)return!1;var n=new Date;return n.getTime()-new Date(t[0].timestamp).getTime()>=this.options.maxBatchAge},batchHasPositionChanged:function(t){return _.some(t,function(t){return"positionChanged"==t.type})},sendNow:function(){this.current&&this.current.length&&(this.addToPending(),this.current=[])},checkCurrent:function(){this.current&&(this.options.sendNow||this.isBatchTooBig(this.current)||this.isBatchTooOld(this.current)||this.batchHasPositionChanged(this.current))&&this.sendNow()},sendRequest:function(t,n){locuslabs.maps.event.trigger(this,"sending",t.events);var e=locuslabs.config.apiBase+"/events",i=this,s=$.ajax({method:"POST",url:e,contentType:"application/json",data:t.data});return s.then(function(){t.done=!0,i.removeFromPending(n),locuslabs.maps.event.trigger(i,"success",t.events)}).fail(function(n){var e=n.statusCode();locuslabs.log.warn("Event submission returned "+e+" error!"),locuslabs.maps.event.trigger(i,"failed",t.events);var s=t.nextDelay;t.canceled||(t.timeout=setTimeout(function(){t.request=i.sendRequest(t)},s),s=2*s,s>i.options.maxBackoff&&(s=i.options.maxBackoff),t.nextDelay=s)}),s},addToPending:function(){this.pending||(this.pending={batches:{},dataSize:0,first:0,next:0});var t=JSON.stringify(this.current),n={nextDelay:this.options.initialBackoff,submitted:new Date,done:!1,events:this.current,data:t},e=this.pending.next;for(this.pending.batches[e]=n,this.pending.dataSize+=t.length,this.pending.next+=1,n.request=this.sendRequest(n,e);this.pending.dataSize>=this.options.maxPendingSize;)this.removeFromPending(this.pending.first)},cancelBatch:function(t){t.canceled=!0,t.request&&t.request.abort(),t.timeout&&clearTimeout(t.timeout)},removeFromPending:function(t){if(!(t<this.pending.first)&&!(t>=this.pending.next)&&this.pending.batches[t]){var n=this.pending.batches[t];if(this.cancelBatch(n),this.pending.dataSize-=n.data.length,delete this.pending.batches[t],t==this.pending.first)for(this.pending.first+=1;!this.pending.batches[this.pending.first]&&this.pending.first<this.pending.next;)this.pending.first+=1;locuslabs.maps.event.trigger(this,"removed",n.events)}},getAccountId:function(){return this.options.accountId||locuslabs._getAccountId()},getInstallId:function(){return this.options.installId||locuslabs._getInstallId()},count:function(){var t=0;return this.current&&(t+=this.current.length),this.pending&&$.each(this.pending.batches,function(n,e){t+=e.events.length}),t},isEmpty:function(){return 0==this.count()},submit:function(t){t.timestamp=(new Date).toISOString(),t.installId=this.getInstallId(),t.accountId=this.getAccountId(),t.installId&&t.accountId&&(this.addEvent(t),this.checkCurrent())},flush:function(){for(;this.pending.first<this.pending.next;)this.removeFromPending(this.pending.first);this.current=[]},static:{defaults:{sendNow:!1,maxBatchSize:120,maxBatchAge:1e4,initialBackoff:100,maxBackoff:36e5,maxPendingSize:1024e3}}});
},{"./mvcobject":151,"underscore":573}],63:[function(require,module,exports){
var redux=require("redux"),createSagaMiddleware=require("redux-saga").default,loadVenue=require("./maps/map-loading/load-venue"),loadVenueList=require("./maps/map-loading/load-venue-list"),rootReducer=require("./maps/map-loading/reducer");module.exports={_loaded:function(){$.each(locuslabs.maps.event._pendingEvents,function(e,s){locuslabs.maps.event.trigger(s.instance,s.event.type)}),locuslabs.maps._loaded=!0,locuslabs.maps.event.trigger(locuslabs,"locuslabs-loaded")},_loadFiles:function(e,s){return s.length<=0?void(e&&e()):($.each(s.shift(),function(e,s){var o=document.createElement("script");o.type="text/javascript",o.src=s+"?_="+(new Date).getTime(),$("head").append(o)}),void locuslabs._loadFiles(e,s))},configDefaults:{apiBase:"https://api.locuslabs.com",fontsBase:"https://assets.locuslabs.com/fonts/",assetsBase:"https://assets.locuslabs.com/accounts/",assetsFormatVersion:"v3",isPreparingAssets:!1,cache:!0,useMapWidgets:!0,panZoomMethod:"jqueryPanZoomCss",sdk:"js",sdkVersion:"locuslabs-js-sdk-1.0.6",walkingSpeed:60,positioningSupported:[],iconPath:"images/"},config:{},_getAccountId:function(){return"undefined"==typeof Storage?null:locuslabs.config.accountId?locuslabs.localStorage.getItem("locuslabs."+locuslabs.config.accountId+".id"):null},_setAccountId:function(e){"undefined"!=typeof Storage&&locuslabs.config.accountId&&locuslabs.localStorage.setItem("locuslabs."+locuslabs.config.accountId+".id",e)},_loadAccountId:function(){var e=$.Deferred();if("undefined"==typeof Storage)return locuslabs.error("Local storage not supported!"),e.reject(),e.promise();var s=locuslabs._getAccountId();return s?(locuslabs.log.debug("Found accountId in locuslabs.localStorage:",s),e.resolve(s)):$.ajax(locuslabs.config.apiBase+"/accounts?shortId="+locuslabs.config.accountId).then(function(s){if(!s)return void e.reject("missing data");if(!s.accounts)return void e.reject("missing accounts array");if(!s.accounts.length)return void e.reject("accounts array empty");var o=s.accounts[0];locuslabs.log.debug("Loaded accountId:",o),locuslabs.localStorage.setItem("locuslabs."+locuslabs.config.accountId+".id",o),e.resolve(o)}).fail(function(s){e.reject(s)}),e.promise()},login:function(e,s){var o=JSON.stringify({installs:[locuslabs._getInstallId()]}),l=locuslabs.config.apiBase+"/people/"+e.get("id")+"/links/installs";return locuslabs.log.debug("Login:",l),$.ajax({method:"post",url:l,data:o}).then(function(){locuslabs.log.debug("Login successful for:",e.get("id")),s&&s(e)})},logout:function(e,s){var o=locuslabs.config.apiBase+"/people/"+e.get("id")+"/links/installs/"+locuslabs._getInstallId();return locuslabs.log.debug("Logout:",o),$.ajax({method:"delete",url:o}).then(function(){locuslabs.log.debug("Logout successful for:",e.get("id")),s&&s(e)})},_getInstallId:function(){return"undefined"==typeof Storage?null:locuslabs.localStorage.getItem("locuslabs."+locuslabs._getAccountId()+".install.id")},_setInstallId:function(e){"undefined"!=typeof Storage&&locuslabs.localStorage.setItem("locuslabs."+locuslabs._getAccountId()+".install.id",e)},_loadInstallId:function(){var e=$.Deferred();if("undefined"==typeof Storage)return locuslabs.error("Local storage not supported!"),e.reject(),e.promise();var s=locuslabs._getInstallId();return s?(locuslabs.log.debug("Found installId in locuslabs.localStorage:",s),e.resolve(s)):locuslabs._loadAccountId().then(function(s){locuslabs.log.debug("Got accountId:",s);var o=JSON.stringify({installs:{sdk:locuslabs.config.sdk,links:{account:s}}});$.ajax({method:"post",url:locuslabs.config.apiBase+"/installs",data:o,contentType:"application/vnd.api+json"}).done(function(s,o,l){if(!s)return void e.reject("no data returned");if(!s.installs)return void e.reject("missing installs object");var a=s.installs;locuslabs.log.debug("Created install:",a.id),locuslabs._setInstallId(a.id),e.resolve(a.id)}).fail(function(s){e.reject(s)})}),e.promise()},_setupInstall:function(){locuslabs._loadInstallId().then(function(){locuslabs.log.info("Setup Install complete.")}).fail(function(e){locuslabs.log.info("Failed to register install.",e),setTimeout(locuslabs._setupInstall,3e4)})},finishSetup:function(e){var s={};locuslabs.config.eventsSendNow&&(s.sendNow=!0),locuslabs.events=locuslabs.config.events||new locuslabs.Events(s),locuslabs.session=new locuslabs.Session,locuslabs._setupInstall(),e&&e(),locuslabs._loaded(),locuslabs.log.debug("finished setup")},startRedux:function(){var e=createSagaMiddleware();locuslabs.reduxStore=redux.createStore(rootReducer.reducer,redux.applyMiddleware(e)),e.run(loadVenueList.saga.requestVenueList,locuslabs.config),e.run(loadVenue.saga.requestVenue,locuslabs.config),loadVenue.bindSelectors(loadVenue.selectors,locuslabs.reduxStore.getState)},setup:function(e,s){locuslabs.log.debug("starting setup"),e=e||{},locuslabs.config=_.defaults(e,locuslabs.config,locuslabs.configDefaults),locuslabs.log.debug("config: "+locuslabs.config),this.startRedux(),locuslabs.finishSetup(s),locuslabs._handleBrowserDifferences()},setupMocha:function(e){this.startRedux()},_handleBrowserDifferences:function(){"WebkitAppearance"in document.documentElement.style&&(locuslabs.maps.isWebkit=!0)},setupNode:function(e,s){locuslabs.log.debug("starting setup"),e=e||{},locuslabs.config=_.defaults(e,locuslabs.config,locuslabs.configDefaults),locuslabs.log.debug(locuslabs.config)},setupAndroid:function(){"undefined"!=typeof android&&locuslabs.setup(JSON.parse(android.configurationParameters()),function(){android.ready()})},setupIOS:function(e){e()},_elementDiv:function(){var e=$("body").find("#__locuslabs_map_elements");return 0===e.length&&(e=$("body").append('<div id="__locuslabs_map_elements"></div>')),e},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var s=16*Math.random()|0,o="x"==e?s:3&s|8;return o.toString(16)})},maps:{MapsEventListener:function(){},_loaded:!1,event:{_pendingEvents:[],addDomListener:function(e,s,o,l,a){l&&console.error("locuslabs.maps.event.addDomListener: capture not supported.");var t=a?"one":"on",n=locuslabs.uuid();$(e)[t](s+".locuslabs."+n,function(o){locuslabs.maps._loaded?locuslabs.maps.event.trigger(e,s):locuslabs.maps.event._pendingEvents.push({event:o,instance:e})}),$(e)[t]("locuslabs-"+s+".locuslabs."+n,function(e){var s=Array.prototype.slice.call(arguments),l=s.slice(1);o.apply(this,l)});var u=new locuslabs.maps.MapsEventListener;return u.instance=e,u.eventName=s,u.uuid=n,u},addDomListenerOnce:function(e,s,o,l){l&&console.error("locuslabs.maps.event.addDomListener: capture not supported."),locuslabs.maps.event.addDomListener(e,s,o,l,!0)},addListener:function(e,s,o){locuslabs.maps.event.addDomListener(e,s,o)},addListenerOnce:function(e,s,o){locuslabs.maps.event.addDomListenerOnce(e,s,o)},clearInstanceListeners:function(e){$(e).off(".locuslabs")},clearListeners:function(e,s){$(e).off("locuslabs-"+s),$(e).off(s+".locuslabs")},removeListener:function(e){$(e.instance).off("."+e.uuid)},trigger:function(e,s){var o=Array.prototype.slice.call(arguments),l=o.slice(2);$(e).trigger("locuslabs-"+s+".locuslabs",l)}}},navigation:{}};
},{"./maps/map-loading/load-venue":103,"./maps/map-loading/load-venue-list":99,"./maps/map-loading/reducer":107,"redux":566,"redux-saga":549}],64:[function(require,module,exports){
var Base=require("./base"),log4js=require("log4js");module.exports=Base.subclass("Logger",{constructor:function(){this._data={}},getUUID:function(){return this._data.uuid||(this._data.uuid=this.toString()),this._data.uuid},getClassName:function(){return"locuslabs.maps.Logger"},equals:function(e){return this===e},toString:function(){return"(Logger)"},setLogLevel:function(e){console.log("Setting the logging level : "+e),0==e?locuslabs.log.setLevel("OFF"):1==e?locuslabs.log.setLevel("ERROR"):2==e?locuslabs.log.setLevel("WARN"):3==e?locuslabs.log.setLevel("INFO"):4==e?locuslabs.log.setLevel("DEBUG"):5==e&&locuslabs.log.setLevel("ALL")},serialize:function(){return{__locuslabs_serialized_object__:!0,className:"locuslabs.maps.Logger",data:{}}},static:{newInstance:function(e){var s=new locuslabs.maps.Logger;return s._data.uuid=e,s},deserialize:function(e){return new locuslabs.maps.Logger},setLayoutPattern:function(e){log4js.clearAppenders(),log4js.addAppender(log4js.appenders.console(log4js.layouts.patternLayout(e)))}}});
},{"./base":60,"log4js":475}],65:[function(require,module,exports){
var log4js=require("log4js"),logger=log4js.getLogger("ll"),pattern="%d{hh:mm:ss.SSS} %-5p - %m";"undefined"==typeof window&&(pattern="%["+pattern+"%]"),log4js.clearAppenders(),log4js.addAppender(log4js.appenders.console(log4js.layouts.patternLayout(pattern))),logger.setLevel(log4js.levels.WARN),locuslabs.log=logger,locuslabs.log.setNativeLogLevel=function(e){console.log("Setting the logging level : "+e),0==e?locuslabs.log.setLevel("OFF"):1==e?locuslabs.log.setLevel("ERROR"):2==e?locuslabs.log.setLevel("WARN"):3==e?locuslabs.log.setLevel("INFO"):4==e?locuslabs.log.setLevel("DEBUG"):5==e&&locuslabs.log.setLevel("ALL")},locuslabs.log.exception=function(e){function l(e){var l=e.stack;l=l.replace(/http:.*\//g,""),l=l.replace(/file:.*\//g,""),l=l.replace(/\n/g,"\n    ");var o=l.split(/\n/);return o.length>200&&o.splice(100,o.length-200,"","("+(o.length-200)+" lines omitted)",""),l=_.alignAtCharacter(o,"@").join("\n    ")}e instanceof Error&&(e={exception:e}),e=_.defaults(e,{topic:"caught exception"});const o=e.exception,n=o.stack?"\n    "+l(o):"",s=_.isEmpty(e.prefix)?"":"\n    "+e.prefix,t="[ERROR: "+e.topic+"] | "+o.message+s+n;return e.returnResult?t:void locuslabs.log.error(t)},locuslabs._debug=function(e,l){if(logger.isDebugEnabled()){const o=arguments.callee.caller,n=o&&o.name?o.name:"???";logger.debug(_.sprintf("[DEBUG: %s] %s | %s",e,n,_.vsprintf(l,_.rest(arguments,2))))}},locuslabs._warn=function(e,l){if(logger.isWarnEnabled()){const o=arguments.callee.caller,n=o&&o.name?o.name:"???";logger.warn(_.sprintf("[WARN: %s] %s | %s",e,n,_.vsprintf(l,_.rest(arguments,2))))}},locuslabs.log.indentation="",locuslabs.log.indent=function(){locuslabs.log.indentation=locuslabs.log.indentation+"  "},locuslabs.log.outdent=function(){locuslabs.log.indentation=locuslabs.log.indentation.substring(2)},locuslabs.onerror=function(e,l,o,n,s){if(o=o||-1,n=n||-1,s)locuslabs.log.exception({prefix:"Uncaught Error",exception:s});else{l=l.replace(/http:.*\//g,""),l=l.replace(/file:.*\//g,""),l=l.replace(/\n/g,"\n    "),o=o.toString().trim(),n=n.toString().trim();const t=_.sprintf("[ERROR: Uncaught Error] | %s \n    %s (%s:%s)\n    (full stack trace unavailable on Safari)",e,l,o,n);locuslabs.log.error(t)}},"undefined"!=typeof window&&(window.onerror=locuslabs.onerror);
},{"log4js":475}],66:[function(require,module,exports){
var loadVenue=require("./map-loading/load-venue"),Venue=require("./venue");module.exports=Venue.subclass("Airport",{constructor:function(t){var i=this;this.callParent(t),this.set("airportCode",t.airportCode),this.getUUID()||this.set("uuid",locuslabs.uuid()),loadVenue.finishedLoading(t.id,function(){return i._continueSettingUpAirport()})},_continueSettingUpAirport:function(){this.set("positioningSensorAlgorithm",locuslabs.maps.PositionManager.positioningSensorAlgorithmInternal),this.set("positionManager",new locuslabs.maps.PositionManager(this)),this.set("beaconReadingLifespan",5),this.set("bonusForBeingNearest",3),this.set("minimumReadingCount",1),this.getPositionManager().bindTo("beacons",this,"beacons",!0),this.getPositionManager().bindTo("navigator",this,"navigator",!0);var t=this;_.defer(function(){t.getPositionManager().bindTo("positioningSensorAlgorithm",t,"positioningSensorAlgorithm")}),this.getPositionManager().bindTo("beaconReadingLifespan",this,"beaconReadingLifespan"),this.getPositionManager().bindTo("bonusForBeingNearest",this,"bonusForBeingNearest"),this.getPositionManager().bindTo("minimumReadingCount",this,"minimumReadingCount"),this.bindTo("positionState",this.getPositionManager(),"positionState"),this.bindTo("position",this.getPositionManager(),"position"),this.bindTo("closestBeacon",this.getPositionManager(),"closestBeacon")},teardown:function(){this.unbindFromThis(this.getPositionManager()),this.callParent()},getVenueId:function(){return this.getId()},getCenterPosition:function(){var t=this.getDefaultBuildingId();return new locuslabs.maps.Position({venueId:this.getVenueId(),buildingId:t,floorId:this.loadBuilding(t).getDefaultFloorId(),latLng:new locuslabs.maps.LatLng(this.getVenueCenter()[0],this.getVenueCenter()[1])})},setPositioningSensorAlgorithm:function(t){this.set("positioningSensorAlgorithm",t)},toString:function(){return this.getVenueId()},getDefaultBuildingId:function(){return this.getDefaultStructureId()},listBuildings:function(t){try{var i=[],e=this.getStructures();if(!e)return t&&t(null),null;for(var n=0;n<e.length;n++){var o={buildingId:this.getStructure(e[n]).getId(),name:this.getStructure(e[n]).getName()};i.push(o)}return t&&t(i),i}catch(i){return locuslabs.log.error("listBuildings: "+i),t?(t(null),null):null}},loadMap:function(t,i,e){_.isUndefined(e)&&(e=!1);var n=this,o=document.getElementById(t),a=this.listBuildings()[1==this.listBuildings().length?0:1].buildingId,s=this.loadBuilding(a),r=s.getDefaultFloorId();s.loadFloor(r,function(t){t.loadMap(o,i,e,n)})},loadMapForNativeApp:function(t,i){this.loadMap(t,function(t){locuslabs.android.registerObject(t);var e=JSON.stringify({uuid:t.getUUID()});i(e)})},loadBuilding:function(t,i){try{var e=this.getStructure(t);return e?(i&&i(e),e):(locuslabs.log.warn("unknown buildingId: "+t),i&&i(null),null)}catch(t){return locuslabs.log.error("loadBuilding: "+t),i&&i(null),null}},buildingsForNativeApp:function(){return _.collect(this.getStructures(),function(t){var i=this.getStructure(t);return{uuid:i.getUUID(),name:i.getName()||"",buildingId:i.getId()||"",venueId:i.getVenueId()||"",id:i.getId()||"",levels:i.getLevels()||[],details:i.getDetails()||"",defaultFloorId:i.getDefaultFloorId(),floors:i.floorsForNativeApp()}},this)},loadNavigationGraph:function(){this._getNavigator(function(){})},navigate:function(t,i,e){var n=this;_.defer(function(){n._navigate(t,i,e)})},_navigate:function(t,i,e){locuslabs.log.debug("airport.navigate");try{this._getNavigator(function(n){e(n.findRoute(t,i),t,i)})}catch(t){throw locuslabs.log.error("airport.navigate exception: "+t),t}},navigateForNativeApp:function(t,i,e){this.navigate(t,i,function(t,i,n){t=JSON.stringify(locuslabs.Native.simplifyData(t)),i=JSON.stringify(locuslabs.Native.simplifyData(i)),n=JSON.stringify(locuslabs.Native.simplifyData(n)),e(t,i,n)})},navigateUpdate:function(t,i,e){var n=this;_.defer(function(){n._navigateUpdate(t,i,e)})},_navigateUpdate:function(t,i,e){locuslabs.log.debug("airport.navigateUpdate");try{var n=[i];this._getNavigator(function(i){e(i.findRoute(t,n),t,n[0])})}catch(t){locuslabs.log.error("airport.navigateUpdate exception: "+t)}},navigateUpdateForNativeApp:function(t,i,e){this.navigateUpdate(t,i,function(t,i,n){t=JSON.stringify(locuslabs.Native.simplifyData(t)),i=JSON.stringify(locuslabs.Native.simplifyData(i)),n=JSON.stringify(locuslabs.Native.simplifyData(n)),e(t,i,n)})},timeEstimate:function(t,i,e){var n=this;_.defer(function(){n._timeEstimate(t,i,e)})},_timeEstimate:function(t,i,e){locuslabs.log.debug("airport.timeEstimate");try{var n=[i];this._getNavigator(function(i){var o=i.findRoute(t,n),a=o?o.eta:-1;e(a,t,n[0])})}catch(t){locuslabs.log.error("airport.timeEstimate exception: "+t)}},timeEstimateForNativeApp:function(t,i,e){this.timeEstimate(t,i,function(t,i,n){t=JSON.stringify(t),i=JSON.stringify(locuslabs.Native.simplifyData(i)),n=JSON.stringify(locuslabs.Native.simplifyData(n)),e(t,i,n)})},_getNavigator:function(t){var i=this;return this.get("navigator")?void t(this.get("navigator")):void this.getNavData(function(e){var n=i.get("navigator");n||(n=new locuslabs.maps.NavigatorEngine(i,i.getVenueId(),e),i.set("navigator",n)),t(n)})},buildNavGraphFromString:function(t,i){return locuslabs.log.debug("airport.buildNavGraphFromString"),this.buildNavGraphFromObject(JSON.parse(t),i)},buildNavGraphFromObject:function(t,i){try{var e=new locuslabs.maps.GraphBuilder(this,this.poiDatabase(),i.getView());return e.buildGraph(t),e.generateNavData()}catch(t){return locuslabs.log.error("airport.buildNavGraph exception: "+t),null}},beaconReadings:function(t){var i=this;this._getNavigator(function(e){return i.getPositionManager().beaconReadings(t)})},recordPositionSensorReading:function(t,i,e,n){var o=this;this._getNavigator(function(a){o.getPositionManager().recordPositionSensorReading(t,i,e,n)})},recordPositionSensorServiceInterruption:function(t){this.getPositionManager().recordPositionSensorServiceInterruption(t)},clearPosition:function(){this.getPositionManager().clearPosition()},recordHeadingSensorReading:function(t){this.getPositionManager().recordHeadingSensorReading(t)},search:function(){return new locuslabs.maps.Search({venueId:this.getId()})},poiDatabase:function(){return new locuslabs.maps.POIDatabase({venueId:this.getId()})},buildPoiDatabase:function(t,i,e){locuslabs.log.debug("airport.buildPoiDatabase");var n=new locuslabs.maps.PoiDatabaseBuilder(e.getView());return n.buildDatabase(t,i)},buildBeaconDatabase:function(t,i){locuslabs.log.debug("airport.buildBeaconDatabase");var e=new locuslabs.maps.BeaconDatabaseBuilder(this,this.getVenueId(),i.getView());return e.buildDatabase(t)},buildVenueData:function(t){locuslabs.log.debug("airport.buildVenueData");var i=new locuslabs.maps.VenueDataBuilder(this,this.getVenueId(),t.getView());return i.updateVenueData()},getPosition:function(){return this.get("position")},getClosestBeacon:function(){return this.get("closestBeacon")},getClassName:function(){return"locuslabs.maps.Airport"},getPositionManager:function(){return this.get("positionManager")},interpolateClosestPointOnNavigationPath:function(t){return this._getNavigator(function(i){return i.getGraph().interpolateClosestPoint(t)})},latLngToUtm:function(t,i){return locuslabs.maps.FixedGeometry.latLngToUtm(t,this.get("utmBounds"),i)},utmToLatLng:function(t,i){return locuslabs.maps.FixedGeometry.utmToLatLng(t,this.get("utmBounds"),i)},_getGraphPoints:function(t,i){locuslabs.log.debug("airport._getGraphPoints");try{this._getNavigator(function(e){var n=e.getGraph().getAllNodes(),o=[],a=[];$.each(n,function(i,e){e.getFloorId()===t&&a.push(e.getLatLng())});var s={},r=[];$.each(n,function(i,n){if(n.getFloorId()===t){var o=n.getLatLng();$.each(n.getEdges(),function(i,a){var g=e.getGraph().getNode(a.getDst());if(g.getFloorId()===t){var u=n.getId()+":"+g.getId();if(!s[u]){var l=g.getLatLng();r.push([o,l,a.isDriveway()]),s[u]=1,s[g.getId()+":"+n.getId()]=1}}})}}),o.push(a),o.push(r),i(o)})}catch(t){locuslabs.log.error("airport._getGraphPoints exception: "+t)}},_getPathPoints:function(t,i,e){locuslabs.log.debug("airport._getPathPoints");try{this._getNavigator(function(n){var o=n.getGraph().findClosestNode(t.floorId,t.latLng),a=n.getGraph().findClosestNode(i[0].floorId,i[0].latLng),s=n.getGraph()._findPaths(o,a),r=[];for(var g in s){var u=g,l=s[g];if(l){var c=n.getGraph().getNode(u).getLatLng(),d=n.getGraph().getNode(l).getLatLng(),h=[];h.push(c),h.push(d),r.push(h)}}e(r)})}catch(t){locuslabs.log.error("airport._getPathPoints exception: "+t)}},showPreviousNavigationSegment:function(){var t=this;_.defer(function(){t._showPreviousNavigationSegment()})},_showPreviousNavigationSegment:function(){locuslabs.log.debug("Airport.showPreviousNavigationSegment"),this.get("navigationController").showPreviousSegment()},showNextNavigationSegment:function(){var t=this;_.defer(function(){t._showNextNavigationSegment()})},_showNextNavigationSegment:function(){locuslabs.log.debug("Airport.showNextNavigationSegment"),this.get("navigationController").showNextSegment()},showNavigationSegmentAt:function(t){var i=this;_.defer(function(){i._showNavigationSegmentAt(t)})},_showNavigationSegmentAt:function(t){locuslabs.log.debug("Airport.showNavigationSegmentAt"),this.get("navigationController").showSegmentAt(t)},getNavigationSummary:function(t,i,e,n){var o=this;_.defer(function(){o._getNavigationSummary(t,i,e,n)})},_getNavigationSummary:function(t,i,e,n){locuslabs.log.debug("Airport.getNavigationSummary");var o=this;new locuslabs.navigation.NavigationController(function(t){o.set("navigationController",t),n(t.getSegments())},this,t,i,e)},getNavigationSummaryForNativeApp:function(t,i,e,n){this.getNavigationSummary(t,i,e,function(t){t=JSON.stringify(locuslabs.Native.simplifyData(t)),n(t)})},removeNavigationLine:function(t){var i=this;_.defer(function(){i._removeNavigationLine(t)})},_removeNavigationLine:function(t){null!=this.get("navigationController")&&this.get("navigationController").tearDown()}});
},{"./map-loading/load-venue":103,"./venue":146}],67:[function(require,module,exports){
var MVCObject=require("../mvcobject");module.exports=MVCObject.subclass("AirportDatabase",{constructor:function(e){e=e||{},e.uuid||(e.uuid=locuslabs.uuid()),this.setValues(e)},getClassName:function(){return"locuslabs.maps.AirportDatabase"},listAirports:function(e,t){try{if(e instanceof Function&&(t=e,e=null),!t)return;locuslabs.log.debug("listAirports"),(new locuslabs.maps.VenueLoader).loadVenueList(e,function(e){t(_.collect(e,function(e){return{venueId:e.id,name:e.name,airportCode:e.airportCode}}))})}catch(e){this._warn("Load Venue","%J",e.stack)}},listAirportsForNativeApp:function(e,t){e instanceof Function&&(t=e,e=null),this.listAirports(e,function(e){e=JSON.stringify(locuslabs.Native.simplifyData(e)),t(e)})},loadAirport:function(e,t,i,a,n){_.isUndefined(n)&&(n=!0),t instanceof Function&&(i=t,t=null),a&&this._reportPercentComplete(e,a,!0),(new locuslabs.maps.VenueLoader).loadVenue(e,t,n,function(e){var t=e?new locuslabs.maps.Airport(e):null;setTimeout(function(){i(t)},10)})},_returnAirport:function(e,t){var i=e.search(),a=e.poiDatabase();locuslabs.android.registerObject(e),locuslabs.android.registerObject(i),locuslabs.android.registerObject(a);var n=JSON.stringify(locuslabs.Native.simplifyData({uuid:e.getUUID(),venueCenter:e.getCenterPosition(),venueRadius:e.getVenueRadius(),id:e.getVenueId(),defaultBuildingId:e.getDefaultBuildingId(),airportCode:e.get("airportCode"),search:{uuid:i.getUUID()},poiDatabase:{uuid:a.getUUID()},buildings:e.buildingsForNativeApp(),beacons:e.getBeacons(),beaconRegions:e.getBeaconRegions()}));t(n)},loadAirportForNativeApp:function(e,t,i,a,n){_.isUndefined(n)&&(n=!0);var r=this;this._reportPercentComplete(e,a,!0),(new locuslabs.maps.VenueLoader).loadVenue(e,t,n,function(e){var t=new locuslabs.maps.Airport(e);r._returnAirport(t,i)})},_reportPercentComplete:function(e,t,i){var a=-100,n=locuslabs.reduxStore.subscribe(function(){var r=locuslabs.reduxStore.getState().venues[e];if(r&&r.percentComplete!=a){a=r.percentComplete;var s=r.error?r.error.message:"";i&&(a=JSON.stringify(a),s=JSON.stringify(s)),t(a,s,r.errorCode),a!=-1&&100!=a||n()}})},loadAirportMapAndMapViewForIos:function(e,t,i,a,n,r){_.isUndefined(r)&&(r=!0),this._debug("loading","%s search: %s",e,t),this._reportPercentComplete(e,n);var s=new locuslabs.maps.VenueLoader;s.loadVenueMapAndMapView(e,t,i,r,function(e,t,i,n,r){var s=JSON.stringify(locuslabs.Native.simplifyData(n));a(e,t,i,s,r)})},loadAirportMapAndMapViewForNativeApp:function(e,t,i,a,n,r){_.isUndefined(r)&&(r=!0);var s=new locuslabs.maps.VenueLoader;n&&this._reportPercentComplete(e,n,!0),s.loadVenueMapAndMapView(e,t,i,r,function(e,t,i,n,r){var s,o,u,l;if("initial-load"==r){var c=e.search(),d=e.poiDatabase();locuslabs.android.registerObject(e),locuslabs.android.registerObject(c),locuslabs.android.registerObject(d),locuslabs.android.registerObject(t),locuslabs.android.registerObject(i),s=JSON.stringify(locuslabs.Native.simplifyData(n)),o=JSON.stringify({uuid:t.getUUID()}),u=JSON.stringify({uuid:i.getUUID()}),l=JSON.stringify(locuslabs.Native.simplifyData({uuid:e.getUUID(),venueCenter:e.getCenterPosition(),venueRadius:e.getVenueRadius(),id:e.getVenueId(),defaultBuildingId:e.getDefaultBuildingId(),airportCode:e.get("airportCode"),search:{uuid:c.getUUID()},poiDatabase:{uuid:d.getUUID()},buildings:e.buildingsForNativeApp(),beacons:e.getBeacons(),beaconRegions:e.getBeaconRegions(),uber:e.getUber()}))}a(l,o,u,s,r)})},static:{newInstance:function(e){return new locuslabs.maps.AirportDatabase({uuid:e})}}});
},{"../mvcobject":151}],68:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("AndroidUtils",{constructor:function(n){n=n||{},n.uuid||(n.uuid=locuslabs.uuid()),this.setValues(n)},simulate:function(n,t){var o=n.getMap().get("venue");n.setPositioningEnabled(!0),o.set("positioningSensorAlgorithm",locuslabs.maps.PositionManager.positioningSensorAlgorithmExternal);var i=n.get("navPointController");i.get("navPoint").set("transitionTime",100);var e=new locuslabs.maps.WalkSimulator(t,{callback:function(n){o.recordPositionSensorReading(n.latLng,n.error,n.floorId,n.heading)}});e.start()},static:{newInstance:function(n){var t=new locuslabs.maps.AndroidUtils({uuid:n});return"undefined"!=typeof locuslabs.android&&locuslabs.android.registerObject(t),t}}});
},{"../../mvcobject":151}],69:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("NativeExtraButtonsForPoiPopupHandler",{constructor:function(t){t=t||{},this.callParent(t),t.uuid=t.uuid||locuslabs.uuid(),this.setValues(t)},extraButtonsForPoiPopup:function(t){return locuslabs.android.callMethodOnNativeObjectReturningPromiseForReturnValue(this,"extraButtonsForPoiPopup",JSON.stringify(t))},static:{newInstance:function(t){var o=new locuslabs.maps.NativeExtraButtonsForPoiPopupHandler({uuid:t});return"undefined"!=typeof locuslabs.android&&locuslabs.android.registerObject(o),o}}});
},{"../../mvcobject":151}],70:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("NativeMapDataCache",{constructor:function(e){e=e||{},this.callParent(e),e.uuid=e.uuid||locuslabs.uuid(),this.setValues(e)},urlForVenueListOnPhone:function(){return locuslabs.android.callMethodOnNativeObjectReturningPromiseForReturnValue(this,"urlForVenueListOnPhone",locuslabs.config.accountId,locuslabs.config.assetsFormatVersion)},saveScriptToPhone:function(e,n,o){return locuslabs.android.callMethodOnNativeObjectReturningPromiseForReturnValue(this,"saveScriptToPhone",e.accountId,e.formatVersion,e.version,e.venueId,n,o)},saveVenueListToPhone:function(e){return locuslabs.android.callMethodOnNativeObjectReturningPromiseForReturnValue(this,"saveVenueListToPhone",locuslabs.config.accountId,locuslabs.config.assetsFormatVersion,e)},availableVersionsOfVenue:function(e){return locuslabs.android.callMethodOnNativeObjectReturningPromiseForReturnValue(this,"availableVersionsOfVenue",locuslabs.config.accountId,locuslabs.config.assetsFormatVersion,e)},static:{versionInfoFromVenueInfo:function(e){return{accountId:locuslabs.config.accountId,formatVersion:locuslabs.config.assetsFormatVersion,version:e.assetVersion,venueId:e.id}},newInstance:function(e){return new locuslabs.maps.NativeMapDataCache({uuid:e})}}});
},{"../../mvcobject":151}],71:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("NativeMenuButtonForPoiPopupHandler",{constructor:function(t){t=t||{},this.callParent(t),t.uuid=t.uuid||locuslabs.uuid(),this.setValues(t)},menuButton:function(t){return locuslabs.android.callMethodOnNativeObjectReturningPromiseForReturnValue(this,"menuButton",JSON.stringify(t))},static:{newInstance:function(t){var u=new locuslabs.maps.NativeMenuButtonForPoiPopupHandler({uuid:t});return"undefined"!=typeof locuslabs.android&&locuslabs.android.registerObject(u),u}}});
},{"../../mvcobject":151}],72:[function(require,module,exports){
var Base=require("../../base");module.exports=Base.subclass("Animation",{constructor:function(t,e,n){this.callParent(),this.object=t,this.functionName=e,this.intervalTime=n},getObject:function(){return this.object},getFunctionName:function(){return this.functionName},getIntervalTime:function(){return this.intervalTime}});
},{"../../base":60}],73:[function(require,module,exports){
var Base=require("../../base");module.exports=Base.subclass("AnimationController",{static:{animators:{},addAnimation:function(a){if(null!=a){var n=locuslabs.maps.AnimationController.animators[a.getIntervalTime()];null==n&&(n=new locuslabs.maps.AnimationInterval(a.getIntervalTime()),locuslabs.maps.AnimationController.animators[a.getIntervalTime()]=n),n.addAnimation(a),locuslabs.maps.AnimationController._startAnimations()}},removeAnimation:function(a){if(null!=a){var n=locuslabs.maps.AnimationController.animators[a.getIntervalTime()];null!=n&&n.removeAnimation(a)}},_startAnimations:function(){for(var a in locuslabs.maps.AnimationController.animators){var n=locuslabs.maps.AnimationController.animators[a];n.animate()}}}});
},{"../../base":60}],74:[function(require,module,exports){
var Base=require("../../base");module.exports=Base.subclass("AnimationInterval",{constructor:function(t){this.callParent(),this.animations=[],this.intervalTime=t,this.interval=!1},addAnimation:function(t){this.animations.push(t)},removeAnimation:function(t){this.animations=_.without(this.animations,t)},animate:function(){this.interval&&clearInterval(this.interval);var t=this;this.interval=setInterval(function(){if(0==t.animations.length)clearInterval(t.interval),t.interval=!1;else for(var i=0;i<t.animations.length;i++){var n=t.animations[i];n.getObject()[n.getFunctionName()]()}},t.intervalTime)}});
},{"../../base":60}],75:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("Beacon",{constructor:function(t){this.callParent(),this.beaconUUID=t.UUID,this.majorId=t.majorId,this.minorId=t.minorId,this.position=new locuslabs.maps.Position(t.position)},toString:function(){return JSON.stringify(this)},getBeaconUUID:function(){return this.beaconUUID},getMajorId:function(){return this.majorId},getMinorId:function(){return this.minorId},getPosition:function(){return this.position},getClassName:function(){return"locuslabs.maps.Beacon"},getUUID:function(){return this.uuid||(this.uuid=this.toString()),this.uuid},static:{newInstance:function(t,n){var i=new locuslabs.maps.Beacon(n[0]);return i.uuid=t,i}}});
},{}],76:[function(require,module,exports){
var Location=require("./location");module.exports=Location.subclass("Building",{constructor:function(t,e){this.callParent(e),this.levelDb={},this.set("venue",t),this.set("uuid",locuslabs.uuid())},getBoundsPolygon:function(){return this.get("boundsPolygon")},getLevels:function(){var t=[],e=this.get("levels");for(var o in e)t.push(o);return t},getVenueId:function(){return this.get("venue").getId()},getFloorIdForCLFloor:function(t){for(var e in this.get("levels")){var o=this.getFloorData(e);if(o.clfloor==t)return e}return null},getFloorIdForOrdinal:function(t){for(var e in this.get("levels")){var o=this.getFloorData(e);if(o.ordinal==t)return e}return null},getDefaultFloorId:function(){var t=this.get("defaultLevelId");if(!this.getFloorData(t)&&(t=this.getLevels()[0],!t))throw"Unable to load floors for building: "+this.getName();return t},listFloors:function(t){var e=[];if(!this.getLevels()||0==this.getLevels().length){if(!t)return null;t(null)}for(var o=0;o<this.getLevels().length;o++){var l=this.getFloorData(this.getLevels()[o]),i={floorId:l.id,name:l.name,floor:l.ordinal,details:l.details};e.push(i)}return t?void t(e):e},listFloorsForNativeApp:function(t){this.listFloors(function(e){e=JSON.stringify(locuslabs.Native.simplifyData(e)),t(e)})},loadFloor:function(t,e){return this.levelDb[t]||(this.levelDb[t]=new locuslabs.maps.Floor(this.get("venue"),this.getFloorData(t))),this.set("activeFloor",this.levelDb[t]),e&&e(this.levelDb[t]),this.levelDb[t]},floorsForNativeApp:function(){return _.collect(this.listFloors(),function(t){var e=this.loadFloor(t.floorId);return locuslabs.android.registerObject(e),{id:e.getId()||"",name:e.getName()||"",details:e.getDetails()||"",venueId:e.getVenueId()||"",buildingId:e.getBuildingId()||"",floorId:e.getFloorId()||"",ordinal:_.isNumber(e.getOrdinal())?e.getOrdinal():-999,sectionIds:e.getSectionIds()||[],sections:e.get("sections")||{},beacons:locuslabs.Native.simplifyData(e.listBeacons()||[])}},this)},getFloorData:function(t){return this.get("levels")[t]},getClassName:function(){return"locuslabs.maps.Building"}});
},{"./location":96}],77:[function(require,module,exports){
proj4=require("proj4");var MVCObject=require("../mvcobject");module.exports=MVCObject.subclass("FixedGeometry",{constructor:function(t,n,e){t instanceof locuslabs.maps.ViewBox&&(t={x:t.origin.x,y:t.origin.y,width:t.size.width,height:t.size.height}),this.viewBox=t,this.utmData=n,this.latLngBounds=e,this.fixedDistanceToMeters=n.rect.width/t.width,this.metersToFixedDistance=1/this.fixedDistanceToMeters},latLngToFixedPoint:function(t){var n=this.utmData,e={x:t.lng(),y:t.lat()},i=""+n.utmZone,o=i.match(/s/i)?"+south ":"",r="+proj=utm "+o+"+zone="+i;proj4("+proj=longlat",r,e);var a=locuslabs.maps.Utilities.interpolatePointInRectangleToAnotherRectangle({r1:n.rect,r2:this.viewBox,invertYForR1:"utm",invertYForR2:"svg",p:e});return[a.x,a.y]},fixedPointToUtm:function(t){var n={x:t[0],y:t[1]};return n=locuslabs.maps.Utilities.interpolatePointInRectangleToAnotherRectangle({r1:this.viewBox,r2:this.utmData.rect,invertYForR1:"svg",invertYForR2:"utm",p:n})},fixedPointToLatLng:function(t){return this.utmToLatLng(this.fixedPointToUtm(t))},utmToLatLng:function(t){return locuslabs.maps.FixedGeometry.utmToLatLng(t,this.utmData)},latLngToUtm:function(t){return locuslabs.maps.FixedGeometry.latLngToUtm(t,this.utmData)},fromMetersToFixedDistance:function(t){return t*this.metersToFixedDistance},fromFixedDistanceToMeters:function(t){return t*this.fixedDistanceToMeters},rotateCoordinatesAroundAPoint:function(t,n,e){function i(t,n){return[t[0]+n[0],t[1]+n[1]]}function o(t,n){return _.isArray(n)||(n=[n,n]),[t[0]*n[0],t[1]*n[1]]}function r(t,n){function e(t){return t*(Math.PI/180)}var i=t[0],o=t[1];return n=e(n),[Math.cos(n)*i+Math.sin(n)*o,-Math.sin(n)*i+Math.cos(n)*o]}var a=i(t,o(e,-1)),s=r(a,n),u=i(s,e);return u},static:{shortestDistanceFromPointToLineSegment:function(t,n,e){function i(t){return t*t}var o,r={x:t.lng(),y:t.lat()},a={x:n.lng(),y:n.lat()},s={x:e.lng(),y:e.lat()},u=i(a.x-s.x)+i(a.y-s.y);if(0==u)o=a;else{var c=((r.x-a.x)*(s.x-a.x)+(r.y-a.y)*(s.y-a.y))/u;o=c<0?a:c>1?s:{x:a.x+c*(s.x-a.x),y:a.y+c*(s.y-a.y)}}var l=new locuslabs.maps.LatLng(o.y,o.x);return{distance:t.distance(l),point:l}},latLngToUtm:function(t,n,e){var i={x:t.lng(),y:t.lat()},o=""+n.utmZone,r=o.match(/s/i)?"+south ":"",a="+proj=utm "+r+"+zone="+o;return proj4("+proj=longlat",a,i),e&&(i.x-=n.lowerLeft.easting,i.y-=n.lowerLeft.northing),{easting:i.x,northing:i.y}},utmToLatLng:function(t,n,e){_.isUndefined(t.easting)&&(t.easting=t.x),_.isUndefined(t.northing)&&(t.northing=t.y);var i={x:e?t.easting+n.lowerLeft.easting:t.easting,y:e?t.northing+n.lowerLeft.northing:t.northing},o=""+n.utmZone,r=o.match(/s/i)?"+south ":"",a="+proj=utm "+r+"+zone="+o;return proj4(a,"+proj=longlat",i),new locuslabs.maps.LatLng(i.y,i.x)}}});
},{"../mvcobject":151,"proj4":515}],78:[function(require,module,exports){
var Location=require("./location");module.exports=Location.subclass("Floor",{constructor:function(t,e){this.callParent(e),this.set("venue",t),this.set("uuid",locuslabs.uuid()),this.set("venueId",locuslabs.maps.Utilities.getVenueIdFromFloorId(this.getFloorId())),this.set("buildingId",locuslabs.maps.Utilities.getBuildingIdFromFloorId(this.getFloorId()));var o=[];if(this.get("sections"))for(var n in this.get("sections"))o.push(n);this.set("sectionIds",o),this.sectionDb={}},getVenueId:function(){return this.get("venueId")},getBuildingId:function(){return this.get("buildingId")},getFloorId:function(){return this.getId()},getOrdinal:function(){return this.get("ordinal")},getCLFloor:function(){return this.get("clfloor")},getSectionIds:function(){return this.get("sectionIds")},getSection:function(t){if(this.get("sections")&&this.get("sections")[t])return this.sectionDb[t]||(this.sectionDb[t]=new locuslabs.maps.Section(this.get("sections")[t])),this.sectionDb[t]},mapInfo:function t(e){try{var o=this.get("venue"),n=o.getStructure(this.get("buildingId")),t=n.getFloorData(e),s={};$.each(t,function(t,e){s[t]=e,"boundsViewBoxPoints"==t&&(s.boundsViewBox=new locuslabs.maps.ViewBox(new locuslabs.maps.Point(e[0][0],e[0][1]),new locuslabs.maps.Size(e[1][0],e[1][1])))}),s.floorId=this.getId(),o.getVenueCenter()?s.venueCenter=new locuslabs.maps.LatLng(o.getVenueCenter()[0],o.getVenueCenter()[1]):s.venueCenter=o.getBounds().getCenterPoint(),s.venueCenterPosition=o.getCenterPosition(),o.getVenueRadius()?s.venueRadius=o.getVenueRadius():s.venueRadius=o.getBounds().getRadius(),o.getVenueOrientation()?s.venueOrientation=o.getVenueOrientation():s.venueOrientation="wide",s.bounds=o.getBounds(),s.venueId=this.get("venueId"),s.buildingId=this.get("buildingId");var i=o.get("utmBounds");return s.utmData={bounds:i,utmZone:i.utmZone,rect:{width:i.upperRight.easting-i.lowerLeft.easting,height:i.upperRight.northing-i.lowerLeft.northing,x:i.lowerLeft.easting,y:i.lowerLeft.northing},invertY:"utm"},s.svgViewBox=o.get("svgViewBox"),s}catch(t){locuslabs.log.debug("locuslabs.maps.Floor.prototype.mapInfo : "+t)}},loadMap:function(t,e,o,n){try{if(e){var s=this.mapInfo(this.getFloorId());s||e(null);var i=this,a=this.get("venue"),l=i._getMapDetails(a);s.svg=l.map,s.allFloors=l.allFloors,s.allStructures=l.allStructures,s.allOrdinals=l.allOrdinals,s.venue=a,"undefined"!=typeof o&&(s.manageView=o);var u=new locuslabs.maps.Map(t,s);this.hackPoiDataIntoMap(u,a),u.ready().then(function(){e(u)}).catch(function(t){locuslabs.log.error(t)})}}catch(t){locuslabs.log.debug("locuslabs.maps.Floor.prototype.loadMap : "+t.stack)}},hackPoiDataIntoMap:function(t,e){e.getPOIData(function(e){t.set("pois",e.pois)})},createMap:function(t){try{if(t){var e=this.mapInfo(this.getFloorId());e||t(null);var o={};$.each(e,function(t,e){o[t]=e}),o.manageView=!1;var n=this,s=this.get("venue"),i=n._getMapDetails(s);o.svg=i.map,o.allFloors=i.allFloors,o.allStructures=i.allStructures,o.allOrdinals=i.allOrdinals,o.venue=s;var a=new locuslabs.maps.Map(null,o);this.hackPoiDataIntoMap(a,s),t(a),s.mapData=""}}catch(t){locuslabs.log.debug("locuslabs.maps.Floor.prototype.createMap : "+t)}},listBeacons:function(t){var e=this.get("venue");return t&&t(e.getBeacons()),e.getBeacons()},_getMapDetails:function(t){try{for(var e=t.getStructures(),o=[],n=[],s={},i=0;i<e.length;i++){var a=t.getStructure(e[i]),l=a.getLevels();n.push(e[i]);for(var u=0;u<l.length;u++){o.push(l[u]);var r=a.loadFloor(l[u]);s[l[u]]=r.getOrdinal()}}return{map:t.getMapData(),allFloors:o,allStructures:n,allOrdinals:s}}catch(t){locuslabs.log.debug("_getMapDetails: "+t)}},getClassName:function(){return"locuslabs.maps.Floor"},runMemoryTests:function(){console.log("MEMORY TESTS (floor): FindUnexpectedGlobals"),(new locuslabs.FindUnexpectedGlobals).output(),console.log("MEMORY TESTS: MemoryFootprint: window"),(new locuslabs.MemoryFootprint).output(window),console.log("MEMORY TESTS: FindDetachedNodes"),(new locuslabs.FindDetachedNodes).output(window),console.log("MEMORY TESTS: CountDomElements"),(new locuslabs.CountDomElements).output(document),console.log("MEMORY TESTS (floor) end")}});
},{"./location":96}],79:[function(require,module,exports){
var MVCObject=require("../mvcobject");module.exports=MVCObject.subclass("FloorView",{constructor:function(t){var e=_.defaults(t||{},locuslabs.maps.FloorView.defaults);e.uuid=locuslabs.uuid(),this.setValues(e)},teardown:function(){this.set("group",null)},getClassName:function(){return"locuslabs.maps.FloorView"},getFloorId:function(){return this.get("floorId")},getGroup:function(){return this.deprecated(),this.get("group")},getObjectGroup:function(){return this.deprecated({method:"getObjectGroup"}),this.getMapView().getObjectGroupForPosition(new locuslabs.maps.Position({lat:0,lng:0,floorId:this.get("floorId")}))},setFloorId:function(t){this.set("floorId")},getMapView:function(){return this.get("mapView")},sortObjects:function(){this.deprecated(),$(this.getObjectGroup()).children().tsort({attr:"z-index"})},toString:function(){return"FloorView "+this.get("floorId")+" uuid:"+this.getUUID()},_debugDescription:function(){return this.toString()},static:{defaults:{}}});
},{"../mvcobject":151}],80:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("IOSNativeCache",{constructor:function(e){this.iosMethodTable={},this.callbacksTable={},locuslabs.maps.IOSNativeCache.instance=this},registerUrlForVenueListOnPhone:function(e){locuslabs.log.debug("iosNativeCache:registerUrlForVenueListOnPhone"),this.iosMethodTable.urlForVenueListOnPhone=e},registerSaveVenueListToPhone:function(e){locuslabs.log.debug("iosNativeCache:registerSaveVenueListToPhone"),this.iosMethodTable.saveVenueListToPhone=e},registerAvailableVersionsOfVenue:function(e){locuslabs.log.debug("iosNativeCache:registerAvailableVersionsOfVenue"),this.iosMethodTable.availableVersionsOfVenue=e},registerSaveScriptToPhone:function(e){locuslabs.log.debug("iosNativeCache:registerSaveScriptToPhone"),this.iosMethodTable.saveScriptToPhone=e},urlForVenueListOnPhone:function(){locuslabs.log.debug("iosNativeCache:urlForVenueListOnPhone");try{var e=locuslabs.uuid(),a=this;return new Promise(function(s,o){var t=function(e,t){try{s(JSON.parse(t).result),delete a.callbacksTable[e]}catch(e){o(e)}};a.callbacksTable[e]=t,a.iosMethodTable.urlForVenueListOnPhone(e,locuslabs.config.accountId,locuslabs.config.assetsFormatVersion)})}catch(e){locuslabs.log.warn("iosNativeCache:urlForVenueListOnPhone exception "+e)}},saveVenueListToPhone:function(e){locuslabs.log.debug("iosNativeCache:saveVenueListToPhone");try{var a=locuslabs.uuid(),s=this;return new Promise(function(o,t){var i=function(e,a){try{o(),delete s.callbacksTable[e]}catch(e){t(e)}};s.callbacksTable[a]=i,s.iosMethodTable.saveVenueListToPhone(a,locuslabs.config.accountId,locuslabs.config.assetsFormatVersion,e)})}catch(e){locuslabs.log.warn("iosNativeCache:saveVenueListToPhone exception "+e)}},saveScriptToPhone:function(e,a,s){locuslabs.log.debug("iosNativeCache:saveScriptToPhone");try{var o=locuslabs.uuid(),t=this;return new Promise(function(i,n){var c=function(e,a){try{i(),delete t.callbacksTable[e]}catch(e){n(e)}};t.callbacksTable[o]=c,t.iosMethodTable.saveScriptToPhone(o,e.accountId,e.formatVersion,e.version,e.venueId,a,s)})}catch(e){locuslabs.log.warn("iosNativeCache:saveScriptToPhone exception "+e)}},availableVersionsOfVenue:function(e){locuslabs.log.debug("iosNativeCache:availableVersionsOfVenue");try{var a=locuslabs.uuid(),s=this;return new Promise(function(o,t){var i=function(e,a){try{o(JSON.parse(a).result),delete s.callbacksTable[e]}catch(e){t(e)}};s.callbacksTable[a]=i,s.iosMethodTable.availableVersionsOfVenue(a,locuslabs.config.accountId,locuslabs.config.assetsFormatVersion,e)})}catch(e){locuslabs.log.warn("iosNativeCache:availableVersionsOfVenue exception "+e)}},returnValue:function(e,a){this._debug("loading","iosNativeCache:returnValue");try{this.callbacksTable[e](e,a)}catch(e){this._exception("loading",e,"")}},getClassName:function(){return"locuslabs.maps.IOSNativeCache"},static:{newInstance:function(e){return new locuslabs.maps.IOSNativeCache({uuid:e})}}});
},{"../../mvcobject":151}],81:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("IOSScrollViewPanZoom",{constructor:function(t){this.callParent(),this.setValues(t)},center_changed:function(){this._debug("panzoom","center: %j",this._getCenter()),this.panZoomScrollView(!0)},centerPosition_changed:function(){var t=this.get("centerPosition");if(t){t instanceof locuslabs.maps.Position||(t=new locuslabs.maps.Position(t));var e=this._getMapView();e.updatingCenterPosition++;var i=t.getLatLng();i=i instanceof locuslabs.maps.LatLng?i:new locuslabs.maps.LatLng(i),e.set("center",i),t.getFloorId()&&e.getMap().set("floorId",t.getFloorId()),e.updatingCenterPosition--}},radius_changed:function(){this._debug("panzoom","radius: %j",this._getRadius()),this.panZoomScrollView(!0)},mapView_changed:function(){this.unbindAll(),this.bindManyTo(["center","centerPosition","radius","scale","scrollViewSize","scrollViewScale","scrollViewOffset","scrollViewCallback","svgScale","svgTranslate"],this._getMapView()),this.panZoomScrollView(!1)},scrollViewOffset_changed:function(){this._debug("panzoom","scrollViewOffset: %j",this._getScrollViewOffset()),this.updateCenterRadius()},scrollViewSize_changed:function(t){t&&_.isEqual(t,this.get("scrollViewSize"))||this.panZoomScrollView(!0)},scrollViewScale_changed:function(){var t=1,e=this.get("svgScale"),i=this.get("scrollViewScale");_.isUndefined(e)||(t*=e),_.isUndefined(i)||(t*=i),this._debug("panzoom","Converting (svgScale: %.6f scrollViewScroll: %.6f) TO scale: %0.6f",e,i,t),this.set("scale",t),this.updateCenterRadius()},_getCenter:function(){return this.get("center")},_getMapView:function(){return this.get("mapView")},_getRadius:function(){return this.get("radius")},_getScrollViewSize:function(){return this.get("scrollViewSize")},_getScrollViewScale:function(){return this.get("scrollViewScale")},_getScrollViewOffset:function(){return this.get("scrollViewOffset")},_getSvgScale:function(){return this.get("svgScale")},_getSvgTranslate:function(){return this.get("svgTranslate")},isUpdatingMapPosition:function(){return this._updatingMapPosition},setCenter:function(t){this._debug("panzoom","center: %j",t),this.set("center",t)},setRadius:function(t){this._debug("panzoom","radius: %j",t),this.set("radius",t)},setUpdatingMapPosition:function(t){this._updatingMapPosition=t},panZoomScrollView:function(t){var e=this._getCenter(),i=this._getRadius(),s=this._getScrollViewSize();if(!(this.isUpdatingMapPosition()||_.isUndefined(e)||_.isUndefined(i)||_.isUndefined(s))){var n=this._getMapView().fromLatLng(e),o=this._getSvgScale(),r=this._getSvgTranslate(),a=this._getMapView().get("svgRotation"),l=this._getMapView().fixedGeometry().rotateCoordinatesAroundAPoint(n,-a.heading,a.point);_.isDefined(a.translation)&&(l=[l[0]+a.translation[0],l[1]+a.translation[1]]);var c=[l[0]*o+r[0],l[1]*o+r[1]],g=this._getMapView().calculateSvgTransform(e,i,!0),h=g.scale/o,u=this._getMapView().getSvgViewBox(),f=s[0]/u.size.width,d=[(c[0]-u.origin.x)*f*h,(c[1]-u.origin.y)*f*h],w=[d[0]-s[0]/2,d[1]-s[1]/2];this._debug("panzoom","centerCoords: %j svgScale: %j svgTranslate: %j transformedCenterCoords: %j transform: %j viewBox: %j ratio %j projectedCenterCoords: %j => scale: %j offset: %j",n,o,r,c,g,u,f,d,h,w);var V=this;this._info("panzoom","Converting [center: %s radius: %.6f scrollViewSize: %j] to [scale: %.6f offset: %j ]",e,i,s,h,w);var S=this.get("scrollViewTimer");S&&clearTimeout(S),this.set("scrollViewTimer",setTimeout(function(){V.get("scrollViewCallback")&&V.get("scrollViewCallback")(h,w,t)},60))}},transformScrollViewPoint:function(t){var e=this._getScrollViewScale(),i=this._getScrollViewOffset(),s=this._getScrollViewSize(),n=this._getSvgScale(),o=this._getSvgTranslate(),r=this._getMapView().getSvgViewBox(),a=[t[0]+i[0],t[1]+i[1]],l=[s[0]*e,s[1]*e],c=[a[0]/l[0],a[1]/l[1]],g=s[1]/s[0],h=r.size.height/r.size.width,u=[c[0],c[1]*g/h],f=[u[0]*r.size.width+r.origin.x,u[1]*r.size.height+r.origin.y],d=[(f[0]-o[0])/n,(f[1]-o[1])/n],w=this._getMapView().get("svgRotation");return _.isDefined(w)&&(_.isDefined(w.translation)&&(d=[d[0]-w.translation[0],d[1]-w.translation[1]]),d=this._getMapView().fixedGeometry().rotateCoordinatesAroundAPoint(d,w.heading,w.point)),d},transformScrollViewPointToLatLng:function(t){var e=this.transformScrollViewPoint(t),i=this._getMapView().toLatLng(e,!0);return this._debug("panzoom","scrollViewPoint %j => svgCoord => %j => LatLng: %s",t,e,i),i},transformScrollViewPointToUTM:function(t){var e=this.transformScrollViewPoint(t),i=this._getMapView().toUTM(e);return this._debug("panzoom","scrollViewPoint %j => svgCoord => %j => UTM: %j",t,e,i),i},utmDistance:function(t,e){var i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)},updateCenterRadius:function(){var t=this._getScrollViewScale(),e=this._getScrollViewOffset(),i=this._getScrollViewSize();if(!_.isUndefined(t)&&!_.isUndefined(e)){var s=[i[0]/2,i[1]/2],n=i[0]<i[1]?[0,s[1]]:[s[0],0],o=this.transformScrollViewPointToLatLng(s),r=this.transformScrollViewPointToUTM(s),a=this.transformScrollViewPointToUTM(n),l=this.utmDistance(r,a);this._debug("panzoom","Converting [scale: %.6f offset: %j scrollViewSize: %j] TO [center: %s radius: %.6f]",t,e,i,o,l),this.setUpdatingMapPosition(!0),this.setCenter(o),this.setRadius(l),this.setUpdatingMapPosition(!1)}},toString:function(){return"iosScrollViewPanZoom"}});
},{"../../mvcobject":151}],82:[function(require,module,exports){
var MVCObject=require("../mvcobject");module.exports=MVCObject.subclass("JQueryPanZoomCss",{constructor:function(t){this.callParent(),this.setValues(t)},getMapView:function(){return this.get("mapView")},getCenter:function(){return this.get("center")},getRadius:function(){return this.get("radius")},isUpdatingMapPosition:function(){return this._updatingMapPosition},setUpdatingMapPosition:function(t){this._updatingMapPosition=t},$svg:function(){return $(this.getMapView().getSvg())},$mapDiv:function(){return $(this.getMapView().getMapDiv())},center_changed:function(){this.panZoomSvg()},radius_changed:function(){this.panZoomSvg()},svgScale_changed:function(){this.set("scale",this.get("svgScale")||1)},centerPosition_changed:function(){var t=this.get("centerPosition");if(t){t instanceof locuslabs.maps.Position||(t=new locuslabs.maps.Position(t));var e=this.getMapView();e.updatingCenterPosition++;var i=t.getLatLng();i=i instanceof locuslabs.maps.LatLng?i:new locuslabs.maps.LatLng(i),e.set("center",i),t.getFloorId()&&e.getMap().setFloorId(t.getFloorId()),this.panZoomSvg(),e.updatingCenterPosition--}},mapView_changed:function(){this.unbindAll(),this.getMapView()&&(this.bindManyTo(["center","centerPosition","radius","scale","svgScale","svgTranslate","svgRotation","followMe"],this.getMapView()),this.getMapView().set("mapScale",2))},addSvgToDom:function(t){locuslabs.log.debug("jqueryPanZoomCss.addSvgToDom"),this.resizeCallback=function(){locuslabs.log.debug("resize callback"),this._updateZoomHeightWidth()}.bind(this),this.$mapDiv().resize(this.resizeCallback),this.$zoomContainer=$('<div id="locuslabs-zoom-container"></div>'),this.$zoomContainer.append(t);var e=$('<div style="overflow:hidden;"></div>');e.append(this.$zoomContainer),this.$mapDiv().prepend(e),locuslabs.log.debug("init panzoom"),this._panzoom=this.$zoomContainer.panzoom({animate:!1,outIncrement:this.get("outIncrement"),inIncrement:this.get("inIncrement"),increment:.9,incrementIn:.9,incrementOut:.25,minScale:.8,maxScale:5}),this._panzoom.on("mousewheel.focal",this._handleJQueryMouseWheelZoom.bind(this)),this.$zoomContainer.on("panzoomend",this._handleJQueryPanZoomEnd.bind(this)),this.$zoomContainer.on("panzoomstart",this._handleJQueryPanZoomStart.bind(this)),this._updateZoomHeightWidth()},_handleJQueryMouseWheelZoom:function(t){function e(t){var e=t.delta||t.originalEvent.wheelDelta;return e?e<0:t.originalEvent.deltaY>0}t.preventDefault();var i=e(t),n=this._computeNewRadiusAndCenter(),o=10,a=this.getMapView().getMap().get("venueRadius"),s=i&&n.radius<=a||!i&&n.radius>=o;if(s){var r=this.getMapView().get("mapScale"),h=this.$svg().height()/r,g=this.$svg().width()/r,m=this.$mapDiv().offset(),c=e(t)?.85:1.15,u=[c,0,0,c,(g/2-t.clientX+m.left)*(c-1),(h/2-t.clientY+m.top)*(c-1)];this._updateMapViewWithCssTransformationMatrix(u)}},_updateMapViewWithCssTransformationMatrix:function(t){this._moveTransformToSvg(t);var e=this._computeNewRadiusAndCenter();this.setUpdatingMapPosition(!0),this.set("radius",e.radius),this.set("center",e.centerLatLng),this.setUpdatingMapPosition(!1)},_handleJQueryPanZoomStart:function(){this.getMapView()._setLastKnownCenter()},_handleJQueryPanZoomEnd:function(t,e,i,n){n&&this._updateMapViewWithCssTransformationMatrix(i)},teardown:function(){this.$mapDiv().removeResize(this.resizeCallback),this._panzoom.off(),this.$zoomContainer.off(),this.$zoomContainer.panzoom("destroy"),this.mapViewReadyListener&&this.getMapView().removeListener(this.mapViewReadyListener),this._panzoom=null,this.$zoomContainer=null,this.mapViewReadyListener=null,this.callParent()},panZoomSvg:function(){this.isUpdatingMapPosition()||_.isUndefined(this.getCenter())||_.isUndefined(this.getRadius())||this.getMapView().panZoomSvg(this.getCenter(),this.getRadius(),!0)},_updateZoomHeightWidth:function(){var t=this.$mapDiv().width(),e=this.$mapDiv().height(),i=this.getMapView().get("mapScale"),n=(-50*(i-1)).toString()+"%",o=(100*i).toString()+"%";this.$svg().css("top",n),this.$svg().css("left",n),this.$svg().width(o),this.$svg().height(o),this.$zoomContainer.height(e),this.$zoomContainer.width(t),this.$zoomContainer.panzoom("reset",!1)},_constrainZoom:function(){var t=this._computeNewRadiusAndCenter().radius,e=this.getMapView().getMap().get("venueRadius"),i=t/10,n=t/e;this.$zoomContainer.panzoom("option","maxScale",i),this.$zoomContainer.panzoom("option","minScale",n)},_moveTransformToSvg:function(t){var e=this._onScreenGeometry(this.$svg());e.setSvgTransformFromCssMatrix(t),this.getMapView().updateSvgTransform({svgTranslate:e.getTranslation(),svgScale:e.getScale(),animate:!0,heading:e.getRotation(),rotationPoint:e.getRotationPoint()}),this.$zoomContainer.panzoom("reset",!1),this._constrainZoom()},_onScreenGeometry:function(t){var e=this.getMapView().fixedGeometry(),i={width:t.width(),height:t.height()},n=new locuslabs.maps.OnScreenGeometry(e,i);return n.setOptions({scale:this.get("svgScale"),translation:this.get("svgTranslate"),mapScale:this.getMapView().get("mapScale"),rotationPoint:this.get("svgRotation").point,rotation:this.get("svgRotation").heading}),n},_mapDivPointToCanvasPoint:function(t){return this._onScreenGeometry(this.$mapDiv()).onScreenPointToFixedPoint(t)},_computeNewRadiusAndCenter:function(){var t=this._onScreenGeometry(this.$mapDiv());return{centerLatLng:t.getCenter(),radius:t.getRadius()}},_computeLatLngOfPointInMapDiv:function(t){return this.getMapView().toLatLng(this._mapDivPointToCanvasPoint(t))}});
},{"../mvcobject":151}],83:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("LocationSelector",{constructor:function(t,e){this.callParent(t),this.set("container",t.container[0]),this.set("uuid",locuslabs.uuid()),this._bindInstance(),this._setDom(),this._show()},getClassName:function(){return"locuslabs.maps.LocationSelector"},_bindInstance:function(){"use strict";this.set("boundSetMyLocation",this._setLocation.bind(this)),this.set("boundHide",this._hide.bind(this))},_setDom:function(){"use strict";this.set("selector",_.createElement("div","ll_location_selector")),this.set("pin",_.createElement("i","ll_icon-location")),this.set("cancel",_.createElement("button","ll_location_cancel_button","cancel")),this.set("submit",_.createElement("button","ll_location_submit_button","submit"))},_setLocation:function(){"use strict";locuslabs.maps.event.trigger(this,"submit"),this._hide()},_show:function(){"use strict";this._addListeners(),this.get("container").appendChild(this.get("selector")),this.get("selector").appendChild(this.get("pin")),this.get("selector").appendChild(this.get("cancel")),this.get("selector").appendChild(this.get("submit"))},_hide:function(){"use strict";locuslabs.maps.event.trigger(this,"cancel"),this.get("container").removeChild(this.get("selector")),this.get("selector").removeChild(this.get("pin")),this.get("selector").removeChild(this.get("cancel")),this.get("selector").removeChild(this.get("submit")),this._removeListeners()},_addListeners:function(){"use strict";this.get("cancel").addEventListener("click",this.get("boundHide")),this.get("submit").addEventListener("click",this.get("boundSetMyLocation"))},_removeListeners:function(){"use strict";this.get("cancel").removeEventListener("click",this.get("boundHide")),this.get("submit").removeEventListener("click",this.get("boundSetMyLocation"))}});
},{"../../mvcobject":151}],84:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("NavStartEnd",{constructor:function(t){this.callParent(t),this.set("container",t.container),this.set("venue",t.venue),this.set("map",t.map),this.set("mapView",t.map.getView()),this.el=$('<div class="ll_direction-wrapper">'),this.boxRegion=$('<div class="ll_direction-box-region"></div>'),this.resultsRegion=$('<div class="ll_direction-results-region ll_search-results-wrapper"></div>'),this._createTermsList(),this._createPoiList(),this._createRecentList(),this._createRelevantList(),this.activeField=null,this.debounceDelay=300,this.set("uuid",locuslabs.uuid())},show:function(){this.get("container").append(this._render().el),this._attachEvents(),this._showDefaultLists()},getClassName:function(){return"locuslabs.maps.NavStartEnd"},poiStart_changed:function(){var t=this.get("poiStart");t&&t.name!==locuslabs.maps.NavStartEnd.currentLocationName&&this._showPoiName("start")},poiEnd_changed:function(){this._showPoiName("end")},poiLabels_changed:function(){this._addLabelsToPOIs(this.get("poiLabels"))},relevantPOIs_changed:function(){const t=this;this.get("venue").poiDatabase().getPois(this.get("relevantPOIs"),function(i){t.relevantList.modifyStoredResults(i)})},_getStartField:function(){return $("#ll_direction-input-text-start")},_getEndField:function(){return $("#ll_direction-input-text-end")},_validateNavigationPoints:function(){var t=this.get("poiStart"),i=this.get("poiEnd");t&&i&&(locuslabs.maps.event.trigger(this,"navigate",{start:t,end:i}),locuslabs.maps.event.trigger(this,"clearMarkers"),t.name===locuslabs.maps.NavStartEnd.selectedLocationName?this._handleSelectedLocations(t,this.recentList.modifyStoredResults.bind(this.recentList)):this.recentList.modifyStoredResults(t),i.name===locuslabs.maps.NavStartEnd.selectedLocationName?this._handleSelectedLocations(i,this.recentList.modifyStoredResults.bind(this.recentList)):this.recentList.modifyStoredResults(i),this._close())},_handleSelectedLocations:function(t,i){this.get("venue").search().proximitySearch(t.position.floorId,t.position.latLng.lat(),t.position.latLng.lng(),function(e){_.first(e.getResults()).name&&(t.name="Location Near "+_.first(e.getResults()).name),_.first(e.getResults()).gate&&(t.gate=_.first(e.getResults()).gate),_.first(e.getResults()).terminal&&(t.terminal=_.first(e.getResults()).terminal),i(t)})},_createPoiList:function(){this.poiList=new locuslabs.maps.POIResultsList({container:this.resultsRegion}),this.poiList.addListener("click",function(t){this.poiList.remove(),this.activeField&&("start"===this.activeField?this.set("poiStart",t):this.set("poiEnd",t))}.bind(this))},_createRecentList:function(){this.recentList=new locuslabs.maps.POIResultsList({container:this.resultsRegion,title:"Recently Viewed"}),this.recentList.addListener("click",function(t){this.activeField&&("start"===this.activeField?this.set("poiStart",t):this.set("poiEnd",t))}.bind(this))},_createRelevantList:function(){this.relevantList=new locuslabs.maps.POIResultsList({container:this.resultsRegion,title:"Relevant to Me",results:[{name:locuslabs.maps.NavStartEnd.selectLocationString,position:this.get("venue").get("position")}]}),this.relevantList.addListener("click",function(t){t.name===locuslabs.maps.NavStartEnd.selectLocationString?this._handleSelectCurrentLocation():this.activeField&&("start"===this.activeField?this.set("poiStart",t):this.set("poiEnd",t))}.bind(this))},_handleSelectCurrentLocation:function(){var t=new locuslabs.maps.LocationSelector({container:this.get("container")});locuslabs.maps.event.addListener(t,"initialize",function(){"use strict";this.get("mapView").hideAllWidgets(),this._hide(),this.get("mapView").disablePOIClick()}.bind(this)),locuslabs.maps.event.addListener(t,"cancel",function(){"use strict";this.get("mapView").enablePOIClick(),this.get("mapView").showAllWidgets(),this._show()}.bind(this)),locuslabs.maps.event.addListener(t,"submit",function(){"use strict";var t="start"===this.activeField?"poiStart":"poiEnd",i=locuslabs.maps.NavStartEnd.selectedLocationName,e=this.get("map").get("centerPosition");this.get("venue").isLatLngInVenue(e.latLng)&&e.floorId?this.set(t,{name:i,position:e}):this.get("mapView").showDialogBox("Outside Navigation","Unable to navigate outside of venue.\nPlease drop the pin inside the venue\nwhen selecting a location for navigation.","OK")}.bind(this)),locuslabs.maps.event.trigger(t,"initialize")},_addLabelsToPOIs:function(t){const i=_.keys(t);this.get("venue").poiDatabase().getPois(i,function(i){_.each(i,function(i){i.label=t[i.getId()]})})},_createTermsList:function(){this.termsList=new locuslabs.maps.AutocompleteResultsList({container:this.resultsRegion}),this.termsList.addListener("click",function(t){this.get("venue").search().searchWithTerms([t],function(t){var i=t.getResults();this.termsList.remove(),this.poiList.set("results",i)}.bind(this))}.bind(this))},_showPoiName:function(t){var i="start"===t?this.get("poiStart"):this.get("poiEnd");if(!i&&"start"===t&&this.get("venue").get("position")){var e={name:locuslabs.maps.NavStartEnd.currentLocationName,position:this.get("venue").get("position")};this.set("poiStart",e),i=e}i&&this.el.find("[data-type="+t+"]").val(i.name)},_showPoiNames:function(){this._showPoiName("start"),this._showPoiName("end")},_template:'<div class="ll_title-bar">                                                                                                                                                         <a href="javascript:;" class="ll_icon ll_icon-back ll_title-bar-back"></a>                                                                                                       <span class="ll_title-bar-title">Directions</span>                                                                                                                             </div>                                                                                                                                                                                                                                                                                                                                                            <div class="ll_direction-box">                                                                                                                                                     <div class="ll_direction-icons">                                                                                                                                                   <i class="ll_icon ll_icon-direction"></i>                                                                                                                                      </div>                                                                                                                                                                           <div class="ll_direction-form">                                                                                                                                                    <div class="ll_form-field">                                                                                                                                                        <div class="ll_direction-start-form">                                                                                                                                             <input type="text" class="ll_direction-input-text ll_direction-input-text-start" id="ll_direction-input-text-start" placeholder="Choose Starting Point" data-type="start">       <i class="ll_icon ll_icon-clear-field" id="ll_icon-clear-start-field"></i>                                                                                                      </div>                                                                                                                                                                           <div class="ll_direction-separator"></div>                                                                                                                                       <div class="ll_direction-end-form">                                                                                                                                               <input type="text" class="ll_direction-input-text ll_direction-input-text-end" id="ll_direction-input-text-end" placeholder="Choose End Point" data-type="end">                  <i class="ll_icon ll_icon-clear-field" id="ll_icon-clear-end-field"></i>                                                                                                        </div>                                                                                                                                                                         </div>                                                                                                                                                                         </div>                                                                                                                                                                           <div class="ll_direction-switch">                                                                                                                                                  <i class="ll_icon ll_icon-switch"></i>                                                                                                                                         </div>                                                                                                                                                                         </div>                                                                                                                                                                                                                                                                                                                                                            <div class="ll_direction-bottom-bar">                                                                                                                                              <span>Show Directions</span>                                                                                                                                                   </div>',_attachEvents:function(){this.el.on("click",".ll_title-bar-back",function(){this._close()}.bind(this)),this.el.on("click","#ll_icon-clear-start-field",function(){this._clearStartField(),this._removeLists(),this._focusStartField()}.bind(this)),this.el.on("click","#ll_icon-clear-end-field",function(){this._clearEndField(),this._removeLists(),this._focusEndField()}.bind(this)),this.el.on("click",".ll_direction-bottom-bar",function(){this._validateNavigationPoints()}.bind(this)),this.el.on("click",".ll_direction-switch",function(){var t=this.get("poiStart"),i=this.get("poiEnd");this._clearStartField(),this._clearEndField(),this.set("poiStart",i),this.set("poiEnd",t)}.bind(this)),this.el.find("input").on("keyup click touchend",function(t){var i=$(t.target);this.timeOut&&window.clearTimeout(this.timeOut),this.timeOut=window.setTimeout(function(){var t=i.val();"start"===i[0].dataset.type?this._focusStartField():this._focusEndField();var e=this;this.get("venue").search().autocomplete(t,function(t,i){e.termsList.set("results",i)})}.bind(this),this.debounceDelay)}.bind(this)),this._focusStartField()},_detachEvents:function(){this.el.off("click"),this.el.find("input").off("keyup"),this.el.find("input").off("focus")},_render:function(){var t=_.template(this._template);return this.el.html(""),this._emptyRegions(),this.el.append(this.boxRegion),this.el.append(this.resultsRegion),this.boxRegion.html(t()),this._showPoiNames(),this},_emptyRegions:function(){this.boxRegion.html(""),this.resultsRegion.html("")},_focusStartField:function(){this._getStartField().focus(),this.activeField="start"},_focusEndField:function(){this._getEndField().focus(),this.activeField="end"},_blurStartField:function(){this._getStartField().blur()},_blurEndField:function(){this._getEndField().blur()},_clearStartField:function(){this.set("poiStart",null),this._getStartField().val("")},_clearEndField:function(){this.set("poiEnd",null),this._getEndField().val("")},_showDefaultLists:function(){this.relevantList.set("results",this.relevantList.get("storedResults")),this.recentList.set("results",this.recentList.get("storedResults")),this.relevantList.show(),this.recentList.show()},_removeLists:function(){this.termsList.remove(),this.poiList.remove()},_hide:function(){"use strict";this.el.hide()},_show:function(){"use strict";this.el.show()},_close:function(){this._clearStartField(),this._clearEndField(),this._removeLists(),this._detachEvents(),this.el.remove(),locuslabs.maps.event.trigger(this,"close")},static:{currentLocationName:"Current Location",selectLocationString:"Select a Location on the Map",selectedLocationName:"My Selected Location"}});
},{"../../mvcobject":151}],85:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("NavigationRoute",{constructor:function(e){var t=e.iconsPath||"images/";this.callParent(e),this.set("lines",[]),this.set("markers",[]),this.set("segments",[]),this.set("iconsPath",t),this.set("map",e.map),this.set("waypoints",e.waypoints),this.set("uuid",locuslabs.uuid())},getSegment:function(e){return this.get("segments")[e]},getNumberOfSegments:function(){return this.get("segments").length},previousSegment:function(){var e=this.get("currentSegment")-1;e>=0&&this.set("currentSegment",e)},nextSegment:function(){var e=this.get("currentSegment")+1;e<this.getNumberOfSegments()&&this.set("currentSegment",e)},reset:function(){this.get("markers").forEach(function(e){e.setMap(null)}),this.get("lines").forEach(function(e){e.setFloor(null)}),this.set("markers",[]),this.set("lines",[]),this.set("waypoints",[]),this.set("segments",[])},getClassName:function(){return"locuslabs.maps.NavigationRoute"},waypoints_changed:function(){this._removeMarkers(),this._removeLines(),this._createSegments(),this._drawLines()},segments_changed:function(){this.getNumberOfSegments()>0?this.set("currentSegment",0):this.set("currentSegment",null)},currentSegment_changed:function(){var e=this.get("currentSegment");if(null!==e){var t=this.getSegment(e);locuslabs.maps.event.trigger(this,"currentSegmentChanged",t,e)}},_removeLines:function(){this.get("lines")&&(this.get("lines").forEach(function(e){e.setFloor(null)}),this.set("lines",[]))},_removeMarkers:function(){this.get("markers")&&(this.get("markers").forEach(function(e){e.setMap(null)}),this.set("markers",[]))},_createSegments:function(e){var t=this,n=null,s=null,i=[],r=[];this.get("waypoints").length>0&&(this.get("waypoints").forEach(function(a,o,l){i.push(a),s?(s.isPortal===a.isPortal&&s.securityCheckpoint===a.securityCheckpoint?(n.addTime(a.eta),n.set("levelDifference",a.levelDifference),_.isEmpty(n.get("stops"))||n.addStop()):(n.set("waypoints",i,e),a.securityCheckpoint||s.securityCheckpoint?(i.length>1&&i.pop(),i=[i.pop(),a]):i=[],t._setPosition(n),n.set("description",n.getDescription()),r.push(n),n=new locuslabs.maps.NavigationSegment({time:a.eta,estimatedTime:a.eta,levelDifference:a.levelDifference,venueId:a.venueId,buildingId:a.buildingId,floorId:a.floorId,stops:t._hasStops(a),type:t._getSegmentType(a),name:t._getSegmentName(a),icon:t._getSegmentIcon(a)})),s=a):(n=new locuslabs.maps.NavigationSegment({time:a.eta,estimatedTime:a.eta,levelDifference:0,venueId:a.venueId,buildingId:a.buildingId,floorId:a.floorId,stops:t._hasStops(a),type:t._getSegmentType(a),name:t._getSegmentName(a),icon:t._getSegmentIcon(a)}),s=a)}),n.set("waypoints",i,e),0===i.length&&n.set("waypoints",[s],e),this._setPosition(n),n.set("description",n.getDescription()),r.push(n),this.set("segments",r,e))},_setPosition:function(e){var t=e.get("waypoints"),n=_.first(t).latLng,s=_.last(t).latLng,i=n.distance(s)/2,r=n.center(s),a=new locuslabs.maps.LatLng(r.lat,r.lng);e.set("latLng",a),i<10?e.set("distance",10):e.set("distance",i)},_getSegmentType:function(e){return e.isPortal?e.portalType:e.securityCheckpoint?"Security Checkpoint":"Walk"},_getSegmentIcon:function(e){if(e.isPortal){var t=e.portalType;return e.levelDifference>0?t+="-up":e.levelDifference<0&&(t+="-down"),t=t.toLowerCase()}return e.securityCheckpoint?"security":"levels"},_getSegmentName:function(e){if(e.isPortal)return e.portalType;if(e.securityCheckpoint)return"Security Checkpoint";var t=this.get("map").get("venue").findStructureForFloorId(e.floorId).getFloorData(e.floorId);return t.name+" - "+t.details},_hasStops:function(e){return this._isTransportation(e)?1:0},_addLine:function(e){this.get("lines").push(e)},_addMarker:function(e){this.get("markers").push(e)},_isTransportation:function(e){var t=["train","skylink terminal","bus","skytrain"],n=e.portalType.toLowerCase();return t.indexOf(n)!==-1},_getFloorViewForId:function(e){return this.get("map").getView().getFloorView(e)},_createLine:function(e,t){var n={Line:"#265cc0",Curve:"red"},s=new locuslabs.maps["Nav"+e]({intervalTime:1e3,zIndex:100});return s.setFloor(this._getFloorViewForId(t)),s.set("strokeColor",n[e]),s},_createStandardNavLine:function(e){return this._createLine("Line",e)},_createTransitNavLine:function(e){return this._createLine("Curve",e)},_drawLines:function(){var e,t,n,s,i=null,r=null,a=null;this.get("waypoints").forEach(function(o){if(o.isDestination&&(t=new locuslabs.maps.Marker({position:new locuslabs.maps.Position({latLng:o.latLng,floorId:o.floorId,venueId:o.venueId,buildingId:o.buildingId}),map:this.get("map"),icon:this.get("iconsPath")+"map-pin-nav-end.svg",opacity:1,zIndex:200}),this._addMarker(t)),a&&(0===o.levelDifference||o.curvePath.length>0)){if(this._isTransportation(o)){if(i&&0!==r.get("array").get("array").length&&(i.setPath(r),this._addLine(i)),o.curvePath.length>0){if(0!==o.levelDifference){for(n=this._createTransitNavLine(a.floorId),s=new locuslabs.maps.CurvedPath({floor:this._getFloorViewForId(a.floorId)}),e=0;e<o.curvePath.length;e++)s.push(o.curvePath[e]);n.setCurvedPath(s),this._addLine(n)}for(n=this._createTransitNavLine(o.floorId),s=new locuslabs.maps.CurvedPath({floor:this._getFloorViewForId(a.floorId)}),e=0;e<o.curvePath.length;e++)s.push(o.curvePath[e]);n.setCurvedPath(s),this._addLine(n)}else i=this._createStandardNavLine(o.floorId),r=new locuslabs.maps.Path({floorId:o.floorId}),r.push(a.latLng),r.push(o.latLng),i.setPath(r),this._addLine(i);i=this._createStandardNavLine(o.floorId),r=new locuslabs.maps.Path({floorId:o.floorId})}o.securityCheckpoint&&(i&&0!==r.get("array").get("array").length&&(i.setPath(r),this._addLine(i)),i=this._createStandardNavLine(o.floorId),i.set("strokeColor","orange"),r=new locuslabs.maps.Path({floorId:o.floorId}),r.push(a.latLng),r.push(o.latLng),i.setPath(r),this._addLine(i),i=this._createStandardNavLine(a.floorId),r=new locuslabs.maps.Path({floorId:o.floorId})),o.floorId!==a.floorId&&(i&&0!==r.get("array").get("array").length&&(i.setPath(r),this._addLine(i)),i=this._createStandardNavLine(o.floorId),r=new locuslabs.maps.Path({floorId:o.floorId})),r.push(o.latLng)}else i&&0!==r.get("array").get("array").length&&(i.setPath(r),this._addLine(i)),i=this._createStandardNavLine(o.floorId),r=new locuslabs.maps.Path({floorId:o.floorId}),r.push(o.latLng);a=o}.bind(this)),i&&0!==r.get("array").get("array").length&&(i.setPath(r),this._addLine(i))}});
},{"../../mvcobject":151}],86:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("NavigationStepByStepViewer",{constructor:function(t,e,o){this.navigationRoute=e;var i=this;this.navigationRoute.addListener("segments_changed",function(){i.calculateEta(),i.endPoi&&!_.isEmpty(this.get("segments"))&&i.updateSegment()}),this.topBar=this._createNavigationTopBar(t),this.bottomBar=new locuslabs.maps.BottomBar(t),this.venue=o,this.previousIconClass="foo"},show:function(t){this.endPoi=t,this._showBottomBar(),this._showTopBar()},cancel:function(){this._hide(),locuslabs.maps.event.trigger(this,"userCanceledNavigation")},updateSegment:function(){this._updateBottomBarNavigationButtons(),this._updateTopBarNavigation()},nextSegment:function(){this.navigationRoute.nextSegment(),this.updateSegment()},previousSegment:function(){this.navigationRoute.previousSegment(),this.updateSegment()},followMe_changed:function(){var t=this,e={text:"my location",index:31,icon:"images/bottombar-icon-reposition-notavail.svg",callback:function(){}},o={text:"my location",index:30,icon:"images/bottombar-icon-reposition-avail.svg",callback:function(){}},i={text:"my location",index:32,icon:"images/bottombar-icon-reposition-ready.svg",callback:function(){locuslabs.maps.event.trigger(t,"userClickedMyLocation")}};this.get("followMe")===!1?this.bottomBar.replaceButton(3,i):this.get("followMe")===!0?this.bottomBar.replaceButton(3,o):this.bottomBar.replaceButton(3,e)},calculateEta:function(){var t=this.navigationRoute.get("segments"),e=_.reduce(t,function(t,e){return t+=e.get("time")},0);this.set("eta",e)},etaText:function t(){var e=this.get("eta"),t=e>1?Math.floor(e):"< 1";return t},updateEtaText:function(){this.topBar&&this.topBar.select(".ll_navigation-top-bar-eta").text(this.etaText())},eta_changed:function(){this.updateEtaText()},_createNavigationTopBar:function(t){return d3.select(t).append("div").classed("ll_navigation-top-bar",!0)},_showLevelSelector:function(){console.log(this),this.get("levelSelector").show()},_showTopBar:function(){var t=this.topBar.append("div").classed("ll_navigation-top-bar-first-row",!0);t.append("span").classed("ll_navigation-top-bar-instruction",!0),t.append("img").attr("src","images/topbar-icon-nav-listview.svg").classed("ll_navigation-top-bar-show-summary-box",!0).on("click",this._requestSummaryBox.bind(this));var e=this.topBar.append("div").classed("ll_navigation-top-bar-second-row",!0);e.append("img").classed("ll_navigation-top-bar-second-row-icon badge",!0),e.append("span").classed("ll_navigation-top-bar-second-row-title",!0),this.topBar.append("div").html(this._getEta()).classed("ll_navigation-top-bar-total-distance",!0),this.topBar.transition().duration(500).style("height","98px"),this._updateTopBarNavigation()},_hideTopBar:function(){this.topBar.selectAll("*").remove(),this.topBar.transition().duration(500).style("height","0px")},_showBottomBar:function(){var t=this;this.bottomBar.addButtons([{text:"cancel",index:0,icon:"images/bottombar-icon-nav-cancel.svg",callback:function(){t.cancel()}},{text:"previous",index:10,icon:"images/bottombar-icon-prev-avail.svg",callback:function(){t.previousSegment()}},{text:"next",index:20,icon:"images/bottombar-icon-next-avail.svg",callback:function(){t.nextSegment()}},{text:"my location",index:30,icon:"images/bottombar-icon-reposition-avail.svg",callback:function(){t._showMyPosition()}},{text:"levels",index:40,icon:"images/bottombar-icon-levels-avail.svg",callback:function(){t._showLevelSelector()}}]),this._updateBottomBarNavigationButtons(),this.bottomBar.show()},_hide:function(){this._hideBottomBar(),this._hideTopBar()},_hideBottomBar:function(){this.bottomBar.removeButtons(),this.bottomBar.hide()},_getEta:function(){var t=_.template('Route to <%= end %> / <span class="ll_navigation-top-bar-eta"><%= eta %></span> min.');return t({end:this.endPoi.name,eta:this.etaText()})},_requestSummaryBox:function(){locuslabs.maps.event.trigger(this,"userClickedShowSummaryBox")},_showMyPosition:function(){},_getDestinationNameAndIcon:function(){var t=this.navigationRoute.get("currentSegment"),e=this.navigationRoute.getSegment(t),o=this.navigationRoute.getSegment(t+1);if(o){if(e.isWalk()){var i=o.get("type"),a=o.getDirection();if(o.isSecureCheckpoint())return{name:i,icon:"security"};var n=_.template("<%= type %>"),s=n(o.hasStops()?{type:o.isBus()?"bus":"train"}:{type:"flat"===a?i.toLowerCase():i.toLowerCase()+"-"+a});return{name:i,icon:s}}var c=this.venue,r=e.get("floorId"),l=c.findStructureForFloorId(r),g=l.getFloorData(r);return{name:g.name+" - "+g.details,icon:"levels"}}return{name:this.endPoi.name,atEnd:!0,icon:"images/map-pin-nav-end.svg"}},_updateTopBarNavigation:function(){var t=this.topBar,e=this.navigationRoute.getSegment(this.navigationRoute.get("currentSegment")),o=this._getDestinationNameAndIcon();t.select(".ll_navigation-top-bar-instruction").text(e.getDescription()),t.select(".ll_navigation-top-bar-second-row-title").text(o.name),this.previousIconClass=o.atEnd?"images/map-pin-nav-end.svg":"images/nav-badge-"+o.icon+".svg",t.select(".ll_navigation-top-bar-second-row-icon").attr("src",this.previousIconClass)},_updateBottomBarNavigationButtons:function(){var t=this,e={text:"previous",index:10,icon:"images/bottombar-icon-prev-avail.svg",callback:function(){t.previousSegment()}},o={text:"next",index:20,icon:"images/bottombar-icon-next-avail.svg",callback:function(){t.nextSegment()}},i={text:"levels",index:40,icon:"images/bottombar-icon-levels-avail.svg",callback:function(){t._showLevelSelector()}},a={text:"previous",index:11,icon:"images/bottombar-icon-prev-notavail.svg",callback:function(){}},n={text:"next",index:21,icon:"images/bottombar-icon-next-notavail.svg",callback:function(){}},s={text:"levels",index:41,icon:"images/bottombar-icon-levels-notavail.svg",callback:function(){}},c=this.navigationRoute.get("currentSegment"),r=c>0,l=c+1<this.navigationRoute.getNumberOfSegments(),g=this.get("levelSelector").hasMultipleFloors();this.bottomBar.replaceButton(1,r?e:a),this.bottomBar.replaceButton(2,l?o:n),this.bottomBar.replaceButton(4,g?i:s),this.followMe_changed()}});
},{"../../mvcobject":151}],87:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("NavigationSummaryBox",{constructor:function(i){this.callParent(i),this.set("uuid",locuslabs.uuid())},show:function(i,t){this.set("startPos",i),this.set("endPos",t),this._render(),this._attachEvents()},hide:function(){this._detachEvents(),d3.select(".ll_navigation-box").remove()},highlightStep:function(i){d3.select(".ll_navigation-box .selected").classed("selected",!1),d3.select('[data-number="'+i+'"]').classed("selected",!0)},getNavigationSummary:function(i,t,a){return{startingName:i.name?i.name:"",endingName:t.name?t.name:"",estimatedTime:this.get("segments")?this._getEta():this._getEta(a),navigationSegments:this.get("segments")?this.get("segments"):a,iconsPath:this.get("iconsPath")}},getClassName:function(){return"locuslabs.maps.NavigationSummaryBox"},_template:'<div class="ll_navigation-box__title">  <img class="ll_navigation-box__back-button" src ="<%-iconsPath%>header-icon-left-arrow.svg">  <span>Route Summary</span></div><div class="ll_navigation-box__summary">Route to <%- endingName %> / <%- Math.floor(estimatedTime) %> - <%- Math.ceil(estimatedTime + 1) %> min.</div><ul id="box-steps" class="ll_navigation-box__steps">  <li class="ll_navigation-box__steps-item">    <div class="ll_media">      <div class="ll_media__img">        <div class="ll_navigation-box__steps-icon">          <img src ="<%-iconsPath%>map-pin-nav-start.svg">        </div>      </div>      <div class="ll_media__body">        <span class="ll_navigation-box__steps-info">Begin route at</span>        <h2 class="ll_navigation-box__steps-title"><%- startingName %></h2>      </div>    </div>  </li>  <% navigationSegments.forEach(function(navigationSegment, index){%>    <%if(index !== navigationSegments.length-1){%>      <li class="ll_navigation-box__steps-item" data-number="<%-index%>">        <div class="ll_media">          <div class="ll_media__img">            <div class="ll_navigation-box__steps-icon ll_navigation-box__steps-pin">              <div class="ll_navigation-box__steps-icon-box">                <i class="ll_icon badge ll_icon-<%-navigationSegment.getIcon()%>"></i>              </div>            </div>          </div>          <div class="ll_media__body">            <span class="ll_navigation-box__steps-info"><%-navigationSegment.getDescription()%></span>            <h2 class="ll_navigation-box__steps-title"><%-navigationSegment.getName()%></h2>          </div>        </div>      </li>    <%}else{%>      <li class="ll_navigation-box__steps-item" data-number="<%-index%>">        <div class="ll_media">          <div class="ll_media__img">            <div class="ll_navigation-box__steps-icon">              <img src ="<%-iconsPath%>map-pin-nav-end.svg">            </div>          </div>          <div class="ll_media__body">            <span class="ll_navigation-box__steps-info"><%-navigationSegment.getDescription()%></span>            <h2 class="ll_navigation-box__steps-title"><%-endingName%></h2>          </div>        </div>      </li>    <%}%>  <%});%></ul>',_getEta:function(){var i=_.sum(_.collect(this.get("segments"),function(i){return i.get("time")}));return i<1?"< 1":Math.floor(i)},_attachEvents:function(){var i=this;d3.select(".ll_navigation-box").select(".ll_navigation-box__steps-item").on("click",function(t){i.hide()}),d3.select(".ll_navigation-box").select(".ll_navigation-box__back-button").on("click",function(){i.hide()})},_detachEvents:function(){d3.select(".ll_navigation-box").select(".ll_navigation-box__steps-item").on("click",null),d3.select(".ll_navigation-box").select(".ll_navigation-box__back-button").on("click",null)},_render:function(){var i=this.get("startPos"),t=this.get("endPos");if(i&&t){this._debug("navigation","Showing summary from: %j to %j",i,t);var a=_.template(this._template);d3.select(this.get("mapDiv")).append("div").classed("ll_navigation-box",!0).html(a(this.getNavigationSummary(i,t))),this.highlightStep(0)}}});
},{"../../mvcobject":151}],88:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("POICarousel",{constructor:function(){this.container=d3.select(".ll_poi-box__carousel")},createCarouselCounter:function(){console.log("defineCarouselCounter"),d3.select(this.container).append("div").classed("ll_poi-box__carousel-counter",!0)},createCarouselTutorial:function(){d3.select(this.container).append("div").classed("ll_poi-box__carousel-tutorial",!0)},createCarouselImage:function(){console.log("defineCarouselImage"),d3.select(this.container).append("img").classed("my-selector",!0).attr("data-index","1").attr("data-status","active")},getFirstTouch:function(){console.log("getFirstTouch"),item.on("touchstart",function(e){return function(){locuslabs.maps.event.trigger(e,"touchstart",result)}}(this))},getLastTouch:function(){console.log("getLastTouch"),item.on("touchend",function(e){return function(){locuslabs.maps.event.trigger(e,"touchstart",result)}}(this))},getTouchDelta:function(){console.log("getTouchDelta")},getTouchMove:function(){console.log("getTouchMove"),item.on("touchmove",function(e){return function(){locuslabs.maps.event.trigger(e,"touchstart",result)}}(this))},getClick:function(){console.log("getClick"),item.on("click",function(e){return function(){locuslabs.maps.event.trigger(e,"touchstart",result)}}(this))},getCounterCurrentIndex:function(){console.log("getCounterCurrentIndex")},getCounterMaxIndex:function(){console.log("getCounterMaxIndex")},getSwipeDirection:function(){console.log("getSwipeDirection")},removeTutorial:function(){console.log("removeTutorial")},renderTutorial:function(){console.log("renderTutorial")},setCarouselLeftBoundary:function(){console.log("setCarouselLeftBoundary")},setCarouselRightBoundary:function(){console.log("setCarouselRightBoundary")},getCarouselLeftBoundary:function(){console.log("getCarouselLeftBoundary")},getCarouselRightBoundary:function(){console.log("getCarouselRightBoundary")},setImageWidth:function(){console.log("setImageWidth")},getImageWidth:function(){console.log("getImageWidth")},setImageLeft:function(){console.log("setImageLeft")},getImageLeft:function(){console.log("getImageLeft")}});
},{"../../mvcobject":151}],89:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("PoiPopup",{constructor:function(t){this.callParent(t),this.el=$("<div class='ll_poi-box-overlay'>"),this.set("venue",t.venue),t.poi&&this.set("poi",t.poi),this.set("mapDiv",t.mapDiv),this.set("uuid",locuslabs.uuid())},getMapDiv:function(){this.get("mapDiv")},eta_changed:function(){this.isVisible&&this.showEta()},poi_changed:function(){this.isVisible&&this.render()},serviceTemplate:'<div class="ll_poi-box ll_card">   <div class="ll_section">      <div class="ll_head">           <img class="ll_poi-category" src="images/<%- icon %>"/>           <div class="ll_content">                <div class="ll_header"><%- name %></div>                <div class="ll_list">                  <% if(gate != null && gate.length > 0){%>                  <div class="ll_list-item" data-index="0">                      <i class="ll_icon ll_icon-place"></i>                      <span class="ll_list-text"><%- gate %> - <%- terminal %></span>                  </div>                   <%}%>                  <% if(gate === null || gate.length === 0){%>                  <div class="ll_list-item" data-index="0">                      <i class="ll_icon ll_icon-place"></i>                      <span class="ll_list-text"><%- terminal %></span>                  </div>                   <%}%>                  <div class="ll_list-item" data-index="1">                      <i class="ll_icon ll_icon-levels"></i>                      <span class="ll_list-text"><%- level %></span>                  </div>                  <%if(!insideSecurity){%>                  <div class="ll_list-item" data-index="2">                      <i class="ll_icon ll_icon-security"></i>                      <span class="ll_list-text">Before Security</span>                  </div>                   <%}%>                  <% if(insideSecurity){%>                  <div class="ll_list-item" data-index="2">                      <i class="ll_icon ll_icon-security"></i>                      <span class="ll_list-text">Inside Security</span>                  </div>                   <%}%>                </div>          </div>            <i class="ll_trigger ll_icon ll_icon-next"></i>        </div>    <div class="ll_poi-section--navigate" style="height:auto;">                <div class="media">                    <div class="ll_poi-navigate" style="position:relative;top: 0;right: 0;height: 64px;">                        <a class="ll_poi-navigate-button ll_icon ll_icon-navigation" style="position:absolute;top: -30px;right: 25px;">                           <span class="ll_poi-navigate-text" style="vertical-align:text-top;">Directions</span>                        </a>                    </div>                   <%if(extraButtons === null){extraButtons = [];}%>  <% if(extraButtons.length > 0){%>                   <div class="ll_poi-section ll_poi-section--additional-attribute" style="border-bottom:none;border-top: 1px solid #ccc;text-align:center;">                    <% extraButtons.forEach(function(extraButton, index){                        var url  = extraButton["url"];                          var text = extraButton["text"];                         var background = extraButton["background"];                         var callback = extraButton["callback"];                         var marginRight = 25 + 75 * (extraButtons.length - index);                     %>                   <% if(background !== undefined){%>                           <div class="ll_poi-additional-attributes extra-button-click-index-<%- index %> ll_extra-button" data-url="<%-callback%>" style="background-color:#e6e6e6;box-sizing: border-box;width: auto;height: 36px;vertical-align: top;margin-right: 8px;margin-bottom: 16px;width: 45%;white-space: nowrap;text-overflow: ellipsis;vertical-align: text-top;overflow: hidden;">                               <img src="<%- url %>" style="height:16px;width:16px;"/>                               <span style="vertical-align:top;"><a style="color:#666666;" class=".ll_rectangle-button ll_poi-additional-attributes__url" href="javascript:;"><%-text%></a></span>                           </div>                   <%}%>                   <% if(background === undefined){%>                           <div class="ll_poi-additional-attributes extra-button-click-index-<%- index %> ll_extra-button" data-url="<%-callback%>" style="box-sizing: border-box;width: auto;height: 36px;vertical-align: top;margin-right: 8px;margin-bottom: 16px;width: 45%;white-space: nowrap;text-overflow: ellipsis;vertical-align: text-top;overflow: hidden;">                               <img src="<%- url %>" style="height:16px;width:16px;" />                               <span style="vertical-align:top;"><a class=".ll_rectangle-button ll_poi-additional-attributes__url" href="javascript:;"><%-text%></a></span>                           </div>                   <%}%>                   <%}) %>                   </div>                   <%}%>            </div>   </div>    </div></div>',template:'<div class="ll_poi-box ll_card">   <div class="ll_section">      <div class="ll_head">           <img class="ll_poi-category" src="images/<%- icon %>"/>           <div class="ll_content">                <div class="ll_header"><%- name %></div>                <div class="ll_list">                  <% if(gate != null && gate.length > 0){%>                  <div class="ll_list-item" data-index="0">                      <i class="ll_icon ll_icon-place"></i>                      <span class="ll_list-text"><%- gate %> - <%- terminal %></span>                  </div>                   <%}%>                  <% if(gate === null || gate.length === 0){%>                  <div class="ll_list-item" data-index="0">                      <i class="ll_icon ll_icon-place"></i>                      <span class="ll_list-text"><%- terminal %></span>                  </div>                   <%}%>                  <div class="ll_list-item" data-index="1">                      <i class="ll_icon ll_icon-levels"></i>                      <span class="ll_list-text"><%- level %></span>                  </div>                  <%if(!insideSecurity){%>                  <div class="ll_list-item" data-index="2">                      <i class="ll_icon ll_icon-security"></i>                      <span class="ll_list-text">Before Security</span>                  </div>                   <%}%>                  <% if(insideSecurity){%>                  <div class="ll_list-item" data-index="2">                      <i class="ll_icon ll_icon-security"></i>                      <span class="ll_list-text">Inside Security</span>                  </div>                   <%}%>                </div>          </div>            <i class="ll_trigger ll_icon ll_icon-next"></i>        </div>   </div>   <div class="ll_poi-box__wrapper">    <%if (image){%>    <div class="ll_poi-box__carousel">       <img data-status="" data-index="1" src="https://img.locuslabs.com/poi/<%- image %>"/>       <%if (additionalImages){%>           <% additionalImages.forEach( function(extraImage,index){%>           <img data-status="" data-index="<%- index + 2 %>" src="https://img.locuslabs.com/poi/<%- extraImage %>"/>           <%}) %>           <div class="ll_poi-box__carousel-counter">Photo <span id="ll_poi-box__carousel-counter-current">1</span> of <span id="ll_poi-box__carousel-counter-max"><%-additionalImages.length + 1%></span></div>           <div class="ll_poi-box__carousel-tutorial"><i class="ll_icon ll_icon-swipe-left"></i><span>Swipe for More Photos</span></div>       <%}%>    </div>    <%}%>    <%if (!image){%>    <div class="ll_poi-box__carousel disabled">       <i class="ll_icon badge ll_icon-photo"></i>       <div class="ll_poi-box_photo-status">           <%if (isOnline !== true){%>           <span>No Internet Connection Detected.</span>           <%}%>           <span>Storefront Photos Not Available.</span>       </div>    </div>    <%}%>        <div class="ll_poi-info">            <div class="ll_poi-section ll_poi-section--navigate">                <div class="media">                    <div class="ll_poi-navigate">                        <a class="ll_poi-navigate-button ll_icon ll_icon-navigation"></a>                        <span class="ll_poi-navigate-text">Directions</span>                    </div>                    <% extraButtons.forEach(function(extraButton, index){                        var url  = extraButton["url"];                          var text = extraButton["text"];                         var callback = extraButton["callback"];                         var marginRight = 25 + 75 * (extraButtons.length - index);                     %>                        <div class="ll_poi-navigate ll_icon extra-button-click-index-<%- index %>" style="right:<%- marginRight %>px">                            <a class="ll_poi-extra-button" ><img src="<%- url %>" /></a>                            <span class="ll_poi-navigate-text"><%- text %></span>                        </div>                    <%}) %>                </div>            </div>            <%if (additionalAttributes.menu != null && menuButton.length != 0 && menuButton != undefined) {%>                <div class="ll_poi-section ll_poi-section--additional-attribute">                    <div class="ll_poi-additional-attributes" id="ll_poi-menu">                        <i class="ll_icon ll_icon-menu"></i>                        <span><a class="ll_poi-additional-attributes__url" href="javascript:;" data-url="<%-additionalAttributes.menu%>">MENU</a></span>                    </div>                </div>            <%}%>            <%if (description != null && displayTags.length > 0) {%>                <div class="ll_poi-section">                    <%if (description != null){%>                        <p class="ll_poi-description"><%- description %></p>                     <%}%>                    <ul class="ll_poi-taglist">                        <% displayTags.forEach( function(tag){%>                            <li><%-tag%></li>                        <%}) %>                    </ul>                </div>            <%}%>                <div class="ll_poi-section">                    <div class="ll_poi-section__field">                        <%if (isOpen === true){%>                            <div class="ll_operating-hours-block active">Open Right Now</div>                        <%}%>                        <%if (operatingHours === undefined || operatingHours === null || _.isEmpty(operatingHours)){%>                            <div class="disabled ll_operating-hours-block">Operating Hours Unknown</div>                        <%}%>                        <%if (operatingHours != null){%>                          <% operatingHours.forEach(function(operatingHours, index){                               var days = operatingHours["days"];                                 var operationalHours = operatingHours["hours"];                            %>                            <div class="ll_operating-hours-block">                               <div class="ll_operating-days"><%-days%></div>                        <%if (operatingHours.length !== 0){%>                               <div class="ll_operating-hours"><%-operationalHours%></div>                        <%}%>                            </div>                           <%}) %>                        <%}%>                    </div>                </div>                <div class="ll_poi-section">                    <%if (phone != null && phone.length > 4){%><a id="ll_poi-phone" href="javascript:;" class="ll_poi-section__phone ll_poi-section-icon-item"><i class="ll_icon ll_icon-phone"></i><%-phone%></a><%}%>                    <%if (url != null && url.length > 4){%><a id="ll_poi-url" href="<%-url%>" class="ll_poi-section__url ll_poi-section-icon-item"><i class="ll_icon ll_icon-world"></i><small>Web Site</small></a><%}%>                    <%if (phone == null || phone.length < 5){%><a class="disabled ll_poi-section__phone ll_poi-section-icon-item"><i class="ll_icon ll_icon-phone"></i>Phone Number Unknown</a><%}%>                    <%if (url == null || url.length < 5){%><a class="disabled ll_poi-section__url ll_poi-section-icon-item"><i class="ll_icon ll_icon-world"></i><small>Web Site Unknown</small></a><%}%>                </div>        </div>    </div></div>',render:function(){var t=this.get("venue"),i=this.get("poi").position.floorId,e=t.findStructureForFloorId(i),l=e.getFloorData(i),o=l.name+" - "+l.details,s=_.extend({image:null,description:null,hours:null,rawPhone:null,phone:null,url:null,additionalImages:null,additionalAttributes:{menu:null},isOpen:!1,isOnline:!0,insideSecurity:this.get("poi").position.isAfterSecurity,displayTags:[],level:o,extraButtons:[]},this.get("poi"));this.hasUberButton(s)&&this.addUberButton(s);var a=["elevator","transport","escalator","check-in","baggage","power","water","terminal","stairs","services","restroom"],n=_.contains(a,s.category.toLowerCase())||"vending machine"===s.name.toLowerCase()||"massage chairs"===s.name.toLowerCase()?this.serviceTemplate:this.template,c=_.template(n);return this.el.html(c(s)),this.showEta(),this},showEta:function(){var t=this.get("eta"),i=" min away";t&&(i=t<1?"<1"+i:Math.floor(t)+i,this.el.find(".ll_poi-navigate-text").html(i))},attachEvents:function(){var t=this;null===document.querySelector(".ll_poi-box .ll_poi-box__wrapper")&&d3.selectAll("#ll_poi-box, .ll_poi-box .ll_trigger").classed("enabled",!0);var i,e,l,o;this.el.on("touchstart",".ll_poi-box__carousel img",function(){i=this.startCarousel()}.bind(this)),this.el.on("touchmove",".ll_poi-box__carousel img",function(){e=this.moveCarousel(i,e)}.bind(this)),this.el.on("touchend",".ll_poi-box__carousel img",function(){this.endCarousel(i)}.bind(this)),this.el.on("click",".ll_poi-navigate-button",function(){locuslabs.maps.event.trigger(this,"showDirectionsView",this.get("poi"))}.bind(this));var s=this.get("poi");_.each(s.extraButtons,function(t,i){d3.select(".extra-button-click-index-"+i).on("click",function(i){locuslabs.maps.event.trigger(this,"poi-extra-button-clicked",s,t)}.bind(this))},this),_.each(s.menuButton,function(t){this.el.on("click","#ll_poi-menu",function(i){locuslabs.maps.event.trigger(this,"poi-menu-button-clicked",s,t)}.bind(this))},this),this.el.on("click",'.ll_extra-button[data-url="uber"]',function(){locuslabs.maps.event.trigger(this,"start-activity",{activity:"uber",data:{url:this.get("uberUrl"),clientId:this.get("venue").get("uber")}})}.bind(this)),this.el.on("click","#ll_poi-phone",function(){locuslabs.maps.event.trigger(this,"start-activity",{activity:"phone",data:{phone:s.phone.replace(/\D/g,"")}})}.bind(this)),this.el.on("click","#ll_poi-url",function(){locuslabs.maps.event.trigger(this,"start-activity",{activity:"url",data:{url:s.url}})}.bind(this)),this.mc=new Hammer.Manager(document.querySelector("#ll_poi-box  .ll_head")),this.mc.add(new Hammer.Pan({threshold:3})),this.mc.add(new Hammer.Tap({threshold:2}));var a,n,c;this.mc.on("tap",function(i){l=document.querySelector(".ll_poi-box").getBoundingClientRect(),document.querySelector(".ll_poi-box .ll_head").contains(i.target)&&(d3.select("#ll_poi-box").classed("enabled")?locuslabs.maps.event.trigger(t,"close"):(d3.select("#ll_poi-box").transition().duration(500).style("top","0px"),d3.select("#locuslabs-zoom-container").transition().duration(500).style("height","100%"),d3.selectAll("#ll_poi-box, .ll_poi-box .ll_trigger").classed("enabled",!0)))}),this.mc.on("panstart",function(i){var e=t.get("mapDiv").offsetTop;t.setClientRectangles(),a=i.center.y-e}),this.mc.on("pandown",function(i){l=document.querySelector("#ll_poi-box").getBoundingClientRect(),o=t.get("mapDiv").getBoundingClientRect();var e=t.get("mapDiv").offsetTop;d3.selectAll(".ll_poi-box").classed("enabled")&&d3.select("#ll_poi-box").style("top","0px").classed("enabled",!1),d3.select("#ll_poi-box").style("top",i.center.y-e+"px"),d3.select("#locuslabs-zoom-container").style("height",i.center.y-e+"px")}),null!==document.querySelector(".ll_poi-box .ll_poi-box__wrapper")&&this.mc.on("panup",function(i){l=document.querySelector("#ll_poi-box").getBoundingClientRect(),o=t.get("mapDiv").getBoundingClientRect();var e=t.get("mapDiv").offsetTop;o.top<l.top&&(d3.selectAll(".ll_poi-box").classed("enabled")&&d3.select("#ll_poi-box").style("top","0px").classed("enabled",!1),d3.select("#ll_poi-box").style("top",i.center.y-e+"px"),d3.select("#locuslabs-zoom-container").style("height",i.center.y-e+"px"))}),this.mc.on("panend",function(i){l=document.querySelector("#ll_poi-box").getBoundingClientRect(),o=t.get("mapDiv").getBoundingClientRect();var e=t.get("mapDiv").offsetTop;n=i.center.y-e,c=n-a,d3.select("#locuslabs-zoom-container").style("height","100%"),l.top>o.height?locuslabs.maps.event.trigger(t,"close"):(c<0&&i.distance>50||l.top<=300&&i.distance<=50)&&null!==document.querySelector(".ll_poi-box .ll_poi-box__wrapper")?(d3.select("#ll_poi-box").transition().duration(500).style("top","0px"),d3.selectAll("#ll_poi-box, .ll_poi-box .ll_trigger").classed("enabled",!0)):c>=0&&i.distance>50&&locuslabs.maps.event.trigger(t,"close")})},detachEvents:function(){this.el.off("click"),this.el.off("touchstart"),this.el.off("touchmove"),this.el.off("touchend")},setClientRectangles:function(){this.set("screenClientRect",document.querySelector("#ll_poi-box").getBoundingClientRect()),this.set("cardViewClientRect",this.get("mapDiv").getBoundingClientRect())},startCarousel:function(){var t=document.querySelectorAll(".ll_poi-box__carousel img"),i=event.touches[0].screenX,e=document.querySelector(".ll_poi-box__carousel img").getBoundingClientRect().width,l=e*(t.length-1);return{images:t,touch:i,imageWidth:e,carouselWidth:l}},moveCarousel:function(t,i){var e=event.touches[0].screenX;if(void 0!==i&&i.previousMove)var l=Math.round(Math.abs(Math.abs(e)-Math.abs(i.previousMove)));else var l=Math.round(Math.abs(Math.abs(e)-Math.abs(t.touch)));var o=e>t.touch?1:-1,s=l*o,a=!1;return parseInt(getComputedStyle(t.images[t.images.length-1],null).left,10)>=t.carouselWidth&&1===o?a=!0:parseInt(getComputedStyle(t.images[t.images.length-1],null).left,10)<=0&&o===-1&&(a=!0),a!==!0&&_.map(t.images,function(t){var i=Math.round(t.getBoundingClientRect().left)+s;d3.select(t).style("left",i+"px")}),{previousMove:event.touches[0].screenX}},endCarousel:function(t){var i=this,e=event.changedTouches[0].screenX,l=e>t.touch?1:-1,o=!1;parseInt(getComputedStyle(t.images[0],null).left,10)>=t.carouselWidth&&1===l?o=!0:parseInt(getComputedStyle(t.images[t.images.length-1],null).left,10)<=t.carouselWidth*-1&&l===-1&&(o=!0);var s,a=t.imageWidth;_.each(t.images,function(t,i){Math.abs(t.getBoundingClientRect().left)<a&&(a=Math.abs(t.getBoundingClientRect().left),s=i)}),o!==!0&&_.map(t.images,function(e,l){var o=(l-s)*t.imageWidth;d3.select(e).transition().duration(300).style("left",o+"px"),i.changeSlideCounter(s+1)})},changeSlideCounter:function(t){document.querySelector("#ll_poi-box__carousel-counter-current").textContent=t},getPOICarousel:function(){return this.poiCarousel=$(".ll_poi-box__carousel img"),this.poiCarousel},showTutorial:function(){d3.select(".ll_poi-box__carousel-tutorial").style("opacity","1")},endTutorial:function(){d3.select(".ll_poi-box__carousel-tutorial").style("opacity","0").remove()},open:function(t){this.detachEvents(),$(this.get("container")).append(this.render().el),d3.select(".ll_poi-box").attr("id","ll_poi-box");var i=this.get("mapDiv").getBoundingClientRect().height;if(null!==document.querySelector(".ll_poi-box .ll_poi-box__wrapper"))var e=document.querySelector(".ll_poi-box div.ll_section").getBoundingClientRect().height+document.querySelector(".ll_poi-box .ll_poi-box__wrapper .ll_poi-box__carousel").getBoundingClientRect().height+document.querySelector(".ll_poi-box .ll_poi-box__wrapper .ll_poi-info .ll_poi-section--navigate").getBoundingClientRect().height;else var e=document.querySelector(".ll_poi-box").getBoundingClientRect().height;t?this.cardOpen(i,e):this.animateCardOpen(i,e),this.attachEvents(),this.isVisible=!0,locuslabs.maps.event.trigger(this,"open",this.get("poi"))},animateCardOpen:function(t,i){d3.select("#ll_poi-box").style("top",t+"px"),d3.select("#ll_poi-box").transition().duration(300).style("top",t-i+"px"),d3.select("#locuslabs-zoom-container").transition().duration(300).style("height",t-i+"px")},cardOpen:function(t,i){d3.select("#ll_poi-box").style("top",t-i+"px"),d3.select("#locuslabs-zoom-container").style("height",t-i+"px")},animateCardHide:function(){var t=this.get("mapDiv").getBoundingClientRect().height;d3.selectAll("#ll_poi-box, .ll_poi-box .ll_trigger").classed("enabled",!1),d3.select("#locuslabs-zoom-container").style("height","100%"),d3.select("#ll_poi-box").transition().duration(300).style("top",t+"px").remove()},hasUberButton:function(t){return _.contains(_.values(t.tags),"uber")&&this.get("venue").get("uber")},addUberButton:function(t){var i=this.get("venue").get("uber"),e=t.position.latitude.toString(),l=t.position.longitude.toString(),o="uber://?client_id="+i+"&action=setPickup&pickup[latitude]="+e+"&pickup[longitude]="+l;this.set("uberUrl",o);var s={text:"Get A Ride",url:"images/querywin-icon-uber.svg",callback:"uber",background:"gray"};t.extraButtons.push(s)},close:function(){this.detachEvents(),this.animateCardHide(),this.isVisible=!1},getClassName:function(){return"locuslabs.maps.PoiPopup"}});
},{"../../mvcobject":151}],90:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("POIResultsList",{constructor:function(e){this.callParent(e),this.container=e.container,this.el=$('<div class="ll_search-results">'),e.title&&this.set("title",e.title),e.icon&&this.set("icon",e.icon),this.set("storedResults",e.results||[]),this.visible=!1,this.set("uuid",locuslabs.uuid())},results_changed:function(){this.isVisible()?this.render():this.show()},modifyStoredResults:function(e){var s=this.get("storedResults");if(e.name&&e.name.indexOf("Location Near")!==-1){var t=_.countBy(s,function(s){return s.name.match(e.name)?"related":"unrelated"});t.related>0&&(e.label=t.related.toString())}s.unshift(e);for(var i=_.uniq(_.flatten(s));i.length>6;)i.pop();this.set("storedResults",i)},title_changed:function(){this.isVisible&&this.render()},renderTitle:function(){var e=this.get("title");e&&this.el.append('<span class="ll_search-results-title">'+e+"</span>")},renderItem:function(e){var s=$('<li class="ll_search-results-item">');return _.isEmpty(e.label)?s.append('<small class="ll_search-results-item-name">'+e.name+"</span>"):s.append('<small class="ll_search-results-item-name">'+e.name+" <small>( "+e.label+" )</small></span>"),_.isEmpty(e.gate)?_.isEmpty(e.terminal)||s.append('<span class="ll_search-results-item-location">'+e.terminal+"</span>"):s.append('<span class="ll_search-results-item-location">'+e.gate+" - "+e.terminal+"</span>"),s.on("click",function(s){return function(){locuslabs.maps.event.trigger(s,"click",e)}}(this)),s},renderList:function(){var e=this.get("results");if(e.length>0){var s=$('<ul class="ll_search-results-list ll_search-results-list-icon">');this.el.show(),this.get("results").forEach(function(e){return function(t){s.append(e.renderItem(t))}}(this)),this.el.append(s)}else this.el.hide()},render:function(){var e=this.get("results");return this.el.html(""),e&&(this.renderTitle(),this.renderList()),this},isVisible:function(){return this.visible},show:function(){this.container.append(this.render().el),this.visible=!0},remove:function(){this.el.remove(),this.visible=!1,this.set("results",void 0)},getClassName:function(){return"locuslabs.maps.POIResultsList"}});
},{"../../mvcobject":151}],91:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("SearchBar",{constructor:function(t){this.callParent(t),this.set("container",t.container),this.el=$('<div class="ll_search-bar">'),this.fieldRegion=$('<div class="ll_search-bar-field-region"></div>'),this.listsRegion=$('<div class="ll_search-bar-lists-region"></div>'),this.set("uuid",locuslabs.uuid()),this.set("map",t.map),this.set("venue",t.venue),this.set("myLocation",t.venue.get("")),this._createSearchField(),this._createAutocompleteList(),this._createDefaultList(),this._createNearbyList(),this._createOthersList()},show:function(){this.get("container").append(this._render().el)},hide:function(){this._detachEvents(),this._blurField(),this.searchField.remove(),this.backButton.hide(),this.closeResultsLists(),this.el.remove()},removeClearFieldButton:function(){this.searchField.removeClearFieldButton()},setSearchField:function(t){this.set("searchField",t)},getSearchField:function(){return this.get("searchField")},back:function(){this._detachEvents(),this._clearField(),this.closeResultsLists(),this.backButton.hide(),this.removeClearFieldButton(),this.searchField.remove(),this._blurField()},getClassName:function(){return"locuslabs.maps.SearchBar"},venue_changed:function(){this.search=this.get("venue").search()},_emptyRegions:function(){this.fieldRegion.html(""),this.listsRegion.html("")},_createOthersList:function(){this.otherResultsList=new locuslabs.maps.POIResultsList({container:this.listsRegion,title:"Other "+this.get("venue").get("airportCode")+" Terminals"}),this.otherResultsList.addListener("click",function(t){return function(e){t.closeResultsLists(),locuslabs.maps.event.trigger(t,"resultSelected",e)}}(this))},_createNearbyList:function(){this.nearbyResultsList=new locuslabs.maps.POIResultsList({container:this.listsRegion,title:"Places Nearby"}),this.nearbyResultsList.addListener("click",function(t){return function(e){t.closeResultsLists(),locuslabs.maps.event.trigger(t,"resultSelected",e)}}(this))},_createAutocompleteList:function(){this.autocompleteResultsList=new locuslabs.maps.AutocompleteResultsList({container:this.listsRegion}),this.autocompleteResultsList.addListener("click",function(t){return function(e){var s=t.get("map").getView().getCenterPosition();t.getSearchField().setSearchFieldValue(e),t.search.proximitySearchWithTerms([e],s.floorId,s.latLng.lat(),s.latLng.lng(),function(s){locuslabs.maps.event.trigger(t,"keywordSelected",e,s)}),t.autocompleteResultsList.remove(),t.closeResultsLists(),t._blurField()}}(this))},_createDefaultList:function(){this.defaultResultsList=new locuslabs.maps.AutocompleteResultsList({container:this.listsRegion}),this.defaultResultsList.addListener("click",function(t){return function(e){var s=t.get("map").getView().getCenterPosition();t.getSearchField().setSearchFieldValue(e),t.search.proximitySearchWithTerms([e],s.floorId,s.latLng.lat(),s.latLng.lng(),function(s){locuslabs.maps.event.trigger(t,"keywordSelected",e,s)}),t.defaultResultsList.remove(),t.closeResultsLists(),t._blurField()}}(this))},_createSearchField:function(){this.searchField=new locuslabs.maps.SearchField({container:this.fieldRegion,airportCode:this.get("map").get("venue").getVenueId()}),this.setSearchField(this.searchField),this.searchField.addListener("change",function(t){return function(){var e=t.searchField.get("term");t.search.autocomplete(e,function(e,s){var i=t.get("map").getView().getCenterPosition();null!=t.get("venue").get("position")&&(i=t.get("venue").get("position")),t.autocompleteResultsList.set("results",s),s.length<6?0===s.length?t._determineDefaultSearchList():s.forEach(function(e){t.search.proximitySearchWithTerms(s,i.floorId,i.latLng.lat(),i.latLng.lng(),function(e){var s=e.getResults(),i=e.getOtherResults();t.nearbyResultsList.set("results",s),t.otherResultsList.set("results",i)})}):(t.nearbyResultsList.remove(),t.otherResultsList.remove())})}}(this))},closeResultsLists:function(){this.autocompleteResultsList.remove(),this.nearbyResultsList.remove(),this.otherResultsList.remove(),this.defaultResultsList.remove()},_stopPropagation:function(t){t.stopPropagation()},_detachEvents:function(){this.el.off("click",this._stopPropagation)},_attachEvents:function(){this._detachEvents(),this.el.on("click",".ll_search-field",function(){this._focusField(),this.searchField._attachEvents(),this._determineDefaultSearchList()}.bind(this)),this.el.on("click",".ll_title-bar-back",function(){this.back()}.bind(this)),this.el.on("click",this._stopPropagation)},_determineDefaultSearchList:function(){var t=["lounge","coffee","restroom","charging station","Starbucks","atm"];this.get("venue").get("uber")&&t.unshift("Uber pick up location"),this.defaultResultsList.set("results",t)},_showBackButton:function(){return this.backButton=$('<a class="ll_icon ll_icon-back ll_title-bar-back"></a>'),this},_render:function(){return this.el.html(""),this._emptyRegions(),this.el.append(this.fieldRegion),this.el.append(this.listsRegion),this.fieldRegion.append(this._showBackButton(this).backButton),this.backButton.hide(),this.searchField.show(),this._attachEvents(),this},_focusField:function(){this.searchField._focus(),this.backButton.show()},_blurField:function(){this.searchField.blur(),this.backButton.hide()},_clearField:function(){this.searchField.clearField()}});
},{"../../mvcobject":151}],92:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("SearchController",{constructor:function(t){this.callParent(),this.setValues(_.defaults(t,{myPosition:null,iconsPath:"images/"})),this._createSearchBar(),this._createNavigationRoute(),this._createSummaryBox(),this._createPoiPopup(),this._createNavigationStartEndPickerPopup(),this._createNavigationStepByStepViewer(),this.navigationMode=!1,this.allowPOIClick=!0,this.set("searchMode",!1),this.get("map").getView().basicButtonsBar&&this.get("map").getView().basicButtonsBar.dimLevelsButton(),this.markers=[],this.set("mode","normal"),this.set("uuid",locuslabs.uuid())},enablePOIClick:function(){this.allowPOIClick=!0},disablePOIClick:function(){this.allowPOIClick=!1},showSearchBar:function(){this.searchBar.show()},hideSearchBar:function(){this.searchBar.hide()},isNavigating:function(){return this.navigationMode},isCurrentLocation:function(t){return!!t&&t.name==locuslabs.maps.NavStartEnd.currentLocationName},navigate:function(t,e){var i=t.position?{name:t.name,position:t.position}:{name:t.name,position:t},s=e.position?{name:e.name,position:e.position}:{name:e.name,position:e};this.get("venue").navigate(i.position,[s.position],function(t){try{this._setupNavigation(t),this.navigationRoute.getNumberOfSegments()>0?this._onValidNavigationPath(this,s,i):this._onInvalidNavigationPath()}catch(t){return locuslabs.log.debug("navigate exception: "+t.stack),null}finally{this.get("map").getView().set("displayingNavigation",!1)}}.bind(this))},getPoi:function(t,e){if(!e)throw new Error("You must now pass a callback into SearchController.getPoi");return this.get("venue").poiDatabase().getPoi(t,e)},getMarker:function(){return this.get("marker")},openPoi:function(t,e){d3.select(".ll_poi-box").size()>0&&this.closePoiPopup();var i=this,s=this.get("map"),a=this.get("myPosition");this._setMarker(t),s.setFloorId(t.position.floorId),s.setCenter(t.position.latLng);var o=20;t.radius&&t.radius>20&&(o=s.setRadius(t.radius)),t.position.latLng=new locuslabs.maps.LatLng(t.position.latitude,t.position.longitude),s.setRadius(o),this.poiPopup.set("poi",t),a&&this.get("venue").navigate(a,[t.position],function(t){this.poiPopup.set("eta",t.eta)}.bind(this)),Promise.all([s.computeExtraButtonsForPoiPopup(t),s.computeMenuButtonForPoiPopup(t)]).then(function(s){t.extraButtons=s[0],t.menuButton=s[1],i.poiPopup.open(e);var a=document.querySelector(".ll_poi-box__carousel img");null!=a&&i.tutorialSeen!==!0&&a.addEventListener("load",function(){a.addEventListener("touchstart",function(){i.tutorialSeen=!0,i.poiPopup.endTutorial(),null!=a&&(a.removeEventListener("load",null),a.removeEventListener("touchstart",null))}),_.delay(function(){i.tutorialSeen||(i.tutorialSeen=!0,i.poiPopup.showTutorial(),_.delay(function(){i.poiPopup.endTutorial(),null!=a&&(a.removeEventListener("load",null),a.removeEventListener("touchstart",null))},5e3))},3e3)}),i.set("mode","poi")})},clearMarkers:function(){this.markers.forEach(function(t){t.setMap(null)}),this.markers=[]},cancelUserNavigation:function(){this.navigationStepByStepViewer&&this.navigationStepByStepViewer.cancel()},closePoiPopup:function(){this.poiPopup.close(),this.get("map").getView().showAllWidgets();var t=this.markers.length-1;t>=0&&this.markers[t].setMap(null),this.set("mode","normal")},getClassName:function(){return"locuslabs.maps.SearchController"},showUserPositionWithinRoute:function(t){this.isCurrentLocation(this.navigationStartPos)&&this.get("map").getView().distance(this.navigationStartPos.position.latLng,t.latLng)>locuslabs.maps.SearchController.timeEstimateUpdateDistance&&this.navigate({position:t,name:locuslabs.maps.NavStartEnd.currentLocationName},this.navigationEndPos),this.get("map").setHeadingFromPositionAndWaypoints(t,this.navigationRoute.get("waypoints"))},searchBarContainer_changed:function(){this.searchBar&&this.searchBar.set("container",this.get("searchBarContainer"))},searchMode_changed:function(){this.searchBar.searchField.getClearFieldButton()&&(this.get("searchMode")||this.searchBar.removeClearFieldButton())},_showSummaryBox:function(){this.summaryBox.show(this.navigationStartPos,this.navigationEndPos),this.summaryBox.highlightStep(this.navigationRoute.get("currentSegment"))},_createSummaryBox:function(){this.summaryBox=new locuslabs.maps.NavigationSummaryBox({venue:this.get("venue")}),this.summaryBox.bindTo("segments",this.navigationRoute,"segments"),this.summaryBox.bindTo("mapDiv",this.get("map").getView(),"mapDiv"),this.summaryBox.bindTo("iconsPath",this,"iconsPath"),this.summaryBox.addListener("userSelectedSegmentFromSummaryBox",this._setCurrentSegment.bind(this))},_createNavigationRoute:function(){this.navigationRoute=new locuslabs.maps.NavigationRoute({map:this.get("map"),waypoints:[]}),this.navigationRoute.bindTo("iconsPath",this,"iconsPath"),this.navigationRoute.addListener("currentSegmentChanged",function(t,e){var i=t.get("waypoints")[0],s=this.get("map");s.setFloorId(t.get("floorId")),s.setCenter(i.latLng),s.setRadius(40+i.distance),this.summaryBox.highlightStep(e),locuslabs.maps.event.trigger(this,"segmentChange",e,this.navigationRoute.getNumberOfSegments())}.bind(this))},_createPoiPopup:function(){var t=this.get("map"),e=t.getView(),i=e.basicButtonsBar;this.poiPopup=new locuslabs.maps.PoiPopup({mapDiv:e.get("mapDiv")}),this.poiPopup.bindTo("container",e,"mapDiv"),this.poiPopup.bindTo("venue",this,"venue"),t.addListener("poi_click",function(t){var i=this;this.allowPOIClick&&!function(){var s=i;i.navigationMode||(d3.select(e.get("mapDiv")).select(".ll_poi-box").empty()?s.getPoi(t.poiId,function(t){s.openPoi(t,!1)}):s.getPoi(t.poiId,function(t){s.openPoi(t,!0)}))}()}.bind(this)),t.addListener("click",function(){d3.select(e.get("mapDiv")).select(".ll_poi-box").empty()||this.closePoiPopup()}.bind(this)),this.poiPopup.addListener("open",function(){locuslabs.maps.event.trigger(this,"poiOpen"),e.hideAllWidgets()}.bind(this)),this.poiPopup.addListener("close",function(){locuslabs.maps.event.trigger(this,"poiClose"),this.closePoiPopup()}.bind(this)),this.poiPopup.addListener("poi-extra-button-clicked",function(t,i){locuslabs.maps.event.trigger(e,"poi-extra-button-clicked",t,i)}.bind(this)),this.poiPopup.addListener("poi-menu-button-clicked",function(t,i){locuslabs.maps.event.trigger(e,"poi-menu-button-clicked",t,i)}.bind(this)),this.poiPopup.addListener("start-activity",function(t){locuslabs.maps.event.trigger(e,"start-activity",t)}.bind(this)),this.poiPopup.addListener("showDirectionsView",function(){var t=this.poiPopup.get("poi");this._onSearchFieldCleared(),this.get("myPosition")?this.navigate(this.get("myPosition"),t):i&&i.openNavigationPopup(null,t)}.bind(this))},_createNavigationStartEndPickerPopup:function(){var t=this.get("map").getView().basicButtonsBar;t.addListener("showDirectionsView",function(){this._onSearchFieldCleared(),this.get("myPosition")?this.navigate(this.get("myPosition"),null):t.openNavigationPopup(null,null)}.bind(this)),t.addListener("navigate",function(t){this._clearNavigation(),null!==document.querySelector(".ll_poi-box")&&this.poiPopup.close(),this.isCurrentLocation(t.start)&&(t.start.position=this.get("venue").get("position"),this.get("map").getView().set("followMe",!0)),this.navigate(t.start,t.end)}.bind(this)),t.navigationPopup.addListener("clearMarkers",function(){this.set("searchMode",!1),this.get("map").getView().basicButtonsBar&&this.get("map").getView().basicButtonsBar.dimLevelsButton(),this.clearMarkers()}.bind(this))},_createSearchBar:function(){this.searchBar=new locuslabs.maps.SearchBar({venue:this.get("venue"),map:this.get("map"),container:this.get("searchBarContainer")}),this.searchBar.searchField.bindTo("searchMode",this,"searchMode"),this.searchBar.searchField.bindTo("persistedTerm",this,"persistedTerm"),this.searchBar.addListener("resultSelected",this._onResultSelected.bind(this)),this.searchBar.addListener("keywordSelected",this._onKeywordSelected.bind(this)),this.searchBar.searchField.addListener("_clearSearchResults",this._onSearchFieldCleared.bind(this)),this.searchBar.searchField.addListener("change",this._onSearchFieldChanged.bind(this))},_createNavigationStepByStepViewer:function(){var t=this.get("map").getView();this.navigationStepByStepViewer=new locuslabs.maps.NavigationStepByStepViewer(t.get("mapDiv"),this.navigationRoute,this.get("venue")),this.navigationStepByStepViewer.bindTo("levelSelector",this,"levelSelector"),this.navigationStepByStepViewer.addListener("userCanceledNavigation",this._clearNavigation.bind(this)),this.navigationStepByStepViewer.addListener("userClickedShowSummaryBox",this._showSummaryBox.bind(this)),this.navigationStepByStepViewer.addListener("userClickedMyLocation",function(){t.userClickedMyLocation()}),this.navigationStepByStepViewer.bindManyTo(["followMe"],t)},_onResultSelected:function(t){var e=this;$(".ll_search-bar-container").removeClass("active"),this.getPoi(t.poiId,function(t){e.openPoi(t),e.clearMarkers()})},_onSearchFieldCleared:function(){this._clearSearch(),this.set("searchMode",!1),this.get("map").getView().basicButtonsBar&&this.get("map").getView().basicButtonsBar.dimLevelsButton(),_.isEmpty(this.markers)||this.clearMarkers()},_onSearchFieldChanged:function(){var t=this.searchBar.getSearchField().get("term").toLowerCase();if("about:"==t){this.searchBar.back();var e="SDK Version : "+locuslabs.config.sdkVersion+"<br/>";e+="Local Version  : "+this.get("map").get("venue").get("version")+"<br/>",e+="Server Version : "+this.get("map").get("venue").get("assetVersion")+"<br/>",e+="Format Version : "+locuslabs.config.assetsFormatVersion+"<br/>",this.get("map").getView().showDialogBox("About",e,"OK")}_.startsWith(t,"secret:")&&_.endsWith(t,";")&&(this.searchBar.back(),locuslabs.maps.event.trigger(this.get("map"),"secretTermEntered",t.split(":")[1]))},_onKeywordSelected:function(t,e){this.showMarkersForKeywordResults(t,e),this.set("persistedTerm",t)},_setupNavigation:function(t){this.get("map").getView().set("displayingNavigation",!0),this.navigationRoute.set("waypoints",t.waypoints)},_onValidNavigationPath:function(t,e,i){t.navigationRoute._drawLines();var s=t.isNavigating();if(t.navigationMode=!0,t.navigationStartPos=e,t.navigationEndPos=i,!s){t.navigationStepByStepViewer.show(i),this.set("mode","navigation");var a=t.get("map").getView();a.basicButtonsBar&&a.basicButtonsBar.hide()}a.positionMayChangeUserPositionWithinRoute(start),locuslabs.maps.event.trigger(this,"poiNavigate")},_onInvalidNavigationPath:function(){this._clearNavigation(),this.get("map").getView().showDialogBox("Invalid Navigation Path","Sorry, the navigation path you chose cannot be completed because one of the start or end points are not accessible.","OK")},showSearchResults:function(t,e){this.showMarkersForKeywordResults(t,e),this.searchBar.searchField.getSearchField().val(t)},showMarkersForKeywordResults:function(t,e){$(".ll_search-bar-container").removeClass("active");var i,s=_.flatten([e.getResults(),e.getOtherResults()||[]]),a=this,o=this.get("map").get("floorId"),n=this.get("map").getView().getOrdinalForFloorId(o),r=[];if(this.clearMarkers(),s.forEach(function(t){var e=this.get("map").getView().getOrdinalForFloorId(t.position.floorId);e==n&&r.push(t.position.latLng),i=new locuslabs.maps.Marker({position:new locuslabs.maps.Position({latLng:t.position.latLng,floorId:t.position.floorId,venueId:t.position.venueId,buildingId:t.position.buildingId}),map:this.get("map"),clickable:!0,draggable:!1,icon:{url:this.get("iconsPath")+"map-icon-poi.svg",anchor:new locuslabs.maps.Point(15,15)},opacity:1,visible:!0,zIndex:9999}),i.result=t,i.addListener("click",function(){var e=this;this.navigationMode||this.getPoi(t.poiId,function(t){e.openPoi(t),e.set("searchMode",!1),e.get("map").getView().basicButtonsBar&&e.get("map").getView().basicButtonsBar.dimLevelsButton()})}.bind(this)),this.markers.push(i)}.bind(this)),r.length>1){var h=_.reduce(r,function(t,e){return[t[0]+e.lat(),t[1]+e.lng()]},[0,0]),c=[h[0]/r.length,h[1]/r.length],l=new locuslabs.maps.LatLng(c[0],c[1]);this.get("map").set("center",l);var u=0;_.each(r,function(t){var e=a.get("map").getView().distance(t,l);e>u&&(u=e)}),this.get("map").set("radius",u)}1==r.length&&(this.get("map").set("center",r[0]),this.get("map").set("radius",20));var g=this._buildBadges(s),p=this.get("map").get("floorId"),d=0;for(var m in g){var v=g[m];m!=p&&(d+=v.rawCount)}this.get("levelSelector").set("badges",g),this.set("searchMode",!0),this.get("map").getView().basicButtonsBar&&this.get("map").getView().basicButtonsBar.highlightLevelsButton();var b=!1;_.each(g,function(t,e){e!==a.get("map").get("id")&&(b=!0)}),b&&!d3.select("ll_tool-tip")&&a.get("map").getView().basicButtonsBar.highlightLevelsButton(),locuslabs.maps.event.trigger(this,"termSelected",t,e,d)},_buildBadges:function(t){var e,i=this.get("map").get("allOrdinals"),s={},a={},o=this.get("venue").buildings[this.get("venue").get("defaultStructureId")],n=o.get("levels");t.forEach(function(t){e=i[t.position.floorId],s[e]?s[e]+=1:s[e]=1});for(e in s){var r=s[e],h=1===r?"result":"results",c=null;for(var l in n){var u=n[l];u.ordinal===parseInt(e)&&(c=u)}c&&(a[c.id]={type:"secondary",text:r+" "+h,rawCount:r})}return a},_setMarker:function(t){var e=new locuslabs.maps.Marker({icon:{url:"images/map-icon-poi-selected.svg",anchor:new locuslabs.maps.Point(15,15)},position:t.position});e.setMap(this.get("map")),this.set("marker",e),this.markers.push(e)},_setCurrentSegment:function(t){this.navigationRoute.set("currentSegment",t),this.navigationStepByStepViewer.updateSegment()},_clearNavigation:function(){this.navigationMode=!1,this.navigationRoute.reset(),this.summaryBox.hide(),this.set("mode","normal");var t=this.get("map").getView().basicButtonsBar;t&&(this.get("map").getView().showAllWidgets(),t.dimNavigateButton()),this.get("map").resetHeading()},_clearSearch:function(){this.searchBar.searchField.getSearchField().val(null),this.get("levelSelector").set("badges",{}),this.set("searchMode",!1),this.get("map").getView().basicButtonsBar&&this.get("map").getView().basicButtonsBar.dimLevelsButton()},static:{timeEstimateUpdateDistance:25}});
},{"../../mvcobject":151}],93:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("SearchField",{constructor:function(e){this.callParent(e),this.container=e.container,this.airportCode=e.airportCode,this.set("uuid",locuslabs.uuid()),this.set("placeholder",e.placeholder)},show:function(){this._render(),this._getSearchContainer().append(this.getSearchField()),this._getSearchContainer().append(this.getClearFieldButton()),this.get("persistedTerm")&&this.setSearchFieldValue(this.get("persistedTerm")),this.get("searchMode")||(this.getClearFieldButton().hide(),this.set("persistedTerm",""),this.setSearchFieldValue(this.get("persistedTerm")))},blur:function(){this.getSearchField().blur(),$(".ll_search-bar-container").removeClass("active")},remove:function(){this._detachEvents()},removeClearFieldButton:function(){this.getClearFieldButton().hide()},getSearchField:function(){return this.el},getClearFieldButton:function(){return this.button},clearField:function(){locuslabs.maps.event.trigger(this,"_clearSearchResults")},getClassName:function(){return"locuslabs.maps.SearchField"},placeholder_changed:function(){this.getSearchField()&&this._showPlaceholder()},term_changed:function(){locuslabs.maps.event.trigger(this,"change")},_render:function(){return this._setSearchField(),this._setClearFieldButton(),this._showPlaceholder(),this._attachEvents(),this},_showPlaceholder:function(){this._getSearchPlaceholder()&&this.getSearchField().attr("placeholder",this._getSearchPlaceholder())},_attachEvents:function(){this._detachEvents(),this.getSearchField().on("keyup",function(e){return function(t){e.timeOut&&window.clearTimeout(e.timeOut),e.timeOut=window.setTimeout(function(){e.set("term",e.getSearchField().val())},300)}}(this)),this.getSearchField().on("click",function(e){return function(){e.set("term",""),e.set("term",e.getSearchField().val()),e.set("persistedTerm",e.getSearchField().val()),e._focus()}}(this)),this.getClearFieldButton().on("click",function(e){return function(){e.clearField()}}(this))},_detachEvents:function(){this.getSearchField().off("keyup"),this.getSearchField().off("click")},_getSearchContainer:function(){return this.container},_getSearchPlaceholder:function(){return this.get("placeholder")},_setSearchField:function(){this.el=$('<input class="ll_search-field" type="text" placeholder="Search '+this.airportCode.toUpperCase()+' Airport" />')},_setClearFieldButton:function(){this.button=$('<i class="ll_icon ll_icon-clear-field"></i>')},setSearchFieldValue:function(e){this.getSearchField().val(e)},_focus:function(){this.getSearchField().focus(),$(".ll_search-bar-container").addClass("active"),this.getClearFieldButton().show()}});
},{"../../mvcobject":151}],94:[function(require,module,exports){
geohash=require("geohasher"),encodeGeoHash=geohash.encode,module.exports=locuslabs.Base.subclass("LatLng",{constructor:function(t,a){this.callParent();var n;t instanceof locuslabs.maps.LatLng?(n=t.lat(),a=t.lng()):t instanceof Object?(n=t.lat,a=t.lng):n=t,this._data={lat:n,lng:a},this.geohash=encodeGeoHash(this.lat(),this.lng())},toString:function(){return JSON.stringify(this)},_debugDescription:function(){return"["+this._data.lat.toFixed(6)+", "+this._data.lng.toFixed(6)+"]"},lat:function(){return this._data.lat},lng:function(){return this._data.lng},getGeohash:function(){return this.geohash},bearing:function(t){function a(t){return t*(Math.PI/180)}var n=(360-locuslabs.maps.Utilities.angleBetweenLatLngs(this,t))%360;return a(n)},computeHeading:function(t){function a(t){return 180*t/Math.PI}return(360-a(this.bearing(t)))%360},distance:function(t){var a=this.lat(),n=t.lat(),s=this.lng(),i=t.lng(),e=6371e3,l=locuslabs.maps.LatLng.toRadians(a),o=locuslabs.maps.LatLng.toRadians(n),u=locuslabs.maps.LatLng.toRadians(n-a),r=locuslabs.maps.LatLng.toRadians(i-s),h=Math.sin(u/2)*Math.sin(u/2)+Math.cos(l)*Math.cos(o)*Math.sin(r/2)*Math.sin(r/2),c=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h));return e*c},center:function(t){var a=this.lat(),n=t.lat(),s=this.lng(),i=t.lng(),e=(a+n)/2,l=(s+i)/2;return{lat:e,lng:l}},rotate:function(t){var a=Math.cos(t)*this.lat()-Math.sin(t)*this.lng(),n=Math.sin(t)*this.lat()+Math.cos(t)*this.lng();return new locuslabs.maps.LatLng(a,n)},getClassName:function(){return"locuslabs.maps.LatLng"},getUUID:function(){return this._data.uuid||(this._data.uuid=this.toString()),this._data.uuid},midpointTo:function(t){return new locuslabs.maps.LatLng((this.lat()+t.lat())/2,(this.lng()+t.lng())/2)},serialize:function(){return{__locuslabs_serialized_object__:!0,className:"locuslabs.maps.LatLng",data:{lat:this.lat(),lng:this.lng()}}},static:{newInstance:function(t,a){var n=new locuslabs.maps.LatLng(a[0],a[1]);return n._data.uuid=t,n},toRadians:function(t){return t*Math.PI/180},deserialize:function(t){return new locuslabs.maps.LatLng(t.lat,t.lng)}}});
},{"geohasher":468}],95:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("LatLngBounds",{constructor:function(t,s){this.callParent(),this._data={sw:t,ne:s};var a=(this.getSouthWest().lat()+this.getNorthEast().lat())/2,n=(this.getSouthWest().lng()+this.getNorthEast().lng())/2;this.cp=new locuslabs.maps.LatLng(a,n),this.radius=this.cp.distance(this.getSouthWest())},toString:function(){return JSON.stringify(this)},getNorthEast:function(){return this._data.ne},getSouthWest:function(){return this._data.sw},getCenterPoint:function(){return this.cp},getRadius:function(){return this.radius},getClassName:function(){return"locuslabs.maps.LatLngBounds"},getUUID:function(){return this._data.uuid||(this._data.uuid=this.toString()),this._data.uuid},serialize:function(){return{__locuslabs_serialized_object__:!0,className:"locuslabs.maps.LatLngBounds",data:{sw:this._data.sw.serialize(),ne:this._data.ne.serialize()}}},static:{newInstance:function(t,s){var a=new locuslabs.maps.LatLngBounds(s[0],s[1]);return a._data.uuid=t,a},deserialize:function(t){var s=locuslabs.deserialize(t.sw),a=locuslabs.deserialize(t.ne);return new locuslabs.maps.LatLngBounds(s,a)}}});
},{}],96:[function(require,module,exports){
var MVCObject=require("../mvcobject");module.exports=MVCObject.subclass("Location",{constructor:function(t){t=t||{},this.callParent(),this.setValues(t),t.bounds&&this.set("bounds",new locuslabs.maps.LatLngBounds(new locuslabs.maps.LatLng(t.bounds.sw.lat,t.bounds.sw.lng),new locuslabs.maps.LatLng(t.bounds.ne.lat,t.bounds.ne.lng)))},toString:function(){return JSON.stringify(this)},getId:function(){return this.get("id")},getName:function(){return this.get("name")},getDetails:function(){return this.get("details")},getAddress:function(){return this.get("address")},getWebsite:function(){return this.get("website")},getHours:function(){return this.get("hours")},getPhone:function(){return this.get("phone")},getCategory:function(){return this.get("category")},getBounds:function(){return this.get("bounds")},getBearing:function(){return this.get("bearing")},getKeywords:function(){return this.get("keywords")},getAccess:function(){return this.get("access")},getAttributes:function(){return this.get("attributes")},getClassName:function(){return"locuslabs.maps.Location"},getUUID:function(){return this.get("uuid")||this.set("uuid",locuslabs.uuid()),this.get("uuid")},static:{newInstance:function(t,e){var n=new locuslabs.maps.Location(e[0]);return n.set("uuid",t),n}}});
},{"../mvcobject":151}],97:[function(require,module,exports){
module.exports={ACCOUNT_NOT_FOUND:0,VENUE_NOT_FOUND:1,CORRUPTED_VENUE_DATA:2,UNABLE_TO_STORE_FILE_LOCALLY:3,FILE_NOT_DOWNLOADED_CORRECTLY:4,DOWNLOAD_FAILURE:5,DOWNLOAD_DISALLOWED:6};
},{}],98:[function(require,module,exports){
var REQUEST_VENUE_LIST="VENUE_LIST_LOADER/REQUEST_VENUE_LIST",VENUE_LIST_LOADED_BY_SCRIPT="VENUE_LIST_LOADER/VENUE_LIST_LOADED_BY_SCRIPT",REQUEST_VENUE_LIST_FAILED="VENUE_LIST_LOADER/REQUEST_VENUE_LIST_FAILED";module.exports={REQUEST_VENUE_LIST:REQUEST_VENUE_LIST,REQUEST_VENUE_LIST_FAILED:REQUEST_VENUE_LIST_FAILED,VENUE_LIST_LOADED_BY_SCRIPT:VENUE_LIST_LOADED_BY_SCRIPT,requestVenueList:function(E){return{type:REQUEST_VENUE_LIST,nativeMapDataCache:E}},requestVenueListFailed:function(E,_){return{type:REQUEST_VENUE_LIST_FAILED,errorCode:E,error:_}},venueListLoadedByScript:function(E){return{type:VENUE_LIST_LOADED_BY_SCRIPT,venueList:E}}};
},{}],99:[function(require,module,exports){
var actions=require("./actions"),saga=require("./saga"),reducer=require("./reducer"),exposedSaga={requestVenueList:saga.requestVenueList,fetchVenueList:saga.fetchVenueList};module.exports={actions:actions,reducer:reducer,saga:exposedSaga};
},{"./actions":98,"./reducer":100,"./saga":101}],100:[function(require,module,exports){
function start(e,r){var t=e?e.venueList:void 0;return{venueList:t,errorCode:void 0,error:void 0}}function success(e,r){var t=_.isString(r.venueList)?JSON.parse(r.venueList):r.venueList;return{venueList:t,errorCode:void 0,error:void 0}}function failure(e,r){return locuslabs.log.exception(r.error),_.defaults({},{errorCode:r.errorCode,error:r.error},e)}function reducer(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],r=arguments[1];switch(r.type.match(/VENUE_LIST_LOADER/)&&locuslabs._debug("load-venue","venueListReducer action: "+r.type),r.type){case t.REQUEST_VENUE_LIST:return start(e,r);case t.VENUE_LIST_LOADED_BY_SCRIPT:return success(e,r);case t.REQUEST_VENUE_LIST_FAILED:return failure(e,r);default:return e}}var t=require("./actions");module.exports=reducer;
},{"./actions":98}],101:[function(require,module,exports){
function localStorageNameForVenueList(){var e=locuslabsConfig,t=e.accountId,n=e.assetsFormatVersion;return"locuslabs."+t+"."+n+".venueList.js"}function computeRemoteUrl(){var e=locuslabsConfig,t=e.assetsBase,n=e.accountId,r=e.assetsFormatVersion;return""+t+n+"/"+r+".js?ts="+Date.now()}function getVenueListFromLocalStorage(){return JSON.parse(locuslabs.localStorage.getItem(localStorageNameForVenueList())||null)}function putVenueListIntoLocalStorage(e){locuslabs.localStorage.setItem(localStorageNameForVenueList(),JSON.stringify(e))}function downloadRemoteUrl(e){return new Promise(function(t,n){d3_request.request(e).on("progress",function(t){locuslabs._debug("load-venue-list","download progress: %J %s",t,e)}).get(function(e,r){e?(e instanceof ProgressEvent&&(e=e.target),n(new Error("Couldn't download venue list: "+e.status+" "+e.statusText+" "+e.responseURL))):t(r.responseText)})})}function downloadVenueList(nativeMapDataCache){var url,script,action,code;return regeneratorRuntime.wrap(function downloadVenueList$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,call(computeRemoteUrl);case 3:return url=_context.sent,_context.next=6,call(downloadRemoteUrl,url);case 6:return script=_context.sent,_context.next=9,call(eval,script);case 9:return action=_context.sent,_context.next=12,[call(putVenueListIntoLocalStorage,action.venueList),fork(saveVenueListToPhone,nativeMapDataCache,script),put(actions.venueListLoadedByScript(action.venueList))];case 12:_context.next=19;break;case 14:return _context.prev=14,_context.t0=_context.catch(0),code=_context.t0 instanceof SyntaxError?actions.CORRUPTED_VENUE_DATA:errorCodes.DOWNLOAD_FAILURE,_context.next=19,put(actions.requestVenueListFailed(code,_context.t0));case 19:case"end":return _context.stop()}},_marked[0],this,[[0,14]])}function urlForScriptOnPhone(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!!e&&e.urlForVenueListOnPhone());case 1:case"end":return t.stop()}},_marked[1],this)}function saveVenueListToPhone(e,t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e&&e.saveVenueListToPhone(t);case 1:case"end":return n.stop()}},_marked[2],this)}function addScriptToPage(e){"undefined"!=typeof document&&d3.select("body").append("script").attr("src",e)}function postVenueListAndDownloadNewOne(e,t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,[put(actions.venueListLoadedByScript(e)),fork(downloadVenueList,t)];case 2:case"end":return n.stop()}},_marked[3],this)}function fetchVenueListFromLocalStorage(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,call(getVenueListFromLocalStorage);case 2:if(t=n.sent,!t){n.next=6;break}return n.next=6,call(postVenueListAndDownloadNewOne,t,e);case 6:return n.abrupt("return",!!t);case 7:case"end":return n.stop()}},_marked[4],this)}function fetchVenueListFromPhone(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,call(urlForScriptOnPhone,e);case 2:if(t=r.sent,!t){r.next=11;break}return r.next=6,call(addScriptToPage,t);case 6:return r.next=8,take(actions.VENUE_LIST_LOADED_BY_SCRIPT);case 8:return n=r.sent,r.next=11,call(postVenueListAndDownloadNewOne,n.venueList,e);case 11:return r.abrupt("return",!!t);case 12:case"end":return r.stop()}},_marked[5],this)}function fetchVenueList(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.nativeMapDataCache,n.next=3,call(fetchVenueListFromLocalStorage,t);case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,call(fetchVenueListFromPhone,t);case 7:if(!n.sent){n.next=9;break}return n.abrupt("return");case 9:return n.next=11,call(downloadVenueList,t);case 11:case"end":return n.stop()}},_marked[6],this)}function requestVenueList(){var e,t=arguments;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:locuslabsConfig=t.length<=1?void 0:t[1];case 1:return n.next=4,take(actions.REQUEST_VENUE_LIST);case 4:return e=n.sent,n.next=7,fork(fetchVenueList,e);case 7:n.next=1;break;case 9:case"end":return n.stop()}},_marked[7],this)}var _marked=[downloadVenueList,urlForScriptOnPhone,saveVenueListToPhone,postVenueListAndDownloadNewOne,fetchVenueListFromLocalStorage,fetchVenueListFromPhone,fetchVenueList,requestVenueList].map(regeneratorRuntime.mark),effects=require("redux-saga/effects"),put=effects.put,call=effects.call,take=effects.take,fork=effects.fork,actions=require("./actions"),errorCodes=require("../error-codes"),locuslabsConfig=void 0;module.exports={requestVenueList:requestVenueList,fetchVenueList:fetchVenueList,localStorageNameForVenueList:localStorageNameForVenueList,computeRemoteUrl:computeRemoteUrl,getVenueListFromLocalStorage:getVenueListFromLocalStorage,putVenueListIntoLocalStorage:putVenueListIntoLocalStorage,downloadRemoteUrl:downloadRemoteUrl,downloadVenueList:downloadVenueList,fetchVenueListFromLocalStorage:fetchVenueListFromLocalStorage,fetchVenueListFromPhone:fetchVenueListFromPhone,postVenueListAndDownloadNewOne:postVenueListAndDownloadNewOne,urlForScriptOnPhone:urlForScriptOnPhone,saveVenueListToPhone:saveVenueListToPhone,addScriptToPage:addScriptToPage};
},{"../error-codes":97,"./actions":98,"redux-saga/effects":547}],102:[function(require,module,exports){
var REQUEST_VENUE="VENUE_LOADER/REQUEST_VENUE",REQUEST_VENUE_SUCCEEDED="VENUE_LOADER/REQUEST_VENUE_SUCCEEDED",REQUEST_VENUE_FAILED="VENUE_LOADER/REQUEST_VENUE_FAILED",REQUEST_FULL_SVG="VENUE_LOADER/REQUEST_FULL_SVG",REQUEST_NAV_DATA="VENUE_LOADER/REQUEST_NAV_DATA",FINISHED_LOAD="VENUE_LOADER/FINISHED_LOAD",SET_DELAY="VENUE_LOADER/SET_DELAY",VENUE_DATA_LOADED_BY_SCRIPT="VENUE_LOADER/VENUE_DATA_LOADED_BY_SCRIPT",INITIAL_SVG_LOADED_BY_SCRIPT="VENUE_LOADER/INITIAL_SVG_LOADED_BY_SCRIPT",FULL_SVG_LOADED_BY_SCRIPT="VENUE_LOADER/FULL_SVG_LOADED_BY_SCRIPT",POI_DATA_LOADED_BY_SCRIPT="VENUE_LOADER/POI_DATA_LOADED_BY_SCRIPT",NAV_DATA_LOADED_BY_SCRIPT="VENUE_LOADER/NAV_DATA_LOADED_BY_SCRIPT",BEACONS_LOADED_BY_SCRIPT="VENUE_LOADER/BEACONS_LOADED_BY_SCRIPT",SCHEDULE_POST_HOC_DOWNLOAD="VENUE_LOADER/SCHEDULE_POST_HOC_DOWNLOAD",POST_HOC_DOWNLOAD_STARTED="VENUE_LOADER/POST_HOC_DOWNLOAD_STARTED",POST_HOC_DOWNLOAD_COMPLETED="VENUE_LOADER/POST_HOC_DOWNLOAD_COMPLETED",requestVenue=function(_,E,D,S,e){return{type:REQUEST_VENUE,id:_,fastLoad:E,allowDownload:D,nativeMapDataCache:S,callback:e}},requestFullSvg=function(_){return{type:REQUEST_FULL_SVG,id:_}},requestNavData=function(_){return{type:REQUEST_NAV_DATA,id:_}},requestVenueFailed=function(_,E,D){return{type:REQUEST_VENUE_FAILED,id:_,errorCode:E,error:D}},finishedLoad=function(_){return{type:FINISHED_LOAD,id:_}},venueDataLoadedByScript=function(_,E){return{type:VENUE_DATA_LOADED_BY_SCRIPT,id:_,venueData:E}},initialSvgLoadedByScript=function(_,E){return{type:INITIAL_SVG_LOADED_BY_SCRIPT,id:_,svg:E}},poiDataLoadedByScript=function(_,E){return{type:POI_DATA_LOADED_BY_SCRIPT,id:_,poiData:E}},fullSvgLoadedByScript=function(_,E){return{type:FULL_SVG_LOADED_BY_SCRIPT,id:_,svg:E}},navDataLoadedByScript=function(_,E){return{type:NAV_DATA_LOADED_BY_SCRIPT,id:_,navData:E}},beaconsLoadedByScript=function(_,E){return{type:BEACONS_LOADED_BY_SCRIPT,id:_,beacons:E}},setDelay=function(_){return{type:SET_DELAY,delay:_}},schedulePostHocDownload=function(_,E,D,S,e){return{type:SCHEDULE_POST_HOC_DOWNLOAD,id:_,remoteUrl:E,leafName:D,versionInfo:S,nativeMapDataCache:e}},postHocDownloadStarted=function(_,E){return{type:POST_HOC_DOWNLOAD_STARTED,id:_,leafName:E}},postHocDownloadCompleted=function(_,E){return{type:POST_HOC_DOWNLOAD_COMPLETED,id:_,leafName:E}};module.exports={REQUEST_VENUE:REQUEST_VENUE,REQUEST_VENUE_SUCCEEDED:REQUEST_VENUE_SUCCEEDED,REQUEST_VENUE_FAILED:REQUEST_VENUE_FAILED,REQUEST_FULL_SVG:REQUEST_FULL_SVG,REQUEST_NAV_DATA:REQUEST_NAV_DATA,FINISHED_LOAD:FINISHED_LOAD,SET_DELAY:SET_DELAY,VENUE_DATA_LOADED_BY_SCRIPT:VENUE_DATA_LOADED_BY_SCRIPT,INITIAL_SVG_LOADED_BY_SCRIPT:INITIAL_SVG_LOADED_BY_SCRIPT,FULL_SVG_LOADED_BY_SCRIPT:FULL_SVG_LOADED_BY_SCRIPT,POI_DATA_LOADED_BY_SCRIPT:POI_DATA_LOADED_BY_SCRIPT,NAV_DATA_LOADED_BY_SCRIPT:NAV_DATA_LOADED_BY_SCRIPT,BEACONS_LOADED_BY_SCRIPT:BEACONS_LOADED_BY_SCRIPT,SCHEDULE_POST_HOC_DOWNLOAD:SCHEDULE_POST_HOC_DOWNLOAD,POST_HOC_DOWNLOAD_STARTED:POST_HOC_DOWNLOAD_STARTED,POST_HOC_DOWNLOAD_COMPLETED:POST_HOC_DOWNLOAD_COMPLETED,setDelay:setDelay,requestVenue:requestVenue,requestVenueFailed:requestVenueFailed,requestFullSvg:requestFullSvg,requestNavData:requestNavData,finishedLoad:finishedLoad,schedulePostHocDownload:schedulePostHocDownload,postHocDownloadStarted:postHocDownloadStarted,postHocDownloadCompleted:postHocDownloadCompleted,venueDataLoadedByScript:venueDataLoadedByScript,initialSvgLoadedByScript:initialSvgLoadedByScript,poiDataLoadedByScript:poiDataLoadedByScript,fullSvgLoadedByScript:fullSvgLoadedByScript,navDataLoadedByScript:navDataLoadedByScript,beaconsLoadedByScript:beaconsLoadedByScript};
},{}],103:[function(require,module,exports){
function listenForFieldToBeFilled(e,r){function o(){var o=r(i);return o&&e(o),o}for(var s=arguments.length,i=Array(s>2?s-2:0),n=2;n<s;n++)i[n-2]=arguments[n];if(!o())var a=locuslabs.reduxStore.subscribe(function(){o()&&a()})}function finishedLoading(e,r){listenForFieldToBeFilled(r,selectors.beacons,e)}var actions=require("./actions"),reducer=require("./reducer"),saga=require("./saga"),selectors=require("./selectors"),_=require("underscore"),exposedSaga={requestVenue:saga.requestVenue,schedulePostHocDownload:saga.schedulePostHocDownload,fastLoad:saga.fastLoad},bindSelectors=function(e,r){_.each(e,function(o,s){e[s]=function(){var e=_.toArray(arguments);return e.length<o.length&&e.unshift(r()),o.apply(this,e)}})};module.exports={actions:actions,reducer:reducer,saga:exposedSaga,selectors:selectors,bindSelectors:bindSelectors,listenForFieldToBeFilled:listenForFieldToBeFilled,finishedLoading:finishedLoading};
},{"./actions":102,"./reducer":104,"./saga":105,"./selectors":106,"underscore":573}],104:[function(require,module,exports){
function storeFields(e,t,r){var o=t.id,n=_.clone(e);return n[o]=_.extend({},n[o],r),n}function setDelay(e,t){return _.extend({},e,{delay:t.delay})}function requestVenue(e,t){return storeFields(e,t,{fastLoad:t.fastLoad,loading:"started",percentComplete:0,error:null,errorCode:null,outstandingPostHocDownloads:[]})}function postHocDownload(e,t,r){var o=t.leafName,n=e[t.id].outstandingPostHocDownloads,a=r?_.union(n,[o]):_.without(n,o);return storeFields(e,t,{outstandingPostHocDownloads:a})}function processBeacons(e,t,r){var o=_.collect(r.beacons,function(e){return{uuid:e.uuid,floorId:e.floorId,buildingId:e.buildingId,venueId:e.venueId,majorId:e.majorId,minorId:e.minorId,position:new locuslabs.maps.LatLng(e.latitude,e.longitude)}});return storeFields(e,t,{beacons:o,percentComplete:r.percentComplete})}function failure(e,t){var r=(t.id,t.errorCode),o=t.error;return locuslabs.log.exception(o),storeFields(e,t,{percentComplete:-1,loading:"failed",errorCode:r,error:o})}function storeVenueData(e,t){var r=t.id,o=t.venueData;return storeFields(e,t,o[r]?o[r]:o)}function reducer(){var e=arguments.length<=0||void 0===arguments[0]?{delay:1e4}:arguments[0],r=arguments[1];switch(r.type.match(/VENUE_LOADER/)&&locuslabs._debug("load-venue","venueReducer action: "+r.type),r.type){case t.SET_DELAY:return setDelay(e,r);case t.REQUEST_VENUE:return requestVenue(e,r);case t.REQUEST_VENUE_FAILED:return failure(e,r);case t.VENUE_DATA_LOADED_BY_SCRIPT:return storeVenueData(e,r);case t.INITIAL_SVG_LOADED_BY_SCRIPT:return storeFields(e,r,{initialSvg:r.svg,percentComplete:10});case t.POI_DATA_LOADED_BY_SCRIPT:return storeFields(e,r,{poiData:r.poiData,percentComplete:30});case t.FULL_SVG_LOADED_BY_SCRIPT:return storeFields(e,r,{fullSvg:r.svg,percentComplete:60});case t.NAV_DATA_LOADED_BY_SCRIPT:return storeFields(e,r,{navData:r.navData,percentComplete:80});case t.BEACONS_LOADED_BY_SCRIPT:return processBeacons(e,r,{beacons:r.beacons,percentComplete:90});case t.FINISHED_LOAD:return storeFields(e,r,{loading:"finished",percentComplete:100});case t.SCHEDULE_POST_HOC_DOWNLOAD:return postHocDownload(e,r,!0);case t.POST_HOC_DOWNLOAD_COMPLETED:return postHocDownload(e,r,!1);default:return e}}var t=require("./actions");module.exports=reducer;
},{"./actions":102}],105:[function(require,module,exports){
function fetchVenueList(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return stopwatchStartLap("fetchVenueList"),n.next=3,fork(loadVenueList.saga.fetchVenueList,loadVenueList.actions.requestVenueList(e));case 3:return n.next=5,take(loadVenueList.actions.VENUE_LIST_LOADED_BY_SCRIPT);case 5:return t=n.sent,stopwatchStopLap("fetchVenueList"),n.abrupt("return",t.venueList);case 8:case"end":return n.stop()}},_marked[0],this)}function getVersionsOfVenueAlreadyOnPhone(e,t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t?t.availableVersionsOfVenue(e):[]);case 1:case"end":return n.stop()}},_marked[1],this)}function saveScriptToPhone(e,t,n,r){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e&&e.saveScriptToPhone(t,n,r);case 1:case"end":return a.stop()}},_marked[2],this)}function downloadRemoteFile(e){return new Promise(function(t,n){d3_request.request(e).on("progress",function(t){locuslabs._debug("load-venue","download progress: %J %s",t,e)}).get(function(e,r){e?(e instanceof ProgressEvent&&(e=e.target),n(new Error("Couldn't download venue: "+e.status+" "+e.statusText+" "+e.responseURL))):t(r.responseText)})})}function stopwatchStartLap(e){stopwatch&&stopwatch.startLap(e)}function stopwatchStopLap(e){stopwatch&&stopwatch.stopLap(e)}function stopwatchMessage(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];stopwatch&&stopwatch.message.apply(stopwatch,t)}function downloadScript(nativeMapDataCache,remoteUrl,leafName,versionInfo,actionToWaitFor){var script,errorCode;return regeneratorRuntime.wrap(function downloadScript$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.prev=0,_context4.next=3,call(downloadRemoteFile,remoteUrl+leafName);case 3:return script=_context4.sent,stopwatchMessage(actionToWaitFor,"%s: download complete (%.2f mb)",leafName,script.length/1048576),_context4.next=7,call(eval,script);case 7:if(!nativeMapDataCache){_context4.next=11;break}return stopwatchMessage(actionToWaitFor,"%s: writing to phone",leafName),_context4.next=11,fork(saveScriptToPhone,nativeMapDataCache,versionInfo,leafName,script);case 11:_context4.next=18;break;case 13:return _context4.prev=13,_context4.t0=_context4.catch(0),errorCode=_context4.t0 instanceof SyntaxError?errorCodes.CORRUPTED_VENUE_DATA:errorCodes.DOWNLOAD_FAILURE,_context4.next=18,put(actions.requestVenueFailed(versionInfo.venueId,errorCode,_context4.t0));case 18:case"end":return _context4.stop()}},_marked[3],this,[[0,13]])}function addScriptToPage(e){"undefined"!=typeof document&&d3.select("body").append("script").attr("src",e)}function delay(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,select(selectors.getPostHocDownloadDelay);case 2:return e=t.sent,t.abrupt("return",new Promise(function(t){return setTimeout(t,e)}));case 4:case"end":return t.stop()}},_marked[4],this)}function urlPrefixForAssetVersion(e,t){var n=locuslabsConfig,r=n.assetsBase,a=n.accountId,o=n.assetsFormatVersion;return""+r+a+"/"+t+"/"+e+"/"+o+"/"}function executeScript(e){var t,n,r,a,o,s,c,i,u=e.nativeMapDataCache,l=e.allowDownload,p=e.latestVersionOnPhone,d=e.venueInfo,f=e.suffix,h=e.actionToWaitFor;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.id,n=locuslabs.maps.NativeMapDataCache.versionInfoFromVenueInfo(d),r=urlPrefixForAssetVersion(d.assetVersion,t),a=""+t+f,stopwatchStartLap(h),o=!1,p&&(s=""+p.rootUrl+a,o=_.contains(p.filesOnPhone,s)),!o){e.next=21;break}return stopwatchMessage(h,"%s: found script on phone; adding it to the page",a),e.next=11,call(addScriptToPage,p.rootUrl+a);case 11:return e.next=13,take([h,actions.REQUEST_VENUE_FAILED]);case 13:if(c=e.sent,stopwatchMessage(h,"%s: loaded script",a),!(l&&d.assetVersion>p.version)){e.next=19;break}return stopwatchMessage(h,"%s: scheduling download of newer version",a),e.next=19,fork(postHocDownload,actions.schedulePostHocDownload(t,r,a,n,u));case 19:e.next=35;break;case 21:if(!l){e.next=31;break}return stopwatchMessage(h,"%s: script not found on phone; downloading",a),e.next=25,fork(downloadScript,u,r,a,n,h);case 25:return e.next=27,take([h,actions.REQUEST_VENUE_FAILED]);case 27:c=e.sent,stopwatchMessage(h,"%s: eval complete",a),e.next=35;break;case 31:return i=new Error("A required file is not available, but allowDownload is off"),e.next=34,put(actions.requestVenueFailed(t,errorCodes.DOWNLOAD_DISALLOWED,i));case 34:c=e.sent;case 35:if(stopwatchStopLap(h),c.type!=actions.REQUEST_VENUE_FAILED){e.next=38;break}throw new Error(c.error);case 38:case"end":return e.stop()}},_marked[5],this)}function fetchVenue(e){var t,n,r,a,o,s,c=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.callback,n=e.fastLoad,r=e.nativeMapDataCache,a=e.id,o=e.allowDownload,stopwatch=new StopWatch("fetchVenue"),i.prev=6,i.delegateYield(regeneratorRuntime.mark(function e(){var s,i,u,l,p,d,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,call(fetchVenueList,r);case 2:return s=e.sent,e.next=5,call(getVersionsOfVenueAlreadyOnPhone,a,r);case 5:if(i=e.sent,u=s[a],l=i.length?_.last(_.sortBy(i,"version")):null,p=function(e,t){return{nativeMapDataCache:r,latestVersionOnPhone:l,venueInfo:u,suffix:e,actionToWaitFor:t,allowDownload:o}},u){e.next=16;break}return d=new Error("No venue information found for "+a+". This user is authorized for these venues: "+_.keys(s).join("|")),e.next=13,put(actions.requestVenueFailed(a,errorCodes.ACCOUNT_NOT_FOUND,d));case 13:throw d;case 16:if(!n){e.next=39;break}return e.next=19,call(executeScript,p("VenueData.js",actions.VENUE_DATA_LOADED_BY_SCRIPT));case 19:return e.next=21,call(executeScript,p("-svg-initial.js",actions.INITIAL_SVG_LOADED_BY_SCRIPT));case 21:return e.next=23,call(executeScript,p("-poi.js",actions.POI_DATA_LOADED_BY_SCRIPT));case 23:return e.next=25,select(selectors.getVenue,a);case 25:return e.t0=e.sent,t("initial-load",e.t0,"callback"),e.next=29,take(actions.REQUEST_FULL_SVG);case 29:return e.next=31,call(executeScript,p("-svg-full.js",actions.FULL_SVG_LOADED_BY_SCRIPT));case 31:return e.next=33,take(actions.REQUEST_NAV_DATA);case 33:return e.next=35,call(executeScript,p("-nav.js",actions.NAV_DATA_LOADED_BY_SCRIPT));case 35:return e.next=37,call(executeScript,p("-beacons.js",actions.BEACONS_LOADED_BY_SCRIPT));case 37:e.next=51;break;case 39:return e.next=41,call(executeScript,p("VenueData.js",actions.VENUE_DATA_LOADED_BY_SCRIPT));case 41:return e.next=43,call(executeScript,p("-svg-initial.js",actions.INITIAL_SVG_LOADED_BY_SCRIPT));case 43:return e.next=45,call(executeScript,p("-poi.js",actions.POI_DATA_LOADED_BY_SCRIPT));case 45:return e.next=47,call(executeScript,p("-svg-full.js",actions.FULL_SVG_LOADED_BY_SCRIPT));case 47:return e.next=49,call(executeScript,p("-nav.js",actions.NAV_DATA_LOADED_BY_SCRIPT));case 49:return e.next=51,call(executeScript,p("-beacons.js",actions.BEACONS_LOADED_BY_SCRIPT));case 51:return e.next=53,select(selectors.getVenue,a);case 53:f=e.sent,t("full-load",f,"callback");case 55:case"end":return e.stop()}},e,c)})(),"t0",8);case 8:i.next=18;break;case 10:return i.prev=10,i.t1=i.catch(6),i.next=14,select(selectors.hasError,a);case 14:if(s=i.sent){i.next=18;break}return i.next=18,put(actions.requestVenueFailed(a,errorCodes.DOWNLOAD_FAILURE,i.t1));case 18:return i.prev=18,i.next=21,put(actions.finishedLoad(a));case 21:return stopwatch.stop(),stopwatch=null,i.finish(18);case 24:case"end":return i.stop()}},_marked[6],this,[[6,10,18,24]])}function requestVenue(){var e,t=arguments;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:locuslabsConfig=t.length<=1?void 0:t[1];case 1:return n.next=4,take(actions.REQUEST_VENUE);case 4:return e=n.sent,n.next=7,fork(fetchVenue,e);case 7:n.next=1;break;case 9:case"end":return n.stop()}},_marked[7],this)}function postHocDownload(e){var t,n,r,a,o,s,c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.id,n=e.remoteUrl,r=e.leafName,a=e.versionInfo,o=e.nativeMapDataCache,s="post hoc download of "+r,i.next=8,call(delay);case 8:return i.prev=8,i.next=11,put(actions.postHocDownloadStarted(t,r));case 11:return stopwatchStartLap(s),i.next=14,call(downloadRemoteFile,n+r);case 14:return c=i.sent,i.next=17,call(saveScriptToPhone,o,a,r,c);case 17:i.next=22;break;case 19:i.prev=19,i.t0=i.catch(8),locuslabs._warn("load-venue","post-hoc download of "+t+" "+r+" failed: "+i.t0);case 22:return i.prev=22,i.next=25,put(actions.postHocDownloadCompleted(t,r));case 25:return stopwatchStopLap(s),i.finish(22);case 27:case"end":return i.stop()}},_marked[8],this,[[8,19,22,27]])}var _marked=[fetchVenueList,getVersionsOfVenueAlreadyOnPhone,saveScriptToPhone,downloadScript,delay,executeScript,fetchVenue,requestVenue,postHocDownload].map(regeneratorRuntime.mark),effects=require("redux-saga/effects"),put=effects.put,call=effects.call,take=effects.take,fork=effects.fork,select=effects.select,actions=require("./actions"),selectors=require("./selectors"),loadVenueList=require("../load-venue-list"),StopWatch=require("../stopwatch"),errorCodes=require("../error-codes"),_=require("underscore"),locuslabsConfig=void 0,stopwatch=void 0;module.exports={requestVenue:requestVenue,addScriptToPage:addScriptToPage,delay:delay,downloadRemoteFile:downloadRemoteFile,downloadScript:downloadScript,executeScript:executeScript,fetchVenue:fetchVenue,fetchVenueList:fetchVenueList,getVersionsOfVenueAlreadyOnPhone:getVersionsOfVenueAlreadyOnPhone,postHocDownload:postHocDownload,saveScriptToPhone:saveScriptToPhone};
},{"../error-codes":97,"../load-venue-list":99,"../stopwatch":108,"./actions":102,"./selectors":106,"redux-saga/effects":547,"underscore":573}],106:[function(require,module,exports){
var returnField=function(e,n,r){return e.venues[n]?e.venues[n][r]:null},getPostHocDownloadDelay=function(e){return e.venues.delay},getVenue=function(e,n){return e.venues[n]},isFastLoad=function(e,n){return returnField(e,n,"fastLoad")},poiData=function(e,n){return returnField(e,n,"poiData")},fullSvg=function(e,n){return returnField(e,n,"fullSvg")},beacons=function(e,n){return returnField(e,n,"beacons")},hasError=function(e,n){return null!==returnField(e,n,"errorCode")};module.exports={getPostHocDownloadDelay:getPostHocDownloadDelay,getVenue:getVenue,isFastLoad:isFastLoad,poiData:poiData,fullSvg:fullSvg,beacons:beacons,hasError:hasError};
},{}],107:[function(require,module,exports){
var redux=require("redux"),loadVenueList=require("./load-venue-list"),loadVenue=require("./load-venue"),reducer=redux.combineReducers({venueList:loadVenueList.reducer,venues:loadVenue.reducer});module.exports={reducer:reducer};
},{"./load-venue":103,"./load-venue-list":99,"redux":566}],108:[function(require,module,exports){
var StopWatch=function(t){this.start=new Date,this.laps=[],this.lapMap={},this.label=t,this.stopped=!1};StopWatch.prototype.startLap=function(t){var s={text:t,start:Date.now(),messages:[]};this.laps.push(s),this.lapMap[t]=s},StopWatch.prototype.stopLap=function(t){this.lapMap[t].end=Date.now(),this.stopped&&this.output()},StopWatch.prototype.message=function(t,s){for(var a=arguments.length,e=Array(a>2?a-2:0),o=2;o<a;o++)e[o-2]=arguments[o];s=_.vsprintf(s,e),this.lapMap[t].messages.push({time:Date.now(),message:s})},StopWatch.prototype.output=function(){var t=this.label,s=0,a=this;locuslabs._debug(t,"------------------------------------------------------------------------------------------------------------------------"),locuslabs._debug(t," Start    End  Total   %s",t),locuslabs._debug(t,"------------------------------------------------------------------------------------------------------------------------"),_.each(this.laps,function(e){var o=e.end-e.start;s+=o,locuslabs._debug(t,"%6d %6d %6d   %s",e.start-a.start,e.end-a.start,o,e.text);var p=e.start;_.each(e.messages,function(s){var e=s.time-a.start,u=s.time-p;p=s.time;var l=100*u/o;locuslabs._debug(t,"       %6d         %6d %3d%%  %s",e,u,l,s.message)})});var e=new Date-this.start;locuslabs._debug(t,"------------------------------------------------------------------------------------------------------------------------"),locuslabs._debug(t,"              %6d   %s SUM OF LAP TIMES",s,t),locuslabs._debug(t,"%6d %6d %6d   %s TOTAL WALL TIME",0,e,e,t),locuslabs._debug(t,"------------------------------------------------------------------------------------------------------------------------")},StopWatch.prototype.stop=function(){this.stopped=!0,this.output()},module.exports=StopWatch;
},{}],109:[function(require,module,exports){
var _loadVenueList=require("./load-venue-list"),_loadVenue=require("./load-venue");module.exports=locuslabs.maps.Location.subclass("VenueLoader",{loadVenueList:function(e,o){var i=locuslabs.reduxStore.subscribe(function(){var e=locuslabs.reduxStore.getState().venueList;e&&e.venueList&&(o(e.venueList),i())});locuslabs.reduxStore.dispatch(_loadVenueList.actions.requestVenueList(e))},loadVenue:function(e,o,i,n){var s=function(e,o){return n(o)},a=_loadVenue.actions.requestVenue(e,!1,i,o,s);locuslabs.reduxStore.dispatch(a)},loadVenueMapAndMapView:function(e,o,i,n,s){function a(e,i){var n={position:e.getCenterPosition(),radius:e.getVenueRadius(),showFlightMarker:!1};_.isEmpty(o)||e.search().search(o,function(e){if(e.getResults().length){var o=e.getResults()[0];n={position:new locuslabs.maps.Position(o.position),radius:50,showFlightMarker:!0}}}),i(n)}function t(e,i){"initial-load"==e?!function(){var n=new locuslabs.maps.Airport(i);a(n,function(i){var a=n.loadBuilding(i.position.buildingId),t=a.loadFloor(i.position.floorId);t.loadMap(document.getElementById("map"),function(a){a.initialZoom=i;var t=new locuslabs.maps.MapView(locuslabs.uuid(),a,"map");u.airport=n,u.map=a,u.mapView=t,u.position=_.isEmpty(o)?null:i.position,s(u.airport,u.map,u.mapView,u.position,e)},!1)})}():"full-load"==e&&s(null,null,null,null,e)}var u=this;locuslabs.reduxStore.dispatch(_loadVenue.actions.requestVenue(e,!0,n,i,t))}});
},{"./load-venue":103,"./load-venue-list":99}],110:[function(require,module,exports){
var MVCObject=require("../mvcobject");module.exports=MVCObject.subclass("Map",{constructor:function(t,e,i){var n={};e&&$.each(e,function(t,e){n[t]=e}),"mapId"in n||(n.mapId="ll-"+n.venueId),"navPathId"in n||(n.navPathId="nav"),i?n.uuid=i:n.uuid=locuslabs.uuid(),"manageView"in n||(n.manageView=!0),this.set("poiLabels",{}),this.set("relevantPOIs",[]),this._manageView=n.manageView,this.set("heading",0),n.svgViewBox||(n.svgViewBox=n.venue.get("viewBox")),this.setOptions(n),this._manageView&&(this._view=new locuslabs.maps.MapView("some uuid",this,t))},mapView_changed:function(){this._view=this.get("mapView")},setMapView:function(t){this.set("mapView",t)},teardown:function(){this._manageView&&(this._view.teardown(),this._view=null),this.callParent()},toString:function(){return"locuslabs.maps.Map"},_debugDescription:function(){return _.sprintf("Map: %s %s",this.get("venueId"),this.getUUID())},ready:function(){var t=this.getView();return t?t.ready():Promise.resolve(!0)},getCenter:function(){return this.get("center")},getRadius:function(){return this.get("radius")},getHeading:function(){return this.get("heading")},getFloorId:function(t){return this.get("floorId")},getClassName:function(){return"locuslabs.maps.Map"},getDiv:function(){return this.get("mapDiv")},getMapDiv:function(){return this.get("mapDiv")},getView:function(){return this._view},setCenter:function(t){this._debug("panzoom","center: %s",t),this.set("center",t)},setCenterPosition:function(t){this._debug("panzoom","centerPosition: %s",t),this.set("centerPosition",t)},setCenterPositionForNativeApp:function(t){this.set("centerPosition",new locuslabs.maps.Position(t))},setRadius:function(t){this._debug("panzoom","radius: %s",t),this.set("radius",t)},fixedGeometry:function(){return new locuslabs.maps.FixedGeometry(this.get("svgViewBox"),this.get("utmData"),this.get("bounds"))},setHeading:function(t){this.set("heading",t)},findWaypointSegmentClosestToLatLng:function(t,e){var i=t,n=e[0].latLng,s=_.collect(e,function(t,e){var s=t.latLng,o=locuslabs.maps.FixedGeometry.shortestDistanceFromPointToLineSegment(i,n,s).distance;return n.distance(s)<locuslabs.maps.Map.LENGTH_OF_SHORT_LINE_SEGMENT&&(o+=1e6),n=s,o});s.shift();var o=_.min(s),a=_.lastIndexOf(s,o);return{latLngs:[e[a].latLng,e[a+1].latLng],distance:o}},findDistanceFromClosestWaypointSegment:function(t,e){return this.findWaypointSegmentClosestToLatLng(t,e).distance},setHeadingFromPositionAndWaypoints:function(t,e){if(t){var i=t.latLng,n=this.findWaypointSegmentClosestToLatLng(i,e).latLngs,s=n[0].computeHeading(n[1]),o=35,a=_.default(this.getHeading(),0),u=this.getCenter().distance(i)>1,r=Math.abs(a-s)>1,c=Math.abs(this.getRadius()-o)>1;(u||r||c)&&(this.set("centerPosition",t),this.set("heading",-s),this.set("radius",o))}},resetHeading:function(){this.setHeading(0)},setFloorId:function(t){this.set("floorId",t)},setFlights:function(t){this.set("flights",t)},setPOILabel:function(t,e){var i=this.get("poiLabels");i[t]=e,this.notify("poiLabels")},setRelevantPOIs:function(t){this.set("relevantPOIs",t)},setOptions:function(t){this.setValues(t)},computeExtraButtonsForPoiPopup:function(t){return this._view.computeExtraButtonsForPoiPopup(t)},computeMenuButtonForPoiPopup:function(t){return this._view.computeMenuButtonForPoiPopup(t)},static:{LENGTH_OF_SHORT_LINE_SEGMENT:7}});
},{"../mvcobject":151}],111:[function(require,module,exports){
var IOSScrollViewPanZoom=require("./ios/iosScrollViewPanZoom"),JQueryPanZoomCss=require("./jqueryPanZoomCss"),MVCObject=require("../mvcobject");module.exports=MVCObject.subclass("MapView",{constructor:function(t,e,i){this.set("uiConfiguration",{allowBasicButtonBar:!0,allowSearchBar:!0}),this.set("mapScale",1),this.set("inIncrement",1),this.set("outIncrement",.3),this.set("uuid",t),this.set("floorViews",[]),this.set("allFloorIds",[]),this.set("panZoomMethod",locuslabs.config.panZoomMethod),this.set("displayingNavigation",!1),this.detachedFloors={},this.detachedObjectGroups={},this.extraButtonsForPoiPopupHandler={extraButtonsForPoiPopup:function(t){return new Promise(function(t){t([])})}},this.menuButtonHandler={menuButton:function(t){return new Promise(function(t){t([])})}},this.setMapDiv(i),this.setMap(e),this.updatingCenterPosition=0},setupMap:function(){this.getMap()&&this.getMapDiv()&&new locuslabs.maps.MapViewInitializer(this)},setUIConfiguration:function(t){this.set("uiConfiguration",t)},setPanZoom:function(t){this.set("panZoom",t)},setExtraButtonsForPoiPopupHandler:function(t){this.extraButtonsForPoiPopupHandler=t},setMenuButtonHandler:function(t){this.menuButtonHandler=t},setMap:function(t){this.set("map",t)},setMapDiv:function(t){_.isString(t)&&(t=document.getElementById(t)),this.set("mapDiv",t)},setMapDivFromId:function(t){this.setMapDiv(document.getElementById(t))},setPositioningEnabled:function(t){if(t){var e=this.get("navPointController");e&&e.clear(),this.set("navPointController",null);var i=new locuslabs.maps.NavPointController(this,this.getMap().get("venue").getPositionManager());this.set("navPointController",i),this.bindManyTo(["followMe"],i),i.turnFollowModeOn(),i.shouldUpdateMapViewOnUserPositionChange(!0),this.navPointControllerListener=i.addListener("position_changed",this.positionChangedHandler.bind(this))}else this.unbind("followMe"),i=this.get("navPointController"),i.removeListener(this.navPointControllerListener),i.clear(),this.navPointControllerListener=null,this.set("navPointController",null)},beaconReadings:function(t){this.getMap().get("venue").beaconReadings(t)},getUIConfiguration:function(){return this.get("uiConfiguration")},getFloorView:function(t){var e=t;return 0!=t.indexOf("ll-")&&(e="ll-"+t),this.get("floorViews")[e]},getFloorViews:function(){return this.get("floorViews")},getOrdinalForFloorId:function(t){return this.getMap()?this.getMap().get("allOrdinals")[t]:-999},getCenter:function(){return this.get("center")},getCenterPosition:function(){return this.get("centerPosition")},getBuildingIdFromLatLng:function(t,e){var i=this.positionFromLatLng(new locuslabs.maps.LatLng(t,e));return i&&(i.buildingId||i.floorId||i.sectionId)?i.buildingId?i.buildingId:i.floorId?locuslabs.maps.Utilities.getBuildingIdFromFloorId(i.floorId):locuslabs.maps.Utilities.getBuildingIdFromFloorId(locuslabs.maps.Utilities.getFloorIdFromSectionId(i.sectionId)):null},getPanZoom:function(){return this.get("panZoom")},getPanZoomMethod:function(){return this.get("panZoomMethod")},getRadius:function(){return this.get("radius")},getHeading:function(){return this.get("heading")},getImageDiv:function(){return $(this.getMapDiv()).find("#__map_images").get(0)},getMap:function(){return this.get("map")},getVenue:function(){return this.get("map").get("venue")},getMapDiv:function(){return this.get("mapDiv")},getNavPath:function(){var t=this.getMap().get("navPathId");return $(this.getSvg()).find("#"+t).get(0)},getFloorGroupForFloorId:function(t){var e="ll-"+t,i=$(this.getSvg()).find("#"+e);if(i.length>0)return i.get(0);var o=null;return _.find(this.detachedFloors,function(t){var i=_.find(t,function(t){if($(t.childNode).attr("id")==e)return o=t.childNode,!0});return i}),o},_objectGroupWithName:function(t,e){function i(t){if(e){var i=t.get("allOrdinals"),o=i[e],n=i[t.get("floorId")];return o==n}return!0}var o=d3.select(_.sprintf("#objects .%s",t)).node();if(o)return{node:o,onscreen:!0};var n=this.detachedObjectGroups[e];if(n)return{node:n,onscreen:!1};var s=d3.select("#objects").append("g").classed(t,!0),a=s.node();s.classed("ll-floor-object-container",e),s.datum({floorId:e,name:t});var r=i(this.getMap());return r||(s.remove(),this.detachedObjectGroups[e]=a),{node:a,onscreen:r}},_isObjectGroupForFloorOnscreen:function(t){return d3.select(_.sprintf("#objects .%s",_.sprintf("ll-%s",t))).node()},_moveObjectGroupForFloorIdOnscreen:function(t){var e=_.sprintf("ll-%s",t),i=this._objectGroupWithName(e,t);i.onscreen||(d3.select("#objects").node().appendChild(this.detachedObjectGroups[t]),delete this.detachedObjectGroups[t])},_moveObjectGroupsForFloorsOffscreen:function(){var t=this;d3.selectAll("#objects .ll-floor-object-container").each(function(e){t.detachedObjectGroups[e.floorId]=d3.select(this).remove().node()})},getObjectGroupForPosition:function(t){if(t){var e,i=t.getVenueId(),o=t.getBuildingId(),n=t.getFloorId(),s=t.getFloorOrdinal(),a=_.isNumber(s);n?e=_.sprintf("ll-%s",n):o&&a?e=_.sprintf("ll-%s-floor-%d",o,s):o?e=_.sprintf("ll-%s",o):a?e=_.sprintf("ll-floor-%d",s):i&&(e=_.sprintf("ll-%s",i));var r=this._objectGroupWithName(e,n);return r.node}},getSvg:function(){return $(this.getMapDiv()).find("svg").get(0)},getSvgViewBox:function(){if(this.getMap()){var t=this.getMap().get("svgViewBox");return new locuslabs.maps.ViewBox(new locuslabs.maps.Point(t.x,t.y),new locuslabs.maps.Size(t.width,t.height))}},toString:function(){return"locuslabs.maps.MapView["+this.getUUID()+"]"},_debugDescription:function(){var t=this.get("map");return _.sprintf("MapView: %s map: %J",this.getUUID(),t?t.get("venueId"):null)},getClassName:function(){return"locuslabs.maps.MapView"},mapChangedEvent:function(){try{if(!this.getCenter())return;if(!this.getRadius())return;locuslabs.session.event({type:"mapMoved",center:{lat:this.getCenter().lat(),lng:this.getCenter().lng(),venueId:this.getMap().get("venueId"),floorId:this.getMap().get("floorId")},radius:this.get("radius")})}catch(t){locuslabs.log.warn("mapChangedEvent exception: "+t)}},showCompanyLogo:function(){d3.select(this.getMapDiv()).append("div").attr("id","ll_logo"),d3.select("#ll_logo").append("i").attr("class","ll_icon ll_icon-logo")},showPoiPopup:function(t){if(this.searchController){var e=this;this.searchController.getPoi(t,function(t){e.searchController.openPoi(t)})}},showNavigation:function(t,e){this.searchController.isCurrentLocation(t)&&(t.position=this.getMap().get("venue").get("position"),this.getMap().getView().set("followMe",!0)),this.searchController.navigate(t,e)},showAllWidgets:function(){this.getUIConfiguration()&&this.getUIConfiguration().allowBasicButtonBar===!0&&this.basicButtonsBar&&this.basicButtonsBar.show(),this.getUIConfiguration()&&this.getUIConfiguration().allowSearchBar===!0&&this.searchController&&this.searchController.showSearchBar()},showNavPath:function(){$(this.getNavPath()).attr("visibility","")},showCurrentFloor:function(){this.showFloor(this.getMap().get("floorId"))},addUserClickedMyLocationListener:function(){var t=this;this.myLocation_clickedListener=this.basicButtonsBar.addListener("userClickedMyLocation",function(){t.userClickedMyLocation()})},addFlightMarker:function(t){locuslabs.log.debug("MapView.addFlightMarker: "+JSON.stringify(t));var e,i,o;if(this.isArrivingFlight(t)?(e="images/pin-plane-landing.svg",i=t.arrivalGate.gate,o="arrival"):this.isDepartingFlight(t)&&(e="images/pin-plane-takeoff.svg",i=t.departureGate.gate,o="departure"),!i)return void locuslabs.log.warn("Flight is missing gate information");if(!e)return void locuslabs.log.warn("Flight does not arrive or depart from this venue");var n=this.get("map").get("venue").search(),s=this;n.search("gate:"+i,function(n){var a=n.getResults();if(1!=a.length)return void locuslabs.log.warn('Flight gate "'+i+'" was not found');var r=this.getMap().get("venue"),l=a[0].position.floorId,d=r.findStructureForFloorId(l),h=d.getFloorData(l),u=h.name+" - "+h.details,g=a[0],c=new locuslabs.maps.Marker({icon:e,position:a[0].position});c.setMap(s.get("map")),this.addFlightMarkerListener(c,t,o,g,u),this.flightMarkers.push(c)})},showSearchResults:function(t){var e=this.getMap().get("venue"),i=this;e.search().search(t,function(e){i.searchController.showSearchResults(t,e)})},showDialogBox:function(t,e,i){if(0===document.getElementsByClassName("ll_dialog-container").length){d3.select(this.get("mapDiv")).append("div").attr("class","ll_dialog-container"),d3.select(".ll_dialog-container").append("div").attr("class","ll_dialog-header").text(t),d3.select(".ll_dialog-container").append("div").attr("class","ll_dialog-text").html(e),d3.select(".ll_dialog-container").append("div").attr("class","ll_dialog-close").text(i);var o=this;$(document.querySelector(".ll_dialog-close")).on("click",function(){o.hideDialogBox()})}},hideDialogBox:function(){$(document.querySelector(".ll_dialog-close")).off("click"),d3.select(".ll_dialog-container").transition().duration(300).ease("ease-out").style("top","100%").remove()},removeUserClickedMyLocationListener:function(){this.basicButtonsBar.removeListener(this.myLocation_clickedListener)},closePoiPopup:function(){this.searchController.closePoiPopup()},cancelUserNavigation:function(){this.get("navPointController").shouldUpdateMapViewOnUserPositionChange(!0),this.searchController.cancelUserNavigation()},hideNavPath:function(){$(this.getNavPath()).attr("visibility","hidden")},hideCompanyLogo:function(){d3.select("#ll_logo").remove()},hideAllWidgets:function(){this.basicButtonsBar&&this.basicButtonsBar.hide(),this.searchController&&this.searchController.hideSearchBar()},showLabels:function(t){if(this.getMap()){_.isUndefined(t)&&(t=500);var e=this.getMap().get("venueId"),i=d3.select("#ll-"+e+"-labels"),o=d3.select("#ll-"+e+"-sections-label");0==t?(i.style("opacity",1),o.style("opacity",1),i.style("visibility","visible"),o.style("visibility","visible")):(i.style("visibility","visible"),o.style("visibility","visible"),i.transition().duration(t).style("opacity",1),o.transition().duration(t).style("opacity",1))}},hideLabels:function(t){if(this.getMap()){_.isUndefined(t)&&(t=500);var e=this.getMap().get("venueId"),i=d3.select("#ll-"+e+"-labels"),o=d3.select("#ll-"+e+"-sections-label");0==t?(i.style("opacity",0),o.style("opacity",0),i.style("visibility","hidden"),o.style("visibility","hidden")):(i.transition().duration(t).style("opacity",0).each("end",function(){i.style("visibility","hidden")}),o.transition().duration(t).style("opacity",0).each("end",function(){o.style("visibility","hidden")}))}},disablePOIClick:function(){this.searchController.disablePOIClick()},enablePOIClick:function(){this.searchController.enablePOIClick()},uniqueFloorOrdinals:function(){return _.uniq(_.values(this.getMap().get("allOrdinals")))},_getContainer:function(){return $(this.getSvg()).find("#container").get(0)},ready:function(){var t=this;return this.isReady()?Promise.resolve(!0):new Promise(function(e,i){t.addListener("ready",function(){e(!0)})})},findPOIId:function(t){for(var e=$(t);e.length;){var i=e.attr("id");if(i&&0==i.indexOf("ID"))return i.substring(2);e=e.parent()}},userClickedMyLocation:function(){var t=this.get("navPointController");if(null!=t&&(t.turnFollowModeOn(),null!=t.get("position"))){var e=new locuslabs.maps.Position(t.get("position"));this.getMap().setCenterPosition(e),this.getMap().setRadius(35)}},positionChangedHandler:function(t){this.modifyMyLocationButton(t),this.positionMayChangeUserPositionWithinRoute(t)},modifyMyLocationButton:function(t){null!=this.searchController&&(_.isUndefined(t)||(_.isNull(t)?this.basicButtonsBar.dimRepositionButton():(this.basicButtonsBar.modifyButtonsBar(this.basicButtonsBar.buttonsBar,this.basicButtonsBar.repositionButton,!1),this.basicButtonsBar.highlightRepositionButton())))},updateSvgTransform:function(t){if(this.getSvg()){t.resetHeading&&(t.heading=0);var e;this.get("center")&&(e=this.fromLatLng(this.get("center")));var i,o=_.default(t.svgTranslate,this.get("svgTranslate")),n=_.default(t.svgScale,this.get("svgScale")),s=_.default(t.heading,this.get("heading")),a=_.default(t.rotationPoint,e?e:[0,0]),r=_.default(t.animate,!1),l=this.get("svgRotation"),d=[0,0],h=0;if(this.get("center")){i=e,_.isDefined(l)&&(d=l.translation,h=l.heading,_.isDefined(l.lastCenterCoords)&&(i=l.lastCenterCoords));var u=this.fixedGeometry().rotateCoordinatesAroundAPoint(e,-h,i),g=[u[0]-e[0],u[1]-e[1]];d="iosScrollView"==this.get("panZoomMethod")?[d[0]+g[0],d[1]+g[1]]:[0,0]}if(this._debug("panzoom","translation: %j scale: %.6f heading: %.1f lastCenterCoords: %j prevHeading: %.1f centerCoords: %j rotationDelta: %j rotationTranslation: %j ",o,n,s,i,h,e,g,d),this.svgRenderer||(this.svgRenderer=new locuslabs.maps.SvgRenderer(this.get("mapDiv"))),h!=s){var c=this.svgRenderer.clampHeadingTo0Or180(s);this.svgRenderer.rotatePois(s,".ll_poi-rotatable"),this.svgRenderer.rotatePois(c.clamped,".ll_poi-up-or-down"),this.svgRenderer.rotateText(c.clamped)}this.svgRenderer.transformMap({translation:o,scale:n,mapScale:this.get("mapScale"),heading:s,rotationPoint:a,rotationTranslation:d,animate:r}),this.set("svgTranslate",o),this.set("svgScale",n),this.set("heading",s),this.set("svgRotation",{heading:s,point:a,translation:d,lastCenterCoords:e})}},showFloor:function(t){if(t){var e=this.getMap().get("allOrdinals"),i=e[t],o=".ll_floor_"+i;this._debug("levels","Changing to %J %J",t,o);var n=this;_.each(this.detachedFloors["ll_floor_"+i],function(t){t.parentNode.appendChild(t.childNode),n._moveObjectGroupForFloorIdOnscreen(t.floorId)}),this.getMap().set("floorId",t)}},panZoomSvg:function(t,e,i){var o=this.calculateSvgTransform(t,e);this.updateSvgTransform({svgTranslate:o.translate,svgScale:o.scale,animate:i})},isReady:function(){return!!$(this.getMapDiv()).attr("locuslabs-ready")},isArrivingFlight:function(t){var e=this.get("map").get("venue").get("airportCode").toLowerCase();if(t.arrivalGate.airportCode)var i=t.arrivalGate.airportCode.toLowerCase();return Boolean(i==e)},isDepartingFlight:function(t){var e=this.get("map").get("venue").get("airportCode").toLowerCase();if(t.departureGate.airportCode)var i=t.departureGate.airportCode.toLowerCase();return Boolean(i==e)},isPointInBounds:function(t,e){this.boundsPolygons||(this.boundsPolygons={});var i=$(e).attr("id");return this.boundsPolygons[i]||($(e).is("g")&&(e=$(e).find("path")[0]),this.boundsPolygons[i]=locuslabs.maps.Utilities.pathToPolygonPoints(e)),locuslabs.maps.Utilities.isPointInPolygon(t,this.boundsPolygons[i])},poiLatLng:function(t){var e=this.elementLatLngAndRadius("ID"+t);return e.latLng},poiRadius:function(t){var e=this.elementLatLngAndRadius("ID"+t);return e.radius},positionFromElement:function(t){var e={},i=$(t).parents(".ll-floor-object-container");if(i.length){var o=d3.select(i[0]);return e.floorId=o.datum().floorId,e.buildingId=locuslabs.maps.Utilities.getBuildingIdFromFloorId(e.floorId),e.venueid=locuslabs.maps.Utilities.getVenueIdFromFloorId(e.floorId),e}var n=$(t).parents(".ll_venue");n.length&&(e.venueId=n.attr("id").substring(3));var s=$(t).parents(".ll_building");s.length&&(e.buildingId=s.attr("id").substring(3));var a=$(t).parents(".ll_floor");return a.length&&(e.floorId=a.attr("id").substring(3),e.floorOrdinal=this.getMap().get("allOrdinals")[e.floorId]),e},positionFromLatLng:function(t){if(this.getSvg()){var e,i,o,n=this.fromLatLng(t),s=$(this.getSvg()).find("[class~=ll_bounds]"),a=this.getMap().get("venueId"),r=this.get("floorIds");r||(r=[],d3.selectAll(".ll_floor").each(function(){r.push(d3.select(this).attr("id").substring(3))}));var l=this;return $.each(s,function(){var t=$(this).attr("id");if(t){if(t=t.substr(0,t.length-"-bounds".length),t=t.substr(3),d3.select(this).classed("ll_building_bounds")){if(!l.isPointInBounds(n,this))return;e=t}if(d3.select(this).classed("ll_floor_bounds")){if(l._debug("click","floorIds: %j",r),!r||$.inArray(t,r)==-1)return;if(!l.isPointInBounds(n,this))return;i=t}if(d3.select(this).classed("ll_section_bounds")){var s=locuslabs.maps.Utilities.getFloorIdFromSectionId(t);if(!r||$.inArray(s,r)==-1)return;if(!l.isPointInBounds(n,this))return;o=t}}}),{latLng:t,latitude:t.lat(),longitude:t.lng(),venueId:a,buildingId:e,floorId:i,sectionId:o,nearAirport:!0}}},toUTM:function(t){return this.fixedGeometry().fixedPointToUtm(t)},distance:function(t,e){var i=this.fromLatLng(t),o=this.fromLatLng(e),n=i[0]-o[0],s=i[1]-o[1],a=Math.sqrt(n*n+s*s);return this.toMeters(a)},toLatLng:function(t,e){return this.fixedGeometry().fixedPointToLatLng(t)},fromLatLng:function(t){return t?this.fixedGeometry().latLngToFixedPoint(t):null},toMeters:function(t){return t?this.fixedGeometry().fromFixedDistanceToMeters(t):null},fromMeters:function(t){return t?this.fixedGeometry().fromMetersToFixedDistance(t):null},positionMayChangeUserPositionWithinRoute:function(t){if(null!=this.searchController){var e="jqueryPanZoomCss"==this.get("panZoomMethod");e&&this.get("followMe")&&this.searchController.isNavigating()&&this.searchController.showUserPositionWithinRoute(t)}},updateCenterPosition:function(){if(!this.updatingCenterPosition)try{var t=this.get("center");this.set("centerPosition",t?this.positionFromLatLng(t):null)}catch(t){locuslabs.log.warn("updateCenter exception: "+t)}},fixedGeometry:function(){var t=this.getMap();return new locuslabs.maps.FixedGeometry(this.getSvgViewBox(),t.get("utmData"),t.get("bounds"))},pixelScale:function(){var t=this.get("scale"),e=this.getSvgViewBox();if(e){var i=this._computeSvgHeight(),o=this._computeSvgWidth();if("iosScrollView"==this.get("panZoomMethod")){var n=this.get("scrollViewSize");o=n[0],i=n[1]}var s=e.size.width/o,a=e.size.height/i,r=a>s?a:s;return t/r}},markerInflator:function(){if("iosScrollView"==this.get("panZoomMethod")){var t=this.get("scale"),e=this.getSvgViewBox().size.width,i=this.get("scrollViewSize")[0],o=i/e;return t*o}return this.pixelScale()},elementLatLngAndRadius:function(t){var e=document.getElementById(t);if(!e)return null;var i=e.getBBox(),o=[i.x+i.width/2,i.y+i.height/2],n=this.toLatLng([i.x,i.y],!0),s=this.toLatLng(o,!0);return{latLng:s,radius:n.distance(s)}},calculateSvgTransform:function(t,e,i){var o=this.fromMeters(e),n=this;d3.select(window).on("resize",function(){n.svgWidth=null,n.svgHeight=null});var s,a,r=2*o*this.get("mapScale"),l=this.getSvgViewBox(),d=this._computeSvgHeight(),h=this._computeSvgWidth();a=i?l.size.width/r:h<d?l.size.width/r:l.size.height/r,s=a;var u=this.fromLatLng(t),g=l.size.width/h,c=l.size.height/d,p=[h/2*g+l.origin.x,d/2*c+l.origin.y],f=[p[0]-u[0]*s,p[1]-u[1]*s];return this._debug("panzoom","Converting (center: %j radius: %.6f) TO (scale: %.6f translation: %j)",t,e,s,f),{scale:s,translate:f}},generateMouseEvent:function(t,e){e=e||{};var i={},o=t.mouse(this._getContainer());return i.latLng=this.toLatLng(o),e.target?_.defaults(i,this.positionFromElement(e.target)):_.defaults(i,this.positionFromLatLng(i.latLng)),new locuslabs.maps.MouseEvent(i)},computeExtraButtonsForPoiPopup:function(t){return this.extraButtonsForPoiPopupHandler.extraButtonsForPoiPopup(t)},computeMenuButtonForPoiPopup:function(t){return this.menuButtonHandler.menuButton(t)},_computeSvgWidthAndHeight:function(){var t=d3.select(this.getSvg()).select("#container").node();t&&this.getSvg().removeChild(t),this.svgWidth=$(this.getSvg()).width()||screen.width,this.svgHeight=$(this.getSvg()).height()||screen.height,t&&this.getSvg().appendChild(t)},_computeSvgHeight:function(){return this.svgHeight||this._computeSvgWidthAndHeight(),this.svgHeight},_computeSvgWidth:function(){return this.svgWidth||this._computeSvgWidthAndHeight(),this.svgWidth},hideAllFloors:function(){d3.selectAll(".ll_floor").each(function(t,e){this.parentNode.removeChild(this)}),$(this.getMapDiv()).find("[class=ll_floor_ordinal]").css("visibility","hidden"),this._moveObjectGroupsForFloorsOffscreen()},teardown:function(){var t=this.getPanZoom();t&&(t.teardown&&t.teardown(),this.set("panZoom",null)),this.get("allFloorIds").forEach(function(t){var e=this.getFloorView(t);e&&e.teardown()}.bind(this)),this.detachedFloors={},console.log("MapView.teardown starting _objects"),window.locuslabs&&window.locuslabs.ios&&window.locuslabs.ios._objects&&(this._debug("teardown","MapView.teardown nulling  window.locuslabs.ios._objects"),window.locuslabs.ios._objects={}),this._mapData&&(this._mapData=null),this.floorId_changedListener&&(this.getMap()&&this.getMap().removeListener(this.floorId_changedListener),this.floorId_changedListener=null),this.callParent()},addFloorChangedListenerToMap:function(){var t=this;this._debug("init map","MapView.addFloorChangedListener"),this.floorId_changedListener=this.getMap().addListener("floorId_changed",function(){var e=t.getMap().get("floorId");t._debug("notopic","Map floorId changed to: %J",e),t.hideAllFloors(),t.showFloor(e),t.mapChangedEvent();var i=[];d3.selectAll(".ll_floor").each(function(){i.push(d3.select(this).attr("id").substring(3))}),t.set("floorIds",i)})},uiConfiguration_changed:function(){this.hideAllWidgets(),this.showAllWidgets()},panZoomMethod_changed:function(){this.getPanZoom()&&this.getPanZoom().set("mapView",null);var t=locuslabs.maps.MapView.panZoomMethods[this.getPanZoomMethod()];t&&this.setPanZoom(new t({mapView:this}))},flights_changed:function(){locuslabs.log.debug("MapView.flights_changed"),locuslabs.log.debug("Flights: "+JSON.stringify(this.get("flights"))),_.each(this.flightMarkers,function(t){t.setMap(null)}),this.flightMarkers=[];var t=this;_.each(this.get("flights"),function(e){t.addFlightMarker(e)})},map_changed:function(){this._mapData={},this.bindManyTo(["center","centerPosition","radius","heading","flights"],this.get("map")),this.setupMap()},heading_changed:function(t){var e=_.isUndefined(this.get("heading"))||0==this.get("heading");_.isUndefined(t)&&e||this.updateSvgTransform({animate:!0})},mapDiv_changed:function(t){$(t).empty(),$(t).attr("locuslabs-ready",""),this.setupMap()},radius_changed:function(){this._debug("panzoom","radius: %.6f",this.getRadius()),this.mapChangedEvent()},scale_changed:function(){this.pixelScale()<.3?this.showLabels():this.hideLabels()},mode_changed:function(){this._debug("mode-change","MapView.mode_changed to: %s",this.get("mode"))},center_changed:function(){this._debug("panzoom","center: %j",this.getCenter()),this.mapChangedEvent(),this.updateCenterPosition()},centerPosition_changed:function(){var t=this.getCenterPosition();!t||t instanceof locuslabs.maps.Position||(t=new locuslabs.maps.Position(t)),this._debug("panzoom","center: %j",t)},_setLastKnownCenter:function(){this.set("lastKnownCenter",this.getCenter())},_isCurrentPositionNearLastPosition:function(){var t=2*this.getRadius(),e=this.get("lastKnownCenter")?this.getCenter().distance(this.get("lastKnownCenter")):0,i=e/t;return i>.002},poiClickHandler:function(){if(!this._isCurrentPositionNearLastPosition()){var t=d3.mouse(this._getContainer()),e=this.positionFromLatLng(this.toLatLng(t,!0));if(e.poiId=this.findPOIId(d3.event.target),e.poiId)this._debug("click","POI %d Clicked latLng: %s floor: %s $id: %s ",e.poiId,e.latLng,e.floorId,$(this).attr("id")),locuslabs.maps.event.trigger(this.getMap(),"poi_click",e),locuslabs.maps.event.trigger(this,"poi_click",e);else{this._debug("click","Non-POI Clicked latLng: %s floor: %s id: %s",e.latLng,e.floorId,$(this).attr("id"));var i=new locuslabs.maps.MouseEvent(e);locuslabs.maps.event.trigger(this.getMap(),"click",i),locuslabs.maps.event.trigger(this,"click",i)}locuslabs.session.event({type:"mapTapped",tapPosition:e})}},sortObjectGroup:function(t){$(t).children().tsort({attr:"z-index"})},runMemoryTests:function(t){console.log("MEMORY TESTS (mapView): FindUnexpectedGlobals"),(new locuslabs.FindUnexpectedGlobals).output(),console.log("MEMORY TESTS: MemoryFootprint: window"),(new locuslabs.MemoryFootprint).output(window),console.log("MEMORY TESTS: FindDetachedNodes"),(new locuslabs.FindDetachedNodes).output(window),console.log("MEMORY TESTS: CountDomElements"),(new locuslabs.CountDomElements).output(document),console.log("MEMORY TESTS (mapView) end")},addFlightMarkerListener:function(t,e,i,o,n){var s=this;t.flight=new locuslabs.maps.FlightStatus({map:this.getMap(),mapDiv:this.getMapDiv(),venue:this.getMap().get("venue"),flight:e,flightType:i,position:o.position,level:n,poi:o}),t.addListener("click",function(){o.position.latLng=new locuslabs.maps.LatLng(o.position.latitude,o.position.longitude),this.getMap().setFloorId(o.position.floorId),this.getMap().setCenter(o.position.latLng),o.radius?this.getMap().setRadius(o.radius):this.getMap().setRadius(20),d3.select(".ll_flight-card-status").empty()&&t.flight.show(),s.hideAllWidgets()}.bind(this)),t.flight.addListener("close",function(){s.showAllWidgets(),locuslabs.maps.event.trigger(this,"poiClose"),this.set("mode","normal")}.bind(this)),t.flight.addListener("navigateToPoi",function(){var e=t.flight.getFlightStatusPoi();this.get("myPosition")?this.navigate(this.get("myPosition"),e):(this.basicButtonsBar.openNavigationPopup(null,e),t.flight.close())}.bind(this))},static:{newInstance:function(t,e){var i=e[0],o=e[1],n=new locuslabs.maps.MapView(t,i,o);return n.set("inIncrement",1),n.set("outIncrement",.3),n},panZoomMethods:{iosScrollView:IOSScrollViewPanZoom,jqueryPanZoomCss:JQueryPanZoomCss}}}),d3.selection.prototype.classes=function(t,e){var i=this.node();return i.classList?i.classList:(e=i.getAttribute("class"),e.split(/\s+/))};
},{"../mvcobject":151,"./ios/iosScrollViewPanZoom":81,"./jqueryPanZoomCss":82}],112:[function(require,module,exports){
var loadVenue=require("./map-loading/load-venue");module.exports=locuslabs.Base.subclass("MapViewInitializer",{constructor:function(e){this.mapView=e,this.map=this.mapView.get("map"),this.venue=this.map.get("venue"),this.venueId=this.map.get("venueId"),this.isFastLoad=loadVenue.selectors.isFastLoad(locuslabs.reduxStore.getState(),this.venueId),this.mapDiv=this.mapView.getMapDiv(),this.mapDiv.setAttribute("name","locuslabs-js-sdk-container"),this.defaultInitialZoom={position:this.map.get("venueCenterPosition"),radius:this.map.get("venueRadius"),showFlightMarker:!1},this.animationDuration=50,d3.select(this.mapDiv).attr("locuslabs-ready","").selectAll("*").remove(),this._installInitialSvg()},_reduxVenue:function(){return locuslabs.reduxStore.getState().venues[this.venueId]},_installInitialSvg:function(){var e=this.mapView,t=this._readSvgTextIntoDetachedNode(this._reduxVenue().initialSvg);this.mapDiv.appendChild(t),d3.select("#container").append("g").attr("id","objects");var a=document.createElement("div");this.mapView.getMapDiv().appendChild(a),a.setAttribute("id","__map_images");var s=1!=e.get("mapScale");s&&d3.select("svg").style("position","absolute").style("overflow","visible");var i=this.map.initialZoom||this.defaultInitialZoom;i.showFlightMarker&&e.hideLabels(0),e.getPanZoom()&&e.getPanZoom().addSvgToDom?(e.getPanZoom().addSvgToDom(d3.select("svg").node()),this._computeInitialMapTransform(i.position.getLatLng(),i.radius,this.animationDuration,this._requestFullSvg.bind(this)),this._placeFlightMarker(i)):(this.mapDiv.appendChild(d3.select("svg").node()),e.panZoomSvg(this.map.get("venueCenter"),this.map.get("venueRadius"),!1),this._computeInitialMapTransform(i.position.getLatLng(),i.radius,500,this._requestFullSvg.bind(this))),this.map.set("floorId",i.position.getFloorId())},_placeFlightMarker:function(e){},_requestFullSvg:function(){var e=this;loadVenue.listenForFieldToBeFilled(function(){return e._processFullSvg()},loadVenue.selectors.fullSvg,this.venueId),this.isFastLoad&&locuslabs.reduxStore.dispatch(loadVenue.actions.requestFullSvg(this.venueId))},_computeInitialMapTransform:function(e,t,a,s){var i=this.mapView,n=i.getMap(),o=this.venue.getVenueRadius(),l=this.venue.getVenueCenter();l instanceof locuslabs.maps.LatLng||(l=new locuslabs.maps.LatLng(l[0],l[1]));var r=this._usesJavaScriptPanZoom()?i.calculateSvgTransform(e,t):i.calculateSvgTransform(l,o);n.set("center",e),n.set("radius",t),n.set("heading",0),i.set("svgTranslate",r.translate),i.set("svgScale",r.scale),i.set("heading",0),i.set("svgRotation",{heading:0,point:[0,0],translation:[0,0],lastCenterCoords:void 0});var d=[];d.push("translate("+r.translate.join(" ")+")"),d.push("scale("+r.scale+")"),locuslabs.config.jsdomHacks?(d3.select("#container").attr("transform",d.join(" ")),s()):setTimeout(function(){d3.select("#container").attr("transform",d.join(" ")),s()},a)},_readSvgTextIntoDetachedNode:function(e){var t;if(document.createRange){var a=document.createRange();a.createContextualFragment?(a.selectNode(this.mapDiv),t=a.createContextualFragment(e)):t=$(e).get(0)}else t=$(e).get(0);return t},_processFullSvg:function(){var e=this._readSvgTextIntoDetachedNode(this._reduxVenue().fullSvg);this._updateMapViewUsingDataFromMap(e),this._updateOffscreenSvg(e),this._addListeners(e),this._detachAllFloorsFromSvg(e);var t=this.map.get("mapId"),a=d3.select(e).select("g").select(".ll_buildings"),s=d3.select("svg").select("#"+t).node(),i=d3.select(e).select("g").select("pattern").node();i&&s.insertBefore(i,s.firstChild),s.insertBefore(a.node(),s.lastChild),this.mapView.showCompanyLogo(),a.style("opacity",0);var n=function(){var e=this;loadVenue.finishedLoading(this.venueId,function(){e._addMapWidgets(),e._triggerReady()}),this.isFastLoad&&locuslabs.reduxStore.dispatch(loadVenue.actions.requestNavData(this.venueId)),this.mapView.showCurrentFloor()}.bind(this),o=!1;o?a.transition().duration(this.animationDuration).style("opacity",1).each("end",function(){n()}):setTimeout(function(){a.style("opacity",1),n()},this.animationDuration)},_usesJavaScriptPanZoom:function(){return this.mapView.getPanZoom()&&this.mapView.getPanZoom().addSvgToDom},_updateMapViewUsingDataFromMap:function(e){var t=this.mapView;this.map.get("allStructures").push(this.venueId+"-content"),t.set("allFloorIds",t.get("allFloorIds").concat(this.map.get("allFloors"))),_.each(this.map.get("allFloors"),function(a){var s="ll-"+a,i=t.get("floorViews");d3.select(e).select("#"+s).each(function(){i[s]=new locuslabs.maps.FloorView({group:this,mapView:t,floorId:a})})}),this._usesJavaScriptPanZoom()&&(t.get("scale")||t.set("scale",1,!0),t.get("translate")||t.set("translate",[0,0],!0))},_addMapWidgets:function(){if(locuslabs.config.useMapWidgets){this.map.set("buildingId",this.venue?this.venue.getDefaultStructureId():void 0),this.map._view=this.mapView,this.mapView.basicButtonsBar=new locuslabs.maps.BasicButtonsBar({map:this.map,venue:this.venue}),this.mapView.getUIConfiguration().allowBasicButtonBar&&this.mapView.basicButtonsBar.show();var e=$('<div class="ll_search-bar-container"></div>');$(this.mapDiv).append(e),this.mapView.searchController=new locuslabs.maps.SearchController({map:this.map,venue:this.venue,levelSelector:this.mapView.basicButtonsBar.levelSelector,searchBarContainer:e,iconsPath:"images/"}),this.mapView.getUIConfiguration().allowSearchBar&&this.mapView.searchController.showSearchBar(),this.mapView.bindTo("mode",this.mapView.searchController,"mode"),this.mapView.addUserClickedMyLocationListener()}},_updateOffscreenSvg:function(e){var t=this.map.get("venueOrientation");_.each(["html","body","svg","#map"],function(e){d3.select(e).classed(t,!0)});var a=d3.select(e);a.selectAll("text").each(function(){d3.select(this).datum({})}),d3.selectAll("text").each(function(){d3.select(this).datum({})})},_addListeners:function(e){function t(e,t){var s=_.collect(e,function(e){return"#ll-"+e+"-content"});_.each(s,function(e){locuslabs.log.debug('MapView.addClickHandlers("'+e+'")'),d3.select(t).select(e).on("click",a.poiClickHandler.bind(a))})}var a=this.mapView;t([this.venueId],d3.select("svg").node()),t(this.map.get("allFloors"),e),a.addFloorChangedListenerToMap()},_detachAllFloorsFromSvg:function(e){var t=this.mapView;d3.select(e).selectAll(".ll_floor").each(function(e,a){var s=d3.select(this),i=_.find(s.classes(),function(e){return e.match(/ll_floor_[0-9-]+/)});s.style("visibility","visible"),t.detachedFloors[i]||(t.detachedFloors[i]=[]),t.detachedFloors[i].push({parentNode:this.parentNode,childNode:this.parentNode.removeChild(this),floorId:s.attr("id").substring(3)})})},_triggerReady:function(){var e=this.mapView;this._debug("init map","MapView.triggerReady"),d3.select(this.mapDiv).attr("locuslabs-ready",!0),this._debug("init map","MapView ready"),locuslabs.maps.event.trigger(e,"ready")}});
},{"./map-loading/load-venue":103}],113:[function(require,module,exports){
var Position=require("./position");module.exports=Position.subclass("MouseEvent",{constructor:function(s){return s&&s.getClassName&&"locuslabs.maps.LatLng"==s.getClassName()?void this.callParent({latLng:s}):void this.callParent(s)},serialize:function(){return{__locuslabs_serialized_object__:!0,className:"locuslabs.maps.MouseEvent",data:{lat:this.latLng.lat(),lng:this.latLng.lng(),venueId:this.venueId,buildingId:this.buildingId,floorId:this.floorId,sectionId:this.sectionId}}},getUUID:function(){},getClassName:function(){return"locuslabs.maps.MouseEvent"},static:{deserialize:function(s){return new locuslabs.maps.MouseEvent(s)}}});
},{"./position":141}],114:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("GraphEdge",{constructor:function(t,i,n,s,e,r,c,u,h,o){this.callParent(),this.src=t,this.dst=i,this.type=n,this.transitTime=s,this.distance=e,this.securityCheckpoint=!!r&&r,this.path=c,this.action=u||null,this.details=h||null,this.driveway=!!o&&o},getSrc:function(){return this.src},getDst:function(){return this.dst},getType:function(){return this.type},getTransitTime:function(){return this.transitTime},getDistance:function(){return this.distance},getPath:function(){return this.path},getDetails:function(){return this.details},getAction:function(){return this.action},isSecurityCheckpoint:function(){return this.securityCheckpoint},isDriveway:function(){return this.driveway},toString:function(){return this.getSrc()+" -> "+this.getDst()}});
},{}],115:[function(require,module,exports){
geohash=require("geohasher"),calculateAdjacent=geohash.calculateAdjacent,module.exports=Base.subclass("NavigationGraph",{constructor:function(t){this.callParent(),this.venueId=t,this.nodeList=[],this.nodes={},this.geoDb={},this.edgeBoundingBoxes=null},getVenueId:function(){return this.venueId},toString:function(){var t="[";return _.each(this.getAllNodes(),function(e,n,o){t+=e.getId()+", "}),t+="]","Nodes: "+t+", Count: "+this.nodeList.length},addNode:function(t){this.nodeList.push(t),this.nodes[t.getId()]=t;var e=t.getFloorId()+":"+t.getLatLng().getGeohash().substr(0,7),n=t.getFloorId()+":"+t.getLatLng().getGeohash().substr(0,8);this.geoDb[e]||(this.geoDb[e]=[]),this.geoDb[e].push(t),this.geoDb[n]||(this.geoDb[n]=[]),this.geoDb[n].push(t),this.edgeBoundingBoxes=null},getNode:function(t){return this.nodes[t]},getAllNodes:function(){return this.nodeList},distanceBetweenNodes:function(t,e){try{var n=this.getNode(t),o=this.getNode(e);return n.getLatLng().distance(o.getLatLng())}catch(n){return locuslabs.log.warn("distanceBetweenNodes: "+t+", "+e),Number.MAX_VALUE}},findShortestPath:function(t,e){try{if(t==e)return[t];var n=this._findPaths(t,e),o=e.getId();if(void 0==n[o])return null;for(var s=[o];n[o];)s.push(o=n[o]);for(var a=[],i=s.length-1;i>=0;i--)a.push(this.nodes[s[i]]);return a}catch(t){return this._debug("findShortestPath: "+t),null}},findClosestNode:function(t,e){for(var n=this.findNodesByGeohash(t,e.getGeohash()),o=[],s=0;s<n.length;s++)o.push([n[s],e.distance(n[s].getLatLng())]);o.sort(function(t,e){return t[1]-e[1]});for(var a=[],s=0;s<o.length;s++)a.push(o[s][0]);return a[0]},findClosestNodeNoDriveways:function(t,e){var n=this.interpolateClosestPoint(e);return this.findClosestNode(t,n)},getEdgeBoundingBoxes:function(){if(!this.edgeBoundingBoxes){var t={},e=_.compact(_.flatten(_.collect(this.nodeList,function(e){return _.collect(e.edgeList,function(n){var o=Math.min(e.id,n.dst)+"|"+Math.max(e.id,n.dst);return t[o]?null:(t[o]=!0,n.isDriveway()?null:{src:e.id,dst:n.dst})})})));this.edgeBoundingBoxes=_.each(e,function(t){var e=this.nodes[t.src].position.latLng,n=this.nodes[t.dst].position.latLng,o=e.lng(),s=n.lng(),a=e.lat(),i=n.lat(),r=a>i,u=o<s;t.top=r?a:i,t.bottom=r?i:a,t.left=u?o:s,t.right=u?s:o},this)}return this.edgeBoundingBoxes},cohenSutherlandIntersect:function(t,e,n,o,s,a,i,r){function u(t,e){var n=h;return t<s?n|=g:t>i&&(n|=c),e<a?n|=f:e>r&&(n|=p),n}for(var d,l,h=0,g=1,c=2,f=4,p=8,v=u(t,e),L=u(n,o);;){if(!(v|L))return!0;if(v&L)return!1;var b=v?v:L;b&p?(d=t+(n-t)*(r-e)/(o-e),l=r):b&f?(d=t+(n-t)*(a-e)/(o-e),l=a):b&c?(l=e+(o-e)*(i-t)/(n-t),d=i):b&g&&(l=e+(o-e)*(s-t)/(n-t),d=s),b==v?(t=d,e=l,v=u(t,e)):(n=d,o=l,L=u(n,o))}},_edgesNearLatLng:function(t,e){var n=t.lat()+e,o=t.lat()-e,s=t.lng()-e,a=t.lng()+e;return _.filter(this.getEdgeBoundingBoxes(),function(t){return this.cohenSutherlandIntersect(t.left,t.bottom,t.right,t.top,s,o,a,n)},this)},interpolateClosestPoint:function(t){for(var e=5e-4,n=this._edgesNearLatLng(t,e);0==n.length;)e=1.4*e,n=this._edgesNearLatLng(t,e);var o=_.collect(n,function(e){var n=this.nodes[e.src].position.latLng,o=this.nodes[e.dst].position.latLng;return locuslabs.maps.FixedGeometry.shortestDistanceFromPointToLineSegment(t,n,o)},this),s=_.reduce(o,function(t,e){return e.distance<t.distance?e:t},{distance:Number.MAX_VALUE,point:null});return s.point},findClosestPoint:function(t,e){var n=this.findClosestNode(t,e);return n.getLatLng()},findNodesByGeohash:function(t,e){var n=this._findNodesByGeohash(t,e,8);return n.length>0?n:this._findNodesByGeohash(t,e,7)},_findNodesByGeohash:function(t,e,n){var o=e.substr(0,n),s=[];s.push(t+":"+calculateAdjacent(calculateAdjacent(o,"top"),"left")),s.push(t+":"+calculateAdjacent(o,"top")),s.push(t+":"+calculateAdjacent(calculateAdjacent(o,"top"),"right")),s.push(t+":"+calculateAdjacent(o,"left")),s.push(t+":"+o),s.push(t+":"+calculateAdjacent(o,"right")),s.push(t+":"+calculateAdjacent(calculateAdjacent(o,"bottom"),"left")),s.push(t+":"+calculateAdjacent(o,"bottom")),s.push(t+":"+calculateAdjacent(calculateAdjacent(o,"bottom"),"right"));for(var a=[],i=0;i<s.length;i++){var r=this.geoDb[s[i]];if(r)for(var u=0;u<r.length;u++)a.push(r[u])}return a},_findPaths:function(t,e){try{if(!t||!e)return null;if(t==e)return[t];var n={},o={},s={},a=new locuslabs.maps.MinPriorityQueue;for(_.each(this.nodeList,function(t,e,s){n[t.getId()]=Number.MAX_VALUE,o[t.getId()]=void 0,a.offerWithPriority(t.getId(),Number.MAX_VALUE)}),n[t.getId()]=0,delete o[t.getId()],a.raisePriority(t.getId(),0);!a.isEmpty();){for(var i=a.poll(),r=this.getNode(i),u=r.getEdges(),d=0;d<u.length;d++){var l=u[d].getDst();if(!s[l]){var h=n[i]+u[d].getTransitTime();h<n[l]&&(n[l]=h,o[l]=i,a.raisePriority(l,h))}}s[i]=!0}return o}catch(t){return this._debug("_findPaths: "+t),null}},static:{buildGraph:function(t,e){var n=new locuslabs.maps.NavigationGraph(t);try{return _.each(e.nodes,function(e,o,s){var a=e.id,i=new locuslabs.maps.Position({venueId:t,buildingId:"unknown",floorId:e.floorId,lat:e.lat,lng:e.lng});n.addNode(new locuslabs.maps.GraphNode(a,i))}),_.each(e.edges,function(t,e,o){var s=t.s,a=t.d,i=t.a?t.a:null,r=t.n?t.n:null,u=!1;_.isDefined(t.h)&&!t.h&&(u=!0);var d=n.distanceBetweenNodes(s,a),l=""==t.t?"Ground":t.t,h=!!t.x&&t.x,g=t.l;0==g&&(g=d/locuslabs.config.walkingSpeed);var c=null;if(t.p){for(var f=[],p=0;p<t.p.length;p++){var v=t.p[p],L={};L.start=new locuslabs.maps.LatLng(v.s[0],v.s[1]),L.out=new locuslabs.maps.LatLng(v.o[0],v.o[1]),L.in=new locuslabs.maps.LatLng(v.i[0],v.i[1]),L.end=new locuslabs.maps.LatLng(v.e[0],v.e[1]),f.push(L)}c=new locuslabs.maps.GraphEdge(s,a,l,g,d,h,f,i,r,u)}else c=new locuslabs.maps.GraphEdge(s,a,l,g,d,h,null,i,r,u);n.getNode(s).addEdge(c)}),n}catch(t){return n._error("NavigationGraph.buildGraph: "+t),null}},graphValidator:function(t){var e=[],n=[],o=t.getAllNodes(),s=Math.random(),a=+Number(s*o.length).toFixed(0),i=o[a];return null==i?(t._debug("Bad Node - Trying again "),locuslabs.maps.NavigationGraph.graphValidator(t)):(_.each(o,function(o,s,a){if(i.getId()!=o.getId()){var r=t.findShortestPath(i,o);r||e.push(o.getFloorId()+":"+o.getLatLng());var u=t.findShortestPath(o,i);u||n.push(o.getFloorId()+":"+o.getLatLng())}}),i._debug("Graph Validation for : "+t.getVenueId()),i._debug("\t No Path from "+i.getFloorId()+":"+i.getLatLng()+" to ["+e+"]"),i._debug("\t No Path from ["+n+"] to "+i.getFloorId()+":"+i.getLatLng()),e)}}});
},{"geohasher":468}],116:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("MinPriorityQueue",{constructor:function(){this.callParent(),this.heap=[null],this.heapMap={}},offerWithPriority:function(i,h){var t=this.heap.push([i,h])-1;this.heapMap[i]=t,this.bubble(t)},raisePriority:function(i,h){var t=this.heapMap[i];this.heap[t][1]=h,this.bubble(t)},poll:function(){if(1==this.heap.length)return null;if(2==this.heap.length){var i=this.heap.pop()[0];return delete this.heapMap[i],i}var i=this.heap[1][0];return delete this.heapMap[i],this.heap[1]=this.heap.pop(),this.heapMap[this.heap[1][0]]=1,this.sink(1),i},isEmpty:function(){return 1==this.heap.length},bubble:function(i){for(;i>1;){var h=i>>1;if(!this.isHigherPriority(i,h))break;this.swap(i,h),i=h}},sink:function(i){for(;2*i<this.heap.length;){var h=void 0!=this.heap[2*i+1]&&this.isHigherPriority(2*i+1,2*i),t=h?2*i+1:2*i;if(this.isHigherPriority(i,t))break;this.swap(i,t),i=t}},swap:function(i,h){this.heapMap[this.heap[i][0]]=h,this.heapMap[this.heap[h][0]]=i;var t=this.heap[i];this.heap[i]=this.heap[h],this.heap[h]=t},isHigherPriority:function(i,h){return this.heap[i][1]<this.heap[h][1]}});
},{}],117:[function(require,module,exports){
var NavigationGraph=require("./graph");module.exports=Base.subclass("NavigatorEngine",{constructor:function(t,e,n){this.callParent(),this.venue=t,this.venueId=e,this.graph=NavigationGraph.buildGraph(e,n)},getGraph:function(){return this.graph},findRoute:function(t,e){var n=t,i={waypoints:[],eta:0,distance:0},l=this;return _.each(e,function(t,e,a){var o=l.__findRoute(n,t);i.eta+=o.eta,i.distance+=o.distance,i.waypoints=i.waypoints.concat(o.waypoints),n=t}),i},calculateRoute:function(t,e,n){try{var i=null;i=n?this.graph.findClosestNodeNoDriveways(t.getFloorId(),t.getLatLng()):this.graph.findClosestNode(t.getFloorId(),t.getLatLng());var l=this.graph.findClosestNode(e.getFloorId(),e.getLatLng());return this.graph.findShortestPath(i,l)}catch(t){return this._debug("calculateRoute: "+t.stack),null}},__findRoute:function(t,e){var n,i,l,a,o,s,r=this.venue,u=(new Date).getTime();try{if(!t||!e)return;if("undefined"!=typeof android){n=t.floorId,a=e.floorId;var d=t.latLng instanceof locuslabs.maps.LatLng?t.latLng:new locuslabs.maps.LatLng(t.latLng),g=e.latLng instanceof locuslabs.maps.LatLng?e.latLng:new locuslabs.maps.LatLng(e.latLng);i=d.lat(),l=d.lng(),o=g.lat(),s=g.lng()}else n=t.floorId,i=t.latLng.lat(),l=t.latLng.lng(),a=e.floorId,o=e.latLng.lat(),s=e.latLng.lng();var c=new locuslabs.maps.Position({venueId:this.venueId,buildingId:locuslabs.maps.Utilities.getBuildingIdFromFloorId(n),floorId:n,lat:i,lng:l}),I=new locuslabs.maps.Position({venueId:this.venueId,buildingId:locuslabs.maps.Utilities.getBuildingIdFromFloorId(a),floorId:a,lat:o,lng:s});locuslabs.events.submit({type:"navigation",startPosition:{venueId:this.venueId,buildingId:locuslabs.maps.Utilities.getBuildingIdFromFloorId(n),floorId:n,lat:i,lng:l},endPosition:{venueId:this.venueId,buildingId:locuslabs.maps.Utilities.getBuildingIdFromFloorId(a),floorId:a,lat:o,lng:s}});var h={distance:0,eta:0,waypoints:[]},p=this.calculateRoute(c,I,"Current Location"==t.name);if(null==p)return h;for(var v=null,f=0;f<p.length;f++){var L=0,b=0,m=null,F=null,y=!1,w=null,P=null;if(v){var N=v.getEdge(p[f].getId());null!=N&&(L=N.getDistance(),b=N.getTransitTime(),F=N.getPath(),y=N.isSecurityCheckpoint(),"Ground"!=N.getType()&&(m=N.getType()),w=N.getAction(),P=N.getDetails())}h.distance+=L,y&&"mia"==this.venueId&&"A1WL022SSU9J1V"==locuslabs.config.accountId&&(b=0),h.eta+=b;var D=0;if(v&&r)try{D=r.getLevelDifference(t.buildingId,p[f].getFloorId(),v.getFloorId())}catch(t){locuslabs.log.debug("EXCEPTION: "+t)}var T=new locuslabs.maps.Position({floorId:p[f].getFloorId(),buildingId:locuslabs.maps.Utilities.getBuildingIdFromFloorId(p[f].getFloorId()),venueId:this.venueId,latLng:p[f].getLatLng()}),_={position:T,venueId:this.venueId,buildingId:locuslabs.maps.Utilities.getBuildingIdFromFloorId(p[f].getFloorId()),floorId:p[f].getFloorId(),latLng:p[f].getLatLng(),distance:L,eta:b,nearAirport:!0,isPortal:null!=m,securityCheckpoint:y,portalType:null==m?"":m,levelDifference:D,isDestination:!1,curvePath:null==F?[]:F};P&&null!=P&&(_.details=P),w&&null!=w&&(_.action=w),h.waypoints.push(_),v=p[f]}return h.waypoints[h.waypoints.length-1].isDestination=!0,locuslabs.log.debug("*** Time to Find a Route : "+((new Date).getTime()-u)+" ***"),h}catch(t){return this._exception("navigation",t,"exception in __findRoute"),null}},toString:function(){var t="";for(var e in this.graph.getAllNodes())t+=e+" ";return"Nodes: "+t}});
},{"./graph":115}],118:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("GraphNode",{constructor:function(t,e){this.callParent(),this.id=t,this.position=e,this.edges={},this.edgeList=[]},getId:function(){return this.id},getPosition:function(){return this.position},getLatLng:function(){return this.position.getLatLng()},getFloorId:function(){return this.position.getFloorId()},addEdge:function(t){var e=this.edges[t.getDst()];e||(this.edges[t.getDst()]=t,this.edgeList.push(t))},removeEdge:function(t){delete this.edges[t.getDst()];var e=this.edgeList.indexOf(t);this.edgeList.splice(e,1)},getEdges:function(){return this.edgeList},getEdge:function(t){return this.edges[t]},toString:function(){var t="";return _.each(this.edgeList,function(e,i,s){t+=e+", "}),this.id+" : ["+t+"]"}});
},{}],119:[function(require,module,exports){
var MVCObject=require("../mvcobject");module.exports=MVCObject.subclass("OnScreenGeometry",{constructor:function(t,i){this.fixedGeometry=t,this.htmlSize=i,this.noScaling=1,this.noTranslation=[0,0],this.noRotation=0,this.mapScale=this.noScaling,this.scale=this.noScaling,this.translation=this.noTranslation,this.rotation=this.noRotation,this.rotationPoint=[0,0]},onScreenPointToFixedPoint:function(t){var i=this.fixedGeometry.viewBox,n=i.width/this.htmlSize.width,e=i.height/this.htmlSize.height,o=t[0]*n+i.x,s=t[1]*e+i.y,a=[(o-this.translation[0])/this.scale,(s-this.translation[1])/this.scale];return this.rotation&&(a=this.fixedGeometry.rotateCoordinatesAroundAPoint(a,-this.rotation,this.rotationPoint)),a},getRadius:function(){return this.radius},getCenter:function(){return this.center},getTranslation:function(){return this.translation},getMapScale:function(){return this.mapScale},getScale:function(){return this.scale},getRotation:function(){return this.rotation},getRotationPoint:function(){return this.rotationPoint},setOptions:function(t){_.isDefined(t.rotationPoint)&&t.rotationPoint instanceof locuslabs.maps.LatLng&&(t.rotationPoint=this.fixedGeometry.latLngToFixedPoint(t.rotationPoint)),_.extend(this,t),this._calculateCenterAndRadius()},_calculateCenterAndRadius:function(){var t=this.htmlSize.height,i=this.htmlSize.width,n=[i/2,t/2],e=i<t?[0,n[1]]:[n[0],0],o=this.onScreenPointToFixedPoint(n),s=this.onScreenPointToFixedPoint(e),a=s[0]-o[0],r=s[1]-o[1],h=Math.sqrt(a*a+r*r);this.center=this.fixedGeometry.fixedPointToLatLng(o),this.radius=h*this.fixedGeometry.fixedDistanceToMeters/this.getMapScale(),this._debug("panzoom","center: %s radius: %.1f",this.center,this.radius)},setSvgTransformFromCssMatrix:function(t){var i=this.fixedGeometry.viewBox,n=this.htmlSize.height,e=this.htmlSize.width,o=i.width/e,s=i.height/n,a=o>s?o:s,r=this.getScale(),h=this.getTranslation(),c=[e/2,n/2],l=[c[0]*o+i.x,c[1]*s+i.y],u=r*t[0],d=[(r-1)*l[0],(r-1)*l[1]],f=[(u-1)*l[0],(u-1)*l[1]],g=[h[0]+d[0],h[1]+d[1]],m=[t[4]*a,t[5]*a],S=[-f[0]+g[0]/r*u+m[0],-f[1]+g[1]/r*u+m[1]];this.setOptions({scale:u,translation:S})}});
},{"../mvcobject":151}],120:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("MultiTermSearchResults",{constructor:function(){this.set("uuid",locuslabs.uuid())},getClassName:function(){return"locuslabs.maps.MultiTermSearchResults"},getSearch:function(){return this.get("search")},getQueryTerms:function(){return this.get("queryTerms")},getResults:function(){return this.get("results")},getOtherResults:function(){return this.get("otherResults")},hasMore:function(){return this.get("more")},setSearch:function(e){this.set("search",e)},setMore:function(e){this.set("more",e)},setQueryTerms:function(e){this.set("queryTerms",e)},setResults:function(e){this.set("results",e)},setOtherResults:function(e){this.set("otherResults",e)},toString:function(){return"search: "+this.get("search")+" queryTerms: "+this.get("queryTerms")+" results: "+this.get("results")},static:{defaults:{},createEmpty:function(e,t){var s=new locuslabs.maps.MultiTermSearchResults({});return s.setQueryTerms(e),s.setSearch(t),s.setResults([]),s.setOtherResults([]),s.setMore(!1),s},newInstance:function(e,t){var s={};t&&t.length&&(s=t[0]);var r=new locuslabs.maps.SearchResults(s);return r.set("uuid",e),r}}});
},{"../../mvcobject":151}],121:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("OperatingHours",{constructor:function(t){this.callParent(),this.operatingHoursText=t,this.clauses=[],this.parse(t)},parse:function(t){var s=t.split(";");this.clauses=_.compact(_.collect(s,function(t){var s;return(s=this.matchSingleDay(t))?s:(s=this.matchDashSeparatedDays(t))?s:null},this))},matchDashSeparatedDays:function(t){var s=t.match(/^ *(mo|tu|we|th|fr|sa|su)-(mo|tu|we|th|fr|sa|su) ([0-2][0-9]):(00|15|30|45)-([0-2][0-9]):(00|15|30|45)$/i);return s?new locuslabs.maps.OperatingHoursClause([s[1],s[2]],s[3],s[4],s[5],s[6]):null},matchSingleDay:function(t){var s=t.match(/^ *(mo|tu|we|th|fr|sa|su) ([0-2][0-9]):(00|15|30|45)-([0-2][0-9]):(00|15|30|45)$/i);return s?new locuslabs.maps.OperatingHoursClause([s[1]],s[2],s[3],s[4],s[5]):null},toStringPairs:function(){return _.collect(this.clauses,function(t){return t.toStringPair()})},getClassName:function(){return"locuslabs.maps.OperatingHours"},toString:function(){return JSON.stringify(this)}});
},{"../../mvcobject":151}],122:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("OperatingHoursClause",{constructor:function(t,s,r,i,n){this.callParent(),this.days=t,this.startMinute=parseInt(r),this.startHour=parseInt(s),this.endMinute=parseInt(n),this.endHour=parseInt(i),this.startIsAm=s<12,this.startHour=s%12,24==i?(this.endHour=12,this.endIsAm=!0):(this.endIsAm=i<12,this.endHour=i%12)},dayAsString:function(t){var s={MO:"Mon",TU:"Tue",WE:"Wed",TH:"Thu",FR:"Fri",SA:"Sat",SU:"Sun"};return s[t.toUpperCase()]},hourToString:function(t,s,r){return 0==t&&(t=12),""+t+":"+(s?s:"00")+(r?"a":"p")},isAllDay:function(){return 0==this.startHour&&0==this.startMinute&&this.startIsAm&&12==this.endHour&&0==this.endMinute&&this.endIsAm},toStringPair:function(){var t=_.collect(this.days,function(t){return this.dayAsString(t)},this),s=this.isAllDay()?"24 hours":this.hourToString(this.startHour,this.startMinute,this.startIsAm)+" - "+this.hourToString(this.endHour,this.endMinute,this.endIsAm);return{days:t.join(" thru "),hours:s}},toString:function(){var t=this.toStringPair();return t.days+" "+t.hours}});
},{"../../mvcobject":151}],123:[function(require,module,exports){
Location=require("../location"),module.exports=Location.subclass("POI",{constructor:function(t){this.callParent(t),t.position&&this.set("position",new locuslabs.maps.Position(t.position))},getPosition:function(){return this.get("position")},getDisplayTags:function(){return this.get("displayTags")},getClassName:function(){return"locuslabs.maps.POI"},static:{newInstance:function(t,s){var n=new locuslabs.maps.POI(s[0]);return n.set("uuid",t),n}}});
},{"../location":96}],124:[function(require,module,exports){
var loadVenue=require("../map-loading/load-venue"),MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("POIDatabase",{constructor:function(t){this.callParent(),this.set("uuid",locuslabs.uuid()),this.setValues(t)},_poiData:function(){return this.get("poiData")},_waitForData:function(t){var i=this;return this._poiData()?void t():void loadVenue.finishedLoading(this.get("venueId"),function(){var a=locuslabs.reduxStore.getState().venues[i.get("venueId")];i.set("poiData",a.poiData),t()})},getPoi:function(t,i){var a=this;if(!i)throw new Error("You must now pass a callback into POIDatabase.getPoi");this._waitForData(function(){return a._getPoi(t,i)})},getPois:function(t,i){var a=this;this._waitForData(function(){var o=a._poiData().pois;i(_.collect(t,function(t){return o[t]}))})},_getPoi:function(t,i){var a=this._poiData().pois[t];a||i(a),a.position.latLng||(a.position.latLng=new locuslabs.maps.LatLng(a.position.latitude,a.position.longitude)),a.operatingHours=new locuslabs.maps.OperatingHours(a.rawHours||"").toStringPairs(),i(a)},getClassName:function(){return"locuslabs.maps.POIDatabase"},loadPOI:function(t,i){this.getPoi(t,i)},loadPOIForNativeApp:function(t,i){this.loadPOI(t,function(t){t&&(t.id=t.poiId),i(JSON.stringify(locuslabs.Native.simplifyData(t)))})},getAllPoiKeys:function(){var t=[];for(var i in this._poiData().pois)t.push(i);return t},getPoiData:function(t){var i=this._poiData().pois[t];return i.position.latLng||(i.position.latLng=new locuslabs.maps.LatLng(i.position.latitude,i.position.longitude)),i.operatingHours=new locuslabs.maps.OperatingHours(i.rawHours||"").toStringPairs(),i}});
},{"../../mvcobject":151,"../map-loading/load-venue":103}],125:[function(require,module,exports){
var loadVenue=require("../map-loading/load-venue");geohash=require("geohasher"),encodeGeoHash=geohash.encode,calculateAdjacent=geohash.calculateAdjacent;var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("Search",{constructor:function(t){this.callParent(),this.set("uuid",locuslabs.uuid()),this.setValues(t)},_poiData:function(){return this.get("poiData")},_waitForData:function(t){var e=this;if(this._poiData())return void t();var a=this.get("venueId");loadVenue.listenForFieldToBeFilled(function(a){e.set("poiData",a),t()},function(){return loadVenue.selectors.poiData(a)})},getClassName:function(){return"locuslabs.maps.Search"},autocomplete:function(t,e){var a=this;if(!e)throw new Error("You must now pass a callback into autocomplete");this._waitForData(function(){return a._autocomplete(t,e)})},_autocomplete:function(t,e){t&&locuslabs.events.submit({type:"autocomplete",venueId:this.get("venueId"),query:t}),t=t.toLowerCase();var a=this._poiData().autocomplete[t];a||(a=[]),e(t,a)},autocompleteForNativeApp:function(t,e){this.autocomplete(t,function(t,a){e(JSON.stringify(t),JSON.stringify(a))})},search:function(t,e){var a=this;if(!e)throw new Error("You must now pass a callback into search");this._waitForData(function(){return a._search(t,e)})},_search:function(t,e){t&&locuslabs.events.submit({type:"search",venueId:this.get("venueId"),query:t});var a=new locuslabs.maps.SearchResults;a.setQuery(t),a.setSearch(this),t=t.toLowerCase();var s=[],r=this._poiData().search[t];r||(a.setMore(!1),a.setResults(s),e(a));var i=this;_.each(r,function(t,e,a){var r=i._poiData().pois[t];r.position.latLng||(r.position.latLng=new locuslabs.maps.LatLng(r.position.latitude,r.position.longitude));var o=r.position.latLng;if(o){var n={poiId:t,name:r.name,label:r.label,position:r.position,gate:r.gate,terminal:r.terminal};s.push(n)}}),a.setMore(!1),a.setResults(s),e(a)},searchForNativeApp:function(t,e){this.search(t,function(t,a){var s=JSON.stringify(locuslabs.Native.simplifyData({query:t.getQuery()||"",queryTerms:t.getQueryTerms()||[],results:t.getResults()||[],otherResults:t.getOtherResults()||[]}));e(s,JSON.stringify(a||""))})},multiTermSearch:function(t,e){var a=this;if(!e)throw new Error("You must now pass a callback into multiTermSearch");this._waitForData(function(){return a._multiTermSearch(t,e)})},_multiTermSearch:function(t,e){locuslabs.log.debug("multiTermSearch: "+t);try{t&&locuslabs.events.submit({type:"multiTermSearch",venueId:this.get("venueId"),queryTerms:t});var a=new locuslabs.maps.MultiTermSearchResults;a.setQueryTerms(t),a.setSearch(this);for(var s=[],r=0;r<t.length;r++){var i=t[r].toLowerCase(),o=[],n=this._poiData().search[i];n&&s.push(n)}for(var l=s[0],r=1;r<s.length;r++){var c=this._findIntersectionAndRemainder(l,s[r]);l=c[0]}var u=this;_.each(l,function(t,e,a){var s=u._poiData().pois[t];s.position.latLng||(s.position.latLng=new locuslabs.maps.LatLng(s.position.latitude,s.position.longitude));var r=s.position.latLng;if(r){var i={poiId:t,name:s.name,label:s.label,position:s.position,gate:s.gate,terminal:s.terminal};o.push(i)}}),a.setMore(!1),a.setResults(o),e(a)}catch(a){locuslabs.log.error("multiTermSearch Exception: "+a),e(new locuslabs.maps.MultiTermSearchResults.createEmpty(t,this),a.message)}},multiTermSearchForNativeApp:function(t,e){this.multiTermSearch(t,function(t,a){var s=JSON.stringify(locuslabs.Native.simplifyData({queryTerms:t.getQueryTerms()||[],results:t.getResults()||[],otherResults:t.getOtherResults()||[]}));e(s,JSON.stringify(a||""))})},proximitySearch:function(t,e,a,s){var r=this;if(!s)throw new Error("You must now pass a callback into proximitySearch");this._waitForData(function(){return r._proximitySearch(t,e,a,s)})},_proximitySearch:function(t,e,a,s){locuslabs.log.debug("_proximitySearch: "+t+": ("+e+","+a+")");try{var r=new locuslabs.maps.LatLng(e,a),i=encodeGeoHash(e,a),o=i.substr(0,8),n=[];n.push(t+":"+calculateAdjacent(calculateAdjacent(o,"top"),"left")),n.push(t+":"+calculateAdjacent(o,"top")),n.push(t+":"+calculateAdjacent(calculateAdjacent(o,"top"),"right")),n.push(t+":"+calculateAdjacent(o,"left")),n.push(t+":"+o),n.push(t+":"+calculateAdjacent(o,"right")),n.push(t+":"+calculateAdjacent(calculateAdjacent(o,"bottom"),"left")),n.push(t+":"+calculateAdjacent(o,"bottom")),n.push(t+":"+calculateAdjacent(calculateAdjacent(o,"bottom"),"right"));for(var l=[],c=0;c<n.length;c++){var u=this._poiData().geoDb[n[c]];if(u)for(var h=0;h<u.length;h++){var p=this._poiData().pois[u[h]];p.position.latitude&&p.position.longitude&&(p.position.latLng||(p.position.latLng=new locuslabs.maps.LatLng(p.position.latitude,p.position.longitude)),l.push([u[h],r.distance(p.position.latLng)]))}}l.sort(function(t,e){return t[1]-e[1]});for(var m=[],c=0;c<l.length;c++)m.push(l[c][0]);var g=new locuslabs.maps.SearchResults;g.setSearch(this);var f=this,d=[];_.each(m,function(t,e,a){var s=f._poiData().pois[t];s.position.latLng||(s.position.latLng=new locuslabs.maps.LatLng(s.position.latitude,s.position.longitude));var r={poiId:t,name:s.name,label:s.label,position:s.position,gate:s.gate,terminal:s.terminal};d.push(r)}),g.setMore(!1),g.setResults(d),s(g)}catch(t){locuslabs.log.error("proximitySearch: "+t),s(new locuslabs.maps.SearchResults.createEmpty(this),t.message)}},proximitySearchForNativeApp:function(t,e,a,s){this.proximitySearch(t,e,a,function(t,e){var a=JSON.stringify(locuslabs.Native.simplifyData({query:t.getQuery()||"",queryTerms:t.getQueryTerms()||[],results:t.getResults()||[],otherResults:t.getOtherResults()||[]}));s(a,JSON.stringify(e||""))})},proximitySearchWithTerms:function(t,e,a,s,r){var i=this;if(!r)throw new Error("You must now pass a callback into proximitySearchWithTerms");this._waitForData(function(){return i._proximitySearchWithTerms(t,e,a,s,r)})},_proximitySearchWithTerms:function(t,e,a,s,r){locuslabs.log.debug("_proximitySearchWithTerms: "+t+"->"+e+": ("+a+","+s+")");try{locuslabs.log.debug("_proximitySearchWithTerms: "+t+"->"+e+": ("+a+","+s+")");var i=new locuslabs.maps.LatLng(a,s),o=this._rawSearchForTerms(t,i),n=this._rawProximitySearch(e,a,s),l=this._findIntersectionAndRemainder(o,n),c=new locuslabs.maps.SearchResults;c.setSearch(this),c.setMore(!1);var u=this,h=[];_.each(l[0],function(t,a,s){var r=u._poiData().pois[t];if(r.position.floorId==e){var i={poiId:t,name:r.name,label:r.label,position:r.position,gate:r.gate,terminal:r.terminal};h.push(i)}}),c.setResults(h);var p=[];_.each(l[1],function(t,e,a){var s=u._poiData().pois[t],r={poiId:t,name:s.name,label:s.label,position:s.position,gate:s.gate,terminal:s.terminal};p.push(r)}),c.setOtherResults(p),r(c)}catch(t){locuslabs.log.error("proximitySearchWithTerms exception: "+t.message),r(new locuslabs.maps.SearchResults.createEmpty(this),t.message)}},proximitySearchWithTermsForNativeApp:function(t,e,a,s,r){this.proximitySearchWithTerms(t,e,a,s,function(t,e){var a=JSON.stringify(locuslabs.Native.simplifyData({query:t.getQuery()||"",queryTerms:t.getQueryTerms()||[],results:t.getResults()||[],otherResults:t.getOtherResults()||[]}));r(a,JSON.stringify(e||""))})},searchWithTerms:function(t,e){var a=this;if(!e)throw new Error("You must now pass a callback into searchWithTerms");this._waitForData(function(){return a._searchWithTerms(t,e)})},_searchWithTerms:function(t,e){locuslabs.log.debug("_searchWithTerms: "+t);try{var a=this._rawSearchForTerms(t,null),s=new locuslabs.maps.SearchResults;s.setSearch(this),s.setMore(!1);var r=this,i=[];_.each(a,function(t,e,a){var s=r._poiData().pois[t];s.position.latLng||(s.position.latLng=new locuslabs.maps.LatLng(s.position.latitude,s.position.longitude));var o={poiId:t,name:s.name,label:s.label,position:s.position,gate:s.gate,terminal:s.terminal};i.push(o)}),s.setResults(i),e(s)}catch(t){locuslabs.log.error("_searchWithTerms: "+t),e(new locuslabs.maps.SearchResults.createEmpty(this),t.message)}},_rawSearch:function(t){return t=t.toLowerCase(),this._poiData().search[t]},_rawSearchForTerms:function(t,e){try{for(var a={},s=0;s<t.length;s++)for(var r=this._rawSearch(t[s]),i=0;i<r.length;i++)a[r[i]]=r[i];var o=[];for(var n in a)o.push(n);return e?this._sortPoisByDistanceFromOrigin(e,o):a}catch(t){return locuslabs.log.error("_rawSearchForTerms: "+t),callback&&callback([],t.message),null}},_rawProximitySearch:function(t,e,a){try{var s=new locuslabs.maps.LatLng(e,a),r=encodeGeoHash(e,a),i=r.substr(0,7),o=[];o.push(t+":"+calculateAdjacent(calculateAdjacent(i,"top"),"left")),o.push(t+":"+calculateAdjacent(i,"top")),o.push(t+":"+calculateAdjacent(calculateAdjacent(i,"top"),"right")),o.push(t+":"+calculateAdjacent(i,"left")),o.push(t+":"+i),o.push(t+":"+calculateAdjacent(i,"right")),o.push(t+":"+calculateAdjacent(calculateAdjacent(i,"bottom"),"left")),o.push(t+":"+calculateAdjacent(i,"bottom")),o.push(t+":"+calculateAdjacent(calculateAdjacent(i,"bottom"),"right"));for(var n=[],l=0;l<o.length;l++){var c=this._poiData().geoDb[o[l]];if(c)for(var u=0;u<c.length;u++)n.push(c[u])}return this._sortPoisByDistanceFromOrigin(s,n)}catch(t){return locuslabs.log.error("_rawProximitySearch: "+t),callback&&callback([],t.message),null}},_findIntersectionAndRemainder:function(t,e){for(var a=[],s=[],r={},i=0;i<e.length;i++)r[e[i]]=e[i];for(var o=0;o<t.length;o++)r[t[o]]?a.push(t[o]):s.push(t[o]);return[a,s]},_sortPoisByDistanceFromOrigin:function(t,e){try{for(var a=[],s=0;s<e.length;s++){var r=this._poiData().pois[e[s]];!r.position.latLng&&r.position.latitude&&r.position.longitude&&(r.position.latLng=new locuslabs.maps.LatLng(r.position.latitude,r.position.longitude)),r.position.latLng&&a.push([e[s],t.distance(r.position.latLng)])}a.sort(function(t,e){return t[1]-e[1]});for(var i=[],s=0;s<a.length;s++)i.push(a[s][0]);return i}catch(t){return locuslabs.log.error("_sortPoisByDistanceFromOrigin: "+t),callback&&callback([],t.message),null}},_concatTerm:function(t){for(var e="",a=0;a<t.length;a++)e+=t[a]+", ";return e}});
},{"../../mvcobject":151,"../map-loading/load-venue":103,"geohasher":468}],126:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("SearchResults",{constructor:function(){this.set("uuid",locuslabs.uuid())},getClassName:function(){return"locuslabs.maps.SearchResults"},getSearch:function(){return this.get("search")},getQuery:function(){return this.get("query")},getQueryTerms:function(){return this.get("queryTerms")},getResults:function(){return this.get("results")},getOtherResults:function(){return this.get("otherResults")},hasMore:function(){return this.get("more")},setSearch:function(e){this.set("search",e)},setMore:function(e){this.set("more",e)},setQuery:function(e){this.set("query",e)},setQueryTerms:function(e){this.set("queryTerms",e)},setResults:function(e){this.set("results",e)},setOtherResults:function(e){this.set("otherResults",e)},toString:function(){return"search: "+this.get("search")+" query: "+this.get("query")+" queryTerms: "+this.get("queryTerms")+" results: "+this.get("results")},static:{defaults:{},createEmpty:function(e){var t=new locuslabs.maps.SearchResults({});return t.set("search",e),t.set("more",!1),t.set("query",""),t.set("queryTerms",[]),t.set("results",[]),t.set("otherResults",[]),t},newInstance:function(e,t){var s={};t&&t.length&&(s=t[0]);var r=new locuslabs.maps.SearchResults(s);return r.set("uuid",e),r}}});
},{"../../mvcobject":151}],127:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("Point",{constructor:function(t,s){this.x=t,this.y=s,this._data={}},getUUID:function(){return this._data.uuid||(this._data.uuid=this.toString()),this._data.uuid},getClassName:function(){return"locuslabs.maps.Point"},equals:function(t){return t.x==this.x&&t.y==this.y},toString:function(){return"("+this.x+","+this.y+")"},getX:function(){return this.x},getY:function(){return this.y},setX:function(t){this.x=t},setY:function(t){this.y=t},serialize:function(){return{__locuslabs_serialized_object__:!0,className:"locuslabs.maps.Point",data:{x:this.x,y:this.y}}},static:{deserialize:function(t){return new locuslabs.maps.Point(t.x,t.y)},newInstance:function(t,s){var i=new locuslabs.maps.Point(s[0],s[1]);return i._data.uuid=t,i}}});
},{}],128:[function(require,module,exports){
module.exports=locuslabs.maps.BeaconHistory.subclass("BeaconStrengthGauge",{constructor:function(e,t){this.callParent(e),this.positionManager=t,this.cachedStrengthTime=null,this.cachedStrength=locuslabs.maps.PositionManager.BEACON_IS_OFF,this.isNearest=!1},getMinimumReadingCount:function(){return this.positionManager.get("minimumReadingCount")},getBonusForBeingNearest:function(){return this.positionManager.get("bonusForBeingNearest")},getBeaconReadingLifespan:function(){return this.positionManager.get("beaconReadingLifespan")},effectiveStrength:function(e){var t=this.beaconReadings;if(this.cachedStrengthTime!=e){if(this.removeReadingsOlderThan(e-1e3*this.getBeaconReadingLifespan()),t.length<this.getMinimumReadingCount())return locuslabs.maps.PositionManager.BEACON_IS_OFF;var n=_.sum(_.pluck(t,"rssi"));this.cachedStrengthTime=e,this.cachedStrength=n/t.length+(this.isNearest?this.getBonusForBeingNearest():0)}return this.cachedStrength},markNearest:function(e){this.isNearest=e}});
},{}],129:[function(require,module,exports){
var MVCObject=require("../../../mvcobject");module.exports=MVCObject.subclass("PositionManagerAbstractAlgorithm",{constructor:function(n){this.callParent(),this.positionManager=n,n.bindManyTo(["currentFloorId"],this),this.bindManyTo(["positioningSensorAlgorithm","beacons"],n)},createBeaconHistory:function(n){return new locuslabs.maps.BeaconHistory(n)},computePosition:function(){},recordPositionSensorReading:function(){},recordPositionSensorServiceInterruption:function(){},clearPosition:function(){this.positionManager.setPositionIfChanged(null)},recordHeadingSensorReading:function(){},resetSensorReadings:function(){}});
},{"../../../mvcobject":151}],130:[function(require,module,exports){
var PositionManagerAbstractAlgorithm=require("./positionManagerAbstractAlgorithm");module.exports=PositionManagerAbstractAlgorithm.subclass("PositionManagerAlgorithmExternal",{constructor:function(n){this.callParent(n)},recordPositionSensorReading:function(n){var o=n.floorId,i=locuslabs.maps.Utilities.getVenueIdFromFloorId(o),a=locuslabs.maps.Utilities.getBuildingIdFromFloorId(o);n.latLng instanceof locuslabs.maps.LatLng||(n.latLng=new locuslabs.maps.LatLng(n.latLng.lat,n.latLng.lng)),this.positionManager.setPositionIfChanged({nearAirport:!0,venueId:i,buildingId:a,floorId:o,latLng:n.latLng,heading:n.heading,errorRadius:n.errorRadius})},recordHeadingSensorReading:function(n){var o=_.clone(this.positionManager.getPosition());o.heading=n.heading,this.positionManager.setPositionIfChanged(o)}});
},{"./positionManagerAbstractAlgorithm":129}],131:[function(require,module,exports){
StateMachine=require("javascript-state-machine");var PositionManagerAlgorithmInternal=require("./positionManagerAlgorithmInternal"),BEACON_POSITIONING="BeaconPositioning",NO_POSITIONING="NoPositioning",IA_WARMING_UP="IAWarmingUp",IA_POSITIONING="IAPositioning";module.exports=PositionManagerAlgorithmInternal.subclass("PositionManagerAlgorithmHybrid",{constructor:function(i){this.callParent(i),this.positionSensorReadings={};var t=this;this.positioningStateMachine=StateMachine.create({initial:NO_POSITIONING,events:[{name:"startBeaconPositioning",from:NO_POSITIONING,to:BEACON_POSITIONING},{name:"stopPositioning",from:"*",to:NO_POSITIONING},{name:"warmUpIA",from:[BEACON_POSITIONING,IA_POSITIONING],to:IA_WARMING_UP},{name:"startIAPositioning",from:IA_WARMING_UP,to:IA_POSITIONING},{name:"changeFloor",from:[BEACON_POSITIONING,IA_POSITIONING,IA_WARMING_UP],to:BEACON_POSITIONING}],callbacks:{onchangestate:function(t,n,o){var e=t+": "+n+" => "+o;locuslabs.log.debug(e),i.set("positionState",e)},onstopPositioning:function(){t.set("currentFloorId",this.newBeacon?this.newBeacon.getFloorId():"")}}})},resetSensorReadings:function(){this.callParent(),this.positionSensorReadings={}},recordPositionSensorReading:function(i){var t=i.floorId;switch(this.positionSensorReadings[t]||(this.positionSensorReadings[t]=[]),this.positionSensorReadings[t].push(i),this.positioningStateMachine.current){case BEACON_POSITIONING:this.positioningStateMachine.warmUpIA();break;case IA_WARMING_UP:this._isAccurateReading(i)&&this.positioningStateMachine.startIAPositioning();break;case IA_POSITIONING:this._isAccurateReading(i)||this.positioningStateMachine.warmUpIA()}},recordPositionSensorServiceInterruption:function(i){this.positioningStateMachine.can("warmUpIA")&&this.positioningStateMachine.warmUpIA(i)},computePosition:function(i){switch(this._computePositionFromBeacons(i),!this.newBeacon&&this.positioningStateMachine.is(BEACON_POSITIONING)&&this.positioningStateMachine.stopPositioning(),!this.newBeacon&&this.positioningStateMachine.is(IA_WARMING_UP)&&this.positioningStateMachine.stopPositioning(),this.newBeacon&&this.positioningStateMachine.is(NO_POSITIONING)&&this.positioningStateMachine.startBeaconPositioning(),this._userChangedFloors()&&this.positioningStateMachine.changeFloor(),this.positioningStateMachine.current){case NO_POSITIONING:this._unsetPosition();break;case BEACON_POSITIONING:this._setPositionFromBeacon();break;case IA_WARMING_UP:this._setPositionFromBeacon();break;case IA_POSITIONING:this._setPositionFromIndoorAtlas()}},_isAccurateReading:function(i){return i.errorRadius<=10},_unsetPosition:function(){this.positionManager.setPositionIfChanged(null)},_setPositionFromBeacon:function(){var i=this.newBeacon.beaconInfo,t=this.get("navigator")?this.get("navigator").getGraph().interpolateClosestPoint(i.position):i.position;this.positionManager.setPositionIfChanged({nearAirport:!0,venueId:i.venueId,buildingId:i.buildingId,floorId:i.floorId,latLng:t,errorRadius:this._visualRadius(!0)})},_visualRadius:function(i,t){return i?10:t>4?5:1},_setPositionFromIndoorAtlas:function(){var i=this.get("currentFloorId"),t=_.last(this.positionSensorReadings[i]);this.positionManager.setPositionIfChanged({nearAirport:!0,venueId:locuslabs.maps.Utilities.getVenueIdFromFloorId(i),buildingId:locuslabs.maps.Utilities.getBuildingIdFromFloorId(i),floorId:i,latLng:t.latLng,errorRadius:this._visualRadius(!1,t.errorRadius)})},_computePositionFromBeacons:function(i){this.oldBeacon=this.nearestBeacon,this.newBeacon=this.findStrongestBeaconStrengthGauge(i||new Date),this.nearestBeacon=this.newBeacon,this.oldBeacon&&this.oldBeacon.markNearest(!1),this.newBeacon&&(this.newBeacon.markNearest(!0),this.set("currentFloorId",this.newBeacon.getFloorId())),this.set("closestBeacon",this.newBeacon?this.newBeacon.beaconInfo:null)},_userChangedFloors:function(){return!(!this.oldBeacon||!this.newBeacon)&&this.oldBeacon.getFloorId()!=this.newBeacon.getFloorId()}});
},{"./positionManagerAlgorithmInternal":132,"javascript-state-machine":469}],132:[function(require,module,exports){
module.exports=locuslabs.maps.PositionManagerAbstractAlgorithm.subclass("PositionManagerAlgorithmInternal",{constructor:function(t){this.callParent(t),this.nearestBeaconStrengthGauge=null,this.bindManyTo(["logger"],t)},createBeaconHistory:function(t){var e=new locuslabs.maps.BeaconStrengthGauge(t,this.positionManager);return e},computePosition:function(t){t=t||new Date;var e=this.nearestBeaconStrengthGauge,n=this.findStrongestBeaconStrengthGauge(t);if(this.nearestBeaconStrengthGauge=n,e&&e.markNearest(!1),n&&n.markNearest(!0),this.set("closestBeacon",n?n.beaconInfo:null),this.set("currentFloorId",n?n.getFloorId():""),n){var o=n.beaconInfo,a=this.get("navigator")?this.get("navigator").getGraph().interpolateClosestPoint(o.position):o.position;this.positionManager.setPositionIfChanged({nearAirport:!0,venueId:o.venueId,buildingId:o.buildingId,floorId:o.floorId,latLng:a})}else this.positionManager.setPositionIfChanged(null)},findStrongestBeaconStrengthGauge:function(t){var e=null,n=this.get("logger"),o=locuslabs.maps.PositionManager.BEACON_IS_OFF;return this.positionManager.eachBeaconHistory(function(a){var i=a.effectiveStrength(t);i>o&&(o=i,e=a),n&&n.log(t,a.beaconInfo,i)},this),n&&e&&n.logNearest(t,e.beaconInfo,o),e}});
},{}],133:[function(require,module,exports){
module.exports=locuslabs.maps.PositionManagerAbstractAlgorithm.subclass("PositionManagerAlgorithmTrilateration",{constructor:function(o){this.callParent(o)},computePosition:function(o){this.positionManager.removeReadingsOlderThan(o-2e3);var i=this.positionManager.aggregateReadingsUsingAverage();if(i.length<3)return void console.log("PositionManagerAlgorithmTrilateration fewer than 3 beacons");for(var n=[],t=[],a=0;a<3;a++){var e=this.positionManager.venue.latLngToUtm(i[a].beaconInfo.position,!0);n[a]=[e.easting,e.northing],t[a]=i[a].distance}var r=new locuslabs.maps.PositionManagerTrilateration,s=r.trilaterate(n[0],n[1],n[2],t[0],t[1],t[2]),l=this.positionManager.venue.utmToLatLng({easting:s[0],northing:s[1]},!0),g=i[0].beaconInfo.floorId;this.positionManager.setPositionIfChanged({nearAirport:!0,venueId:locuslabs.maps.Utilities.getVenueIdFromFloorId(g),buildingId:locuslabs.maps.Utilities.getBuildingIdFromFloorId(g),floorId:g,latLng:l});_.collect(i,function(o){return"minor: "+o.beaconInfo.minorId+" rssi: "+o.rssi+" ("+o.distance.toFixed(2)+" m)"})}});
},{}],134:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("PositionManagerLogger",{constructor:function(){this.array=new locuslabs.Array2D,this.array.set(0,0,"time"),this.array.set(0,"nearest","nearest"),this.array.set(0,"nearest strength","nearest strength"),this.previousTime=0,this.currentRow=0},log:function(t,r,s){var e=s!=locuslabs.maps.PositionManager.BEACON_IS_OFF;if(e){var i=r.majorId+"|"+r.minorId;this.previousTime!=t&&(this.previousTime=t,this.currentRow=this.array.addRow(),this.array.set(this.currentRow,0,this.timeAsString(t))),this.array.set(0,i,i),this.array.set(this.currentRow,i,s.toFixed(1))}},logNearest:function(t,r,s){var e=r.majorId+"|"+r.minorId;this.array.set(this.currentRow,"nearest",e),this.array.set(this.currentRow,"nearest strength",s.toFixed(1)),locuslabs.log.debug("beacon data\n"+this.output())},timeAsString:function(t){return this.pad(t.getHours(),2)+":"+this.pad(t.getMinutes(),2)+":"+this.pad(t.getSeconds(),2)+"."+this.pad(t.getMilliseconds(),3)},pad:function(t,r){var s=r,e="000";return r||(s=e.length),(e+t).slice(-s)},output:function(){return this.array.toString("\n","\t")}});
},{}],135:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("BeaconHistory",{constructor:function(n){this.beaconInfo=n,this.beaconReadings=[]},getFloorId:function(){return this.beaconInfo.floorId},addReading:function(n){this.beaconReadings.push(n)},lastReading:function(){_.last(this.beaconReadings)},hasReadings:function(){return this.beaconReadings.length>0},removeReadingsOlderThan:function(n){_.remove(this.beaconReadings,function(e){return e.time.getTime()<n})}});
},{"../../mvcobject":151}],136:[function(require,module,exports){
var Base=require("../../base");module.exports=Base.subclass("BeaconReading",{constructor:function(s,t,i){this.beaconInfo=s,this.rssi=t,this.time=i,this.id=locuslabs.maps.PositionManager.idForBeaconInfo(s)},distance:function(s){return locuslabs.maps.BeaconReading.distanceForRssi(this.rssi,s)},toString:function(){return"minor: "+this.beaconInfo.minorId+" rssi: "+this.rssi+" ("+this.distance().toFixed(2)+" m)"},static:{distanceForRssi:function(s,t){Math.log10=Math.log10||function(s){return Math.log(s)/Math.LN10},t=t||2400;const i=10,n=.001,o=30,a=100;if(s=-s,s<o)return n;if(s>a)return i;var r=(1.8-20*Math.log10(t)+s)/20;return Math.pow(10,r)}}});
},{"../../base":60}],137:[function(require,module,exports){
var MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("CumulativeBeaconHistory",{constructor:function(){this.callParent(),this.beaconHistories={},this.beaconsSeen={lastCleared:new Date,seen:{}},this.clearSeenEvery=864e5},beaconSeenEvent:function(e,n){var s=new Date;s.getTime()-this.beaconsSeen.lastCleared.getTime()>this.clearSeenEvery&&(this.beaconsSeen.seen={}),this.beaconsSeen.seen[e.id]||(this.beaconsSeen.seen[e.id]=!0,locuslabs.maps.event.trigger(this,"beacon_seen",new locuslabs.maps.BeaconReading(n,e.rssi,e.time)))},addBeaconReading:function(e){var n=this.beaconHistories[e.id];n?(n.addReading(e),this.beaconSeenEvent(e,n.beaconInfo)):this.beaconSeenEvent(e,e.beaconInfo)},each:function(e,n){_.each(this.beaconHistories,e,n)},removeAllBeaconHistories:function(e){this.beaconHistories={}},addBeaconHistory:function(e){var n=locuslabs.maps.PositionManager.idForBeaconInfo(e.beaconInfo);this.beaconHistories[n]=e},latestReadings:function(){return _.filter(this.beaconHistories,function(e){return e.lastReading()})},removeReadingsOlderThan:function(e){_.each(this.beaconHistories,function(n){n.removeReadingsOlderThan(e)})},beaconHistoriesWithValues:function(){return _.filter(this.beaconHistories,function(e){return e.hasReadings()})},aggregateReadings:function(e){var n=this.beaconHistoriesWithValues(),s=_.collect(n,function(n){var s=e(n.beaconReadings),i=locuslabs.maps.BeaconReading.distanceForRssi(s);return{beaconInfo:n.beaconInfo,rssi:s,distance:i}});return s=_.sortBy(s,function(e){return-e.rssi})}});
},{"../../mvcobject":151}],138:[function(require,module,exports){
var loadVenue=require("../map-loading/load-venue"),MVCObject=require("../../mvcobject");module.exports=MVCObject.subclass("PositionManager",{constructor:function(i,t){var o=this;t=t||{},this.lastSubmittedPosition=null;var n=i&&i.get;n?loadVenue.finishedLoading(i.get("id"),function(){o.algorithm=o.determinePositioningAlgorithm(i)}):this.algorithm=this.determinePositioningAlgorithm(i),this.cumulativeBeaconHistory=t.cumulativeBeaconHistory||new locuslabs.maps.CumulativeBeaconHistory,this.venue=i,this.events=t.events||locuslabs.events,this.opts=t;var e=this;this.cumulativeBeaconHistory.addListener("beacon_seen",function(i){var t={type:"beaconSeen"};_.extend(t,i.beaconInfo),_.extend(t,_.pick(i,"rssi")),t.uuid=t.uuid.toLowerCase();var o=e.getPosition();o?t.position={lat:o.latLng.lat(),lng:o.latLng.lng(),venueId:o.venueId,floorId:o.floorId}:t.position&&delete t.position,null==t.venueId&&(t.venueId=e.venue.getId()),e.events.submit(t)})},teardown:function(){this.algorithm.teardown(),this.algorithm=null,this.callParent()},getCurrentFloorId:function(){return this.get("currentFloorId")},setCurrentFloorId:function(i){return this.set("currentFloorId",i)},getBeacons:function(){return this.get("beacons")},getNavigator:function(){return this.get("navigator")},getPosition:function(){return this.get("position")},beacons_changed:function(){this.refreshAllSensorReadings()},navigator_changed:function(){this.refreshAllSensorReadings()},simulationMode_changed:function(){this.refreshAllSensorReadings()},position_changed:function(){var i=locuslabs._getInstallId();if(i){var t=this.getPosition();if(t&&this.shouldSendPositionEvent(t,this.lastSubmittedPosition)){this.lastSubmittedPosition=t,this.events.submit({type:"positionChanged",position:{lat:t.latLng.lat(),lng:t.latLng.lng(),venueId:t.venueId,floorId:t.floorId}});var o=JSON.stringify({installs:{position:{floor:t.venueId+":"+t.buildingId+":"+t.floorId,lat:t.latLng.lat(),lng:t.latLng.lng()}}});if(this.opts.dontUpdateInstallPosition)return;$.ajax({method:"put",url:locuslabs.config.apiBase+"/installs/"+i,data:o,contentType:"application/vnd.api+json"}).then(function(){})}}},positioningSensorAlgorithm_changed:function(){switch(this.algorithm&&(this.algorithm.unbindAll(),this.algorithm.teardown()),this.get("positioningSensorAlgorithm")){case locuslabs.maps.PositionManager.positioningSensorAlgorithmInternal:this.algorithm=new locuslabs.maps.PositionManagerAlgorithmInternal(this);break;case locuslabs.maps.PositionManager.positioningSensorAlgorithmHybrid:this.algorithm=new locuslabs.maps.PositionManagerAlgorithmHybrid(this);break;case locuslabs.maps.PositionManager.positioningSensorAlgorithmExternal:this.algorithm=new locuslabs.maps.PositionManagerAlgorithmExternal(this);break;case locuslabs.maps.PositionManager.positioningSensorAlgorithmTrilateration:this.algorithm=new locuslabs.maps.PositionManagerAlgorithmTrilateration(this)}this.get("positioningSensorAlgorithm")!=locuslabs.maps.PositionManager.positioningSensorAlgorithmExternal&&this.bindTo("closestBeacon",this.algorithm,"closestBeacon"),this.refreshAllSensorReadings()},processReadings:function(i){i=i||(new Date).getTime(),i instanceof Date&&(i=i.getTime()),this.algorithm.computePosition(i)},setPositionIfChanged:function(i){var t=this.get("position");if(t!=i)return locuslabs.maps.Utilities.isNullOrUndefined(t)!=locuslabs.maps.Utilities.isNullOrUndefined(i)?void this.set("position",i):t.latLng.distance(i.latLng)>.1?void this.set("position",i):void(_.isEqual(_.omit(t,"latLng"),_.omit(i,"latLng"))||this.set("position",i))},beaconReadings:function(i){i.forEach(function(i){var t=locuslabs.maps.PositionManager.MIN_BEACON_READING,o=locuslabs.maps.PositionManager.MAX_BEACON_READING,n=i.rssi;if(t<n&&n<o){var e=i.timestamp?new Date(i.timestamp):new Date,s=new locuslabs.maps.BeaconReading(i,n,e);this.cumulativeBeaconHistory.addBeaconReading(s)}},this)},recordPositionSensorServiceInterruption:function(i){this.algorithm.recordPositionSensorServiceInterruption(i)},clearPosition:function(){this.algorithm.clearPosition()},recordHeadingSensorReading:function(i){this.algorithm.recordHeadingSensorReading(i)},recordPositionSensorReading:function(i,t,o,n,e){e=e||new Date;var s=new locuslabs.maps.PositionSensorReading(i,t,o,n,e);this.algorithm.recordPositionSensorReading(s)},recordPositionSensorReadings:function(i,t){t=t||new Date,_.each(i,function(i){var o=new locuslabs.maps.PositionSensorReading(i.latLng,i.errorRadius,i.floorId,i.heading,t);this.algorithm.recordPositionSensorReading(o)},this)},refreshAllSensorReadings:function(){locuslabs.log.debug("PositionManager.refreshAllSensorReadings"),this.cumulativeBeaconHistory.removeAllBeaconHistories(),(this.get("beacons")||[]).forEach(function(i){this.cumulativeBeaconHistory.addBeaconHistory(this.algorithm.createBeaconHistory(i))},this),this.algorithm.resetSensorReadings(),this.algorithm.set("navigator",this.getNavigator()),clearInterval(this.updateTimer),this.get("simulationMode")||(this.updateTimer=setInterval(this.processReadings.bind(this),1e3))},beaconHistoriesWithValues:function(){return this.cumulativeBeaconHistory.beaconHistoriesWithValues()},removeReadingsOlderThan:function(i){this.cumulativeBeaconHistory.removeReadingsOlderThan(i)},aggregateReadingsUsingMax:function(){return this.cumulativeBeaconHistory.aggregateReadings(function(i){return _.max(_.pluck(i,"rssi"))})},aggregateReadingsUsingAverage:function(){return this.cumulativeBeaconHistory.aggregateReadings(function(i){return _.average(_.pluck(i,"rssi"))})},eachBeaconHistory:function(i,t){this.cumulativeBeaconHistory.each(i,t)},shouldSendPositionEvent:function(i,t){return null==t||i.floorId!=t.floorId||i.latLng.distance(t.latLng)>2},determinePositioningAlgorithm:function(i){var t=null,o=null!=i?i.getPositioningSupported():null;if(locuslabs.log.debug("Supported Venue Positioning  : "+o),o&&locuslabs.config.positioningSupported){locuslabs.log.debug("Supported Device Positioning : "+locuslabs.config.positioningSupported);for(var n=0;n<o.length;n++)if(locuslabs.log.debug("Searching for support of : "+o[n]),_.indexOf(locuslabs.config.positioningSupported,o[n])!=-1&&"CoreLocation"==o[n]){locuslabs.log.debug("CoreLocation Support, using External Positioning"),t=new locuslabs.maps.PositionManagerAlgorithmExternal(this);break}}return null==t&&(locuslabs.log.debug("No algorithm selected, using Internal Positioning"),t=new locuslabs.maps.PositionManagerAlgorithmInternal(this)),t},static:{MIN_BEACON_READING:-100,MAX_BEACON_READING:-5,BEACON_IS_OFF:-400,positioningSensorAlgorithmInternal:0,positioningSensorAlgorithmHybrid:1,positioningSensorAlgorithmExternal:2,positioningSensorAlgorithmTrilateration:3,idForBeaconInfo:function(i){return(i.uuid+"|"+i.majorId+"|"+i.minorId).toUpperCase()}}});
},{"../../mvcobject":151,"../map-loading/load-venue":103}],139:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("PositionManagerTrilateration",{constructor:function(){this.callParent()},vectorCross:function(t,r){var o=3!=t.length?0:t[1]*r[2]-t[2]*r[1],n=3!=t.length?0:t[2]*r[0]-t[0]*r[2],e=3!=t.length?0:t[0]*r[1]-t[1]*r[0];return[o,n,e]},vectorNorm:function(t,r){return r||(r=_.collect(t,function(){return 0})),Math.sqrt(_.reduce(t,function(o,n,e){var c=r[e]-t[e];return o+=c*c},0))},vectorSubtract:function(t,r,o){return o||(o=_.collect(t,function(){return 0})),_.collect(t,function(n,e){return t[e]-r[e]-o[e]})},vectorDot:function(t,r){return _.reduce(t,function(o,n,e){return o+=t[e]*r[e]},0)},vectorMultiplyByConstant:function(t,r){return _.collect(t,function(t){return t*r})},vectorDivideByConstant:function(t,r){return _.collect(t,function(t){return t/r})},trilaterate:function(t,r,o,n,e,c){var u=this.vectorSubtract(r,t),i=this.vectorSubtract(o,t),a=this.vectorNorm(r,t),s=this.vectorDivideByConstant(u,a),h=this.vectorDot(s,i),l=this.vectorSubtract(o,t,this.vectorMultiplyByConstant(s,h)),v=this.vectorDivideByConstant(l,this.vectorNorm(l)),f=this.vectorCross(s,v),M=this.vectorDot(v,i),p=a,w=(Math.pow(n,2)-Math.pow(e,2)+Math.pow(p,2))/(2*p),y=(Math.pow(n,2)-Math.pow(c,2)+Math.pow(h,2)+Math.pow(M,2))/(2*M)-h/M*w,C=3!=t.length?0:Math.sqrt(Math.pow(n,2)-Math.pow(w,2)-Math.pow(y,2));return _.collect(t,function(r,o){return t[o]+s[o]*w+v[o]*y+f[o]*C})}});
},{}],140:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("PositionSensorReading",{constructor:function(s,o,t,a,i){s instanceof locuslabs.maps.LatLng||(s=new locuslabs.maps.LatLng(s)),this.latLng=s,this.errorRadius=o,this.floorId=t,this.heading=a,this.time=i}});
},{}],141:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("Position",{constructor:function(t){this.callParent(),this.venueId=t.venueId,this.buildingId=t.buildingId,this.floorId=t.floorId,this.sectionId=t.sectionId,this.floorOrdinal=t.floorOrdinal,t.latLng instanceof locuslabs.maps.LatLng?this.latLng=t.latLng:t.latLng?this.latLng=new locuslabs.maps.LatLng(t.latLng):t.lat&&t.lng?this.latLng=new locuslabs.maps.LatLng(t.lat,t.lng):this.latLng=new locuslabs.maps.LatLng(t.latitude,t.longitude)},toString:function(){return JSON.stringify(this)},_debugDescription:function(){return this.latLng._debugDescription()+" floorId: "+this.floorId},getVenueId:function(){return this.venueId},getBuildingId:function(){return this.buildingId},getFloorId:function(){return this.floorId},getFloorOrdinal:function(){return this.floorOrdinal},getSectionId:function(){return this.sectionId},getLatLng:function(){return this.latLng},getClassName:function(){return"locuslabs.maps.Position"},getUUID:function(){return this.uuid||(this.uuid=this.toString()),this.uuid},static:{newInstance:function(t,n){var i=new locuslabs.maps.Position({venueId:n[0],buildingId:n[1],floorId:n[2],lat:n[3],lng:n[4]});return i.uuid=t,i}}});
},{}],142:[function(require,module,exports){
module.exports=locuslabs.maps.Location.subclass("Section",{constructor:function(t){this.callParent(t),this.set("uuid",locuslabs.uuid()),this.set("floorId",locuslabs.maps.Utilities.getFloorIdFromSectionId(this.getSectionId())),this.set("venueId",locuslabs.maps.Utilities.getVenueIdFromFloorId(this.getFloorId())),this.set("buildingId",locuslabs.maps.Utilities.getBuildingIdFromFloorId(this.getFloorId()))},getVenueId:function(){return this.get("venueId")},getBuildingId:function(){return this.get("buildingId")},getFloorId:function(){return this.get("floorId")},getSectionId:function(){return this.getId()},getClassName:function(){return"locuslabs.maps.Section"}});
},{}],143:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("Size",{constructor:function(t,i){this.width=t,this.height=i},toString:function(){return this.width+","+this.height}});
},{}],144:[function(require,module,exports){
var MVCObject=require("../mvcobject");module.exports=MVCObject.subclass("SvgRenderer",{constructor:function(t){this.noScaling=1,this.zeroPoint=[0,0],this.zeroRotation=0,this.scale=this.noScaling,this.translation=this.zeroPoint,this.heading=this.zeroRotation,this.rotationPoint=this.zeroPoint,this.mapDiv=t},_d3TransformationContainer:function(){return d3.select(this.mapDiv).select("#container")},_adjustHeadingToRotateShortestDirection:function(t,n){return t>n&&(n+=360),n-t>180&&(n-=360),{prevHeading:t,nextHeading:n}},transformMap:function(t){var n=_.default(t.translation,this.translation),a=_.default(t.scale,this.scale),i=_.default(t.heading,this.heading),r=_.default(t.rotationPoint,this.rotationPoint),e=_.default(t.rotationTranslation,this.rotationTranslation),o=_.default(t.animate,!1),s=_.default(t.duration,1e3),l=_.default(t.onEnd,function(){}),h=this._adjustHeadingToRotateShortestDirection(this.heading,i),c=h.prevHeading,f=h.nextHeading,u=this._d3TransformationContainer();o?u.transition().each("end",l).duration(s).attrTween("transform",this._d3TransformTween(n,a,c,f,r,e)):u.attr("transform",this._svgTransformAsString(n,a,f,r,e)),this.translation=n,this.scale=a,this.heading=i,this.rotationPoint=r,this._debug("panZoom","translation: %j scale: %.5f heading: %.1f rotationPoint: %j",n,a,i,r)},_d3TransformTween:function(t,n,a,i,r,e){var o=this._svgTransformAsString(t,n,a,r,e),s=this._svgTransformAsString(t,n,i,r,e),l=d3.interpolateString(o,s);return function(){return function(t){return l(t)}}},_svgTransformAsString:function(t,n,a,i,r){var e=[];return _.isEqual(t,this.zeroPoint)||e.push("translate("+t.join(" ")+")"),_.isEqual(n,this.noScaling)||e.push("scale("+n+")"),_.isDefined(r)&&e.push("translate("+r[0]+" "+r[1]+")"),_.isUndefined(a)||e.push(_.sprintf("rotate(%.2f %.2f %.2f)",a,i[0],i[1])),e.join(" ")},clampHeadingTo0Or180:function(t){var n=(this.heading+360)%360,a=(t+360)%360,i=n>90&&n<270,r=a>90&&a<270;return a=r?180:0,{clamped:a,sameAsPrevious:i==r}},rotatePois:function(t,n){d3.selectAll(n).attr("transform",function(n){var a=d3.select(this).attr("centerpoint");if(a){var i=a.split(/ /),r=i[0],e=i[1];return"translate("+r+" "+e+")rotate("+-t+")translate("+-r+" "+-e+")"}})},rotateText:function(t){d3.selectAll("text").each(function(t){if(!t.bbox){var n=this.getBBox();t.bbox=[n.x+n.width/2,n.y+n.height/2];var a=d3.select(this).attr("transform");if(a){var i=[0,0],r=[1,1],e=[0,0],o="([0-9.-]+) *",s=a.match("^translate\\("+o+o+"\\).*$");s&&(i=[s[1],s[2]]),s=a.match("^matrix\\("+o+o+o+o+o+o+o+"\\).*$"),s&&(i=[s[5],s[6]],r=[s[1],s[4]],e=[s[2],s[3]])}t.originalTranslate=i,t.originalScale=r,t.originalSkew=e}}),d3.selectAll("text").attr("transform",function(n){var a=n.bbox[0],i=n.bbox[1];return"translate("+n.originalTranslate[0]+" "+n.originalTranslate[1]+")scale("+n.originalScale[0]+" "+n.originalScale[1]+")skewX("+n.originalSkew[0]+")skewY("+n.originalSkew[1]+")translate("+a+" "+i+")rotate("+t+")translate("+-a+" "+-i+")"})}});
},{"../mvcobject":151}],145:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("Utilities",{constructor:function(){this.callParent()},static:{getCurvePoints:function(t,e){try{var n=[];locuslabs.maps.Utilities._getCurvePoints(t,n);for(var i=[],r=0;r<n.length;r++){var s=n[r];e?(i.push(s[0]),i.push(s[1]),i.push(s[2]),i.push(s[3])):(i.push([+Number(s[0][0]).toFixed(1),+Number(s[0][1]).toFixed(1)]),i.push([+Number(s[1][0]).toFixed(1),+Number(s[1][1]).toFixed(1)]),i.push([+Number(s[2][0]).toFixed(1),+Number(s[2][1]).toFixed(1)]),i.push([+Number(s[3][0]).toFixed(1),+Number(s[3][1]).toFixed(1)]))}return i}catch(t){locuslabs.log.debug("getCurvePoints Exception: "+t)}},_getCurvePoints:function(t,e){if(locuslabs.maps.Utilities.isFlat(t))e.push(t);else{var n=this.subdivide(t);locuslabs.maps.Utilities._getCurvePoints(n[0],e),locuslabs.maps.Utilities._getCurvePoints(n[1],e)}},midpoints:function(t){for(var e=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]},n=new Array(t.length-1),i=0;i<n.length;i++)n[i]=e(t[i],t[i+1]);return n},subdivide:function(t){var e=locuslabs.maps.Utilities.midpoints(t),n=locuslabs.maps.Utilities.midpoints(e),i=locuslabs.maps.Utilities.midpoints(n);return[[t[0],e[0],n[0],i[0]],[i[0],n[1],e[2],t[3]]]},isFlat:function(t){var e=10,n=3*t[1][0]-2*t[0][0]-t[3][0];n*=n;var i=3*t[1][1]-2*t[0][1]-t[3][1];i*=i;var r=3*t[2][0]-t[0][0]-2*t[3][0];r*=r;var s=3*t[2][1]-t[0][1]-2*t[3][1];return s*=s,Math.max(n,r)+Math.max(i,s)<=e},angleBetweenPoints:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY();return Math.atan2(i,n)/Math.PI*180},angleBetweenLatLngs:function(t,e){var n=e.lat()-t.lat(),i=e.lng()-t.lng();return Math.atan2(i,n)/Math.PI*180},radiansBetweenPoints:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY();return Math.atan2(i,n)},distance:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY();return Math.sqrt(n*n+i*i)},calculateLineDistance:function(t){for(var e=0,n=0;n<t.length-1;n++)e+=locuslabs.maps.Utilities.distance(t[n],t[n+1]);return e},findPoints:function(t,e,n){for(var i=e,r=[],s=0;s<t.length-1;s++){var a=t[s],o=t[s+1],u=locuslabs.maps.Utilities.distance(a,o);if(u>i){for(var l=u,g=a;l>i;){var h=locuslabs.maps.Utilities.radiansBetweenPoints(a,o),f=Math.cos(h)*i,c=Math.sin(h)*i;if(g=new locuslabs.maps.Point(g.getX()+f,g.getY()+c),g.angle=locuslabs.maps.Utilities.angleBetweenPoints(a,o),r.push(g),l-=i,i=n,0==n)return r}i-=l}else i-=u}return r},getNumberValue:function(t){return t.replace("%","").replace("px","")},isAPercentage:function(t){return t.indexOf("%")!=-1},isInMeters:function(t){return t.indexOf("%")==-1&&t.indexOf("px")==-1},interpolatePointInRectangleToAnotherRectangle:function(t){function e(t){var e=t.invertY||!1;"utm"==e&&(e=!1),"svg"==e&&(e=!0);var n=t.r,i=_.isUndefined(n.width)?n.size.width:n.width,r=_.isUndefined(n.height)?n.size.height:n.height,s=_.isUndefined(n.x)?n.origin.x:n.x,a=_.isUndefined(n.y)?n.origin.y:n.y;return{width:i,height:r,x:s,y:a,invertY:e}}function n(t){return t instanceof locuslabs.maps.LatLng?{x:t.lng(),y:t.lat()}:{x:t.x,y:t.y}}var i=e({r:t.r1,invertY:t.invertYForR1}),r=e({r:t.r2,invertY:t.invertYForR2}),s=n(t.p),a=(s.x-i.x)/i.width,o=i.invertY?(i.y+i.height-s.y)/i.height:(s.y-i.y)/i.height,u=r.width*a+r.x,l=r.invertY?r.y+r.height-r.height*o:r.y+r.height*o;return{x:u,y:l}},pathToPolygonPoints:function(t){var e=locuslabs.maps.Utilities.pathToPolygonString(t,100);return locuslabs.maps.Utilities.stringOfPointsToArrayOfPoints(e)},pathToPolygonString:function(t,e){e||(e=0);var n=t.pathSegList;if(!n||!n.numberOfItems)return null;for(var i=[],n=t.pathSegList,r=n.numberOfItems-1;r>=0;--r)i[r]=n.getItem(r);for(var s,a,o,u,l=i.concat(),g=[],h=function(t){if(t.pathSegType==SVGPathSeg.PATHSEG_CLOSEPATH);else{t.pathSegType%2==1&&t.pathSegType>1?(o+=t.x,u+=t.y):(o=t.x,u=t.y);var e=g[g.length-1];e&&o==e[0]&&u==e[1]||g.push([o,u])}},f=0,c=t.getTotalLength(),d=c/e;f<=c;f+=d){var s=l[t.getPathSegAtLength(f)],p=t.getPointAtLength(f);if(s!=a)for(a=s;i.length&&i[0]!=s;)h(i.shift());var v=g[g.length-1];v&&p.x==v[0]&&p.y==v[1]||g.push([p.x,p.y])}for(var r=0,c=i.length;r<c;++r)h(i[r]);for(var r=0,c=g.length;r<c;++r)g[r]=g[r].join(",");return g.join(" ")},stringOfPointsToArrayOfPoints:function(t){if(t){for(var e=[],n=t.split(" "),i=0;i<n.length;i++){var r=n[i].split(",");isNaN(r[0])||isNaN(r[1])||e.push([Number(r[0]),Number(r[1])])}return e}return null},isPointInPolygon:function(t,e){for(var n,i,r,s,a=t[0],o=t[1],u=!1,r=0,l=e.length-1;r<e.length;l=r++)n=e[r][0],yi=e[r][1],i=e[l][0],yj=e[l][1],s=yi>o!=yj>o&&a<(i-n)*(o-yi)/(yj-yi)+n,s&&(u=!u);return u},getBuildingIdFromFloorId:function(t){var e=t.indexOf("-"),n=t.indexOf("-",e+1);return t.substring(0,n)},getVenueIdFromFloorId:function(t){var e=t.indexOf("-");return t.substring(0,e)},getFloorIdFromSectionId:function(t){var e=t.lastIndexOf("-");return t.substring(0,e)},isNullOrUndefined:function(t){return"undefined"==typeof t||null==t},generatePosition:function(t,e){var n={latLng:e};if(!locuslabs.maps.Utilities.isNullOrUndefined(t)){var i=t.get("floorId");_.extend(n,{venueId:locuslabs.maps.Utilities.getVenueIdFromFloorId(i),buildingId:locuslabs.maps.Utilities.getBuildingIdFromFloorId(i),floorId:i})}return new locuslabs.maps.Position(n)},isInstanceOfClass:function(t,e){return!!e&&(!!e.getClassName&&e.getClassName()==t)}}});
},{}],146:[function(require,module,exports){
var loadVenue=require("./map-loading/load-venue"),Location=require("./location");module.exports=Location.subclass("Venue",{constructor:function(t){this.callParent(t),this.buildings={},this.rawData=t},getVersions:function(){var t={};return t.sdkVersion=locuslabs.config.sdkVersion,t.localVersion=this.get("version"),t.serverVersion=this.get("assetVersion"),t.formatVersion=locuslabs.config.assetsFormatVersion,t},getVersionsForNativeApp:function(t){t(JSON.stringify(this.getVersions()))},getVenueOrientation:function(){return this.get("venueOrientation")},getVenueCenter:function(){return this.get("venueCenter")},getVenueRadius:function(){return this.get("venueRadius")},getUber:function(){return this.get("uber")},isLatLngInVenue:function(t){var e=new locuslabs.maps.LatLng(this.getVenueCenter()[0],this.getVenueCenter()[1]);return t.distance(e)<=this.getVenueRadius()},buildingForLatLng:function(t){for(var e=this.getStructures(),r=0;r<e.length;r++){var n=e[r],i=this.getStructure(n),u=i.getBoundsPolygon();if(null!=u){var o=[t.lat(),t.lng()];if(locuslabs.maps.Utilities.isPointInPolygon(o,u))return n}}return null},getPositioningSupported:function(){return this.get("positioningSupported")},getNavData:function(t){var e=this;if(!t)throw new Error("You must now pass a callback to Venue.getSearchData");this._waitForData(function(){return t(e.get("navData"))})},getSearchData:function(t){if(!t)throw new Error("You must now pass a callback to Venue.getSearchData");return this.getPOIData(t)},getPOIData:function(t){var e=this;if(!t)throw new Error("You must now pass a callback to Venue.getPOIData");this._waitForData(function(){return t(e.get("poiData"))})},_waitForData:function(t){var e=this;return this.get("beacons")?void t():void loadVenue.finishedLoading(this.getId(),function(){var r=locuslabs.reduxStore.getState().venues[e.getId()];e.set("poiData",r.poiData),e.set("navData",r.navData),e.set("beacons",r.beacons),t()})},getMapData:function(){return locuslabs.reduxStore.getState().venues[this.get("id")].fullSvg},getDefaultStructureId:function(){return this.get("defaultStructureId")},getStructures:function(){var t=[],e=this.get("structures");for(var r in e)t.push(r);return t},getStructure:function(t){if(t){if(!this.buildings[t]){var e=this.get("structures")[t];if(!e)return this.getStructure(this.getStructures()[0]);this.buildings[t]=new locuslabs.maps.Building(this,this.get("structures")[t])}return this.buildings[t]}return this.getStructure(this.getStructures()[0])},getLevelDifference:function(t,e,r){var n=this.findStructureForFloorId(e),i=this.findStructureForFloorId(r),u=n.loadFloor(e),o=i.loadFloor(r);return u.getOrdinal()-o.getOrdinal()},isSameOrdinalForFloors:function(t,e){try{var r=this.findStructureForFloorId(t),n=this.findStructureForFloorId(e),i=r.loadFloor(t),u=n.loadFloor(e);return i.getOrdinal()==u.getOrdinal()}catch(t){return!1}},getOrdinalForFloorId:function(t){try{var e=this.findStructureForFloorId(t),r=e.loadFloor(t);return r.getOrdinal()}catch(t){return!1}},findStructureForFloorId:function(t){for(var e=this.getStructures(),r=0;r<e.length;r++)for(var n=this.getStructure(e[r]),i=n.getLevels(),u=0;u<i.length;u++)if(i[u]==t)return n;return null},getBeaconRegions:function(){return this.get("beaconRegions")},getBeacons:function(){return this.get("beacons")},getClassName:function(){return"locuslabs.maps.Venue"},getRaw:function(){return this.rawData},releaseSVGText:function(){this.set("svgTextString","")},toString:function(){return"venue id: "+this.get("id")},_debugDescription:function(){return"venue id: "+this.get("id")},teardown:function(){delete this.buildings,delete this.rawData,this.callParent()},static:{newInstance:function(t,e){var r=new locuslabs.maps.Venue(e[0]);return r.set("uuid",t),r}}});
},{"./location":96,"./map-loading/load-venue":103}],147:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("ViewBox",{constructor:function(i,s){this.origin=i,this.size=s},toString:function(){return"x: "+this.origin.x+" y: "+this.origin.y+" w: "+this.size.width+" h: "+this.size.height}});
},{}],148:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("WalkSimulator",{constructor:function(e,n){this.walkingPoints=e,n=n||{},this.speedup=n.speedup||1,this.walkingSpeed=n.walkingSpeed||2,this.callback=n.callback,this.finishedCallback=n.finishedCallback,this.running=!1},start:function(){var e=this;this.secondsWalkedInCurrentSegment=0,this.metersPerSecond=this.walkingSpeed*this.speedup,this.delayBetweenMoves=1e3/this.speedup,this.currentWalkingSegment=0,this.running=!0,setTimeout(function(){e.interpolateAB(e.walkingPoints[0],e.walkingPoints[1])},e.delayBetweenMoves)},stop:function(){this.running=!1},interpolateAB:function(e,n){var t=this;if(t.running){var s=new locuslabs.maps.LatLng(e.latLng.lat,e.latLng.lng),a=new locuslabs.maps.LatLng(n.latLng.lat,n.latLng.lng),l=s.distance(a),i=l/t.metersPerSecond,r=s.lat()+t.secondsWalkedInCurrentSegment*t.metersPerSecond/l*(a.lat()-s.lat()),o=s.lng()+t.secondsWalkedInCurrentSegment*t.metersPerSecond/l*(a.lng()-s.lng()),g=new locuslabs.maps.LatLng(r,o);this.callback({latLng:g,error:4,floorId:e.floorId,heading:0}),t.secondsWalkedInCurrentSegment++<i?setTimeout(function(){t.interpolateAB(e,n)},t.delayBetweenMoves):(t.currentWalkingSegment++,t.currentWalkingSegment<t.walkingPoints.length-1?(t.secondsWalkedInCurrentSegment=1,setTimeout(function(){t.interpolateAB(t.walkingPoints[t.currentWalkingSegment],t.walkingPoints[t.currentWalkingSegment+1])},t.delayBetweenMoves)):(t.running=!1,this.finishedCallback()))}}});
},{}],149:[function(require,module,exports){
locuslabs.meld=function(){function t(t,n,u){var a,c;return arguments.length<3?e(t,n):(A(n)?c=o(t,n,u):(a=typeof n,"string"===a?"function"==typeof t[n]&&(c=r(t,n,u)):c="function"===a?o(t,n(t),u):i(t,n,u)),c)}function n(t,n){var e,r,o;this.target=t,this.func=n,this.aspects={},e=this.orig=t[n],r=this,o=this.advised=function(){function t(t){var n=s(t);return r._callSimpleAdvice("on",u,t),n}function i(t,n){r._callSimpleAdvice(t,u,n)}var u,a,c,s,f;this instanceof o?(u=O(e.prototype),s=function(t){return l(e,u,t)}):(u=this,s=function(t){return e.apply(u,t)}),c=j.call(arguments),f="afterReturning",a=d({target:u,method:n,args:c});try{r._callSimpleAdvice("before",u,c);try{a.result=r._callAroundAdvice(u,n,c,t)}catch(t){a.result=a.exception=t,f="afterThrowing"}if(c=[a.result],i(f,c),i("after",c),a.exception)throw a.exception;return a.result}finally{v()}},R(o,"_advisor",{value:r,configurable:!0})}function e(t,n){var e,o;return e=t.name||"_",o={},o[e]=t,r(o,e,n),o[e]}function r(t,e,r){var o=n.get(t,e);return o&&o.add(r)}function o(t,n,e){var o,i,a,c;for(o=[],c=0;a=n[c++];)i=r(t,a,e),i&&o.push(i);return u(o)}function i(t,n,e){var o=[];for(var i in t)"function"==typeof t[i]&&n.test(i)&&o.push(r(t,i,e));return u(o)}function u(t){return{remove:function(){for(var n=t.length-1;n>=0;--n)t[n].remove()}}}function a(n){return function(e,r,o){var i={};return 2===arguments.length?(i[n]=r,t(e,i)):(i[n]=o,t(e,r,i))}}function c(t,n){var e,r,o;for(e in w)r=n[e],r&&(o=t[e],o||(t[e]=o=[]),o.push({aspect:n,advice:r}))}function s(t,n){var e,r,o;o=0;for(e in w)if(r=t[e]){o+=r.length;for(var i=r.length-1;i>=0;--i)if(r[i].aspect===n){r.splice(i,1),--o;break}}return o}function l(t,n,e){try{R(n,"constructor",{value:t,enumerable:!1})}catch(t){}return t.apply(n,e),n}function f(t,n){for(var e=0,r=t.length;e<r;e++)n(t[e])}function h(t,n){for(var e=t.length-1;e>=0;--e)n(t[e])}function p(){return m}function d(t){return y.push(m),m=t}function v(){return m=y.pop()}function g(){try{return"x"in Object.defineProperty({},"x",{})}catch(t){}}t.before=a("before"),t.around=a("around"),t.on=a("on"),t.afterReturning=a("afterReturning"),t.afterThrowing=a("afterThrowing"),t.after=a("after"),t.joinpoint=p,t.add=function(){return t.apply(null,arguments)},n.prototype={_callSimpleAdvice:function(t,n,e){var r,o;o=this.aspects[t],o&&(r=w[t])(this.aspects[t],function(t){var r=t.advice;r&&r.apply(n,e)})},_callAroundAdvice:function(t,n,e,r){function o(t,n){return t<0?r(n):i(a[t].advice,t,n)}function i(e,r,i){function u(){return l}function a(){return s(arguments.length>0?j.call(arguments):i)}function c(t){return s(t||i)}function s(t){return l++,o(r-1,t)}var l,f;l=0,f=d({target:t,method:n,args:i,proceed:a,proceedApply:c,proceedCount:u});try{return e.call(t,f)}finally{v()}}var u,a;return a=this.aspects.around,u=a?a.length:0,o(u-1,e)},add:function(t){var n,e;return n=this,e=n.aspects,c(e,t),{remove:function(){var r=s(e,t);r||n.remove()}}},remove:function(){delete this.advised._advisor,this.target[this.func]=this.orig}},n.get=function(t,e){if(e in t){var r,o;if(o=t[e],"function"!=typeof o)throw new Error("Advice can only be applied to functions: "+e);return r=o._advisor,r||(r=new n(t,e),t[e]=r.advised),r}};var m,y,b,T,_,w,j,A,R,O;return y=[],b=Array.prototype,T=b.unshift,_=b.push,j=b.slice,A=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},R=g()?Object.defineProperty:function(t,n,e){t[n]=e.value},O=Object.create||function(){function t(){}return function(n){t.prototype=n;var e=new t;return t.prototype=null,e}}(),w={before:h,around:!1},w.on=w.afterReturning=w.afterThrowing=w.after=f,t}(),locuslabs.meld.tracer=function(){function t(t){return t>r.length/2&&(r+=r),r.slice(0,2*t-2)}var n,e,r,o;n=locuslabs.meld.joinpoint,e=0;var i;return r="| | | | | ",o={onCall:function(n){i&&locuslabs.log.debug(i),i=_.collect(n.args,function(t){return _.sprintf("%J",t)}).join(", ").substring(0,2e3),i=_.sprintf("%s%s(%s)",t(++e),n.method,i)},onReturn:function(n){var r,o;r=_.isDefined(n.result)&&_.isFunction(n.result)?"%s+---> function":_.isDefined(n.result)?"%s+---> %J":"%s+---> no return value",i?(o=_.sprintf(r,i,n.result),i=null,e--):o=_.sprintf(r,t(e--),n.result),locuslabs.log.debug(o.toString?o.toString().substring(0,2e3):o)},onThrow:function(n){console.log(t(e--)+n.method+" THROW "+n.exception)}},function(r){return r||(r=o),locuslabs.Base.prototype._debug=function(n,r){var o=_.collect(arguments,function(t){return t});o.unshift("DEBUG"),o.unshift(arguments.callee.caller.$name);var i=this._loggingPrimitive.apply(this,o);return locuslabs.log.debug(t(e)+i),i},{before:function(){var t=n();r.onCall&&r.onCall({method:t.method,target:t.target,args:t.args.slice()})},afterReturning:function(t){var e=n();r.onReturn&&r.onReturn({method:e.method,target:e.target,result:t})},afterThrowing:function(t){var e=n();r.onThrow&&r.onThrow({method:e.method,target:e.target,exception:t})}}}}(),locuslabs.meld.profiler=function(){function t(){this.children={},this.startTime=0,this.name="root",this.count=0,this.totalTime=0,this.parent=null,this.depth=0}t.prototype={push:function(n){var e=this.children[n];return e||(e=this.children[n]=new t),e.name=n,e.startTime=new Date,e.parent=this,e.depth=this.depth+1,e},pop:function(t){return this.count=this.count+1,this.totalTime=this.totalTime+(new Date-this.startTime),this.parent},selfTime:function(){var t=this.totalTime,n=this.children;return Object.keys(n).forEach(function(e){n.hasOwnProperty(e)&&(t-=n[e].totalTime)}),t},report:function(t,n){t=t||"";var e=("      "+this.depth).slice(-6),o=("      "+this.totalTime).slice(-6),i=("      "+this.selfTime()).slice(-6),u=("      "+this.count).slice(-6),a=[e+o+" "+i+" "+u+" "+t+this.name],c=this.children;return Object.keys(c).forEach(function(n){if(c.hasOwnProperty(n)){var e=c[n];e.totalTime>r&&a.push(c[n].report(t+"|   "))}}),a.join("\n")}};var n=new t,e=n,r=1;return function(t){return{before:function(){var t=locuslabs.meld.joinpoint(),n=t.target.className?t.target.className+".":"";e=e.push(n+t.method)},afterReturning:function(t){var n=locuslabs.meld.joinpoint(),r=n.target.className?n.target.className+".":"";e=e.pop(r+n.method)},afterThrowing:function(t){var n=locuslabs.meld.joinpoint(),r=n.target.className?n.target.className+".":"";e=e.pop(r+n.method)},report:function(){return"\n depth total   self  count name\n"+n.report("")},setMinimumTotalTime:function(t){r=t}}}}();
},{}],150:[function(require,module,exports){
var MVCObject=require("./mvcobject");module.exports=MVCObject.subclass("MVCArray",{constructor:function(t){t||(t=[]),this.set("array",t)},getArray:function(){return this.get("array")},getAt:function(t){return this.getArray()[t]},getLength:function(){return this.getArray().length},insertAt:function(t,r){this.getArray().splice(t,0,r),locuslabs.maps.event.trigger(this,"insert_at",t)},removeAt:function(t){var r=this.getArray(),e=r[t];return r.splice(t,1),locuslabs.maps.event.trigger(this,"remove_at",t,e),e},setAt:function(t,r){var e=this.getArray(),n=e[t];e.splice(t,1,r),locuslabs.maps.event.trigger(this,"set_at",t,n)},clear:function(){var t=this.getArray();t.splice(0,t.length)},push:function(t){return this.getArray().push(t),this.getArray().length},pop:function(){return this.getArray().pop()},forEach:function(t){$.each(this.get("array"),function(r,e){t(e,r)})},collect:function(t){return _.collect(this.get("array"),t)}});
},{"./mvcobject":151}],151:[function(require,module,exports){
var Base=require("./base");module.exports=Base.subclass("MVCObject",{constructor:function(){this.callParent()},addListener:function(t,i){return locuslabs.maps.event.addDomListener(this,t,i)},addListenerReturningUuid:function(t,i){var n=locuslabs.maps.event.addDomListener(this,t,i);return n.uuid},addListenerForNativeApp:function(t,i,n){var e=locuslabs.maps.event.addDomListener(this,t,function(){locuslabs.log.debug("Native event triggered:"+t);var n=Array.prototype.slice.call(arguments);t.indexOf("_changed")!=-1&&n.push(this.get(t.substring(0,t.indexOf("_")))),n=_.collect(n,function(t){return JSON.stringify(locuslabs.Native.simplifyData(t))}),i.apply(this,n)});n&&(this._nativeListeners||(this._nativeListeners={}),this._nativeListeners[n]=e)},removeListenerForNativeApp:function(t){this.removeListener(this._nativeListeners[t]),delete this._nativeListeners[t]},removeListener:function(t){return locuslabs.maps.event.removeListener(t)},bindTo:function(t,i,n,e){n=n||t,this.__mvcbindings||(this.__mvcbindings={}),this.__mvcbindings[t]&&this.unbind(t);var s=this,c=i.addListener(n+"_changed",function(i){s.changed(t,i),s.notify(t,i)});this.__mvcbindings[t]={target:i,targetKey:n,listener:c},e||(this.changed(t),this.notify(t))},bindManyTo:function(t,i,n){t.forEach(function(t){this.bindTo(t,i,t,n)},this)},changed:function(t,i){try{this[t+"_changed"]&&this[t+"_changed"](i)}catch(i){this._exception("changed",i,"Error while calling %s.%s",this.className,t+"_changed")}},get:function(t){if(this.__mvcbindings){var i=this.__mvcbindings[t];if(i)return i.target.get(i.targetKey)}return this.__mvcobject?this.__mvcobject[t]:null},notifyAll:function(){var t=this;_.each(this.__mvcobject,function(i,n,e){t.notify(n)}),_.each(this.__mvcbindings,function(i,n,e){t.notify(n)})},notify:function(t,i){locuslabs.maps.event.trigger(this,t+"_changed",i),locuslabs.maps.event.trigger(this,"changed",t,i)},set:function(t,i,n){if(this.__mvcbindings){var e=this.__mvcbindings[t];if(e)return void e.target.set(e.targetKey,i)}this.__mvcobject||(this.__mvcobject={});var s=this.__mvcobject[t];this.__mvcobject[t]=i,n||s==this.__mvcobject[t]||(this.changed(t,s),this.notify(t,s))},setValues:function(t){var i=this;_.each(t,function(t,n,e){i.set(n,t)})},unbind:function(t){if(this.__mvcbindings){var i=this.__mvcbindings[t];i&&(locuslabs.maps.event.removeListener(i.listener),delete this.__mvcbindings[t])}},unbindFromThis:function(t){t&&t.__mvcbindings&&_.each(t.__mvcbindings,function(t,i,n){t.target===this&&(locuslabs.maps.event.removeListener(t.listener),delete n[i])},this)},teardown:function(){this.unbindAll(),this.__mvcbindings={},this.__mvcobject={}},unbindAll:function(){if(this.__mvcbindings){var t=this;_.each(this.__mvcbindings,function(i,n,e){t.unbind(n)})}},getUUID:function(){return this.get("uuid")},getClassName:function(){return"locuslabs.maps.MVCObject"}});
},{"./base":60}],152:[function(require,module,exports){
module.exports=locuslabs.maps.MVCObject.subclass("MVCObjectRelay",{constructor:function(t,e){var s=this;locuslabs.maps.event.addListener(t,"changed",function(e){if(!s._isSetting){var i=locuslabs.maps.MVCObjectRelay.serialize(t.get(e));s.getCallback()(e,i)}}),this.set("object",t),this.set("callback",e),this._isSetting=!1},getCallback:function(){return this.get("callback")},getObject:function(){return this.get("object")},objectSet:function(t,e){this._isSetting=!0,this.getObject().set(t,e),this._isSetting=!1},updateAll:function(){this.getObject().notifyAll()},toString:function(){return"locuslabs.maps.MVCObjectRelay"},static:{serialize:function(t){if(t.serialize)return t.serialize();if($.isPlainObject(t)){var e={};return $.each(t,function(t,s){e[t]=locuslabs.maps.MVCObjectRelay.serialize(s)}),e}return t},newInstance:function(t,e){var s=new locuslabs.maps.MVCObjectRelay(e[0],e[1]);return s.set("uuid",t),s}}});
},{}],153:[function(require,module,exports){
module.exports=locuslabs.maps.MVCObject.subclass("MVCObjectShadow",{constructor:function(t,s){locuslabs.maps.MVCObject.prototype.set.call(this,"uuid",t),locuslabs.maps.MVCObject.prototype.set.call(this,"callback",s)},set:function(t,s){s.serialize?this.get("callback")(t,s.serialize()):this.get("callback")(t,s),locuslabs.maps.MVCObject.prototype.set.call(this,t,s)},relaySet:function(t,s){s=locuslabs.deserialize(s),locuslabs.maps.MVCObject.prototype.set.call(this,t,s)},toString:function(){return"locuslabs.maps.MVCObjectShadow["+this.getUUID()+"]"},static:{newInstance:function(t,s){return new locuslabs.maps.MVCObjectShadow(t,s[0])}}});
},{}],154:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("Native",{constructor:function(t){this._objects={},this._functions={},this._native=t},setup:function(){this._native.ready()},_processNativeArg:function(t){var e,s=this;if("string"==typeof t&&0==t.indexOf("uuid:")){var n=t.substring(5);return this._objects[n]}if($.isPlainObject(t)){if(t.__locuslabs_serialized_object__)return locuslabs.deserialize(t);if(t.__locuslabs_native_object__){var i=this._objects[t.uuid];if(!i)throw new Error("Unknown object: "+t.uuid);return i}if(t.__locuslabs_native_function__){var a=this._functions[t.uuid];return a||this._warn("native","Unknown function: %s",t.uuid),a}return e={},$.each(t,function(t,n){e[t]=s._processNativeArg(n)}),e}return $.isArray(t)?(e=[],$.each(t,function(t,n){e.push(s._processNativeArg(n))}),e):t},newInstance:function(t,e,s){function n(){this._debug("trace","-> %s.newInstance(%s)",t.className,this._abbreviateArgs(s)),locuslabs.log.indent();try{if(t.newInstance)return this._objects[e]&&this._debug("trace","replacing instance %s",e),this._objects[e]=t.newInstance(e,this._processNativeArg(s)),this._debug("native","Registering new %s: %s",t.className,e),e;throw new Error("Exception: missing newInstance method")}catch(e){return this._exception("native",e,"exception constructing %s",t.className),""}finally{locuslabs.log.outdent(),this._debug("trace","<- %s.newInstance(%s) creates uuid: %s",t.className,this._abbreviateArgs(s),e)}}function i(){try{if(t.newInstance)return this._objects[e]=t.newInstance(e,this._processNativeArg(s)),this._debug("native","Registering new %s: %s",t.className,e),e;throw new Error("Exception: missing newInstance method")}catch(e){return this._exception("native",e,"exception constructing %s",t.className),""}}return locuslabs.Base.trace?n.call(this):i.call(this)},newInstanceForNativeApp:function(t,e,s){locuslabs.Base.trace&&this._debug("native","-> %s(%j)",t.prototype.className,s);var n=this.newInstance(t,e,s);return locuslabs.Base.trace&&this._debug("native","<- %s returns %j",t.prototype.className,n),n},_call:function(t,e,s){var n,i;if(null===t){var a=e.split(/\./),r=window;if($.each(a,function(t,e){r=r[e]}),"function"==typeof r)return n=this._processNativeArg(s),i=JSON.stringify(this._processJavaScriptArg(r.apply(null,n)));throw new Error("Invalid global method: "+e)}var c=this._objects[t];if("undefined"==typeof c)throw new Error("Unknown instance: "+t);n=this._processNativeArg(s);var o=c[e];if(!o){var u="";throw c.getClassName&&(u=c.getClassName()),new Error("Unknown method: "+u+":"+e+" ("+t+")")}return i=JSON.stringify(this._processJavaScriptArg(o.apply(c,n)))},_abbreviateArgs:function(t){return _.isArray(t)||(t=[t]),_.stringify(t,2e3).replace(/\s+/g," ").slice(1,-1)},call:function(t,e,s,n){function i(){const n=this._abbreviateArgs(s),i=this._objects[t],a=i?i.className:"unknown class";var r=null;this._debug("trace","-> %s.%s(%s)",a,e,n),locuslabs.log.indent();try{if(!i)throw new Error("Unknown object: "+t);r=this._call(t,e,s)}catch(s){this._exception("native",s,"Exception in native call: %s.%s(%s) %s",a,e,n,t)}finally{locuslabs.log.outdent(),this._debug("trace","<- %s.%s(%s) returns %s",a,e,this._abbreviateArgs(s),this._abbreviateArgs(r))}return r}function a(){try{const n=this._objects[t];if(!n)throw new Error("Unknown object: "+t);return this._call(t,e,s)}catch(n){return this._exception("native",n,"Exception in native call: %s(%s) %s",e,this._abbreviateArgs(s),t),null}}return locuslabs.Base.trace=!1,locuslabs.Base.trace?i.call(this):a.call(this)},callForNativeApp:function(t,e,s){return this.call(t,e,s,!0)},releaseInstance:function(t){this._objects[t]?(locuslabs.Base.trace&&this._debug("native","releasing: %s uuid: %s",this._objects[t].className,t),delete this._objects[t]):locuslabs.Base.trace&&this._debug("native","not releasing: no object with uuid: %s",t)},registerObject:function(t){var e=t.getUUID();return this._objects[e]||(this._debug("native","Registering new %s: %s",t.className,e),this._objects[e]=t),e},_processJavaScriptArg:function(t){var e,s=this;if("undefined"!=typeof t&&null!=t){if(t.getUUID&&t.getUUID()){var n=this.registerObject(t);return{__locuslabs_native_object__:!0,uuid:n,className:t.getClassName()}}return $.isPlainObject(t)?(e={},$.each(t,function(t,n){e[t]=s._processJavaScriptArg(n)}),e):$.isArray(t)?(e=[],$.each(t,function(t,n){e.push(s._processJavaScriptArg(n))}),e):t.serialize?t.serialize():t}},registerFunction:function(t){function e(){try{var e=Array.prototype.slice.call(arguments),s=JSON.stringify(n._processJavaScriptArg(e));n._native.callFunction(t,s)}catch(t){n._exception("native",t,"exception on callback to native method")}}function s(){n._debug("native","<= callback to %s(%s)",t,n._abbreviateArgs(arguments)),locuslabs.log.indent();try{var e=Array.prototype.slice.call(arguments),s=JSON.stringify(n._processJavaScriptArg(e));n._native.callFunction(t,s)}catch(t){n._exception("native",t,"exception on callback to native method")}finally{locuslabs.log.outdent(),n._debug("native","=> callback to %s returns",t)}}var n=this;this._functions[t]=locuslabs.Base.trace?s:e},releaseFunction:function(t){this._functions[t]&&delete this._functions[t]},getObject:function(t){return this._objects[t]},pendingResultPromiseFunctions:{},callMethodOnNativeObjectReturningPromiseForReturnValue:function(t,e){var s=Array.prototype.slice.call(arguments,2),n=JSON.stringify(this._processJavaScriptArg(s)),i=locuslabs.uuid(),a=this;return new Promise(function(s,r){a.pendingResultPromiseFunctions[i]=function(n,c){try{locuslabs.Base.trace&&locuslabs.log.debug(":> "+t.className+"."+e+" returns: "+(n||"").substring(0,500)),s(JSON.parse(n)),delete a.pendingResultPromiseFunctions[i],a._native.deleteJavaValue(c)}catch(t){r(t)}},locuslabs.Base.trace&&locuslabs.log.debug("<: "+t.className+"."+e+"("+n.substring(0,500)+")"),a._native.callMethodOnNativeObject(t.get("uuid"),e,i,n)})},returnPendingResult:function(t,e){var s=this._native.javaValue(e);this.pendingResultPromiseFunctions[t](s,e)},static:{simplifyData:function(t){function e(t){return _.isArray(t)?_.collect(t,function(t){return e(t)}):_.isObject(t)?_.reduce(t,function(t,s,n){return"_data"==n?_.extend(t,e(s)):t[n]=e(s),t},{}):t}try{return e(t)}catch(t){return this._exception("native",t,"exception simplifying data"),null}}}});
},{}],155:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),NavigationSegmentService=require("../service/navigation-segment"),NavigationOverlayService=require("../service/navigation-overlay"),NavigationController=function(){function e(t,n,r,i){_classCallCheck(this,e);for(var a=arguments.length,o=Array(a>4?a-4:0),s=4;s<a;s++)o[s-4]=arguments[s];if(!_.isFunction(t)||!n||!r||!i||_.contains(o,null))throw new TypeError("Error logged on the Class NavigationController#Constructor: Class requires a callback Function, Venue, View, StartPosition, and one to many EndPosition on construction.");try{var g=this;this.view=r,this.currentSegment=0,n.navigate(i,o,function(e){NavigationSegmentService.getNavigationSegments(n,e.waypoints,function(e){var n=NavigationOverlayService.getNavigationPath(g.view,e),r=_slicedToArray(n,2);g.lines=r[0],g.markers=r[1],g.navigationSegments=e,NavigationOverlayService.renderNavigationPath(g.view,g.lines,g.markers),g.showCurrentSegment(),t(g)})})}catch(e){throw locuslabs.log.error("Error logged on NavigationController#constructor: ",e),e}}return _createClass(e,[{key:"tearDown",value:function(){NavigationOverlayService.removeNavigationPath(this.view,this.lines,this.markers)}},{key:"getSegments",value:function(){return this.navigationSegments}},{key:"showPreviousSegment",value:function(){this.currentSegment>0&&this.currentSegment<=this.navigationSegments.length-1?(this.currentSegment--,this.showCurrentSegment()):0===this.currentSegment&&this.showCurrentSegment()}},{key:"showNextSegment",value:function(){this.currentSegment>=0&&this.currentSegment<this.navigationSegments.length-1?(this.currentSegment++,this.showCurrentSegment()):this.currentSegment===this.navigationSegments.length-1&&this.showCurrentSegment()}},{key:"showCurrentSegment",value:function(){var e=this.getSegments()[this.currentSegment],t=e.segmentCenter.getFloorId(),n=e.segmentCenter.getLatLng(),r=e.distance<=20?20:e.distance;this.view.getMap().setFloorId(t),this.view.getMap().setCenter(n),this.view.getMap().setRadius(r)}},{key:"showSegmentAt",value:function(e){e<0?this.currentSegment=0:e>this.navigationSegments.length-1?this.currentSegment=this.navigationSegments.length-1:this.currentSegment=e,this.showCurrentSegment()}}]),e}();module.exports=NavigationController;
},{"../service/navigation-overlay":157,"../service/navigation-segment":158}],156:[function(require,module,exports){
var Base=require("../../base");module.exports=Base.subclass("NavigationSegment",{constructor:function(e){this.uuid=locuslabs.uuid(),this.estimatedTime=e.estimatedTime,this.distance=e.distance,this.levelDifference=e.levelDifference,this.segmentCenter=e.segmentCenter,this.type=e.type,this.primaryText=e.primaryText,this.secondaryText=e.secondaryText,this.icon=e.icon,this.waypoints=e.waypoints},getEstimatedTime:function(){return this.estimatedTime},getPrimaryText:function(){return this.primaryText},getSecondaryText:function(){return this.secondaryText},getType:function(){return this.type},getSegmentCenter:function(){return this.segmentCenter},getIcon:function(){return this.icon},getDistance:function(){return this.distance},getLevelDifference:function(){return this.levelDifference},getClassName:function(){return"locuslabs.navigation.NavigationSegment"}});
},{"../../base":60}],157:[function(require,module,exports){
function getNavigationPath(e,t){e.set("displayingNavigation",!0);var n=[],r=[];return t.forEach(function(t,o,a){isLastSegment(a,t)&&r.push(constructMarker(e,t)),n.push(handleSegment(e,t))}),[n,r]}function renderNavigationPath(e,t,n){t.forEach(function(e){e.setVisible(!0)}),n.forEach(function(e){e.setVisible(!0)}),attachListeners(e,t)}function removeNavigationPath(e,t,n){cleanView(e),cleanOverlays(t,n)}function redraw(e,t){t.forEach(function(t){var n=4,r=e.getMap().get("radius")/e.getMap().get("venueRadius"),o=16*r<4?n:16*r;t.set("strokeWeight",o)})}function attachListeners(e,t){e.addListener("radius_changed",function(){_.throttle(redraw(e,t),100)})}function cleanView(e){e.set("displayingNavigation",!1),e.removeListener("radius_changed")}function cleanOverlays(e,t){e.forEach(function(e){e.setFloor(null)}),t.forEach(function(e){e.setMap(!1)})}function constructMarker(e,t){var n=new locuslabs.maps.Marker({position:t.segmentCenter,map:e.getMap(),view:e,icon:locuslabs.config.iconPath+"map-pin-"+t.icon+".svg",title:t.type,opacity:1,zIndex:200,visible:!1});return n}function handleSegment(e,t){var n=segmentHasCurves(t)?renderNavCurve(e,t):renderNavLine(e,t);return n}function renderNavLine(e,t){var n=new locuslabs.maps.NavLine({intervalTime:320,symbolCount:15,zIndex:100,strokeWeight:4}),r=pathFactory(t);return n.setPath(r),n.setFloor(e.getFloorView(t.segmentCenter.getFloorId())),n.setVisible(!1),isTransportationSegment(t)?n.set("strokeColor","red"):isSecuritySegment(t)?n.set("strokeColor","orange"):n.set("strokeColor","#265cc0"),n}function renderNavCurve(e,t){var n=new locuslabs.maps.NavCurve({intervalTime:320,symbolCount:15,zIndex:100,strokeWeight:4}),r=curvePathFactory(e,t);return n.setCurvedPath(r),n.setFloor(e.getFloorView(t.segmentCenter.getFloorId())),n.setVisible(!1),isTransportationSegment(t)?navCurv.set("strokeColor","red"):isSecuritySegment(t)?n.set("strokeColor","orange"):n.set("strokeColor","#265cc0"),n}function pathFactory(e){var t=new locuslabs.maps.Path({floorId:e.segmentCenter.getFloorId()}),n=e.waypoints;return n.forEach(function(e){t.push(e.position.getLatLng())}),t}function curvePathFactory(e,t){var n=new locuslabs.maps.CurvedPath({floor:e.getFloorView(t.segmentCenter.getFloorId())}),r=t.waypoints;return r.forEach(function(e){var t=e.curvePath;t.forEach(function(e){n.push(e)})}),n}function segmentHasCurves(e){var t=!1,n=e.waypoints;return n.forEach(function(e){e.curvePath.length>0&&(t=!0)}),t}function isFirstSegment(e,t){return _.first(e)===t}function isLastSegment(e,t){return _.last(e)===t}function isSecuritySegment(e){return"Security Checkpoint"===e.type}function isTransportationSegment(e){var t=["bus","train"],n=_.contains(t,e.type);return n}module.exports={getNavigationPath:getNavigationPath,renderNavigationPath:renderNavigationPath,removeNavigationPath:removeNavigationPath};
},{}],158:[function(require,module,exports){
function getNavigationSegments(t,e,i){var n=[];_getLevelFromWayPoint=_getLevelFromAirportAndWayPoint.bind(void 0,t),e.forEach(function(t,e,i){_this.waypoint=t,_this.waypointIndex=e,_this.waypointCollection=i,isFirstWaypoint()||isLastWaypoint()?n.push(constructNavigationSegment(t)):navigationContinues()?handleWaypointContinuity():isSingleWayPointSegment()?n.push(constructNavigationSegment(t)):n.push(handleWaypointMerge())}),i(n)}function isSingleWayPointSegment(){return _.isEmpty(_this.waypointsForCurrentSegment)}function handleWaypointContinuity(){_this.waypointsForCurrentSegment.push(_this.waypoint)}function handleWaypointMerge(){try{isTransportation()&&(_this.waypoint.stops=_this.waypointsForCurrentSegment.length);var t=_.first(_this.waypointsForCurrentSegment).latLng,e=_.last(_this.waypointsForCurrentSegment).latLng;_this.waypoint.latLng=new locuslabs.maps.LatLng(_([t.lat(),e.lat()]).average(),_([t.lng(),e.lng()]).average()),_this.waypointsForCurrentSegment.forEach(function(t){_this.waypoint.eta+=t.eta,_this.waypoint.distance+=t.distance,_this.waypoint.levelDifference+=t.levelDifference})}catch(t){Error("NavigationSegmentService#handleWaypointMerge: ",t)}finally{return constructNavigationSegment()}}function constructNavigationSegment(){var t=_this.waypointsForCurrentSegment.slice();t.push(_this.waypoint),isFirstWaypoint()||0!==_this.waypoint.levelDifference||0!==_this.previousWaypoint.curvePath.length||t.unshift(_this.previousWaypoint),_(_this.waypointsForCurrentSegment).emptyArray();var e=new NavigationSegment({segmentCenter:new locuslabs.maps.Position({latLng:_this.waypoint.latLng,venueId:_this.waypoint.venueId,buildingId:_this.waypoint.buildingId,floorId:_this.waypoint.floorId}),estimatedTime:_this.waypoint.eta,distance:_this.waypoint.distance,levelDifference:_this.waypoint.levelDifference,stops:_this.waypoint.stops?_this.waypoint.stops:0,type:_getSegmentType(_this.waypoint),primaryText:_getSegmentPrimaryText(_this.waypoint),secondaryText:_getSegmentSecondaryText(_this.waypoint),icon:_getSegmentIcon(_this.waypoint),waypoints:t});return _this.previousWaypoint=_this.waypoint,e}function _getLevelFromAirportAndWayPoint(t,e){return t.loadBuilding(e.buildingId).getFloorData(e.floorId)}function _getEstimatedTime(t){try{return t.eta}catch(t){locuslabs.log.error("_getEstimatedTime: ",t)}}function _getLevelDifference(t){try{return t.levelDifference}catch(t){locuslabs.log.error("_getLevelDifference: ",t)}}function _getSegmentType(t){return isFirstWaypoint()?"Start":isLastWaypoint()?"End":t.isPortal?t.portalType:t.securityCheckpoint?"Security Checkpoint":"Walk"}function _getSegmentIcon(t){if(isFirstWaypoint())return"nav-start";if(isLastWaypoint())return"nav-end";if(t.isPortal){var e=t.portalType;return t.levelDifference>0?e+="-up":t.levelDifference<0&&(e+="-down"),e=e.toLowerCase()}return t.securityCheckpoint?"security":"levels"}function _getSegmentPrimaryText(t){if(t.isPortal)return t.portalType;if(t.securityCheckpoint)return"Security Checkpoint";var e=_getLevelFromWayPoint(t);return e.name+" - "+e.details}function _getDirection(){var t=_this.waypoint.levelDifference;return t>0?"up":0===t?"flat":t<0?"down":void locuslabs.log.error("The current waypoint has a level Difference which is not a number. This means that either the wrong data is being provided by the Navigator Enginer, or the waypoint is being incorrectly manipulated.")}function _getSegmentSecondaryText(t){try{var e=_getDirection();return isFirstWaypoint()?"Begin route at":isSecureCheckpoint()?_getTimeString()+" through checkpoint to":hasStops()?"Ride "+t.portalType.toLowerCase()+" "+t.stops+" stop(s) ("+Math.floor(t.eta)+"-"+Math.ceil(eta)+" minutes)":isTransportation()?"Ride "+t.portalType.toLowerCase()+" "+_getTimeString()+" to":isWalk()?"Walk "+_getTimeString()+" to":"flat"===e?"Take "+t.portalType.toLowerCase()+" to":"Take "+t.portalType.toLowerCase()+" "+e+" to"}catch(t){locuslabs.log.error("_getSegmentSecondaryText: ")}}function _getTimeString(){var t=_this.waypoint.eta;return t<1?"< 1 minutes":1===Math.floor(t)?Math.floor(t)+" minute":Math.floor(t)+" minutes"}function addStop(){_this.waypoint.stops?_this.waypoint.stops++:0}function addTime(t){_this.waypoint.eta+=t}function hasStops(){var t=_this.waypoint.stops;return t&&t.length>0}function isBus(){return isType("bus")}function isTransportation(){return isType("bus")||isType("train")}function isWalk(){return isType("walk")}function isSecureCheckpoint(){return isType("security checkpoint")}function isType(t){var e=_getSegmentType(_this.waypoint);return!!e&&e.toLowerCase()===t}function isLastWaypoint(){if(_.last(_this.waypointCollection)===_this.waypoint)return!0}function isFirstWaypoint(){if(_.first(_this.waypointCollection)===_this.waypoint)return!0}function navigationContinues(){var t=_this.waypointCollection[_this.waypointIndex+1];if(t&&_this.waypoint.portalType===t.portalType&&_this.waypoint.securityCheckpoint===t.securityCheckpoint)return!0}var NavigationSegment=require("../model/navigation-segment"),_this={waypoint:{},previousWaypoint:{},waypointIndex:0,waypointCollection:[],waypointsForCurrentSegment:[]},_getLevelFromWayPoint;module.exports={getNavigationSegments:getNavigationSegments};
},{"../model/navigation-segment":156}],159:[function(require,module,exports){
var MVCObject=require("./mvcobject");module.exports=MVCObject.subclass("Person",{constructor:function(e){var o=_.defaults(e||{});o.uuid||(o.uuid=locuslabs.uuid()),this.callParent(),this.setValues(o)},getName:function(){return this.get("name")},setName:function(e){this.set("name",e)},_update:function(){if(this.get("id")){var e=JSON.stringify({people:{name:this.getName()}}),o=this;$.ajax({url:locuslabs.config.apiBase+"/people/"+this.get("id"),data:e,method:"put"}).then(function(){locuslabs.log.debug("Person :",o.get("id")," updated")}).fail(function(){locuslabs.log.error("Failed to update person :",o.get("id")),setTimeout(function(){o._update()},3e4)})}},name_changed:function(){this._update()},getClassName:function(){return"locuslabs.Person"},static:{_loadPersonId:function(e){return locuslabs._loadAccountId().then(function(o){var n=locuslabs.config.apiBase+"/people?account="+o+"&accountSpecificId="+encodeURIComponent(e);return locuslabs.log.debug("Loading personId:",n),$.ajax({url:n,method:"get"})}).then(function(e){return e&&e.people&&e.people.length?e.people[0]:null})},_loadPerson:function(e){var o=locuslabs.config.apiBase+"/people/"+e;return locuslabs.log.debug("Loading person:",o),$.ajax({url:o,method:"get"}).then(function(e){return locuslabs.log.debug("Loaded person:",JSON.stringify(e.people)),new locuslabs.Person(e.people)})},_createPerson:function(e){return locuslabs._loadAccountId().then(function(o){var n=JSON.stringify({people:{accountSpecificId:e,links:{account:o}}});return $.ajax({url:locuslabs.config.apiBase+"/people",method:"post",data:n,contentType:"application/vnd.api+json"})}).then(function(e){return e&&e.people?(locuslabs.log.debug("Person created:",e.people.id),e.people.id):null})},load:function(e,o,n){locuslabs.Person._loadPersonId(e).then(function(o){return o?locuslabs.Person._loadPerson(o):locuslabs.Person._createPerson(e).then(function(e){return locuslabs.Person._loadPerson(e)})}).then(function(e){o&&o(e)}).fail(function(o){locuslabs.log.error("Person creation failed:",o),n&&n(o.toString(),e)})}}});
},{"./mvcobject":151}],160:[function(require,module,exports){
module.exports=locuslabs.Base.subclass("Session",{active:!1,begin:function(s){s=s||{},this.active&&this.end(),locuslabs.log.debug("Begin session "+JSON.stringify(s)),this.id=locuslabs.uuid(),this.active=!0;var i={type:"sessionStart",id:this.id,sdkVersion:locuslabs.config.sdkVersion};"js"==locuslabs.config.sdk&&(i.browserUserAgent=window.navigator.userAgent,i.locale=window.navigator.language),$.each(s,function(s,e){i[s]=e}),this.event(i)},event:function(s){this.active||this.begin(),s.sessionId=this.id,locuslabs.events.submit(s)},end:function(){this.active&&(this.event({type:"sessionFinish",id:this.id}),this.active=!1,this.id=null)}});
},{}],161:[function(require,module,exports){
_.mixin({remove:function(n,e){var t=_.filter(n,function(n){return!e(n)});t.unshift(0,n.length),n.splice.apply(n,t)},average:function(n){return n?_.sum(n)/n.length:NaN},sum:function(n){return _.reduce(n,function(n,e){return n+e},0)},distance:function(n,e){var t=e[0]-n[0],r=e[1]-n[1];return Math.sqrt(t*t+r*r)},cssMatrix:function(n,e,t,r){function i(n){return[[n[0],n[1],n[2]],[n[3],n[4],n[5]],[n[6],n[7],n[8]]]}function o(n,e){n=i(n),e=i(e);for(var t=[],r=0;r<3;r++)for(var o=0;o<3;o++){for(var a=0,s=0;s<3;s++)a+=n[r][s]*e[s][o];t.push(a)}return t}var a,s=t*(Math.PI/180),u=[1,0,-r[0],0,1,-r[1],0,0,1],c=[Math.cos(s),Math.sin(s),0,-Math.sin(s),Math.cos(s),0,0,0,1],l=[1,0,r[0],0,1,r[1],0,0,1],f=[e,0,0,0,e,0,0,0,1],g=[1,0,n[0],0,1,n[1],0,0,1];return a=o(c,u),a=o(l,a),a=o(f,a),a=o(g,a)},default:function(n,e){return _.isUndefined(n)?e:n},isDefined:function(n){return!_.isUndefined(n)},isInteger:function(n){return _.isNumber(n)&&n===+n&&n===(0|n)},ellipse:function(n,e){return n?(e=e||250,n.length>e?n.substr(0,e)+"...":n):"null"},stringify:function(n,e){try{return e=e||250,_.ellipse(JSON.stringify(n),e)}catch(n){return"circular JSON object"}},repeat:function(n,e){return Array(e+1).join(n)},pad:function(n,e,t){return t=t||" ",n.length<e?n+_.repeat(t,e-n.length):n},isApproximately:function(n,e,t){return t=t||.5,Math.abs(n-e)<t},alignAtCharacter:function(n,e){n=_.collect(n,function(n){return n.indexOf(e)==-1?e+n:n});var t=_.collect(n,function(n){return n.split(e)}),r=_.unzip(t),i=_.collect(r[0],function(n){return n.trim()}),o=_.collect(r[1],function(n){return n.trim()}),a=_.reduce(i,function(n,e){return e.length>n?e.length:n},0);return _.collect(i,function(n,t){return _.pad(n,a," ")+e+o[t]})},_sprintf:function(){function n(){var e=arguments[0],t=n.cache;return t[e]&&t.hasOwnProperty(e)||(t[e]=n.parse(e)),n.format.call(null,t[e],arguments)}function e(n){return Object.prototype.toString.call(n).slice(8,-1).toLowerCase()}function t(n,e){return Array(e+1).join(n)}var r={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^jJ]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxXaJ])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},i=0,o=4;return n.format=function(a,s){function u(n){return!r.number.test(J)||j&&!O?E="":(E=j?"+":"-",n=n.toString().replace(r.sign,"")),m=N?"0"===N?"0":N.charAt(1):" ",x=C-(E+n).length,b=C&&x>0?t(m,x):"",I?E+n+b:"0"===m?E+b+n:b+E+n}function c(){var e=_.collect(d,function(e){return n(a[p][0],e)});k[k.length]="["+e.join(", ")+"]"}function l(e){var t;return t=i++>o?"too deep":_.isFunction(e)?"function":_.isInteger(e)?n("%5.0f",e):_.isNumber(e)?n("%10.4f",e):_.isString(e)?n('"%s"',e):_.isArray(e)?f(e):_.isObject(e)?g(e):n("%s",e),i--,t}function f(n){return"["+_.collect(n,l).join(", ")+"]"}function g(e){if(e._debugDescription)return e._debugDescription();var t=_.collect(e,function(e,t){return n("%s: %s",t,l(e))});return"{ "+t.join(", ")+" }"}var d,p,h,y,b,m,x,v=1,w=a.length,S="",k=[],j=!0,E="";for(p=0;p<w;p++)if(S=e(a[p]),"string"===S)k[k.length]=a[p];else if("array"===S){y=a[p];var A=y[1],M=y[2],O=y[3],N=y[4],I=y[5],C=y[6],F=y[7],J=y[8];if(M)for(d=s[v],h=0;h<M.length;h++){if(!d.hasOwnProperty(M[h]))throw new Error(n("[sprintf] property '%s' does not exist",M[h]));d=d[M[h]]}else d=A?s[A]:s[v++];if("function"==e(d)&&(d=d()),r.not_string.test(J)&&r.not_json.test(J)&&"number"!=e(d)&&isNaN(d)){if(!_.isUndefined(d)){if("array"==e(d)){c();continue}throw new TypeError(n("[sprintf] Parameter %d: expecting number but found %s ",v-1,e(d)))}d=null}else if(!r.not_string.test(J)&&"array"==e(d)){c();continue}switch(r.number.test(J)&&(j=d>=0),J){case"b":d=d.toString(2);break;case"c":d=String.fromCharCode(d);break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,C?parseInt(C):0);break;case"J":d=l(d);break;case"e":d=F?d.toExponential(F):d.toExponential();break;case"f":d=F?parseFloat(d).toFixed(F):parseFloat(d);break;case"g":d=F?parseFloat(d).toPrecision(F):parseFloat(d);break;case"s":d=(d=String(d))&&F?d.substring(0,F):d;break;case"o":d=d.toString(8);break;case"u":d>>>=0;break;case"x":d=d.toString(16);break;case"X":d=d.toString(16).toUpperCase()}k[k.length]=r.json.test(J)?d:u(d)}return k.join("")},n.cache={},n.parse=function(n){for(var e=n,t=[],i=[],o=0;e;){if(null!==(t=r.text.exec(e)))i[i.length]=t[0];else if(null!==(t=r.modulo.exec(e)))i[i.length]="%";else{if(null===(t=r.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o|=1;var a=[],s=t[2],u=[];if(null===(u=r.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a[a.length]=u[1];""!==(s=s.substring(u[0].length));)if(null!==(u=r.key_access.exec(s)))a[a.length]=u[1];else{if(null===(u=r.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a[a.length]=u[1]}t[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i[i.length]=t}e=e.substring(t[0].length)}return i},n}(),sprintf:function(){return _._sprintf.apply(this,arguments)},vsprintf:function(n,e){var t=(e||[]).slice(0);return t.splice(0,0,n),_._sprintf.apply(this,t)},queryClientRect:function(n){document.querySelector(n).getBoundingClientRect()},isWindow:function(n){return null!=n&&n===n.window},startsWith:function(n,e,t){return t=t||0,n.substr(t,e.length)===e},emptyArray:function(n){try{n.length=0}catch(n){locuslabs.log.error("The UnderScore JS mixing emptyArray has failed. This is likely due to the array being undefined, null or a data typeof from which length can not be determined. Error:",n)}},endsWith:function(n,e,t){var r=n.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var i=r.indexOf(e,t);return i!==-1&&i===t},GetIEVersion:function(){if(!(window&&window.navigator&&window.navigator.userAgent&&navigator))return 0;var n=window.navigator.userAgent,e=n.indexOf("MSIE");return e>0?parseInt(n.substring(e+5,n.indexOf(".",e))):navigator.userAgent.match(/Trident\/7\./)?11:0},createElement:function(n,e,t){"use strict";var r=document.createElement(n);return r.setAttribute("id",e),t&&(r.innerHTML=t),r}});
},{}],162:[function(require,module,exports){
(function (process){
!function(){function n(n){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,n.apply(t,arguments)}}var t,e,r={};t=this,null!=t&&(e=t.async),r.noConflict=function(){return t.async=e,r};var u=function(n,t){if(n.forEach)return n.forEach(t);for(var e=0;e<n.length;e+=1)t(n[e],e,n)},i=function(n,t){if(n.map)return n.map(t);var e=[];return u(n,function(n,r,u){e.push(t(n,r,u))}),e},c=function(n,t,e){return n.reduce?n.reduce(t,e):(u(n,function(n,r,u){e=t(e,n,r,u)}),e)},o=function(n){if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t};"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,"undefined"!=typeof setImmediate?r.setImmediate=function(n){setImmediate(n)}:r.setImmediate=r.nextTick):"function"==typeof setImmediate?(r.nextTick=function(n){setImmediate(n)},r.setImmediate=r.nextTick):(r.nextTick=function(n){setTimeout(n,0)},r.setImmediate=r.nextTick),r.each=function(t,e,r){if(r=r||function(){},!t.length)return r();var i=0;u(t,function(u){e(u,n(function(n){n?(r(n),r=function(){}):(i+=1,i>=t.length&&r(null))}))})},r.forEach=r.each,r.eachSeries=function(n,t,e){if(e=e||function(){},!n.length)return e();var r=0,u=function(){t(n[r],function(t){t?(e(t),e=function(){}):(r+=1,r>=n.length?e(null):u())})};u()},r.forEachSeries=r.eachSeries,r.eachLimit=function(n,t,e,r){var u=a(t);u.apply(null,[n,e,r])},r.forEachLimit=r.eachLimit;var a=function(n){return function(t,e,r){if(r=r||function(){},!t.length||n<=0)return r();var u=0,i=0,c=0;!function o(){if(u>=t.length)return r();for(;c<n&&i<t.length;)i+=1,c+=1,e(t[i-1],function(n){n?(r(n),r=function(){}):(u+=1,c-=1,u>=t.length?r():o())})}()}},l=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[r.each].concat(t))}},f=function(n,t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[a(n)].concat(e))}},s=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[r.eachSeries].concat(t))}},p=function(n,t,e,r){var u=[];t=i(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e,r){u[n.index]=r,t(e)})},function(n){r(n,u)})};r.map=l(p),r.mapSeries=s(p),r.mapLimit=function(n,t,e,r){return y(t)(n,e,r)};var y=function(n){return f(n,p)};r.reduce=function(n,t,e,u){r.eachSeries(n,function(n,r){e(t,n,function(n,e){t=e,r(n)})},function(n){u(n,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(n,t,e,u){var c=i(n,function(n){return n}).reverse();r.reduce(c,t,e,u)},r.foldr=r.reduceRight;var v=function(n,t,e,r){var u=[];t=i(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e&&u.push(n),t()})},function(n){r(i(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.filter=l(v),r.filterSeries=s(v),r.select=r.filter,r.selectSeries=r.filterSeries;var h=function(n,t,e,r){var u=[];t=i(t,function(n,t){return{index:t,value:n}}),n(t,function(n,t){e(n.value,function(e){e||u.push(n),t()})},function(n){r(i(u.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})};r.reject=l(h),r.rejectSeries=s(h);var d=function(n,t,e,r){n(t,function(n,t){e(n,function(e){e?(r(n),r=function(){}):t()})},function(n){r()})};r.detect=l(d),r.detectSeries=s(d),r.some=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n&&(e(!0),e=function(){}),r()})},function(n){e(!1)})},r.any=r.some,r.every=function(n,t,e){r.each(n,function(n,r){t(n,function(n){n||(e(!1),e=function(){}),r()})},function(n){e(!0)})},r.all=r.every,r.sortBy=function(n,t,e){r.map(n,function(n,e){t(n,function(t,r){t?e(t):e(null,{value:n,criteria:r})})},function(n,t){if(n)return e(n);var r=function(n,t){var e=n.criteria,r=t.criteria;return e<r?-1:e>r?1:0};e(null,i(t.sort(r),function(n){return n.value}))})},r.auto=function(n,t){t=t||function(){};var e=o(n);if(!e.length)return t(null);var i={},a=[],l=function(n){a.unshift(n)},f=function(n){for(var t=0;t<a.length;t+=1)if(a[t]===n)return void a.splice(t,1)},s=function(){u(a.slice(0),function(n){n()})};l(function(){o(i).length===e.length&&(t(null,i),t=function(){})}),u(e,function(e){var a=n[e]instanceof Function?[n[e]]:n[e],p=function(n){var c=Array.prototype.slice.call(arguments,1);if(c.length<=1&&(c=c[0]),n){var a={};u(o(i),function(n){a[n]=i[n]}),a[e]=c,t(n,a),t=function(){}}else i[e]=c,r.setImmediate(s)},y=a.slice(0,Math.abs(a.length-1))||[],v=function(){return c(y,function(n,t){return n&&i.hasOwnProperty(t)},!0)&&!i.hasOwnProperty(e)};if(v())a[a.length-1](p,i);else{var h=function(){v()&&(f(h),a[a.length-1](p,i))};l(h)}})},r.waterfall=function(n,t){if(t=t||function(){},n.constructor!==Array){var e=new Error("First argument to waterfall must be an array of functions");return t(e)}if(!n.length)return t();var u=function(n){return function(e){if(e)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),c=n.next();c?i.push(u(c)):i.push(t),r.setImmediate(function(){n.apply(null,i)})}}};u(r.iterator(n))()};var m=function(n,t,e){if(e=e||function(){},t.constructor===Array)n.map(t,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},e);else{var r={};n.each(o(t),function(n,e){t[n](function(t){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),r[n]=u,e(t)})},function(n){e(n,r)})}};r.parallel=function(n,t){m({map:r.map,each:r.each},n,t)},r.parallelLimit=function(n,t,e){m({map:y(t),each:a(t)},n,e)},r.series=function(n,t){if(t=t||function(){},n.constructor===Array)r.mapSeries(n,function(n,t){n&&n(function(n){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),t.call(null,n,e)})},t);else{var e={};r.eachSeries(o(n),function(t,r){n[t](function(n){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),e[t]=u,r(n)})},function(n){t(n,e)})}},r.iterator=function(n){var t=function(e){var r=function(){return n.length&&n[e].apply(null,arguments),r.next()};return r.next=function(){return e<n.length-1?t(e+1):null},r};return t(0)},r.apply=function(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var g=function(n,t,e,r){var u=[];n(t,function(n,t){e(n,function(n,e){u=u.concat(e||[]),t(n)})},function(n){r(n,u)})};r.concat=l(g),r.concatSeries=s(g),r.whilst=function(n,t,e){n()?t(function(u){return u?e(u):void r.whilst(n,t,e)}):e()},r.doWhilst=function(n,t,e){n(function(u){return u?e(u):void(t()?r.doWhilst(n,t,e):e())})},r.until=function(n,t,e){n()?e():t(function(u){return u?e(u):void r.until(n,t,e)})},r.doUntil=function(n,t,e){n(function(u){return u?e(u):void(t()?e():r.doUntil(n,t,e))})},r.queue=function(t,e){function i(n,t,i,c){t.constructor!==Array&&(t=[t]),u(t,function(t){var u={data:t,callback:"function"==typeof c?c:null};i?n.tasks.unshift(u):n.tasks.push(u),n.saturated&&n.tasks.length===e&&n.saturated(),r.setImmediate(n.process)})}void 0===e&&(e=1);var c=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,push:function(n,t){i(o,n,!1,t)},unshift:function(n,t){i(o,n,!0,t)},process:function(){if(c<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),c+=1;var r=function(){c-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+c===0&&o.drain(),o.process()},u=n(r);t(e.data,u)}},length:function(){return o.tasks.length},running:function(){return c}};return o},r.cargo=function(n,t){var e=!1,c=[],o={tasks:c,payload:t,saturated:null,empty:null,drain:null,push:function(n,e){n.constructor!==Array&&(n=[n]),u(n,function(n){c.push({data:n,callback:"function"==typeof e?e:null}),o.saturated&&c.length===t&&o.saturated()}),r.setImmediate(o.process)},process:function r(){if(!e){if(0===c.length)return void(o.drain&&o.drain());var a="number"==typeof t?c.splice(0,t):c.splice(0),l=i(a,function(n){return n.data});o.empty&&o.empty(),e=!0,n(l,function(){e=!1;var n=arguments;u(a,function(t){t.callback&&t.callback.apply(null,n)}),r()})}},length:function(){return c.length},running:function(){return e}};return o};var k=function(n){return function(t){var e=Array.prototype.slice.call(arguments,1);t.apply(null,e.concat([function(t){var e=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[n]&&u(e,function(t){console[n](t)}))}]))}};r.log=k("log"),r.dir=k("dir"),r.memoize=function(n,t){var e={},r={};t=t||function(n){return n};var u=function(){var u=Array.prototype.slice.call(arguments),i=u.pop(),c=t.apply(null,u);c in e?i.apply(null,e[c]):c in r?r[c].push(i):(r[c]=[i],n.apply(null,u.concat([function(){e[c]=arguments;var n=r[c];delete r[c];for(var t=0,u=n.length;t<u;t++)n[t].apply(null,arguments)}])))};return u.memo=e,u.unmemoized=n,u},r.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}},r.times=function(n,t,e){for(var u=[],i=0;i<n;i++)u.push(i);return r.map(u,t,e)},r.timesSeries=function(n,t,e){for(var u=[],i=0;i<n;i++)u.push(i);return r.mapSeries(u,t,e)},r.compose=function(){var n=Array.prototype.reverse.call(arguments);return function(){var t=this,e=Array.prototype.slice.call(arguments),u=e.pop();r.reduce(n,e,function(n,e,r){e.apply(t,n.concat([function(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);r(n,t)}]))},function(n,e){u.apply(t,[n].concat(e))})}};var A=function(n,t){var e=function(){var e=this,r=Array.prototype.slice.call(arguments),u=r.pop();return n(t,function(n,t){n.apply(e,r.concat([t]))},u)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return e.apply(this,r)}return e};r.applyEach=l(A),r.applyEachSeries=s(A),r.forever=function(n,t){function e(r){if(r){if(t)return t(r);throw r}n(e)}e()},"undefined"!=typeof define&&define.amd?define([],function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:t.async=r}();
}).call(this,require('_process'))

},{"_process":16}],163:[function(require,module,exports){
(function (global){
"use strict";function define(e,r,i){e[r]||_Object$defineProperty(e,r,{writable:!0,configurable:!0,value:i})}var _Object$defineProperty=require("babel-runtime/core-js/object/define-property").default;if(require("core-js/shim"),require("babel-regenerator-runtime"),require("core-js/fn/regexp/escape"),global._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");global._babelPolyfill=!0,define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&define(Array,e,Function.call.bind([][e]))});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"babel-regenerator-runtime":164,"babel-runtime/core-js/object/define-property":165,"core-js/fn/regexp/escape":168,"core-js/shim":461}],164:[function(require,module,exports){
(function (process,global){
!function(t){"use strict";function r(t,r,e,o){var i=Object.create((r||n).prototype),a=new h(o||[]);return i._invoke=f(t,e,a),i}function e(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function n(){}function o(){}function i(){}function a(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function c(t){this.arg=t}function u(t){function r(r,e){var n=t[r](e),a=n.value;return a instanceof c?Promise.resolve(a.arg).then(o,i):Promise.resolve(a).then(function(t){return n.value=t,n})}function e(t,e){function o(){return r(t,e)}return n=n?n.then(o,o):new Promise(function(t){t(o())})}"object"==typeof process&&process.domain&&(r=process.domain.bind(r));var n,o=r.bind(t,"next"),i=r.bind(t,"throw");r.bind(t,"return");this._invoke=e}function f(t,r,n){var o=L;return function(i,a){if(o===b)throw new Error("Generator is already running");if(o===E){if("throw"===i)throw a;return y()}for(;;){var c=n.delegate;if(c){if("return"===i||"throw"===i&&c.iterator[i]===v){n.delegate=null;var u=c.iterator.return;if(u){var f=e(u,c.iterator,a);if("throw"===f.type){i="throw",a=f.arg;continue}}if("return"===i)continue}var f=e(c.iterator[i],c.iterator,a);if("throw"===f.type){n.delegate=null,i="throw",a=f.arg;continue}i="next",a=v;var l=f.arg;if(!l.done)return o=x,l;n[c.resultName]=l.value,n.next=c.nextLoc,n.delegate=null}if("next"===i)n._sent=a,o===x?n.sent=a:n.sent=v;else if("throw"===i){if(o===L)throw o=E,a;n.dispatchException(a)&&(i="next",a=v)}else"return"===i&&n.abrupt("return",a);o=b;var f=e(t,r,n);if("normal"===f.type){o=n.done?E:x;var l={value:f.arg,done:n.done};if(f.arg!==j)return l;n.delegate&&"next"===i&&(a=v)}else"throw"===f.type&&(o=E,i="throw",a=f.arg)}}}function l(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function s(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(l,this),this.reset(!0)}function p(t){if(t){var r=t[g];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function r(){for(;++e<t.length;)if(d.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=v,r.done=!0,r};return n.next=n}}return{next:y}}function y(){return{value:v,done:!0}}var v,d=Object.prototype.hasOwnProperty,g="function"==typeof Symbol&&Symbol.iterator||"@@iterator",w="object"==typeof module,m=t.regeneratorRuntime;if(m)return void(w&&(module.exports=m));m=t.regeneratorRuntime=w?module.exports:{},m.wrap=r;var L="suspendedStart",x="suspendedYield",b="executing",E="completed",j={},k=i.prototype=n.prototype;o.prototype=k.constructor=i,i.constructor=o,o.displayName="GeneratorFunction",m.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===o||"GeneratorFunction"===(r.displayName||r.name))},m.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i,t.prototype=Object.create(k),t},m.awrap=function(t){return new c(t)},a(u.prototype),m.async=function(t,e,n,o){var i=new u(r(t,e,n,o));return m.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},a(k),k[g]=function(){return this},k.toString=function(){return"[object Generator]"},m.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},m.values=p,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=v,this.done=!1,this.delegate=null,this.tryEntries.forEach(s),!t)for(var r in this)"t"===r.charAt(0)&&d.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],r=t.completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(t){function r(r,n){return i.type="throw",i.arg=t,e.next=r,!!n}if(this.done)throw t;for(var e=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=d.call(o,"catchLoc"),c=d.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&d.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=r,o?this.next=o.finallyLoc:this.complete(i),j},complete:function(t,r){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&r&&(this.next=r)},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),s(e),j}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;s(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:p(t),resultName:r,nextLoc:e},j}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this);
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":16}],165:[function(require,module,exports){
module.exports={default:require("core-js/library/fn/object/define-property"),__esModule:!0};
},{"core-js/library/fn/object/define-property":166}],166:[function(require,module,exports){
var $=require("../../modules/$");module.exports=function(e,r,u){return $.setDesc(e,r,u)};
},{"../../modules/$":167}],167:[function(require,module,exports){
var $Object=Object;module.exports={create:$Object.create,getProto:$Object.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:$Object.getOwnPropertyDescriptor,setDesc:$Object.defineProperty,setDescs:$Object.defineProperties,getKeys:$Object.keys,getNames:$Object.getOwnPropertyNames,getSymbols:$Object.getOwnPropertySymbols,each:[].forEach};
},{}],168:[function(require,module,exports){
require("../../modules/core.regexp.escape"),module.exports=require("../../modules/_core").RegExp.escape;
},{"../../modules/_core":189,"../../modules/core.regexp.escape":285}],169:[function(require,module,exports){
module.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o};
},{}],170:[function(require,module,exports){
var cof=require("./_cof");module.exports=function(r,e){if("number"!=typeof r&&"Number"!=cof(r))throw TypeError(e);return+r};
},{"./_cof":184}],171:[function(require,module,exports){
var UNSCOPABLES=require("./_wks")("unscopables"),ArrayProto=Array.prototype;void 0==ArrayProto[UNSCOPABLES]&&require("./_hide")(ArrayProto,UNSCOPABLES,{}),module.exports=function(r){ArrayProto[UNSCOPABLES][r]=!0};
},{"./_hide":206,"./_wks":283}],172:[function(require,module,exports){
module.exports=function(o,n,r,i){if(!(o instanceof n)||void 0!==i&&i in o)throw TypeError(r+": incorrect invocation!");return o};
},{}],173:[function(require,module,exports){
var isObject=require("./_is-object");module.exports=function(e){if(!isObject(e))throw TypeError(e+" is not an object!");return e};
},{"./_is-object":215}],174:[function(require,module,exports){
"use strict";var toObject=require("./_to-object"),toIndex=require("./_to-index"),toLength=require("./_to-length");module.exports=[].copyWithin||function(t,e){var o=toObject(this),n=toLength(o.length),i=toIndex(t,n),r=toIndex(e,n),d=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===d?n:toIndex(d,n))-r,n-i),u=1;for(r<i&&i<r+h&&(u=-1,r+=h-1,i+=h-1);h-- >0;)r in o?o[i]=o[r]:delete o[i],i+=u,r+=u;return o};
},{"./_to-index":271,"./_to-length":274,"./_to-object":275}],175:[function(require,module,exports){
"use strict";var toObject=require("./_to-object"),toIndex=require("./_to-index"),toLength=require("./_to-length");module.exports=function(t){for(var e=toObject(this),o=toLength(e.length),r=arguments.length,n=toIndex(r>1?arguments[1]:void 0,o),i=r>2?arguments[2]:void 0,d=void 0===i?o:toIndex(i,o);d>n;)e[n++]=t;return e};
},{"./_to-index":271,"./_to-length":274,"./_to-object":275}],176:[function(require,module,exports){
var forOf=require("./_for-of");module.exports=function(r,f){var o=[];return forOf(r,!1,o.push,o,f),o};
},{"./_for-of":203}],177:[function(require,module,exports){
var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toIndex=require("./_to-index");module.exports=function(e){return function(t,r,n){var o,i=toIObject(t),u=toLength(i.length),f=toIndex(n,u);if(e&&r!=r){for(;u>f;)if(o=i[f++],o!=o)return!0}else for(;u>f;f++)if((e||f in i)&&i[f]===r)return e||f||0;return!e&&-1}};
},{"./_to-index":271,"./_to-iobject":273,"./_to-length":274}],178:[function(require,module,exports){
var ctx=require("./_ctx"),IObject=require("./_iobject"),toObject=require("./_to-object"),toLength=require("./_to-length"),asc=require("./_array-species-create");module.exports=function(e,r){var t=1==e,c=2==e,i=3==e,n=4==e,u=6==e,o=5==e||u,s=r||asc;return function(r,a,f){for(var b,h,j=toObject(r),l=IObject(j),q=ctx(a,f,3),_=toLength(l.length),g=0,v=t?s(r,_):c?s(r,0):void 0;_>g;g++)if((o||g in l)&&(b=l[g],h=q(b,g,j),e))if(t)v[g]=h;else if(h)switch(e){case 3:return!0;case 5:return b;case 6:return g;case 2:v.push(b)}else if(n)return!1;return u?-1:i||n?n:v}};
},{"./_array-species-create":181,"./_ctx":191,"./_iobject":211,"./_to-length":274,"./_to-object":275}],179:[function(require,module,exports){
var aFunction=require("./_a-function"),toObject=require("./_to-object"),IObject=require("./_iobject"),toLength=require("./_to-length");module.exports=function(e,t,r,o,i){aFunction(t);var n=toObject(e),u=IObject(n),c=toLength(n.length),a=i?c-1:0,f=i?-1:1;if(r<2)for(;;){if(a in u){o=u[a],a+=f;break}if(a+=f,i?a<0:c<=a)throw TypeError("Reduce of empty array with no initial value")}for(;i?a>=0:c>a;a+=f)a in u&&(o=t(o,u[a],a,n));return o};
},{"./_a-function":169,"./_iobject":211,"./_to-length":274,"./_to-object":275}],180:[function(require,module,exports){
var isObject=require("./_is-object"),isArray=require("./_is-array"),SPECIES=require("./_wks")("species");module.exports=function(r){var e;return isArray(r)&&(e=r.constructor,"function"!=typeof e||e!==Array&&!isArray(e.prototype)||(e=void 0),isObject(e)&&(e=e[SPECIES],null===e&&(e=void 0))),void 0===e?Array:e};
},{"./_is-array":213,"./_is-object":215,"./_wks":283}],181:[function(require,module,exports){
var speciesConstructor=require("./_array-species-constructor");module.exports=function(r,e){return new(speciesConstructor(r))(e)};
},{"./_array-species-constructor":180}],182:[function(require,module,exports){
"use strict";var aFunction=require("./_a-function"),isObject=require("./_is-object"),invoke=require("./_invoke"),arraySlice=[].slice,factories={},construct=function(t,r,e){if(!(r in factories)){for(var i=[],n=0;n<r;n++)i[n]="a["+n+"]";factories[r]=Function("F,a","return new F("+i.join(",")+")")}return factories[r](t,e)};module.exports=Function.bind||function(t){var r=aFunction(this),e=arraySlice.call(arguments,1),i=function(){var n=e.concat(arraySlice.call(arguments));return this instanceof i?construct(r,n.length,n):invoke(r,n,t)};return isObject(r.prototype)&&(i.prototype=r.prototype),i};
},{"./_a-function":169,"./_invoke":210,"./_is-object":215}],183:[function(require,module,exports){
var cof=require("./_cof"),TAG=require("./_wks")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(t,e){try{return t[e]}catch(t){}};module.exports=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=tryGet(e=Object(t),TAG))?r:ARG?cof(e):"Object"==(n=cof(e))&&"function"==typeof e.callee?"Arguments":n};
},{"./_cof":184,"./_wks":283}],184:[function(require,module,exports){
var toString={}.toString;module.exports=function(t){return toString.call(t).slice(8,-1)};
},{}],185:[function(require,module,exports){
"use strict";var dP=require("./_object-dp").f,create=require("./_object-create"),redefineAll=require("./_redefine-all"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),defined=require("./_defined"),forOf=require("./_for-of"),$iterDefine=require("./_iter-define"),step=require("./_iter-step"),setSpecies=require("./_set-species"),DESCRIPTORS=require("./_descriptors"),fastKey=require("./_meta").fastKey,SIZE=DESCRIPTORS?"_s":"size",getEntry=function(e,t){var r,i=fastKey(t);if("F"!==i)return e._i[i];for(r=e._f;r;r=r.n)if(r.k==t)return r};module.exports={getConstructor:function(e,t,r,i){var n=e(function(e,f){anInstance(e,n,t,"_i"),e._i=create(null),e._f=void 0,e._l=void 0,e[SIZE]=0,void 0!=f&&forOf(f,r,e[i],e)});return redefineAll(n.prototype,{clear:function(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[SIZE]=0},delete:function(e){var t=this,r=getEntry(t,e);if(r){var i=r.n,n=r.p;delete t._i[r.i],r.r=!0,n&&(n.n=i),i&&(i.p=n),t._f==r&&(t._f=i),t._l==r&&(t._l=n),t[SIZE]--}return!!r},forEach:function(e){anInstance(this,n,"forEach");for(var t,r=ctx(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!getEntry(this,e)}}),DESCRIPTORS&&dP(n.prototype,"size",{get:function(){return defined(this[SIZE])}}),n},def:function(e,t,r){var i,n,f=getEntry(e,t);return f?f.v=r:(e._l=f={i:n=fastKey(t,!0),k:t,v:r,p:i=e._l,n:void 0,r:!1},e._f||(e._f=f),i&&(i.n=f),e[SIZE]++,"F"!==n&&(e._i[n]=f)),e},getEntry:getEntry,setStrong:function(e,t,r){$iterDefine(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?step(0,r.k):"values"==t?step(0,r.v):step(0,[r.k,r.v]):(e._t=void 0,step(1))},r?"entries":"values",!r,!0),setSpecies(t)}};
},{"./_an-instance":172,"./_ctx":191,"./_defined":193,"./_descriptors":194,"./_for-of":203,"./_iter-define":219,"./_iter-step":221,"./_meta":228,"./_object-create":232,"./_object-dp":233,"./_redefine-all":252,"./_set-species":257}],186:[function(require,module,exports){
var classof=require("./_classof"),from=require("./_array-from-iterable");module.exports=function(r){return function(){if(classof(this)!=r)throw TypeError(r+"#toJSON isn't generic");return from(this)}};
},{"./_array-from-iterable":176,"./_classof":183}],187:[function(require,module,exports){
"use strict";var redefineAll=require("./_redefine-all"),getWeak=require("./_meta").getWeak,anObject=require("./_an-object"),isObject=require("./_is-object"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),createArrayMethod=require("./_array-methods"),$has=require("./_has"),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,uncaughtFrozenStore=function(e){return e._l||(e._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(e,r){return arrayFind(e.a,function(e){return e[0]===r})};UncaughtFrozenStore.prototype={get:function(e){var r=findUncaughtFrozen(this,e);if(r)return r[1]},has:function(e){return!!findUncaughtFrozen(this,e)},set:function(e,r){var t=findUncaughtFrozen(this,e);t?t[1]=r:this.a.push([e,r])},delete:function(e){var r=arrayFindIndex(this.a,function(r){return r[0]===e});return~r&&this.a.splice(r,1),!!~r}},module.exports={getConstructor:function(e,r,t,n){var i=e(function(e,a){anInstance(e,i,r,"_i"),e._i=id++,e._l=void 0,void 0!=a&&forOf(a,t,e[n],e)});return redefineAll(i.prototype,{delete:function(e){if(!isObject(e))return!1;var r=getWeak(e);return r===!0?uncaughtFrozenStore(this).delete(e):r&&$has(r,this._i)&&delete r[this._i]},has:function(e){if(!isObject(e))return!1;var r=getWeak(e);return r===!0?uncaughtFrozenStore(this).has(e):r&&$has(r,this._i)}}),i},def:function(e,r,t){var n=getWeak(anObject(r),!0);return n===!0?uncaughtFrozenStore(e).set(r,t):n[e._i]=t,e},ufstore:uncaughtFrozenStore};
},{"./_an-instance":172,"./_an-object":173,"./_array-methods":178,"./_for-of":203,"./_has":205,"./_is-object":215,"./_meta":228,"./_redefine-all":252}],188:[function(require,module,exports){
"use strict";var global=require("./_global"),$export=require("./_export"),redefine=require("./_redefine"),redefineAll=require("./_redefine-all"),meta=require("./_meta"),forOf=require("./_for-of"),anInstance=require("./_an-instance"),isObject=require("./_is-object"),fails=require("./_fails"),$iterDetect=require("./_iter-detect"),setToStringTag=require("./_set-to-string-tag"),inheritIfRequired=require("./_inherit-if-required");module.exports=function(e,t,r,i,n,o){var a=global[e],u=a,f=n?"set":"add",s=u&&u.prototype,c={},l=function(e){var t=s[e];redefine(s,e,"delete"==e?function(e){return!(o&&!isObject(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!isObject(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!isObject(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof u&&(o||s.forEach&&!fails(function(){(new u).entries().next()}))){var d=new u,h=d[f](o?{}:-0,1)!=d,q=fails(function(){d.has(1)}),p=$iterDetect(function(e){new u(e)}),g=!o&&fails(function(){for(var e=new u,t=5;t--;)e[f](t,t);return!e.has(-0)});p||(u=t(function(t,r){anInstance(t,u,e);var i=inheritIfRequired(new a,t,u);return void 0!=r&&forOf(r,n,i[f],i),i}),u.prototype=s,s.constructor=u),(q||g)&&(l("delete"),l("has"),n&&l("get")),(g||h)&&l(f),o&&s.clear&&delete s.clear}else u=i.getConstructor(t,e,n,f),redefineAll(u.prototype,r),meta.NEED=!0;return setToStringTag(u,e),c[e]=u,$export($export.G+$export.W+$export.F*(u!=a),c),o||i.setStrong(u,e,n),u};
},{"./_an-instance":172,"./_export":198,"./_fails":200,"./_for-of":203,"./_global":204,"./_inherit-if-required":209,"./_is-object":215,"./_iter-detect":220,"./_meta":228,"./_redefine":253,"./_redefine-all":252,"./_set-to-string-tag":258}],189:[function(require,module,exports){
var core=module.exports={version:"2.4.0"};"number"==typeof __e&&(__e=core);
},{}],190:[function(require,module,exports){
"use strict";var $defineProperty=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=function(e,r,t){r in e?$defineProperty.f(e,r,createDesc(0,t)):e[r]=t};
},{"./_object-dp":233,"./_property-desc":251}],191:[function(require,module,exports){
var aFunction=require("./_a-function");module.exports=function(n,r,t){if(aFunction(n),void 0===r)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,u){return n.call(r,t,u)};case 3:return function(t,u,e){return n.call(r,t,u,e)}}return function(){return n.apply(r,arguments)}};
},{"./_a-function":169}],192:[function(require,module,exports){
"use strict";var anObject=require("./_an-object"),toPrimitive=require("./_to-primitive"),NUMBER="number";module.exports=function(r){if("string"!==r&&r!==NUMBER&&"default"!==r)throw TypeError("Incorrect hint");return toPrimitive(anObject(this),r!=NUMBER)};
},{"./_an-object":173,"./_to-primitive":276}],193:[function(require,module,exports){
module.exports=function(o){if(void 0==o)throw TypeError("Can't call method on  "+o);return o};
},{}],194:[function(require,module,exports){
module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a});
},{"./_fails":200}],195:[function(require,module,exports){
var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(e){return is?document.createElement(e):{}};
},{"./_global":204,"./_is-object":215}],196:[function(require,module,exports){
module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
},{}],197:[function(require,module,exports){
var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie");module.exports=function(e){var r=getKeys(e),t=gOPS.f;if(t)for(var o,u=t(e),g=pIE.f,i=0;u.length>i;)g.call(e,o=u[i++])&&r.push(o);return r};
},{"./_object-gops":239,"./_object-keys":242,"./_object-pie":243}],198:[function(require,module,exports){
var global=require("./_global"),core=require("./_core"),hide=require("./_hide"),redefine=require("./_redefine"),ctx=require("./_ctx"),PROTOTYPE="prototype",$export=function(e,o,r){var t,x,p,l,i=e&$export.F,$=e&$export.G,c=e&$export.S,a=e&$export.P,n=e&$export.B,P=$?global:c?global[o]||(global[o]={}):(global[o]||{})[PROTOTYPE],u=$?core:core[o]||(core[o]={}),b=u[PROTOTYPE]||(u[PROTOTYPE]={});$&&(r=o);for(t in r)x=!i&&P&&void 0!==P[t],p=(x?P:r)[t],l=n&&x?ctx(p,global):a&&"function"==typeof p?ctx(Function.call,p):p,P&&redefine(P,t,p,e&$export.U),u[t]!=p&&hide(u,t,l),a&&b[t]!=p&&(b[t]=p)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export;
},{"./_core":189,"./_ctx":191,"./_global":204,"./_hide":206,"./_redefine":253}],199:[function(require,module,exports){
var MATCH=require("./_wks")("match");module.exports=function(r){var t=/./;try{"/./"[r](t)}catch(c){try{return t[MATCH]=!1,!"/./"[r](t)}catch(r){}}return!0};
},{"./_wks":283}],200:[function(require,module,exports){
module.exports=function(r){try{return!!r()}catch(r){return!0}};
},{}],201:[function(require,module,exports){
"use strict";var hide=require("./_hide"),redefine=require("./_redefine"),fails=require("./_fails"),defined=require("./_defined"),wks=require("./_wks");module.exports=function(e,r,i){var n=wks(e),t=i(defined,n,""[e]),u=t[0],f=t[1];fails(function(){var r={};return r[n]=function(){return 7},7!=""[e](r)})&&(redefine(String.prototype,e,u),hide(RegExp.prototype,n,2==r?function(e,r){return f.call(e,this,r)}:function(e){return f.call(e,this)}))};
},{"./_defined":193,"./_fails":200,"./_hide":206,"./_redefine":253,"./_wks":283}],202:[function(require,module,exports){
"use strict";var anObject=require("./_an-object");module.exports=function(){var e=anObject(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};
},{"./_an-object":173}],203:[function(require,module,exports){
var ctx=require("./_ctx"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),anObject=require("./_an-object"),toLength=require("./_to-length"),getIterFn=require("./core.get-iterator-method"),BREAK={},RETURN={},exports=module.exports=function(e,r,t,o,i){var n,a,R,c,l=i?function(){return e}:getIterFn(e),u=ctx(t,o,r?2:1),E=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(isArrayIter(l)){for(n=toLength(e.length);n>E;E++)if(c=r?u(anObject(a=e[E])[0],a[1]):u(e[E]),c===BREAK||c===RETURN)return c}else for(R=l.call(e);!(a=R.next()).done;)if(c=call(R,u,a.value,r),c===BREAK||c===RETURN)return c};exports.BREAK=BREAK,exports.RETURN=RETURN;
},{"./_an-object":173,"./_ctx":191,"./_is-array-iter":212,"./_iter-call":217,"./_to-length":274,"./core.get-iterator-method":284}],204:[function(require,module,exports){
var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global);
},{}],205:[function(require,module,exports){
var hasOwnProperty={}.hasOwnProperty;module.exports=function(r,e){return hasOwnProperty.call(r,e)};
},{}],206:[function(require,module,exports){
var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(e,r,t){return dP.f(e,r,createDesc(1,t))}:function(e,r,t){return e[r]=t,e};
},{"./_descriptors":194,"./_object-dp":233,"./_property-desc":251}],207:[function(require,module,exports){
module.exports=require("./_global").document&&document.documentElement;
},{"./_global":204}],208:[function(require,module,exports){
module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a});
},{"./_descriptors":194,"./_dom-create":195,"./_fails":200}],209:[function(require,module,exports){
var isObject=require("./_is-object"),setPrototypeOf=require("./_set-proto").set;module.exports=function(t,e,o){var r,p=e.constructor;return p!==o&&"function"==typeof p&&(r=p.prototype)!==o.prototype&&isObject(r)&&setPrototypeOf&&setPrototypeOf(t,r),t};
},{"./_is-object":215,"./_set-proto":256}],210:[function(require,module,exports){
module.exports=function(e,r,l){var a=void 0===l;switch(r.length){case 0:return a?e():e.call(l);case 1:return a?e(r[0]):e.call(l,r[0]);case 2:return a?e(r[0],r[1]):e.call(l,r[0],r[1]);case 3:return a?e(r[0],r[1],r[2]):e.call(l,r[0],r[1],r[2]);case 4:return a?e(r[0],r[1],r[2],r[3]):e.call(l,r[0],r[1],r[2],r[3])}return e.apply(l,r)};
},{}],211:[function(require,module,exports){
var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==cof(e)?e.split(""):Object(e)};
},{"./_cof":184}],212:[function(require,module,exports){
var Iterators=require("./_iterators"),ITERATOR=require("./_wks")("iterator"),ArrayProto=Array.prototype;module.exports=function(r){return void 0!==r&&(Iterators.Array===r||ArrayProto[ITERATOR]===r)};
},{"./_iterators":222,"./_wks":283}],213:[function(require,module,exports){
var cof=require("./_cof");module.exports=Array.isArray||function(r){return"Array"==cof(r)};
},{"./_cof":184}],214:[function(require,module,exports){
var isObject=require("./_is-object"),floor=Math.floor;module.exports=function(o){return!isObject(o)&&isFinite(o)&&floor(o)===o};
},{"./_is-object":215}],215:[function(require,module,exports){
module.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o};
},{}],216:[function(require,module,exports){
var isObject=require("./_is-object"),cof=require("./_cof"),MATCH=require("./_wks")("match");module.exports=function(e){var r;return isObject(e)&&(void 0!==(r=e[MATCH])?!!r:"RegExp"==cof(e))};
},{"./_cof":184,"./_is-object":215,"./_wks":283}],217:[function(require,module,exports){
var anObject=require("./_an-object");module.exports=function(r,t,e,a){try{return a?t(anObject(e)[0],e[1]):t(e)}catch(t){var c=r.return;throw void 0!==c&&anObject(c.call(r)),t}};
},{"./_an-object":173}],218:[function(require,module,exports){
"use strict";var create=require("./_object-create"),descriptor=require("./_property-desc"),setToStringTag=require("./_set-to-string-tag"),IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this}),module.exports=function(r,t,e){r.prototype=create(IteratorPrototype,{next:descriptor(1,e)}),setToStringTag(r,t+" Iterator")};
},{"./_hide":206,"./_object-create":232,"./_property-desc":251,"./_set-to-string-tag":258,"./_wks":283}],219:[function(require,module,exports){
"use strict";var LIBRARY=require("./_library"),$export=require("./_export"),redefine=require("./_redefine"),hide=require("./_hide"),has=require("./_has"),Iterators=require("./_iterators"),$iterCreate=require("./_iter-create"),setToStringTag=require("./_set-to-string-tag"),getPrototypeOf=require("./_object-gpo"),ITERATOR=require("./_wks")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(e,r,t,i,n,o,s){$iterCreate(t,r,i);var u,a,T,R=function(e){if(!BUGGY&&e in h)return h[e];switch(e){case KEYS:return function(){return new t(this,e)};case VALUES:return function(){return new t(this,e)}}return function(){return new t(this,e)}},A=r+" Iterator",c=n==VALUES,f=!1,h=e.prototype,E=h[ITERATOR]||h[FF_ITERATOR]||n&&h[n],I=E||R(n),p=n?c?R("entries"):I:void 0,_="Array"==r?h.entries||E:E;if(_&&(T=getPrototypeOf(_.call(new e)),T!==Object.prototype&&(setToStringTag(T,A,!0),LIBRARY||has(T,ITERATOR)||hide(T,ITERATOR,returnThis))),c&&E&&E.name!==VALUES&&(f=!0,I=function(){return E.call(this)}),LIBRARY&&!s||!BUGGY&&!f&&h[ITERATOR]||hide(h,ITERATOR,I),Iterators[r]=I,Iterators[A]=returnThis,n)if(u={values:c?I:R(VALUES),keys:o?I:R(KEYS),entries:p},s)for(a in u)a in h||redefine(h,a,u[a]);else $export($export.P+$export.F*(BUGGY||f),r,u);return u};
},{"./_export":198,"./_has":205,"./_hide":206,"./_iter-create":218,"./_iterators":222,"./_library":224,"./_object-gpo":240,"./_redefine":253,"./_set-to-string-tag":258,"./_wks":283}],220:[function(require,module,exports){
var ITERATOR=require("./_wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(r){}module.exports=function(r,t){if(!t&&!SAFE_CLOSING)return!1;var n=!1;try{var e=[7],u=e[ITERATOR]();u.next=function(){return{done:n=!0}},e[ITERATOR]=function(){return u},r(e)}catch(r){}return n};
},{"./_wks":283}],221:[function(require,module,exports){
module.exports=function(e,n){return{value:n,done:!!e}};
},{}],222:[function(require,module,exports){
module.exports={};
},{}],223:[function(require,module,exports){
var getKeys=require("./_object-keys"),toIObject=require("./_to-iobject");module.exports=function(e,t){for(var r,o=toIObject(e),c=getKeys(o),i=c.length,u=0;i>u;)if(o[r=c[u++]]===t)return r};
},{"./_object-keys":242,"./_to-iobject":273}],224:[function(require,module,exports){
module.exports=!1;
},{}],225:[function(require,module,exports){
var $expm1=Math.expm1;module.exports=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||$expm1(-2e-17)!=-2e-17?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:$expm1;
},{}],226:[function(require,module,exports){
module.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)};
},{}],227:[function(require,module,exports){
module.exports=Math.sign||function(n){return 0==(n=+n)||n!=n?n:n<0?-1:1};
},{}],228:[function(require,module,exports){
var META=require("./_uid")("meta"),isObject=require("./_is-object"),has=require("./_has"),setDesc=require("./_object-dp").f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!require("./_fails")(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(e){setDesc(e,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(e,t){if(!isObject(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!has(e,META)){if(!isExtensible(e))return"F";if(!t)return"E";setMeta(e)}return e[META].i},getWeak=function(e,t){if(!has(e,META)){if(!isExtensible(e))return!0;if(!t)return!1;setMeta(e)}return e[META].w},onFreeze=function(e){return FREEZE&&meta.NEED&&isExtensible(e)&&!has(e,META)&&setMeta(e),e},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze};
},{"./_fails":200,"./_has":205,"./_is-object":215,"./_object-dp":233,"./_uid":280}],229:[function(require,module,exports){
var Map=require("./es6.map"),$export=require("./_export"),shared=require("./_shared")("metadata"),store=shared.store||(shared.store=new(require("./es6.weak-map"))),getOrCreateMetadataMap=function(e,a,t){var r=store.get(e);if(!r){if(!t)return;store.set(e,r=new Map)}var n=r.get(a);if(!n){if(!t)return;r.set(a,n=new Map)}return n},ordinaryHasOwnMetadata=function(e,a,t){var r=getOrCreateMetadataMap(a,t,!1);return void 0!==r&&r.has(e)},ordinaryGetOwnMetadata=function(e,a,t){var r=getOrCreateMetadataMap(a,t,!1);return void 0===r?void 0:r.get(e)},ordinaryDefineOwnMetadata=function(e,a,t,r){getOrCreateMetadataMap(t,r,!0).set(e,a)},ordinaryOwnMetadataKeys=function(e,a){var t=getOrCreateMetadataMap(e,a,!1),r=[];return t&&t.forEach(function(e,a){r.push(a)}),r},toMetaKey=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp=function(e){$export($export.S,"Reflect",e)};module.exports={store:store,map:getOrCreateMetadataMap,has:ordinaryHasOwnMetadata,get:ordinaryGetOwnMetadata,set:ordinaryDefineOwnMetadata,keys:ordinaryOwnMetadataKeys,key:toMetaKey,exp:exp};
},{"./_export":198,"./_shared":260,"./es6.map":315,"./es6.weak-map":421}],230:[function(require,module,exports){
var global=require("./_global"),macrotask=require("./_task").set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==require("./_cof")(process);module.exports=function(){var e,r,o,s=function(){var s,t;for(isNode&&(s=process.domain)&&s.exit();e;){t=e.fn,e=e.next;try{t()}catch(s){throw e?o():r=void 0,s}}r=void 0,s&&s.enter()};if(isNode)o=function(){process.nextTick(s)};else if(Observer){var t=!0,a=document.createTextNode("");new Observer(s).observe(a,{characterData:!0}),o=function(){a.data=t=!t}}else if(Promise&&Promise.resolve){var i=Promise.resolve();o=function(){i.then(s)}}else o=function(){macrotask.call(global,s)};return function(s){var t={fn:s,next:void 0};r&&(r.next=t),e||(e=t,o()),r=t}};
},{"./_cof":184,"./_global":204,"./_task":270}],231:[function(require,module,exports){
"use strict";var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie"),toObject=require("./_to-object"),IObject=require("./_iobject"),$assign=Object.assign;module.exports=!$assign||require("./_fails")(function(){var e={},t={},r=Symbol(),s="abcdefghijklmnopqrst";return e[r]=7,s.split("").forEach(function(e){t[e]=e}),7!=$assign({},e)[r]||Object.keys($assign({},t)).join("")!=s})?function(e,t){for(var r=toObject(e),s=arguments.length,i=1,o=gOPS.f,c=pIE.f;s>i;)for(var n,a=IObject(arguments[i++]),g=o?getKeys(a).concat(o(a)):getKeys(a),b=g.length,j=0;b>j;)c.call(a,n=g[j++])&&(r[n]=a[n]);return r}:$assign;
},{"./_fails":200,"./_iobject":211,"./_object-gops":239,"./_object-keys":242,"./_object-pie":243,"./_to-object":275}],232:[function(require,module,exports){
var anObject=require("./_an-object"),dPs=require("./_object-dps"),enumBugKeys=require("./_enum-bug-keys"),IE_PROTO=require("./_shared-key")("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var e,t=require("./_dom-create")("iframe"),r=enumBugKeys.length,c="<",n=">";for(t.style.display="none",require("./_html").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(c+"script"+n+"document.F=Object"+c+"/script"+n),e.close(),createDict=e.F;r--;)delete createDict[PROTOTYPE][enumBugKeys[r]];return createDict()};module.exports=Object.create||function(e,t){var r;return null!==e?(Empty[PROTOTYPE]=anObject(e),r=new Empty,Empty[PROTOTYPE]=null,r[IE_PROTO]=e):r=createDict(),void 0===t?r:dPs(r,t)};
},{"./_an-object":173,"./_dom-create":195,"./_enum-bug-keys":196,"./_html":207,"./_object-dps":234,"./_shared-key":259}],233:[function(require,module,exports){
var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(e,r,t){if(anObject(e),r=toPrimitive(r,!0),anObject(t),IE8_DOM_DEFINE)try{return dP(e,r,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[r]=t.value),e};
},{"./_an-object":173,"./_descriptors":194,"./_ie8-dom-define":208,"./_to-primitive":276}],234:[function(require,module,exports){
var dP=require("./_object-dp"),anObject=require("./_an-object"),getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(e,r){anObject(e);for(var t,o=getKeys(r),c=o.length,i=0;c>i;)dP.f(e,t=o[i++],r[t]);return e};
},{"./_an-object":173,"./_descriptors":194,"./_object-dp":233,"./_object-keys":242}],235:[function(require,module,exports){
module.exports=require("./_library")||!require("./_fails")(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete require("./_global")[e]});
},{"./_fails":200,"./_global":204,"./_library":224}],236:[function(require,module,exports){
var pIE=require("./_object-pie"),createDesc=require("./_property-desc"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),has=require("./_has"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),gOPD=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?gOPD:function(e,r){if(e=toIObject(e),r=toPrimitive(r,!0),IE8_DOM_DEFINE)try{return gOPD(e,r)}catch(e){}if(has(e,r))return createDesc(!pIE.f.call(e,r),e[r])};
},{"./_descriptors":194,"./_has":205,"./_ie8-dom-define":208,"./_object-pie":243,"./_property-desc":251,"./_to-iobject":273,"./_to-primitive":276}],237:[function(require,module,exports){
var toIObject=require("./_to-iobject"),gOPN=require("./_object-gopn").f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(e){try{return gOPN(e)}catch(e){return windowNames.slice()}};module.exports.f=function(e){return windowNames&&"[object Window]"==toString.call(e)?getWindowNames(e):gOPN(toIObject(e))};
},{"./_object-gopn":238,"./_to-iobject":273}],238:[function(require,module,exports){
var $keys=require("./_object-keys-internal"),hiddenKeys=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(e){return $keys(e,hiddenKeys)};
},{"./_enum-bug-keys":196,"./_object-keys-internal":241}],239:[function(require,module,exports){
exports.f=Object.getOwnPropertySymbols;
},{}],240:[function(require,module,exports){
var has=require("./_has"),toObject=require("./_to-object"),IE_PROTO=require("./_shared-key")("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(t){return t=toObject(t),has(t,IE_PROTO)?t[IE_PROTO]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?ObjectProto:null};
},{"./_has":205,"./_shared-key":259,"./_to-object":275}],241:[function(require,module,exports){
var has=require("./_has"),toIObject=require("./_to-iobject"),arrayIndexOf=require("./_array-includes")(!1),IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(r,e){var a,t=toIObject(r),u=0,O=[];for(a in t)a!=IE_PROTO&&has(t,a)&&O.push(a);for(;e.length>u;)has(t,a=e[u++])&&(~arrayIndexOf(O,a)||O.push(a));return O};
},{"./_array-includes":177,"./_has":205,"./_shared-key":259,"./_to-iobject":273}],242:[function(require,module,exports){
var $keys=require("./_object-keys-internal"),enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function(e){return $keys(e,enumBugKeys)};
},{"./_enum-bug-keys":196,"./_object-keys-internal":241}],243:[function(require,module,exports){
exports.f={}.propertyIsEnumerable;
},{}],244:[function(require,module,exports){
var $export=require("./_export"),core=require("./_core"),fails=require("./_fails");module.exports=function(e,r){var o=(core.Object||{})[e]||Object[e],t={};t[e]=r(o),$export($export.S+$export.F*fails(function(){o(1)}),"Object",t)};
},{"./_core":189,"./_export":198,"./_fails":200}],245:[function(require,module,exports){
var getKeys=require("./_object-keys"),toIObject=require("./_to-iobject"),isEnum=require("./_object-pie").f;module.exports=function(e){return function(t){for(var r,o=toIObject(t),u=getKeys(o),i=u.length,n=0,c=[];i>n;)isEnum.call(o,r=u[n++])&&c.push(e?[r,o[r]]:o[r]);return c}};
},{"./_object-keys":242,"./_object-pie":243,"./_to-iobject":273}],246:[function(require,module,exports){
var gOPN=require("./_object-gopn"),gOPS=require("./_object-gops"),anObject=require("./_an-object"),Reflect=require("./_global").Reflect;module.exports=Reflect&&Reflect.ownKeys||function(e){var r=gOPN.f(anObject(e)),t=gOPS.f;return t?r.concat(t(e)):r};
},{"./_an-object":173,"./_global":204,"./_object-gopn":238,"./_object-gops":239}],247:[function(require,module,exports){
var $parseFloat=require("./_global").parseFloat,$trim=require("./_string-trim").trim;module.exports=1/$parseFloat(require("./_string-ws")+"-0")!==-(1/0)?function(r){var t=$trim(String(r),3),a=$parseFloat(t);return 0===a&&"-"==t.charAt(0)?-0:a}:$parseFloat;
},{"./_global":204,"./_string-trim":268,"./_string-ws":269}],248:[function(require,module,exports){
var $parseInt=require("./_global").parseInt,$trim=require("./_string-trim").trim,ws=require("./_string-ws"),hex=/^[\-+]?0[xX]/;module.exports=8!==$parseInt(ws+"08")||22!==$parseInt(ws+"0x16")?function(r,e){var t=$trim(String(r),3);return $parseInt(t,e>>>0||(hex.test(t)?16:10))}:$parseInt;
},{"./_global":204,"./_string-trim":268,"./_string-ws":269}],249:[function(require,module,exports){
"use strict";var path=require("./_path"),invoke=require("./_invoke"),aFunction=require("./_a-function");module.exports=function(){for(var r=aFunction(this),e=arguments.length,n=Array(e),i=0,t=path._,o=!1;e>i;)(n[i]=arguments[i++])===t&&(o=!0);return function(){var i,u=this,a=arguments.length,f=0,h=0;if(!o&&!a)return invoke(r,n,u);if(i=n.slice(),o)for(;e>f;f++)i[f]===t&&(i[f]=arguments[h++]);for(;a>h;)i.push(arguments[h++]);return invoke(r,i,u)}};
},{"./_a-function":169,"./_invoke":210,"./_path":250}],250:[function(require,module,exports){
module.exports=require("./_global");
},{"./_global":204}],251:[function(require,module,exports){
module.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}};
},{}],252:[function(require,module,exports){
var redefine=require("./_redefine");module.exports=function(e,r,n){for(var i in r)redefine(e,i,r[i],n);return e};
},{"./_redefine":253}],253:[function(require,module,exports){
var global=require("./_global"),hide=require("./_hide"),has=require("./_has"),SRC=require("./_uid")("src"),TO_STRING="toString",$toString=Function[TO_STRING],TPL=(""+$toString).split(TO_STRING);require("./_core").inspectSource=function(e){return $toString.call(e)},(module.exports=function(e,i,t,r){var n="function"==typeof t;n&&(has(t,"name")||hide(t,"name",i)),e[i]!==t&&(n&&(has(t,SRC)||hide(t,SRC,e[i]?""+e[i]:TPL.join(String(i)))),e===global?e[i]=t:r?e[i]?e[i]=t:hide(e,i,t):(delete e[i],hide(e,i,t)))})(Function.prototype,TO_STRING,function(){return"function"==typeof this&&this[SRC]||$toString.call(this)});
},{"./_core":189,"./_global":204,"./_has":205,"./_hide":206,"./_uid":280}],254:[function(require,module,exports){
module.exports=function(n,r){var t=r===Object(r)?function(n){return r[n]}:r;return function(r){return String(r).replace(n,t)}};
},{}],255:[function(require,module,exports){
module.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t};
},{}],256:[function(require,module,exports){
var isObject=require("./_is-object"),anObject=require("./_an-object"),check=function(t,e){if(anObject(t),!isObject(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,c){try{c=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2),c(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return check(t,r),e?t.__proto__=r:c(t,r),t}}({},!1):void 0),check:check};
},{"./_an-object":173,"./_ctx":191,"./_is-object":215,"./_object-gopd":236}],257:[function(require,module,exports){
"use strict";var global=require("./_global"),dP=require("./_object-dp"),DESCRIPTORS=require("./_descriptors"),SPECIES=require("./_wks")("species");module.exports=function(e){var r=global[e];DESCRIPTORS&&r&&!r[SPECIES]&&dP.f(r,SPECIES,{configurable:!0,get:function(){return this}})};
},{"./_descriptors":194,"./_global":204,"./_object-dp":233,"./_wks":283}],258:[function(require,module,exports){
var def=require("./_object-dp").f,has=require("./_has"),TAG=require("./_wks")("toStringTag");module.exports=function(e,r,o){e&&!has(e=o?e:e.prototype,TAG)&&def(e,TAG,{configurable:!0,value:r})};
},{"./_has":205,"./_object-dp":233,"./_wks":283}],259:[function(require,module,exports){
var shared=require("./_shared")("keys"),uid=require("./_uid");module.exports=function(e){return shared[e]||(shared[e]=uid(e))};
},{"./_shared":260,"./_uid":280}],260:[function(require,module,exports){
var global=require("./_global"),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});module.exports=function(o){return store[o]||(store[o]={})};
},{"./_global":204}],261:[function(require,module,exports){
var anObject=require("./_an-object"),aFunction=require("./_a-function"),SPECIES=require("./_wks")("species");module.exports=function(e,n){var r,t=anObject(e).constructor;return void 0===t||void 0==(r=anObject(t)[SPECIES])?n:aFunction(r)};
},{"./_a-function":169,"./_an-object":173,"./_wks":283}],262:[function(require,module,exports){
var fails=require("./_fails");module.exports=function(l,n){return!!l&&fails(function(){n?l.call(null,function(){},1):l.call(null)})};
},{"./_fails":200}],263:[function(require,module,exports){
var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(e){return function(r,t){var n,i,d=String(defined(r)),o=toInteger(t),u=d.length;return o<0||o>=u?e?"":void 0:(n=d.charCodeAt(o),n<55296||n>56319||o+1===u||(i=d.charCodeAt(o+1))<56320||i>57343?e?d.charAt(o):n:e?d.slice(o,o+2):(n-55296<<10)+(i-56320)+65536)}};
},{"./_defined":193,"./_to-integer":272}],264:[function(require,module,exports){
var isRegExp=require("./_is-regexp"),defined=require("./_defined");module.exports=function(e,r,i){if(isRegExp(r))throw TypeError("String#"+i+" doesn't accept regex!");return String(defined(e))};
},{"./_defined":193,"./_is-regexp":216}],265:[function(require,module,exports){
var $export=require("./_export"),fails=require("./_fails"),defined=require("./_defined"),quot=/"/g,createHTML=function(e,r,t,i){var n=String(defined(e)),o="<"+r;return""!==t&&(o+=" "+t+'="'+String(i).replace(quot,"&quot;")+'"'),o+">"+n+"</"+r+">"};module.exports=function(e,r){var t={};t[e]=r(createHTML),$export($export.P+$export.F*fails(function(){var r=""[e]('"');return r!==r.toLowerCase()||r.split('"').length>3}),"String",t)};
},{"./_defined":193,"./_export":198,"./_fails":200}],266:[function(require,module,exports){
var toLength=require("./_to-length"),repeat=require("./_string-repeat"),defined=require("./_defined");module.exports=function(e,r,t,n){var i=String(defined(e)),g=i.length,l=void 0===t?" ":String(t),a=toLength(r);if(a<=g||""==l)return i;var d=a-g,h=repeat.call(l,Math.ceil(d/l.length));return h.length>d&&(h=h.slice(0,d)),n?h+i:i+h};
},{"./_defined":193,"./_string-repeat":267,"./_to-length":274}],267:[function(require,module,exports){
"use strict";var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(e){var r=String(defined(this)),t="",n=toInteger(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(r+=r))1&n&&(t+=r);return t};
},{"./_defined":193,"./_to-integer":272}],268:[function(require,module,exports){
var $export=require("./_export"),defined=require("./_defined"),fails=require("./_fails"),spaces=require("./_string-ws"),space="["+spaces+"]",non="",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(e,r,t){var i={},p=fails(function(){return!!spaces[e]()||non[e]()!=non}),n=i[e]=p?r(trim):spaces[e];t&&(i[t]=n),$export($export.P+$export.F*p,"String",i)},trim=exporter.trim=function(e,r){return e=String(defined(e)),1&r&&(e=e.replace(ltrim,"")),2&r&&(e=e.replace(rtrim,"")),e};module.exports=exporter;
},{"./_defined":193,"./_export":198,"./_fails":200,"./_string-ws":269}],269:[function(require,module,exports){
module.exports="\t\n\v\f\r \u2028\u2029\ufeff";
},{}],270:[function(require,module,exports){
var ctx=require("./_ctx"),invoke=require("./_invoke"),html=require("./_html"),cel=require("./_dom-create"),global=require("./_global"),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",defer,channel,port,run=function(){var e=+this;if(queue.hasOwnProperty(e)){var n=queue[e];delete queue[e],n()}},listener=function(e){run.call(e.data)};setTask&&clearTask||(setTask=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++]);return queue[++counter]=function(){invoke("function"==typeof e?e:Function(e),n)},defer(counter),counter},clearTask=function(e){delete queue[e]},"process"==require("./_cof")(process)?defer=function(e){process.nextTick(ctx(run,e,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(e){global.postMessage(e+"","*")},global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in cel("script")?function(e){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(e)}}:function(e){setTimeout(ctx(run,e,1),0)}),module.exports={set:setTask,clear:clearTask};
},{"./_cof":184,"./_ctx":191,"./_dom-create":195,"./_global":204,"./_html":207,"./_invoke":210}],271:[function(require,module,exports){
var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(e,t){return e=toInteger(e),e<0?max(e+t,0):min(e,t)};
},{"./_to-integer":272}],272:[function(require,module,exports){
var ceil=Math.ceil,floor=Math.floor;module.exports=function(o){return isNaN(o=+o)?0:(o>0?floor:ceil)(o)};
},{}],273:[function(require,module,exports){
var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(e){return IObject(defined(e))};
},{"./_defined":193,"./_iobject":211}],274:[function(require,module,exports){
var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(e){return e>0?min(toInteger(e),9007199254740991):0};
},{"./_to-integer":272}],275:[function(require,module,exports){
var defined=require("./_defined");module.exports=function(e){return Object(defined(e))};
},{"./_defined":193}],276:[function(require,module,exports){
var isObject=require("./_is-object");module.exports=function(t,e){if(!isObject(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!isObject(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!isObject(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!isObject(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")};
},{"./_is-object":215}],277:[function(require,module,exports){
"use strict";if(require("./_descriptors")){var LIBRARY=require("./_library"),global=require("./_global"),fails=require("./_fails"),$export=require("./_export"),$typed=require("./_typed"),$buffer=require("./_typed-buffer"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),propertyDesc=require("./_property-desc"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),toIndex=require("./_to-index"),toPrimitive=require("./_to-primitive"),has=require("./_has"),same=require("./_same-value"),classof=require("./_classof"),isObject=require("./_is-object"),toObject=require("./_to-object"),isArrayIter=require("./_is-array-iter"),create=require("./_object-create"),getPrototypeOf=require("./_object-gpo"),gOPN=require("./_object-gopn").f,getIterFn=require("./core.get-iterator-method"),uid=require("./_uid"),wks=require("./_wks"),createArrayMethod=require("./_array-methods"),createArrayIncludes=require("./_array-includes"),speciesConstructor=require("./_species-constructor"),ArrayIterators=require("./es6.array.iterator"),Iterators=require("./_iterators"),$iterDetect=require("./_iter-detect"),setSpecies=require("./_set-species"),arrayFill=require("./_array-fill"),arrayCopyWithin=require("./_array-copy-within"),$DP=require("./_object-dp"),$GOPD=require("./_object-gopd"),dP=$DP.f,gOPD=$GOPD.f,RangeError=global.RangeError,TypeError=global.TypeError,Uint8Array=global.Uint8Array,ARRAY_BUFFER="ArrayBuffer",SHARED_BUFFER="Shared"+ARRAY_BUFFER,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",PROTOTYPE="prototype",ArrayProto=Array[PROTOTYPE],$ArrayBuffer=$buffer.ArrayBuffer,$DataView=$buffer.DataView,arrayForEach=createArrayMethod(0),arrayFilter=createArrayMethod(2),arraySome=createArrayMethod(3),arrayEvery=createArrayMethod(4),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),arrayIncludes=createArrayIncludes(!0),arrayIndexOf=createArrayIncludes(!1),arrayValues=ArrayIterators.values,arrayKeys=ArrayIterators.keys,arrayEntries=ArrayIterators.entries,arrayLastIndexOf=ArrayProto.lastIndexOf,arrayReduce=ArrayProto.reduce,arrayReduceRight=ArrayProto.reduceRight,arrayJoin=ArrayProto.join,arraySort=ArrayProto.sort,arraySlice=ArrayProto.slice,arrayToString=ArrayProto.toString,arrayToLocaleString=ArrayProto.toLocaleString,ITERATOR=wks("iterator"),TAG=wks("toStringTag"),TYPED_CONSTRUCTOR=uid("typed_constructor"),DEF_CONSTRUCTOR=uid("def_constructor"),ALL_CONSTRUCTORS=$typed.CONSTR,TYPED_ARRAY=$typed.TYPED,VIEW=$typed.VIEW,WRONG_LENGTH="Wrong length!",$map=createArrayMethod(1,function(r,e){return allocate(speciesConstructor(r,r[DEF_CONSTRUCTOR]),e)}),LITTLE_ENDIAN=fails(function(){return 1===new Uint8Array(new Uint16Array([1]).buffer)[0]}),FORCED_SET=!!Uint8Array&&!!Uint8Array[PROTOTYPE].set&&fails(function(){new Uint8Array(1).set({})}),strictToLength=function(r,e){if(void 0===r)throw TypeError(WRONG_LENGTH);var t=+r,a=toLength(r);if(e&&!same(t,a))throw RangeError(WRONG_LENGTH);return a},toOffset=function(r,e){var t=toInteger(r);if(t<0||t%e)throw RangeError("Wrong offset!");return t},validate=function(r){if(isObject(r)&&TYPED_ARRAY in r)return r;throw TypeError(r+" is not a typed array!")},allocate=function(r,e){if(!(isObject(r)&&TYPED_CONSTRUCTOR in r))throw TypeError("It is not a typed array constructor!");return new r(e)},speciesFromList=function(r,e){return fromList(speciesConstructor(r,r[DEF_CONSTRUCTOR]),e)},fromList=function(r,e){for(var t=0,a=e.length,i=allocate(r,a);a>t;)i[t]=e[t++];return i},addGetter=function(r,e,t){dP(r,e,{get:function(){return this._d[t]}})},$from=function(r){var e,t,a,i,o,n,s=toObject(r),c=arguments.length,u=c>1?arguments[1]:void 0,l=void 0!==u,y=getIterFn(s);if(void 0!=y&&!isArrayIter(y)){for(n=y.call(s),a=[],e=0;!(o=n.next()).done;e++)a.push(o.value);s=a}for(l&&c>2&&(u=ctx(u,arguments[2],2)),e=0,t=toLength(s.length),i=allocate(this,t);t>e;e++)i[e]=l?u(s[e],e):s[e];return i},$of=function(){for(var r=0,e=arguments.length,t=allocate(this,e);e>r;)t[r]=arguments[r++];return t},TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1))}),$toLocaleString=function(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)},proto={copyWithin:function(r,e){return arrayCopyWithin.call(validate(this),r,e,arguments.length>2?arguments[2]:void 0)},every:function(r){return arrayEvery(validate(this),r,arguments.length>1?arguments[1]:void 0)},fill:function(r){return arrayFill.apply(validate(this),arguments)},filter:function(r){return speciesFromList(this,arrayFilter(validate(this),r,arguments.length>1?arguments[1]:void 0))},find:function(r){return arrayFind(validate(this),r,arguments.length>1?arguments[1]:void 0)},findIndex:function(r){return arrayFindIndex(validate(this),r,arguments.length>1?arguments[1]:void 0)},forEach:function(r){arrayForEach(validate(this),r,arguments.length>1?arguments[1]:void 0)},indexOf:function(r){return arrayIndexOf(validate(this),r,arguments.length>1?arguments[1]:void 0)},includes:function(r){return arrayIncludes(validate(this),r,arguments.length>1?arguments[1]:void 0)},join:function(r){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function(r){return arrayLastIndexOf.apply(validate(this),arguments)},map:function(r){return $map(validate(this),r,arguments.length>1?arguments[1]:void 0)},reduce:function(r){return arrayReduce.apply(validate(this),arguments)},reduceRight:function(r){return arrayReduceRight.apply(validate(this),arguments)},reverse:function(){for(var r,e=this,t=validate(e).length,a=Math.floor(t/2),i=0;i<a;)r=e[i],e[i++]=e[--t],e[t]=r;return e},some:function(r){return arraySome(validate(this),r,arguments.length>1?arguments[1]:void 0)},sort:function(r){return arraySort.call(validate(this),r)},subarray:function(r,e){var t=validate(this),a=t.length,i=toIndex(r,a);return new(speciesConstructor(t,t[DEF_CONSTRUCTOR]))(t.buffer,t.byteOffset+i*t.BYTES_PER_ELEMENT,toLength((void 0===e?a:toIndex(e,a))-i))}},$slice=function(r,e){return speciesFromList(this,arraySlice.call(validate(this),r,e))},$set=function(r){validate(this);var e=toOffset(arguments[1],1),t=this.length,a=toObject(r),i=toLength(a.length),o=0;if(i+e>t)throw RangeError(WRONG_LENGTH);for(;o<i;)this[e+o]=a[o++]},$iterators={entries:function(){return arrayEntries.call(validate(this))},keys:function(){return arrayKeys.call(validate(this))},values:function(){return arrayValues.call(validate(this))}},isTAIndex=function(r,e){return isObject(r)&&r[TYPED_ARRAY]&&"symbol"!=typeof e&&e in r&&String(+e)==String(e)},$getDesc=function(r,e){return isTAIndex(r,e=toPrimitive(e,!0))?propertyDesc(2,r[e]):gOPD(r,e)},$setDesc=function(r,e,t){return!(isTAIndex(r,e=toPrimitive(e,!0))&&isObject(t)&&has(t,"value"))||has(t,"get")||has(t,"set")||t.configurable||has(t,"writable")&&!t.writable||has(t,"enumerable")&&!t.enumerable?dP(r,e,t):(r[e]=t.value,r)};ALL_CONSTRUCTORS||($GOPD.f=$getDesc,$DP.f=$setDesc),$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc}),fails(function(){arrayToString.call({})})&&(arrayToString=arrayToLocaleString=function(){return arrayJoin.call(this)});var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators),hide($TypedArrayPrototype$,ITERATOR,$iterators.values),redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString}),addGetter($TypedArrayPrototype$,"buffer","b"),addGetter($TypedArrayPrototype$,"byteOffset","o"),addGetter($TypedArrayPrototype$,"byteLength","l"),addGetter($TypedArrayPrototype$,"length","e"),dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}}),module.exports=function(r,e,t,a){a=!!a;var i=r+(a?"Clamped":"")+"Array",o="Uint8Array"!=i,n="get"+r,s="set"+r,c=global[i],u=c||{},l=c&&getPrototypeOf(c),y=!c||!$typed.ABV,f={},d=c&&c[PROTOTYPE],h=function(r,t){var a=r._d;return a.v[n](t*e+a.o,LITTLE_ENDIAN)},p=function(r,t,i){var o=r._d;a&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),o.v[s](t*e+o.o,i,LITTLE_ENDIAN)},T=function(r,e){dP(r,e,{get:function(){return h(this,e)},set:function(r){return p(this,e,r)},enumerable:!0})};y?(c=t(function(r,t,a,o){anInstance(r,c,i,"_d");var n,s,u,l,y=0,f=0;if(isObject(t)){if(!(t instanceof $ArrayBuffer||(l=classof(t))==ARRAY_BUFFER||l==SHARED_BUFFER))return TYPED_ARRAY in t?fromList(c,t):$from.call(c,t);n=t,f=toOffset(a,e);var d=t.byteLength;if(void 0===o){if(d%e)throw RangeError(WRONG_LENGTH);if(s=d-f,s<0)throw RangeError(WRONG_LENGTH)}else if(s=toLength(o)*e,s+f>d)throw RangeError(WRONG_LENGTH);u=s/e}else u=strictToLength(t,!0),s=u*e,n=new $ArrayBuffer(s);for(hide(r,"_d",{b:n,o:f,l:s,e:u,v:new $DataView(n)});y<u;)T(r,y++)}),d=c[PROTOTYPE]=create($TypedArrayPrototype$),hide(d,"constructor",c)):$iterDetect(function(r){new c(null),new c(r)},!0)||(c=t(function(r,t,a,n){anInstance(r,c,i);var s;return isObject(t)?t instanceof $ArrayBuffer||(s=classof(t))==ARRAY_BUFFER||s==SHARED_BUFFER?void 0!==n?new u(t,toOffset(a,e),n):void 0!==a?new u(t,toOffset(a,e)):new u(t):TYPED_ARRAY in t?fromList(c,t):$from.call(c,t):new u(strictToLength(t,o))}),arrayForEach(l!==Function.prototype?gOPN(u).concat(gOPN(l)):gOPN(u),function(r){r in c||hide(c,r,u[r])}),c[PROTOTYPE]=d,LIBRARY||(d.constructor=c));var E=d[ITERATOR],g=!!E&&("values"==E.name||void 0==E.name),A=$iterators.values;hide(c,TYPED_CONSTRUCTOR,!0),hide(d,TYPED_ARRAY,i),hide(d,VIEW,!0),hide(d,DEF_CONSTRUCTOR,c),(a?new c(1)[TAG]==i:TAG in d)||dP(d,TAG,{get:function(){return i}}),f[i]=c,$export($export.G+$export.W+$export.F*(c!=u),f),$export($export.S,i,{BYTES_PER_ELEMENT:e,from:$from,of:$of}),BYTES_PER_ELEMENT in d||hide(d,BYTES_PER_ELEMENT,e),$export($export.P,i,proto),setSpecies(i),$export($export.P+$export.F*FORCED_SET,i,{set:$set}),$export($export.P+$export.F*!g,i,$iterators),$export($export.P+$export.F*(d.toString!=arrayToString),i,{toString:arrayToString}),$export($export.P+$export.F*fails(function(){new c(1).slice()}),i,{slice:$slice}),$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()})||!fails(function(){d.toLocaleString.call([1,2])})),i,{toLocaleString:$toLocaleString}),Iterators[i]=g?E:A,LIBRARY||g||hide(d,ITERATOR,A)}}else module.exports=function(){};
},{"./_an-instance":172,"./_array-copy-within":174,"./_array-fill":175,"./_array-includes":177,"./_array-methods":178,"./_classof":183,"./_ctx":191,"./_descriptors":194,"./_export":198,"./_fails":200,"./_global":204,"./_has":205,"./_hide":206,"./_is-array-iter":212,"./_is-object":215,"./_iter-detect":220,"./_iterators":222,"./_library":224,"./_object-create":232,"./_object-dp":233,"./_object-gopd":236,"./_object-gopn":238,"./_object-gpo":240,"./_property-desc":251,"./_redefine-all":252,"./_same-value":255,"./_set-species":257,"./_species-constructor":261,"./_to-index":271,"./_to-integer":272,"./_to-length":274,"./_to-object":275,"./_to-primitive":276,"./_typed":279,"./_typed-buffer":278,"./_uid":280,"./_wks":283,"./core.get-iterator-method":284,"./es6.array.iterator":296}],278:[function(require,module,exports){
"use strict";var global=require("./_global"),DESCRIPTORS=require("./_descriptors"),LIBRARY=require("./_library"),$typed=require("./_typed"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),fails=require("./_fails"),anInstance=require("./_an-instance"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),gOPN=require("./_object-gopn").f,dP=require("./_object-dp").f,arrayFill=require("./_array-fill"),setToStringTag=require("./_set-to-string-tag"),ARRAY_BUFFER="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH="Wrong length!",WRONG_INDEX="Wrong index!",$ArrayBuffer=global[ARRAY_BUFFER],$DataView=global[DATA_VIEW],Math=global.Math,RangeError=global.RangeError,Infinity=global.Infinity,BaseBuffer=$ArrayBuffer,abs=Math.abs,pow=Math.pow,floor=Math.floor,log=Math.log,LN2=Math.LN2,BUFFER="buffer",BYTE_LENGTH="byteLength",BYTE_OFFSET="byteOffset",$BUFFER=DESCRIPTORS?"_b":BUFFER,$LENGTH=DESCRIPTORS?"_l":BYTE_LENGTH,$OFFSET=DESCRIPTORS?"_o":BYTE_OFFSET,packIEEE754=function(t,e,r){var n,a,i,f=Array(r),o=8*r-e-1,u=(1<<o)-1,s=u>>1,E=23===e?pow(2,-24)-pow(2,-77):0,c=0,g=t<0||0===t&&1/t<0?1:0;for(t=abs(t),t!=t||t===Infinity?(a=t!=t?1:0,n=u):(n=floor(log(t)/LN2),t*(i=pow(2,-n))<1&&(n--,i*=2),t+=n+s>=1?E/i:E*pow(2,1-s),t*i>=2&&(n++,i/=2),n+s>=u?(a=0,n=u):n+s>=1?(a=(t*i-1)*pow(2,e),n+=s):(a=t*pow(2,s-1)*pow(2,e),n=0));e>=8;f[c++]=255&a,a/=256,e-=8);for(n=n<<e|a,o+=e;o>0;f[c++]=255&n,n/=256,o-=8);return f[--c]|=128*g,f},unpackIEEE754=function(t,e,r){var n,a=8*r-e-1,i=(1<<a)-1,f=i>>1,o=a-7,u=r-1,s=t[u--],E=127&s;for(s>>=7;o>0;E=256*E+t[u],u--,o-=8);for(n=E&(1<<-o)-1,E>>=-o,o+=e;o>0;n=256*n+t[u],u--,o-=8);if(0===E)E=1-f;else{if(E===i)return n?NaN:s?-Infinity:Infinity;n+=pow(2,e),E-=f}return(s?-1:1)*n*pow(2,E-e)},unpackI32=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},packI8=function(t){return[255&t]},packI16=function(t){return[255&t,t>>8&255]},packI32=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},packF64=function(t){return packIEEE754(t,52,8)},packF32=function(t){return packIEEE754(t,23,4)},addGetter=function(t,e,r){dP(t[PROTOTYPE],e,{get:function(){return this[r]}})},get=function(t,e,r,n){var a=+r,i=toInteger(a);if(a!=i||i<0||i+e>t[$LENGTH])throw RangeError(WRONG_INDEX);var f=t[$BUFFER]._b,o=i+t[$OFFSET],u=f.slice(o,o+e);return n?u:u.reverse()},set=function(t,e,r,n,a,i){var f=+r,o=toInteger(f);if(f!=o||o<0||o+e>t[$LENGTH])throw RangeError(WRONG_INDEX);for(var u=t[$BUFFER]._b,s=o+t[$OFFSET],E=n(+a),c=0;c<e;c++)u[s+c]=E[i?c:e-c-1]},validateArrayBufferArguments=function(t,e){anInstance(t,$ArrayBuffer,ARRAY_BUFFER);var r=+e,n=toLength(r);if(r!=n)throw RangeError(WRONG_LENGTH);return n};if($typed.ABV){if(!fails(function(){new $ArrayBuffer})||!fails(function(){new $ArrayBuffer(.5)})){$ArrayBuffer=function(t){return new BaseBuffer(validateArrayBufferArguments(this,t))};for(var ArrayBufferProto=$ArrayBuffer[PROTOTYPE]=BaseBuffer[PROTOTYPE],keys=gOPN(BaseBuffer),j=0,key;keys.length>j;)(key=keys[j++])in $ArrayBuffer||hide($ArrayBuffer,key,BaseBuffer[key]);LIBRARY||(ArrayBufferProto.constructor=$ArrayBuffer)}var view=new $DataView(new $ArrayBuffer(2)),$setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648),view.setInt8(1,2147483649),!view.getInt8(0)&&view.getInt8(1)||redefineAll($DataView[PROTOTYPE],{setInt8:function(t,e){$setInt8.call(this,t,e<<24>>24)},setUint8:function(t,e){$setInt8.call(this,t,e<<24>>24)}},!0)}else $ArrayBuffer=function(t){var e=validateArrayBufferArguments(this,t);this._b=arrayFill.call(Array(e),0),this[$LENGTH]=e},$DataView=function(t,e,r){anInstance(this,$DataView,DATA_VIEW),anInstance(t,$ArrayBuffer,DATA_VIEW);var n=t[$LENGTH],a=toInteger(e);if(a<0||a>n)throw RangeError("Wrong offset!");if(r=void 0===r?n-a:toLength(r),a+r>n)throw RangeError(WRONG_LENGTH);this[$BUFFER]=t,this[$OFFSET]=a,this[$LENGTH]=r},DESCRIPTORS&&(addGetter($ArrayBuffer,BYTE_LENGTH,"_l"),addGetter($DataView,BUFFER,"_b"),addGetter($DataView,BYTE_LENGTH,"_l"),addGetter($DataView,BYTE_OFFSET,"_o")),redefineAll($DataView[PROTOTYPE],{getInt8:function(t){return get(this,1,t)[0]<<24>>24},getUint8:function(t){return get(this,1,t)[0]},getInt16:function(t){var e=get(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=get(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return unpackI32(get(this,4,t,arguments[1]))},getUint32:function(t){return unpackI32(get(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return unpackIEEE754(get(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return unpackIEEE754(get(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){set(this,1,t,packI8,e)},setUint8:function(t,e){set(this,1,t,packI8,e)},setInt16:function(t,e){set(this,2,t,packI16,e,arguments[2])},setUint16:function(t,e){set(this,2,t,packI16,e,arguments[2])},setInt32:function(t,e){set(this,4,t,packI32,e,arguments[2])},setUint32:function(t,e){set(this,4,t,packI32,e,arguments[2])},setFloat32:function(t,e){set(this,4,t,packF32,e,arguments[2])},setFloat64:function(t,e){set(this,8,t,packF64,e,arguments[2])}});setToStringTag($ArrayBuffer,ARRAY_BUFFER),setToStringTag($DataView,DATA_VIEW),hide($DataView[PROTOTYPE],$typed.VIEW,!0),exports[ARRAY_BUFFER]=$ArrayBuffer,exports[DATA_VIEW]=$DataView;
},{"./_an-instance":172,"./_array-fill":175,"./_descriptors":194,"./_fails":200,"./_global":204,"./_hide":206,"./_library":224,"./_object-dp":233,"./_object-gopn":238,"./_redefine-all":252,"./_set-to-string-tag":258,"./_to-integer":272,"./_to-length":274,"./_typed":279}],279:[function(require,module,exports){
for(var global=require("./_global"),hide=require("./_hide"),uid=require("./_uid"),TYPED=uid("typed_array"),VIEW=uid("view"),ABV=!(!global.ArrayBuffer||!global.DataView),CONSTR=ABV,i=0,l=9,Typed,TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");i<l;)(Typed=global[TypedArrayConstructors[i++]])?(hide(Typed.prototype,TYPED,!0),hide(Typed.prototype,VIEW,!0)):CONSTR=!1;module.exports={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW};
},{"./_global":204,"./_hide":206,"./_uid":280}],280:[function(require,module,exports){
var id=0,px=Math.random();module.exports=function(o){return"Symbol(".concat(void 0===o?"":o,")_",(++id+px).toString(36))};
},{}],281:[function(require,module,exports){
var global=require("./_global"),core=require("./_core"),LIBRARY=require("./_library"),wksExt=require("./_wks-ext"),defineProperty=require("./_object-dp").f;module.exports=function(e){var r=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==e.charAt(0)||e in r||defineProperty(r,e,{value:wksExt.f(e)})};
},{"./_core":189,"./_global":204,"./_library":224,"./_object-dp":233,"./_wks-ext":282}],282:[function(require,module,exports){
exports.f=require("./_wks");
},{"./_wks":283}],283:[function(require,module,exports){
var store=require("./_shared")("wks"),uid=require("./_uid"),Symbol=require("./_global").Symbol,USE_SYMBOL="function"==typeof Symbol,$exports=module.exports=function(o){return store[o]||(store[o]=USE_SYMBOL&&Symbol[o]||(USE_SYMBOL?Symbol:uid)("Symbol."+o))};$exports.store=store;
},{"./_global":204,"./_shared":260,"./_uid":280}],284:[function(require,module,exports){
var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(r){if(void 0!=r)return r[ITERATOR]||r["@@iterator"]||Iterators[classof(r)]};
},{"./_classof":183,"./_core":189,"./_iterators":222,"./_wks":283}],285:[function(require,module,exports){
var $export=require("./_export"),$re=require("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");$export($export.S,"RegExp",{escape:function(e){return $re(e)}});
},{"./_export":198,"./_replacer":254}],286:[function(require,module,exports){
var $export=require("./_export");$export($export.P,"Array",{copyWithin:require("./_array-copy-within")}),require("./_add-to-unscopables")("copyWithin");
},{"./_add-to-unscopables":171,"./_array-copy-within":174,"./_export":198}],287:[function(require,module,exports){
"use strict";var $export=require("./_export"),$every=require("./_array-methods")(4);$export($export.P+$export.F*!require("./_strict-method")([].every,!0),"Array",{every:function(r){return $every(this,r,arguments[1])}});
},{"./_array-methods":178,"./_export":198,"./_strict-method":262}],288:[function(require,module,exports){
var $export=require("./_export");$export($export.P,"Array",{fill:require("./_array-fill")}),require("./_add-to-unscopables")("fill");
},{"./_add-to-unscopables":171,"./_array-fill":175,"./_export":198}],289:[function(require,module,exports){
"use strict";var $export=require("./_export"),$filter=require("./_array-methods")(2);$export($export.P+$export.F*!require("./_strict-method")([].filter,!0),"Array",{filter:function(r){return $filter(this,r,arguments[1])}});
},{"./_array-methods":178,"./_export":198,"./_strict-method":262}],290:[function(require,module,exports){
"use strict";var $export=require("./_export"),$find=require("./_array-methods")(6),KEY="findIndex",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{findIndex:function(r){return $find(this,r,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")(KEY);
},{"./_add-to-unscopables":171,"./_array-methods":178,"./_export":198}],291:[function(require,module,exports){
"use strict";var $export=require("./_export"),$find=require("./_array-methods")(5),KEY="find",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function(r){return $find(this,r,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")(KEY);
},{"./_add-to-unscopables":171,"./_array-methods":178,"./_export":198}],292:[function(require,module,exports){
"use strict";var $export=require("./_export"),$forEach=require("./_array-methods")(0),STRICT=require("./_strict-method")([].forEach,!0);$export($export.P+$export.F*!STRICT,"Array",{forEach:function(r){return $forEach(this,r,arguments[1])}});
},{"./_array-methods":178,"./_export":198,"./_strict-method":262}],293:[function(require,module,exports){
"use strict";var ctx=require("./_ctx"),$export=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export($export.S+$export.F*!require("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var r,t,o,i,a=toObject(e),c="function"==typeof this?this:Array,n=arguments.length,u=n>1?arguments[1]:void 0,l=void 0!==u,y=0,p=getIterFn(a);if(l&&(u=ctx(u,n>2?arguments[2]:void 0,2)),void 0==p||c==Array&&isArrayIter(p))for(r=toLength(a.length),t=new c(r);r>y;y++)createProperty(t,y,l?u(a[y],y):a[y]);else for(i=p.call(a),t=new c;!(o=i.next()).done;y++)createProperty(t,y,l?call(i,u,[o.value,y],!0):o.value);return t.length=y,t}});
},{"./_create-property":190,"./_ctx":191,"./_export":198,"./_is-array-iter":212,"./_iter-call":217,"./_iter-detect":220,"./_to-length":274,"./_to-object":275,"./core.get-iterator-method":284}],294:[function(require,module,exports){
"use strict";var $export=require("./_export"),$indexOf=require("./_array-includes")(!1),$native=[].indexOf,NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{indexOf:function(e){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,e,arguments[1])}});
},{"./_array-includes":177,"./_export":198,"./_strict-method":262}],295:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Array",{isArray:require("./_is-array")});
},{"./_export":198,"./_is-array":213}],296:[function(require,module,exports){
"use strict";var addToUnscopables=require("./_add-to-unscopables"),step=require("./_iter-step"),Iterators=require("./_iterators"),toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(e,t){this._t=toIObject(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,step(1)):"keys"==t?step(0,s):"values"==t?step(0,e[s]):step(0,[s,e[s]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");
},{"./_add-to-unscopables":171,"./_iter-define":219,"./_iter-step":221,"./_iterators":222,"./_to-iobject":273}],297:[function(require,module,exports){
"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),arrayJoin=[].join;$export($export.P+$export.F*(require("./_iobject")!=Object||!require("./_strict-method")(arrayJoin)),"Array",{join:function(r){return arrayJoin.call(toIObject(this),void 0===r?",":r)}});
},{"./_export":198,"./_iobject":211,"./_strict-method":262,"./_to-iobject":273}],298:[function(require,module,exports){
"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),$native=[].lastIndexOf,NEGATIVE_ZERO=!!$native&&1/[1].lastIndexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{lastIndexOf:function(t){if(NEGATIVE_ZERO)return $native.apply(this,arguments)||0;var e=toIObject(this),r=toLength(e.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,toInteger(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}});
},{"./_export":198,"./_strict-method":262,"./_to-integer":272,"./_to-iobject":273,"./_to-length":274}],299:[function(require,module,exports){
"use strict";var $export=require("./_export"),$map=require("./_array-methods")(1);$export($export.P+$export.F*!require("./_strict-method")([].map,!0),"Array",{map:function(r){return $map(this,r,arguments[1])}});
},{"./_array-methods":178,"./_export":198,"./_strict-method":262}],300:[function(require,module,exports){
"use strict";var $export=require("./_export"),createProperty=require("./_create-property");$export($export.S+$export.F*require("./_fails")(function(){function r(){}return!(Array.of.call(r)instanceof r)}),"Array",{of:function(){for(var r=0,e=arguments.length,t=new("function"==typeof this?this:Array)(e);e>r;)createProperty(t,r,arguments[r++]);return t.length=e,t}});
},{"./_create-property":190,"./_export":198,"./_fails":200}],301:[function(require,module,exports){
"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(e){return $reduce(this,e,arguments.length,arguments[1],!0)}});
},{"./_array-reduce":179,"./_export":198,"./_strict-method":262}],302:[function(require,module,exports){
"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduce,!0),"Array",{reduce:function(e){return $reduce(this,e,arguments.length,arguments[1],!1)}});
},{"./_array-reduce":179,"./_export":198,"./_strict-method":262}],303:[function(require,module,exports){
"use strict";var $export=require("./_export"),html=require("./_html"),cof=require("./_cof"),toIndex=require("./_to-index"),toLength=require("./_to-length"),arraySlice=[].slice;$export($export.P+$export.F*require("./_fails")(function(){html&&arraySlice.call(html)}),"Array",{slice:function(r,t){var e=toLength(this.length),i=cof(this);if(t=void 0===t?e:t,"Array"==i)return arraySlice.call(this,r,t);for(var o=toIndex(r,e),a=toIndex(t,e),l=toLength(a-o),n=Array(l),h=0;h<l;h++)n[h]="String"==i?this.charAt(o+h):this[o+h];return n}});
},{"./_cof":184,"./_export":198,"./_fails":200,"./_html":207,"./_to-index":271,"./_to-length":274}],304:[function(require,module,exports){
"use strict";var $export=require("./_export"),$some=require("./_array-methods")(3);$export($export.P+$export.F*!require("./_strict-method")([].some,!0),"Array",{some:function(r){return $some(this,r,arguments[1])}});
},{"./_array-methods":178,"./_export":198,"./_strict-method":262}],305:[function(require,module,exports){
"use strict";var $export=require("./_export"),aFunction=require("./_a-function"),toObject=require("./_to-object"),fails=require("./_fails"),$sort=[].sort,test=[1,2,3];$export($export.P+$export.F*(fails(function(){test.sort(void 0)})||!fails(function(){test.sort(null)})||!require("./_strict-method")($sort)),"Array",{sort:function(t){return void 0===t?$sort.call(toObject(this)):$sort.call(toObject(this),aFunction(t))}});
},{"./_a-function":169,"./_export":198,"./_fails":200,"./_strict-method":262,"./_to-object":275}],306:[function(require,module,exports){
require("./_set-species")("Array");
},{"./_set-species":257}],307:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Date",{now:function(){return(new Date).getTime()}});
},{"./_export":198}],308:[function(require,module,exports){
"use strict";var $export=require("./_export"),fails=require("./_fails"),getTime=Date.prototype.getTime,lz=function(t){return t>9?t:"0"+t};$export($export.P+$export.F*(fails(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!fails(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(getTime.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+lz(t.getUTCMonth()+1)+"-"+lz(t.getUTCDate())+"T"+lz(t.getUTCHours())+":"+lz(t.getUTCMinutes())+":"+lz(t.getUTCSeconds())+"."+(i>99?i:"0"+lz(i))+"Z"}});
},{"./_export":198,"./_fails":200}],309:[function(require,module,exports){
"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive");$export($export.P+$export.F*require("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=toObject(this),r=toPrimitive(e);return"number"!=typeof r||isFinite(r)?e.toISOString():null}});
},{"./_export":198,"./_fails":200,"./_to-object":275,"./_to-primitive":276}],310:[function(require,module,exports){
var TO_PRIMITIVE=require("./_wks")("toPrimitive"),proto=Date.prototype;TO_PRIMITIVE in proto||require("./_hide")(proto,TO_PRIMITIVE,require("./_date-to-primitive"));
},{"./_date-to-primitive":192,"./_hide":206,"./_wks":283}],311:[function(require,module,exports){
var DateProto=Date.prototype,INVALID_DATE="Invalid Date",TO_STRING="toString",$toString=DateProto[TO_STRING],getTime=DateProto.getTime;new Date(NaN)+""!=INVALID_DATE&&require("./_redefine")(DateProto,TO_STRING,function(){var t=getTime.call(this);return t===t?$toString.call(this):INVALID_DATE});
},{"./_redefine":253}],312:[function(require,module,exports){
var $export=require("./_export");$export($export.P,"Function",{bind:require("./_bind")});
},{"./_bind":182,"./_export":198}],313:[function(require,module,exports){
"use strict";var isObject=require("./_is-object"),getPrototypeOf=require("./_object-gpo"),HAS_INSTANCE=require("./_wks")("hasInstance"),FunctionProto=Function.prototype;HAS_INSTANCE in FunctionProto||require("./_object-dp").f(FunctionProto,HAS_INSTANCE,{value:function(t){if("function"!=typeof this||!isObject(t))return!1;if(!isObject(this.prototype))return t instanceof this;for(;t=getPrototypeOf(t);)if(this.prototype===t)return!0;return!1}});
},{"./_is-object":215,"./_object-dp":233,"./_object-gpo":240,"./_wks":283}],314:[function(require,module,exports){
var dP=require("./_object-dp").f,createDesc=require("./_property-desc"),has=require("./_has"),FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/,NAME="name",isExtensible=Object.isExtensible||function(){return!0};NAME in FProto||require("./_descriptors")&&dP(FProto,NAME,{configurable:!0,get:function(){try{var e=this,r=(""+e).match(nameRE)[1];return has(e,NAME)||!isExtensible(e)||dP(e,NAME,createDesc(5,r)),r}catch(e){return""}}});
},{"./_descriptors":194,"./_has":205,"./_object-dp":233,"./_property-desc":251}],315:[function(require,module,exports){
"use strict";var strong=require("./_collection-strong");module.exports=require("./_collection")("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var r=strong.getEntry(this,t);return r&&r.v},set:function(t,r){return strong.def(this,0===t?0:t,r)}},strong,!0);
},{"./_collection":188,"./_collection-strong":185}],316:[function(require,module,exports){
var $export=require("./_export"),log1p=require("./_math-log1p"),sqrt=Math.sqrt,$acosh=Math.acosh;$export($export.S+$export.F*!($acosh&&710==Math.floor($acosh(Number.MAX_VALUE))&&$acosh(1/0)==1/0),"Math",{acosh:function(o){return(o=+o)<1?NaN:o>94906265.62425156?Math.log(o)+Math.LN2:log1p(o-1+sqrt(o-1)*sqrt(o+1))}});
},{"./_export":198,"./_math-log1p":226}],317:[function(require,module,exports){
function asinh(a){return isFinite(a=+a)&&0!=a?a<0?-asinh(-a):Math.log(a+Math.sqrt(a*a+1)):a}var $export=require("./_export"),$asinh=Math.asinh;$export($export.S+$export.F*!($asinh&&1/$asinh(0)>0),"Math",{asinh:asinh});
},{"./_export":198}],318:[function(require,module,exports){
var $export=require("./_export"),$atanh=Math.atanh;$export($export.S+$export.F*!($atanh&&1/$atanh(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}});
},{"./_export":198}],319:[function(require,module,exports){
var $export=require("./_export"),sign=require("./_math-sign");$export($export.S,"Math",{cbrt:function(r){return sign(r=+r)*Math.pow(Math.abs(r),1/3)}});
},{"./_export":198,"./_math-sign":227}],320:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{clz32:function(r){return(r>>>=0)?31-Math.floor(Math.log(r+.5)*Math.LOG2E):32}});
},{"./_export":198}],321:[function(require,module,exports){
var $export=require("./_export"),exp=Math.exp;$export($export.S,"Math",{cosh:function(e){return(exp(e=+e)+exp(-e))/2}});
},{"./_export":198}],322:[function(require,module,exports){
var $export=require("./_export"),$expm1=require("./_math-expm1");$export($export.S+$export.F*($expm1!=Math.expm1),"Math",{expm1:$expm1});
},{"./_export":198,"./_math-expm1":225}],323:[function(require,module,exports){
var $export=require("./_export"),sign=require("./_math-sign"),pow=Math.pow,EPSILON=pow(2,-52),EPSILON32=pow(2,-23),MAX32=pow(2,127)*(2-EPSILON32),MIN32=pow(2,-126),roundTiesToEven=function(o){return o+1/EPSILON-1/EPSILON};$export($export.S,"Math",{fround:function(o){var r,e,n=Math.abs(o),I=sign(o);return n<MIN32?I*roundTiesToEven(n/MIN32/EPSILON32)*MIN32*EPSILON32:(r=(1+EPSILON32/EPSILON)*n,e=r-(r-n),e>MAX32||e!=e?I*(1/0):I*e)}});
},{"./_export":198,"./_math-sign":227}],324:[function(require,module,exports){
var $export=require("./_export"),abs=Math.abs;$export($export.S,"Math",{hypot:function(r,t){for(var a,e,o=0,h=0,p=arguments.length,n=0;h<p;)a=abs(arguments[h++]),n<a?(e=n/a,o=o*e*e+1,n=a):a>0?(e=a/n,o+=e*e):o+=a;return n===1/0?1/0:n*Math.sqrt(o)}});
},{"./_export":198}],325:[function(require,module,exports){
var $export=require("./_export"),$imul=Math.imul;$export($export.S+$export.F*require("./_fails")(function(){return $imul(4294967295,5)!=-5||2!=$imul.length}),"Math",{imul:function(r,e){var t=65535,u=+r,i=+e,l=t&u,n=t&i;return 0|l*n+((t&u>>>16)*n+l*(t&i>>>16)<<16>>>0)}});
},{"./_export":198,"./_fails":200}],326:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{log10:function(r){return Math.log(r)/Math.LN10}});
},{"./_export":198}],327:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{log1p:require("./_math-log1p")});
},{"./_export":198,"./_math-log1p":226}],328:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{log2:function(r){return Math.log(r)/Math.LN2}});
},{"./_export":198}],329:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{sign:require("./_math-sign")});
},{"./_export":198,"./_math-sign":227}],330:[function(require,module,exports){
var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S+$export.F*require("./_fails")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(expm1(e)-expm1(-e))/2:(exp(e-1)-exp(-e-1))*(Math.E/2)}});
},{"./_export":198,"./_fails":200,"./_math-expm1":225}],331:[function(require,module,exports){
var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S,"Math",{tanh:function(e){var p=expm1(e=+e),r=expm1(-e);return p==1/0?1:r==1/0?-1:(p-r)/(exp(e)+exp(-e))}});
},{"./_export":198,"./_math-expm1":225}],332:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{trunc:function(r){return(r>0?Math.floor:Math.ceil)(r)}});
},{"./_export":198}],333:[function(require,module,exports){
"use strict";var global=require("./_global"),has=require("./_has"),cof=require("./_cof"),inheritIfRequired=require("./_inherit-if-required"),toPrimitive=require("./_to-primitive"),fails=require("./_fails"),gOPN=require("./_object-gopn").f,gOPD=require("./_object-gopd").f,dP=require("./_object-dp").f,$trim=require("./_string-trim").trim,NUMBER="Number",$Number=global[NUMBER],Base=$Number,proto=$Number.prototype,BROKEN_COF=cof(require("./_object-create")(proto))==NUMBER,TRIM="trim"in String.prototype,toNumber=function(e){var r=toPrimitive(e,!1);if("string"==typeof r&&r.length>2){r=TRIM?r.trim():$trim(r,3);var t,i,o,u=r.charCodeAt(0);if(43===u||45===u){if(t=r.charCodeAt(2),88===t||120===t)return NaN}else if(48===u){switch(r.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+r}for(var a,N=r.slice(2),s=0,n=N.length;s<n;s++)if(a=N.charCodeAt(s),a<48||a>o)return NaN;return parseInt(N,i)}}return+r};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function(e){var r=arguments.length<1?0:e,t=this;return t instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(t)}):cof(t)!=NUMBER)?inheritIfRequired(new Base(toNumber(r)),t,$Number):toNumber(r)};for(var keys=require("./_descriptors")?gOPN(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0,key;keys.length>j;j++)has(Base,key=keys[j])&&!has($Number,key)&&dP($Number,key,gOPD(Base,key));$Number.prototype=proto,proto.constructor=$Number,require("./_redefine")(global,NUMBER,$Number)}
},{"./_cof":184,"./_descriptors":194,"./_fails":200,"./_global":204,"./_has":205,"./_inherit-if-required":209,"./_object-create":232,"./_object-dp":233,"./_object-gopd":236,"./_object-gopn":238,"./_redefine":253,"./_string-trim":268,"./_to-primitive":276}],334:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Number",{EPSILON:Math.pow(2,-52)});
},{"./_export":198}],335:[function(require,module,exports){
var $export=require("./_export"),_isFinite=require("./_global").isFinite;$export($export.S,"Number",{isFinite:function(e){return"number"==typeof e&&_isFinite(e)}});
},{"./_export":198,"./_global":204}],336:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Number",{isInteger:require("./_is-integer")});
},{"./_export":198,"./_is-integer":214}],337:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Number",{isNaN:function(r){return r!=r}});
},{"./_export":198}],338:[function(require,module,exports){
var $export=require("./_export"),isInteger=require("./_is-integer"),abs=Math.abs;$export($export.S,"Number",{isSafeInteger:function(e){return isInteger(e)&&abs(e)<=9007199254740991}});
},{"./_export":198,"./_is-integer":214}],339:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});
},{"./_export":198}],340:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991});
},{"./_export":198}],341:[function(require,module,exports){
var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.S+$export.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat});
},{"./_export":198,"./_parse-float":247}],342:[function(require,module,exports){
var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.S+$export.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt});
},{"./_export":198,"./_parse-int":248}],343:[function(require,module,exports){
"use strict";var $export=require("./_export"),toInteger=require("./_to-integer"),aNumberValue=require("./_a-number-value"),repeat=require("./_string-repeat"),$toFixed=1..toFixed,floor=Math.floor,data=[0,0,0,0,0,0],ERROR="Number.toFixed: incorrect invocation!",ZERO="0",multiply=function(e,r){for(var t=-1,i=r;++t<6;)i+=e*data[t],data[t]=i%1e7,i=floor(i/1e7)},divide=function(e){for(var r=6,t=0;--r>=0;)t+=data[r],data[r]=floor(t/e),t=t%e*1e7},numToString=function(){for(var e=6,r="";--e>=0;)if(""!==r||0===e||0!==data[e]){var t=String(data[e]);r=""===r?t:r+repeat.call(ZERO,7-t.length)+t}return r},pow=function(e,r,t){return 0===r?t:r%2===1?pow(e,r-1,t*e):pow(e*e,r/2,t)},log=function(e){for(var r=0,t=e;t>=4096;)r+=12,t/=4096;for(;t>=2;)r+=1,t/=2;return r};$export($export.P+$export.F*(!!$toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!require("./_fails")(function(){$toFixed.call({})})),"Number",{toFixed:function(e){var r,t,i,o,a=aNumberValue(this,ERROR),n=toInteger(e),l="",u=ZERO;if(n<0||n>20)throw RangeError(ERROR);if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(l="-",a=-a),a>1e-21)if(r=log(a*pow(2,69,1))-69,t=r<0?a*pow(2,-r,1):a/pow(2,r,1),t*=4503599627370496,r=52-r,r>0){for(multiply(0,t),i=n;i>=7;)multiply(1e7,0),i-=7;for(multiply(pow(10,i,1),0),i=r-1;i>=23;)divide(1<<23),i-=23;divide(1<<i),multiply(1,1),divide(2),u=numToString()}else multiply(0,t),multiply(1<<-r,0),u=numToString()+repeat.call(ZERO,n);return n>0?(o=u.length,u=l+(o<=n?"0."+repeat.call(ZERO,n-o)+u:u.slice(0,o-n)+"."+u.slice(o-n))):u=l+u,u}});
},{"./_a-number-value":170,"./_export":198,"./_fails":200,"./_string-repeat":267,"./_to-integer":272}],344:[function(require,module,exports){
"use strict";var $export=require("./_export"),$fails=require("./_fails"),aNumberValue=require("./_a-number-value"),$toPrecision=1..toPrecision;$export($export.P+$export.F*($fails(function(){return"1"!==$toPrecision.call(1,void 0)})||!$fails(function(){$toPrecision.call({})})),"Number",{toPrecision:function(i){var r=aNumberValue(this,"Number#toPrecision: incorrect invocation!");return void 0===i?$toPrecision.call(r):$toPrecision.call(r,i)}});
},{"./_a-number-value":170,"./_export":198,"./_fails":200}],345:[function(require,module,exports){
var $export=require("./_export");$export($export.S+$export.F,"Object",{assign:require("./_object-assign")});
},{"./_export":198,"./_object-assign":231}],346:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Object",{create:require("./_object-create")});
},{"./_export":198,"./_object-create":232}],347:[function(require,module,exports){
var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperties:require("./_object-dps")});
},{"./_descriptors":194,"./_export":198,"./_object-dps":234}],348:[function(require,module,exports){
var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f});
},{"./_descriptors":194,"./_export":198,"./_object-dp":233}],349:[function(require,module,exports){
var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("freeze",function(e){return function(r){return e&&isObject(r)?e(meta(r)):r}});
},{"./_is-object":215,"./_meta":228,"./_object-sap":244}],350:[function(require,module,exports){
var toIObject=require("./_to-iobject"),$getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_object-sap")("getOwnPropertyDescriptor",function(){return function(r,e){return $getOwnPropertyDescriptor(toIObject(r),e)}});
},{"./_object-gopd":236,"./_object-sap":244,"./_to-iobject":273}],351:[function(require,module,exports){
require("./_object-sap")("getOwnPropertyNames",function(){return require("./_object-gopn-ext").f});
},{"./_object-gopn-ext":237,"./_object-sap":244}],352:[function(require,module,exports){
var toObject=require("./_to-object"),$getPrototypeOf=require("./_object-gpo");require("./_object-sap")("getPrototypeOf",function(){return function(t){return $getPrototypeOf(toObject(t))}});
},{"./_object-gpo":240,"./_object-sap":244,"./_to-object":275}],353:[function(require,module,exports){
var isObject=require("./_is-object");require("./_object-sap")("isExtensible",function(e){return function(i){return!!isObject(i)&&(!e||e(i))}});
},{"./_is-object":215,"./_object-sap":244}],354:[function(require,module,exports){
var isObject=require("./_is-object");require("./_object-sap")("isFrozen",function(e){return function(r){return!isObject(r)||!!e&&e(r)}});
},{"./_is-object":215,"./_object-sap":244}],355:[function(require,module,exports){
var isObject=require("./_is-object");require("./_object-sap")("isSealed",function(e){return function(r){return!isObject(r)||!!e&&e(r)}});
},{"./_is-object":215,"./_object-sap":244}],356:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Object",{is:require("./_same-value")});
},{"./_export":198,"./_same-value":255}],357:[function(require,module,exports){
var toObject=require("./_to-object"),$keys=require("./_object-keys");require("./_object-sap")("keys",function(){return function(e){return $keys(toObject(e))}});
},{"./_object-keys":242,"./_object-sap":244,"./_to-object":275}],358:[function(require,module,exports){
var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("preventExtensions",function(e){return function(r){return e&&isObject(r)?e(meta(r)):r}});
},{"./_is-object":215,"./_meta":228,"./_object-sap":244}],359:[function(require,module,exports){
var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("seal",function(e){return function(r){return e&&isObject(r)?e(meta(r)):r}});
},{"./_is-object":215,"./_meta":228,"./_object-sap":244}],360:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Object",{setPrototypeOf:require("./_set-proto").set});
},{"./_export":198,"./_set-proto":256}],361:[function(require,module,exports){
"use strict";var classof=require("./_classof"),test={};test[require("./_wks")("toStringTag")]="z",test+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function(){return"[object "+classof(this)+"]"},!0);
},{"./_classof":183,"./_redefine":253,"./_wks":283}],362:[function(require,module,exports){
var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.G+$export.F*(parseFloat!=$parseFloat),{parseFloat:$parseFloat});
},{"./_export":198,"./_parse-float":247}],363:[function(require,module,exports){
var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.G+$export.F*(parseInt!=$parseInt),{parseInt:$parseInt});
},{"./_export":198,"./_parse-int":248}],364:[function(require,module,exports){
"use strict";var LIBRARY=require("./_library"),global=require("./_global"),ctx=require("./_ctx"),classof=require("./_classof"),$export=require("./_export"),isObject=require("./_is-object"),aFunction=require("./_a-function"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),speciesConstructor=require("./_species-constructor"),task=require("./_task").set,microtask=require("./_microtask")(),PROMISE="Promise",TypeError=global.TypeError,process=global.process,$Promise=global[PROMISE],process=global.process,isNode="process"==classof(process),empty=function(){},Internal,GenericPromiseCapability,Wrapper,USE_NATIVE=!!function(){try{var e=$Promise.resolve(1),r=(e.constructor={})[require("./_wks")("species")]=function(e){e(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&e.then(empty)instanceof r}catch(e){}}(),sameConstructor=function(e,r){return e===r||e===$Promise&&r===Wrapper},isThenable=function(e){var r;return!(!isObject(e)||"function"!=typeof(r=e.then))&&r},newPromiseCapability=function(e){return sameConstructor($Promise,e)?new PromiseCapability(e):new GenericPromiseCapability(e)},PromiseCapability=GenericPromiseCapability=function(e){var r,t;this.promise=new e(function(e,o){if(void 0!==r||void 0!==t)throw TypeError("Bad Promise constructor");r=e,t=o}),this.resolve=aFunction(r),this.reject=aFunction(t)},perform=function(e){try{e()}catch(e){return{error:e}}},notify=function(e,r){if(!e._n){e._n=!0;var t=e._c;microtask(function(){for(var o=e._v,i=1==e._s,n=0,s=function(r){var t,n,s=i?r.ok:r.fail,c=r.resolve,a=r.reject,l=r.domain;try{s?(i||(2==e._h&&onHandleUnhandled(e),e._h=1),s===!0?t=o:(l&&l.enter(),t=s(o),l&&l.exit()),t===r.promise?a(TypeError("Promise-chain cycle")):(n=isThenable(t))?n.call(t,c,a):c(t)):a(o)}catch(e){a(e)}};t.length>n;)s(t[n++]);e._c=[],e._n=!1,r&&!e._h&&onUnhandled(e)})}},onUnhandled=function(e){task.call(global,function(){var r,t,o,i=e._v;if(isUnhandled(e)&&(r=perform(function(){isNode?process.emit("unhandledRejection",i,e):(t=global.onunhandledrejection)?t({promise:e,reason:i}):(o=global.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=isNode||isUnhandled(e)?2:1),e._a=void 0,r)throw r.error})},isUnhandled=function(e){if(1==e._h)return!1;for(var r,t=e._a||e._c,o=0;t.length>o;)if(r=t[o++],r.fail||!isUnhandled(r.promise))return!1;return!0},onHandleUnhandled=function(e){task.call(global,function(){var r;isNode?process.emit("rejectionHandled",e):(r=global.onrejectionhandled)&&r({promise:e,reason:e._v})})},$reject=function(e){var r=this;r._d||(r._d=!0,r=r._w||r,r._v=e,r._s=2,r._a||(r._a=r._c.slice()),notify(r,!0))},$resolve=function(e){var r,t=this;if(!t._d){t._d=!0,t=t._w||t;try{if(t===e)throw TypeError("Promise can't be resolved itself");(r=isThenable(e))?microtask(function(){var o={_w:t,_d:!1};try{r.call(e,ctx($resolve,o,1),ctx($reject,o,1))}catch(e){$reject.call(o,e)}}):(t._v=e,t._s=1,notify(t,!1))}catch(e){$reject.call({_w:t,_d:!1},e)}}};USE_NATIVE||($Promise=function(e){anInstance(this,$Promise,PROMISE,"_h"),aFunction(e),Internal.call(this);try{e(ctx($resolve,this,1),ctx($reject,this,1))}catch(e){$reject.call(this,e)}},Internal=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=require("./_redefine-all")($Promise.prototype,{then:function(e,r){var t=newPromiseCapability(speciesConstructor(this,$Promise));return t.ok="function"!=typeof e||e,t.fail="function"==typeof r&&r,t.domain=isNode?process.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&notify(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),PromiseCapability=function(){var e=new Internal;this.promise=e,this.resolve=ctx($resolve,e,1),this.reject=ctx($reject,e,1)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),require("./_set-to-string-tag")($Promise,PROMISE),require("./_set-species")(PROMISE),Wrapper=require("./_core")[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function(e){var r=newPromiseCapability(this),t=r.reject;return t(e),r.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function(e){if(e instanceof $Promise&&sameConstructor(e.constructor,this))return e;var r=newPromiseCapability(this),t=r.resolve;return t(e),r.promise}}),$export($export.S+$export.F*!(USE_NATIVE&&require("./_iter-detect")(function(e){$Promise.all(e).catch(empty)})),PROMISE,{all:function(e){var r=this,t=newPromiseCapability(r),o=t.resolve,i=t.reject,n=perform(function(){var t=[],n=0,s=1;forOf(e,!1,function(e){var c=n++,a=!1;t.push(void 0),s++,r.resolve(e).then(function(e){a||(a=!0,t[c]=e,--s||o(t))},i)}),--s||o(t)});return n&&i(n.error),t.promise},race:function(e){var r=this,t=newPromiseCapability(r),o=t.reject,i=perform(function(){forOf(e,!1,function(e){r.resolve(e).then(t.resolve,o)})});return i&&o(i.error),t.promise}});
},{"./_a-function":169,"./_an-instance":172,"./_classof":183,"./_core":189,"./_ctx":191,"./_export":198,"./_for-of":203,"./_global":204,"./_is-object":215,"./_iter-detect":220,"./_library":224,"./_microtask":230,"./_redefine-all":252,"./_set-species":257,"./_set-to-string-tag":258,"./_species-constructor":261,"./_task":270,"./_wks":283}],365:[function(require,module,exports){
var $export=require("./_export"),aFunction=require("./_a-function"),anObject=require("./_an-object"),rApply=(require("./_global").Reflect||{}).apply,fApply=Function.apply;$export($export.S+$export.F*!require("./_fails")(function(){rApply(function(){})}),"Reflect",{apply:function(e,p,r){var n=aFunction(e),t=anObject(r);return rApply?rApply(n,p,t):fApply.call(n,p,t)}});
},{"./_a-function":169,"./_an-object":173,"./_export":198,"./_fails":200,"./_global":204}],366:[function(require,module,exports){
var $export=require("./_export"),create=require("./_object-create"),aFunction=require("./_a-function"),anObject=require("./_an-object"),isObject=require("./_is-object"),fails=require("./_fails"),bind=require("./_bind"),rConstruct=(require("./_global").Reflect||{}).construct,NEW_TARGET_BUG=fails(function(){function e(){}return!(rConstruct(function(){},[],e)instanceof e)}),ARGS_BUG=!fails(function(){rConstruct(function(){})});$export($export.S+$export.F*(NEW_TARGET_BUG||ARGS_BUG),"Reflect",{construct:function(e,t){aFunction(e),anObject(t);var r=arguments.length<3?e:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(bind.apply(e,n))}var c=r.prototype,u=create(isObject(c)?c:Object.prototype),i=Function.apply.call(e,u,t);return isObject(i)?i:u}});
},{"./_a-function":169,"./_an-object":173,"./_bind":182,"./_export":198,"./_fails":200,"./_global":204,"./_is-object":215,"./_object-create":232}],367:[function(require,module,exports){
var dP=require("./_object-dp"),$export=require("./_export"),anObject=require("./_an-object"),toPrimitive=require("./_to-primitive");$export($export.S+$export.F*require("./_fails")(function(){Reflect.defineProperty(dP.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,r,t){anObject(e),r=toPrimitive(r,!0),anObject(t);try{return dP.f(e,r,t),!0}catch(e){return!1}}});
},{"./_an-object":173,"./_export":198,"./_fails":200,"./_object-dp":233,"./_to-primitive":276}],368:[function(require,module,exports){
var $export=require("./_export"),gOPD=require("./_object-gopd").f,anObject=require("./_an-object");$export($export.S,"Reflect",{deleteProperty:function(e,r){var t=gOPD(anObject(e),r);return!(t&&!t.configurable)&&delete e[r]}});
},{"./_an-object":173,"./_export":198,"./_object-gopd":236}],369:[function(require,module,exports){
"use strict";var $export=require("./_export"),anObject=require("./_an-object"),Enumerate=function(e){this._t=anObject(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};require("./_iter-create")(Enumerate,"Object",function(){var e,t=this,r=t._k;do if(t._i>=r.length)return{value:void 0,done:!0};while(!((e=r[t._i++])in t._t));return{value:e,done:!1}}),$export($export.S,"Reflect",{enumerate:function(e){return new Enumerate(e)}});
},{"./_an-object":173,"./_export":198,"./_iter-create":218}],370:[function(require,module,exports){
var gOPD=require("./_object-gopd"),$export=require("./_export"),anObject=require("./_an-object");$export($export.S,"Reflect",{getOwnPropertyDescriptor:function(e,r){return gOPD.f(anObject(e),r)}});
},{"./_an-object":173,"./_export":198,"./_object-gopd":236}],371:[function(require,module,exports){
var $export=require("./_export"),getProto=require("./_object-gpo"),anObject=require("./_an-object");$export($export.S,"Reflect",{getPrototypeOf:function(e){return getProto(anObject(e))}});
},{"./_an-object":173,"./_export":198,"./_object-gpo":240}],372:[function(require,module,exports){
function get(e,t){var r,o,g=arguments.length<3?e:arguments[2];return anObject(e)===g?e[t]:(r=gOPD.f(e,t))?has(r,"value")?r.value:void 0!==r.get?r.get.call(g):void 0:isObject(o=getPrototypeOf(e))?get(o,t,g):void 0}var gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),isObject=require("./_is-object"),anObject=require("./_an-object");$export($export.S,"Reflect",{get:get});
},{"./_an-object":173,"./_export":198,"./_has":205,"./_is-object":215,"./_object-gopd":236,"./_object-gpo":240}],373:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Reflect",{has:function(e,r){return r in e}});
},{"./_export":198}],374:[function(require,module,exports){
var $export=require("./_export"),anObject=require("./_an-object"),$isExtensible=Object.isExtensible;$export($export.S,"Reflect",{isExtensible:function(e){return anObject(e),!$isExtensible||$isExtensible(e)}});
},{"./_an-object":173,"./_export":198}],375:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Reflect",{ownKeys:require("./_own-keys")});
},{"./_export":198,"./_own-keys":246}],376:[function(require,module,exports){
var $export=require("./_export"),anObject=require("./_an-object"),$preventExtensions=Object.preventExtensions;$export($export.S,"Reflect",{preventExtensions:function(e){anObject(e);try{return $preventExtensions&&$preventExtensions(e),!0}catch(e){return!1}}});
},{"./_an-object":173,"./_export":198}],377:[function(require,module,exports){
var $export=require("./_export"),setProto=require("./_set-proto");setProto&&$export($export.S,"Reflect",{setPrototypeOf:function(t,e){setProto.check(t,e);try{return setProto.set(t,e),!0}catch(t){return!1}}});
},{"./_export":198,"./_set-proto":256}],378:[function(require,module,exports){
function set(e,t,r){var c,o,i=arguments.length<4?e:arguments[3],s=gOPD.f(anObject(e),t);if(!s){if(isObject(o=getPrototypeOf(e)))return set(o,t,r,i);s=createDesc(0)}return has(s,"value")?!(s.writable===!1||!isObject(i))&&(c=gOPD.f(i,t)||createDesc(0),c.value=r,dP.f(i,t,c),!0):void 0!==s.set&&(s.set.call(i,r),!0)}var dP=require("./_object-dp"),gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),createDesc=require("./_property-desc"),anObject=require("./_an-object"),isObject=require("./_is-object");$export($export.S,"Reflect",{set:set});
},{"./_an-object":173,"./_export":198,"./_has":205,"./_is-object":215,"./_object-dp":233,"./_object-gopd":236,"./_object-gpo":240,"./_property-desc":251}],379:[function(require,module,exports){
var global=require("./_global"),inheritIfRequired=require("./_inherit-if-required"),dP=require("./_object-dp").f,gOPN=require("./_object-gopn").f,isRegExp=require("./_is-regexp"),$flags=require("./_flags"),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new $RegExp(re1)!==re1;if(require("./_descriptors")&&(!CORRECT_NEW||require("./_fails")(function(){return re2[require("./_wks")("match")]=!1,$RegExp(re1)!=re1||$RegExp(re2)==re2||"/a/i"!=$RegExp(re1,"i")}))){$RegExp=function(e,r){var i=this instanceof $RegExp,g=isRegExp(e),o=void 0===r;return!i&&g&&e.constructor===$RegExp&&o?e:inheritIfRequired(CORRECT_NEW?new Base(g&&!o?e.source:e,r):Base((g=e instanceof $RegExp)?e.source:e,g&&o?$flags.call(e):r),i?this:proto,$RegExp)};for(var proxy=(function(e){e in $RegExp||dP($RegExp,e,{configurable:!0,get:function(){return Base[e]},set:function(r){Base[e]=r}})}),keys=gOPN(Base),i=0;keys.length>i;)proxy(keys[i++]);proto.constructor=$RegExp,$RegExp.prototype=proto,require("./_redefine")(global,"RegExp",$RegExp)}require("./_set-species")("RegExp");
},{"./_descriptors":194,"./_fails":200,"./_flags":202,"./_global":204,"./_inherit-if-required":209,"./_is-regexp":216,"./_object-dp":233,"./_object-gopn":238,"./_redefine":253,"./_set-species":257,"./_wks":283}],380:[function(require,module,exports){
require("./_descriptors")&&"g"!=/./g.flags&&require("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:require("./_flags")});
},{"./_descriptors":194,"./_flags":202,"./_object-dp":233}],381:[function(require,module,exports){
require("./_fix-re-wks")("match",1,function(i,r,t){return[function(t){"use strict";var e=i(this),n=void 0==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},t]});
},{"./_fix-re-wks":201}],382:[function(require,module,exports){
require("./_fix-re-wks")("replace",2,function(r,i,e){return[function(t,n){"use strict";var c=r(this),u=void 0==t?void 0:t[i];return void 0!==u?u.call(t,c,n):e.call(String(c),t,n)},e]});
},{"./_fix-re-wks":201}],383:[function(require,module,exports){
require("./_fix-re-wks")("search",1,function(r,i,e){return[function(e){"use strict";var n=r(this),t=void 0==e?void 0:e[i];return void 0!==t?t.call(e,n):new RegExp(e)[i](String(n))},e]});
},{"./_fix-re-wks":201}],384:[function(require,module,exports){
require("./_fix-re-wks")("split",2,function(e,i,r){"use strict";var n=require("./_is-regexp"),t=r,s=[].push,c="split",u="length",l="lastIndex";if("c"=="abbc"[c](/(b)*/)[1]||4!="test"[c](/(?:)/,-1)[u]||2!="ab"[c](/(?:ab)*/)[u]||4!="."[c](/(.?)(.?)/)[u]||"."[c](/()()/)[u]>1||""[c](/.?/)[u]){var o=void 0===/()??/.exec("")[1];r=function(e,i){var r=String(this);if(void 0===e&&0===i)return[];if(!n(e))return t.call(r,e,i);var c,a,d,v,p,f=[],x=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,h=void 0===i?4294967295:i>>>0,b=new RegExp(e.source,x+"g");for(o||(c=new RegExp("^"+b.source+"$(?!\\s)",x));(a=b.exec(r))&&(d=a.index+a[0][u],!(d>g&&(f.push(r.slice(g,a.index)),!o&&a[u]>1&&a[0].replace(c,function(){for(p=1;p<arguments[u]-2;p++)void 0===arguments[p]&&(a[p]=void 0)}),a[u]>1&&a.index<r[u]&&s.apply(f,a.slice(1)),v=a[0][u],g=d,f[u]>=h)));)b[l]===a.index&&b[l]++;return g===r[u]?!v&&b.test("")||f.push(""):f.push(r.slice(g)),f[u]>h?f.slice(0,h):f}}else"0"[c](void 0,0)[u]&&(r=function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)});return[function(n,t){var s=e(this),c=void 0==n?void 0:n[i];return void 0!==c?c.call(n,s,t):r.call(String(s),n,t)},r]});
},{"./_fix-re-wks":201,"./_is-regexp":216}],385:[function(require,module,exports){
"use strict";require("./es6.regexp.flags");var anObject=require("./_an-object"),$flags=require("./_flags"),DESCRIPTORS=require("./_descriptors"),TO_STRING="toString",$toString=/./[TO_STRING],define=function(e){require("./_redefine")(RegExp.prototype,TO_STRING,e,!0)};require("./_fails")(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function(){var e=anObject(this);return"/".concat(e.source,"/","flags"in e?e.flags:!DESCRIPTORS&&e instanceof RegExp?$flags.call(e):void 0)}):$toString.name!=TO_STRING&&define(function(){return $toString.call(this)});
},{"./_an-object":173,"./_descriptors":194,"./_fails":200,"./_flags":202,"./_redefine":253,"./es6.regexp.flags":380}],386:[function(require,module,exports){
"use strict";var strong=require("./_collection-strong");module.exports=require("./_collection")("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return strong.def(this,t=0===t?0:t,t)}},strong);
},{"./_collection":188,"./_collection-strong":185}],387:[function(require,module,exports){
"use strict";require("./_string-html")("anchor",function(n){return function(r){return n(this,"a","name",r)}});
},{"./_string-html":265}],388:[function(require,module,exports){
"use strict";require("./_string-html")("big",function(t){return function(){return t(this,"big","","")}});
},{"./_string-html":265}],389:[function(require,module,exports){
"use strict";require("./_string-html")("blink",function(n){return function(){return n(this,"blink","","")}});
},{"./_string-html":265}],390:[function(require,module,exports){
"use strict";require("./_string-html")("bold",function(t){return function(){return t(this,"b","","")}});
},{"./_string-html":265}],391:[function(require,module,exports){
"use strict";var $export=require("./_export"),$at=require("./_string-at")(!1);$export($export.P,"String",{codePointAt:function(t){return $at(this,t)}});
},{"./_export":198,"./_string-at":263}],392:[function(require,module,exports){
"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),ENDS_WITH="endsWith",$endsWith=""[ENDS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(ENDS_WITH),"String",{endsWith:function(t){var e=context(this,t,ENDS_WITH),n=arguments.length>1?arguments[1]:void 0,r=toLength(e.length),i=void 0===n?r:Math.min(toLength(n),r),o=String(t);return $endsWith?$endsWith.call(e,o,i):e.slice(i-o.length,i)===o}});
},{"./_export":198,"./_fails-is-regexp":199,"./_string-context":264,"./_to-length":274}],393:[function(require,module,exports){
"use strict";require("./_string-html")("fixed",function(t){return function(){return t(this,"tt","","")}});
},{"./_string-html":265}],394:[function(require,module,exports){
"use strict";require("./_string-html")("fontcolor",function(t){return function(r){return t(this,"font","color",r)}});
},{"./_string-html":265}],395:[function(require,module,exports){
"use strict";require("./_string-html")("fontsize",function(t){return function(n){return t(this,"font","size",n)}});
},{"./_string-html":265}],396:[function(require,module,exports){
var $export=require("./_export"),toIndex=require("./_to-index"),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function(o){for(var r,e=[],t=arguments.length,n=0;t>n;){if(r=+arguments[n++],toIndex(r,1114111)!==r)throw RangeError(r+" is not a valid code point");e.push(r<65536?fromCharCode(r):fromCharCode(((r-=65536)>>10)+55296,r%1024+56320))}return e.join("")}});
},{"./_export":198,"./_to-index":271}],397:[function(require,module,exports){
"use strict";var $export=require("./_export"),context=require("./_string-context"),INCLUDES="includes";$export($export.P+$export.F*require("./_fails-is-regexp")(INCLUDES),"String",{includes:function(e){return!!~context(this,e,INCLUDES).indexOf(e,arguments.length>1?arguments[1]:void 0)}});
},{"./_export":198,"./_fails-is-regexp":199,"./_string-context":264}],398:[function(require,module,exports){
"use strict";require("./_string-html")("italics",function(t){return function(){return t(this,"i","","")}});
},{"./_string-html":265}],399:[function(require,module,exports){
"use strict";var $at=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,i=this._t,e=this._i;return e>=i.length?{value:void 0,done:!0}:(t=$at(i,e),this._i+=t.length,{value:t,done:!1})});
},{"./_iter-define":219,"./_string-at":263}],400:[function(require,module,exports){
"use strict";require("./_string-html")("link",function(r){return function(t){return r(this,"a","href",t)}});
},{"./_string-html":265}],401:[function(require,module,exports){
var $export=require("./_export"),toIObject=require("./_to-iobject"),toLength=require("./_to-length");$export($export.S,"String",{raw:function(t){for(var r=toIObject(t.raw),e=toLength(r.length),o=arguments.length,n=[],i=0;e>i;)n.push(String(r[i++])),i<o&&n.push(String(arguments[i]));return n.join("")}});
},{"./_export":198,"./_to-iobject":273,"./_to-length":274}],402:[function(require,module,exports){
var $export=require("./_export");$export($export.P,"String",{repeat:require("./_string-repeat")});
},{"./_export":198,"./_string-repeat":267}],403:[function(require,module,exports){
"use strict";require("./_string-html")("small",function(t){return function(){return t(this,"small","","")}});
},{"./_string-html":265}],404:[function(require,module,exports){
"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),STARTS_WITH="startsWith",$startsWith=""[STARTS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(STARTS_WITH),"String",{startsWith:function(t){var e=context(this,t,STARTS_WITH),r=toLength(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return $startsWith?$startsWith.call(e,i,r):e.slice(r,r+i.length)===i}});
},{"./_export":198,"./_fails-is-regexp":199,"./_string-context":264,"./_to-length":274}],405:[function(require,module,exports){
"use strict";require("./_string-html")("strike",function(t){return function(){return t(this,"strike","","")}});
},{"./_string-html":265}],406:[function(require,module,exports){
"use strict";require("./_string-html")("sub",function(t){return function(){return t(this,"sub","","")}});
},{"./_string-html":265}],407:[function(require,module,exports){
"use strict";require("./_string-html")("sup",function(t){return function(){return t(this,"sup","","")}});
},{"./_string-html":265}],408:[function(require,module,exports){
"use strict";require("./_string-trim")("trim",function(r){return function(){return r(this,3)}});
},{"./_string-trim":268}],409:[function(require,module,exports){
"use strict";var global=require("./_global"),has=require("./_has"),DESCRIPTORS=require("./_descriptors"),$export=require("./_export"),redefine=require("./_redefine"),META=require("./_meta").KEY,$fails=require("./_fails"),shared=require("./_shared"),setToStringTag=require("./_set-to-string-tag"),uid=require("./_uid"),wks=require("./_wks"),wksExt=require("./_wks-ext"),wksDefine=require("./_wks-define"),keyOf=require("./_keyof"),enumKeys=require("./_enum-keys"),isArray=require("./_is-array"),anObject=require("./_an-object"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),createDesc=require("./_property-desc"),_create=require("./_object-create"),gOPNExt=require("./_object-gopn-ext"),$GOPD=require("./_object-gopd"),$DP=require("./_object-dp"),$keys=require("./_object-keys"),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(e,r,t){var o=gOPD(ObjectProto,r);o&&delete ObjectProto[r],dP(e,r,t),o&&e!==ObjectProto&&dP(ObjectProto,r,o)}:dP,wrap=function(e){var r=AllSymbols[e]=_create($Symbol[PROTOTYPE]);return r._k=e,r},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof $Symbol},$defineProperty=function(e,r,t){return e===ObjectProto&&$defineProperty(OPSymbols,r,t),anObject(e),r=toPrimitive(r,!0),anObject(t),has(AllSymbols,r)?(t.enumerable?(has(e,HIDDEN)&&e[HIDDEN][r]&&(e[HIDDEN][r]=!1),t=_create(t,{enumerable:createDesc(0,!1)})):(has(e,HIDDEN)||dP(e,HIDDEN,createDesc(1,{})),e[HIDDEN][r]=!0),setSymbolDesc(e,r,t)):dP(e,r,t)},$defineProperties=function(e,r){anObject(e);for(var t,o=enumKeys(r=toIObject(r)),i=0,s=o.length;s>i;)$defineProperty(e,t=o[i++],r[t]);return e},$create=function(e,r){return void 0===r?_create(e):$defineProperties(_create(e),r)},$propertyIsEnumerable=function(e){var r=isEnum.call(this,e=toPrimitive(e,!0));return!(this===ObjectProto&&has(AllSymbols,e)&&!has(OPSymbols,e))&&(!(r||!has(this,e)||!has(AllSymbols,e)||has(this,HIDDEN)&&this[HIDDEN][e])||r)},$getOwnPropertyDescriptor=function(e,r){if(e=toIObject(e),r=toPrimitive(r,!0),e!==ObjectProto||!has(AllSymbols,r)||has(OPSymbols,r)){var t=gOPD(e,r);return!t||!has(AllSymbols,r)||has(e,HIDDEN)&&e[HIDDEN][r]||(t.enumerable=!0),t}},$getOwnPropertyNames=function(e){for(var r,t=gOPN(toIObject(e)),o=[],i=0;t.length>i;)has(AllSymbols,r=t[i++])||r==HIDDEN||r==META||o.push(r);return o},$getOwnPropertySymbols=function(e){for(var r,t=e===ObjectProto,o=gOPN(t?OPSymbols:toIObject(e)),i=[],s=0;o.length>s;)!has(AllSymbols,r=o[s++])||t&&!has(ObjectProto,r)||i.push(AllSymbols[r]);return i};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var e=uid(arguments.length>0?arguments[0]:void 0),r=function(t){this===ObjectProto&&r.call(OPSymbols,t),has(this,HIDDEN)&&has(this[HIDDEN],e)&&(this[HIDDEN][e]=!1),setSymbolDesc(this,e,createDesc(1,t))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,e,{configurable:!0,set:r}),wrap(e)},redefine($Symbol[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,require("./_object-gopn").f=gOPNExt.f=$getOwnPropertyNames,require("./_object-pie").f=$propertyIsEnumerable,require("./_object-gops").f=$getOwnPropertySymbols,DESCRIPTORS&&!require("./_library")&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(e){return wrap(wks(e))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i=0;symbols.length>i;)wks(symbols[i++]);for(var symbols=$keys(wks.store),i=0;symbols.length>i;)wksDefine(symbols[i++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(e){return has(SymbolRegistry,e+="")?SymbolRegistry[e]:SymbolRegistry[e]=$Symbol(e)},keyFor:function(e){if(isSymbol(e))return keyOf(SymbolRegistry,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var e=$Symbol();return"[null]"!=_stringify([e])||"{}"!=_stringify({a:e})||"{}"!=_stringify(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!isSymbol(e)){for(var r,t,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);return r=o[1],"function"==typeof r&&(t=r),!t&&isArray(r)||(r=function(e,r){if(t&&(r=t.call(this,e,r)),!isSymbol(r))return r}),o[1]=r,_stringify.apply($JSON,o)}}}),$Symbol[PROTOTYPE][TO_PRIMITIVE]||require("./_hide")($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0);
},{"./_an-object":173,"./_descriptors":194,"./_enum-keys":197,"./_export":198,"./_fails":200,"./_global":204,"./_has":205,"./_hide":206,"./_is-array":213,"./_keyof":223,"./_library":224,"./_meta":228,"./_object-create":232,"./_object-dp":233,"./_object-gopd":236,"./_object-gopn":238,"./_object-gopn-ext":237,"./_object-gops":239,"./_object-keys":242,"./_object-pie":243,"./_property-desc":251,"./_redefine":253,"./_set-to-string-tag":258,"./_shared":260,"./_to-iobject":273,"./_to-primitive":276,"./_uid":280,"./_wks":283,"./_wks-define":281,"./_wks-ext":282}],410:[function(require,module,exports){
"use strict";var $export=require("./_export"),$typed=require("./_typed"),buffer=require("./_typed-buffer"),anObject=require("./_an-object"),toIndex=require("./_to-index"),toLength=require("./_to-length"),isObject=require("./_is-object"),ArrayBuffer=require("./_global").ArrayBuffer,speciesConstructor=require("./_species-constructor"),$ArrayBuffer=buffer.ArrayBuffer,$DataView=buffer.DataView,$isView=$typed.ABV&&ArrayBuffer.isView,$slice=$ArrayBuffer.prototype.slice,VIEW=$typed.VIEW,ARRAY_BUFFER="ArrayBuffer";$export($export.G+$export.W+$export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer}),$export($export.S+$export.F*!$typed.CONSTR,ARRAY_BUFFER,{isView:function(e){return $isView&&$isView(e)||isObject(e)&&VIEW in e}}),$export($export.P+$export.U+$export.F*require("./_fails")(function(){return!new $ArrayBuffer(2).slice(1,void 0).byteLength}),ARRAY_BUFFER,{slice:function(e,r){if(void 0!==$slice&&void 0===r)return $slice.call(anObject(this),e);for(var t=anObject(this).byteLength,i=toIndex(e,t),f=toIndex(void 0===r?t:r,t),o=new(speciesConstructor(this,$ArrayBuffer))(toLength(f-i)),u=new $DataView(this),s=new $DataView(o),n=0;i<f;)s.setUint8(n++,u.getUint8(i++));return o}}),require("./_set-species")(ARRAY_BUFFER);
},{"./_an-object":173,"./_export":198,"./_fails":200,"./_global":204,"./_is-object":215,"./_set-species":257,"./_species-constructor":261,"./_to-index":271,"./_to-length":274,"./_typed":279,"./_typed-buffer":278}],411:[function(require,module,exports){
var $export=require("./_export");$export($export.G+$export.W+$export.F*!require("./_typed").ABV,{DataView:require("./_typed-buffer").DataView});
},{"./_export":198,"./_typed":279,"./_typed-buffer":278}],412:[function(require,module,exports){
require("./_typed-array")("Float32",4,function(r){return function(t,n,e){return r(this,t,n,e)}});
},{"./_typed-array":277}],413:[function(require,module,exports){
require("./_typed-array")("Float64",8,function(r){return function(t,n,e){return r(this,t,n,e)}});
},{"./_typed-array":277}],414:[function(require,module,exports){
require("./_typed-array")("Int16",2,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":277}],415:[function(require,module,exports){
require("./_typed-array")("Int32",4,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":277}],416:[function(require,module,exports){
require("./_typed-array")("Int8",1,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":277}],417:[function(require,module,exports){
require("./_typed-array")("Uint16",2,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":277}],418:[function(require,module,exports){
require("./_typed-array")("Uint32",4,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":277}],419:[function(require,module,exports){
require("./_typed-array")("Uint8",1,function(r){return function(n,t,e){return r(this,n,t,e)}});
},{"./_typed-array":277}],420:[function(require,module,exports){
require("./_typed-array")("Uint8",1,function(r){return function(n,t,e){return r(this,n,t,e)}},!0);
},{"./_typed-array":277}],421:[function(require,module,exports){
"use strict";var each=require("./_array-methods")(0),redefine=require("./_redefine"),meta=require("./_meta"),assign=require("./_object-assign"),weak=require("./_collection-weak"),isObject=require("./_is-object"),getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,tmp={},InternalMap,wrapper=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},methods={get:function(e){if(isObject(e)){var t=getWeak(e);return t===!0?uncaughtFrozenStore(this).get(e):t?t[this._i]:void 0}},set:function(e,t){return weak.def(this,e,t)}},$WeakMap=module.exports=require("./_collection")("WeakMap",wrapper,methods,weak,!0,!0);7!=(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)&&(InternalMap=weak.getConstructor(wrapper),assign(InternalMap.prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(e){var t=$WeakMap.prototype,r=t[e];redefine(t,e,function(t,a){if(isObject(t)&&!isExtensible(t)){this._f||(this._f=new InternalMap);var i=this._f[e](t,a);return"set"==e?this:i}return r.call(this,t,a)})}));
},{"./_array-methods":178,"./_collection":188,"./_collection-weak":187,"./_is-object":215,"./_meta":228,"./_object-assign":231,"./_redefine":253}],422:[function(require,module,exports){
"use strict";var weak=require("./_collection-weak");require("./_collection")("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return weak.def(this,e,!0)}},weak,!1,!0);
},{"./_collection":188,"./_collection-weak":187}],423:[function(require,module,exports){
"use strict";var $export=require("./_export"),$includes=require("./_array-includes")(!0);$export($export.P,"Array",{includes:function(e){return $includes(this,e,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")("includes");
},{"./_add-to-unscopables":171,"./_array-includes":177,"./_export":198}],424:[function(require,module,exports){
var $export=require("./_export"),microtask=require("./_microtask")(),process=require("./_global").process,isNode="process"==require("./_cof")(process);$export($export.G,{asap:function(r){var e=isNode&&process.domain;microtask(e?e.bind(r):r)}});
},{"./_cof":184,"./_export":198,"./_global":204,"./_microtask":230}],425:[function(require,module,exports){
var $export=require("./_export"),cof=require("./_cof");$export($export.S,"Error",{isError:function(r){return"Error"===cof(r)}});
},{"./_cof":184,"./_export":198}],426:[function(require,module,exports){
var $export=require("./_export");$export($export.P+$export.R,"Map",{toJSON:require("./_collection-to-json")("Map")});
},{"./_collection-to-json":186,"./_export":198}],427:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{iaddh:function(r,e,t,o){var a=r>>>0,p=e>>>0,x=t>>>0;return p+(o>>>0)+((a&x|(a|x)&~(a+x>>>0))>>>31)|0}});
},{"./_export":198}],428:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{imulh:function(r,e){var t=65535,o=+r,p=+e,u=o&t,x=p&t,a=o>>16,i=p>>16,n=(a*x>>>0)+(u*x>>>16);return a*i+(n>>16)+((u*i>>>0)+(n&t)>>16)}});
},{"./_export":198}],429:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{isubh:function(r,e,t,o){var p=r>>>0,u=e>>>0,x=t>>>0;return u-(o>>>0)-((~p&x|~(p^x)&p-x>>>0)>>>31)|0}});
},{"./_export":198}],430:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"Math",{umulh:function(r,e){var t=65535,o=+r,u=+e,p=o&t,x=u&t,a=o>>>16,n=u>>>16,$=(a*x>>>0)+(p*x>>>16);return a*n+($>>>16)+((p*n>>>0)+($&t)>>>16)}});
},{"./_export":198}],431:[function(require,module,exports){
"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineGetter__:function(e,r){$defineProperty.f(toObject(this),e,{get:aFunction(r),enumerable:!0,configurable:!0})}});
},{"./_a-function":169,"./_descriptors":194,"./_export":198,"./_object-dp":233,"./_object-forced-pam":235,"./_to-object":275}],432:[function(require,module,exports){
"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineSetter__:function(e,r){$defineProperty.f(toObject(this),e,{set:aFunction(r),enumerable:!0,configurable:!0})}});
},{"./_a-function":169,"./_descriptors":194,"./_export":198,"./_object-dp":233,"./_object-forced-pam":235,"./_to-object":275}],433:[function(require,module,exports){
var $export=require("./_export"),$entries=require("./_object-to-array")(!0);$export($export.S,"Object",{entries:function(e){return $entries(e)}});
},{"./_export":198,"./_object-to-array":245}],434:[function(require,module,exports){
var $export=require("./_export"),ownKeys=require("./_own-keys"),toIObject=require("./_to-iobject"),gOPD=require("./_object-gopd"),createProperty=require("./_create-property");$export($export.S,"Object",{getOwnPropertyDescriptors:function(e){for(var r,t=toIObject(e),o=gOPD.f,p=ownKeys(t),c={},i=0;p.length>i;)createProperty(c,r=p[i++],o(t,r));return c}});
},{"./_create-property":190,"./_export":198,"./_object-gopd":236,"./_own-keys":246,"./_to-iobject":273}],435:[function(require,module,exports){
"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupGetter__:function(e){var t,r=toObject(this),o=toPrimitive(e,!0);do if(t=getOwnPropertyDescriptor(r,o))return t.get;while(r=getPrototypeOf(r))}});
},{"./_descriptors":194,"./_export":198,"./_object-forced-pam":235,"./_object-gopd":236,"./_object-gpo":240,"./_to-object":275,"./_to-primitive":276}],436:[function(require,module,exports){
"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupSetter__:function(e){var t,r=toObject(this),o=toPrimitive(e,!0);do if(t=getOwnPropertyDescriptor(r,o))return t.set;while(r=getPrototypeOf(r))}});
},{"./_descriptors":194,"./_export":198,"./_object-forced-pam":235,"./_object-gopd":236,"./_object-gpo":240,"./_to-object":275,"./_to-primitive":276}],437:[function(require,module,exports){
var $export=require("./_export"),$values=require("./_object-to-array")(!1);$export($export.S,"Object",{values:function(e){return $values(e)}});
},{"./_export":198,"./_object-to-array":245}],438:[function(require,module,exports){
"use strict";var $export=require("./_export"),global=require("./_global"),core=require("./_core"),microtask=require("./_microtask")(),OBSERVABLE=require("./_wks")("observable"),aFunction=require("./_a-function"),anObject=require("./_an-object"),anInstance=require("./_an-instance"),redefineAll=require("./_redefine-all"),hide=require("./_hide"),forOf=require("./_for-of"),RETURN=forOf.RETURN,getMethod=function(r){return null==r?void 0:aFunction(r)},cleanupSubscription=function(r){var e=r._c;e&&(r._c=void 0,e())},subscriptionClosed=function(r){return void 0===r._o},closeSubscription=function(r){subscriptionClosed(r)||(r._o=void 0,cleanupSubscription(r))},Subscription=function(r,e){anObject(r),this._c=void 0,this._o=r,r=new SubscriptionObserver(this);try{var t=e(r),n=t;null!=t&&("function"==typeof t.unsubscribe?t=function(){n.unsubscribe()}:aFunction(t),this._c=t)}catch(e){return void r.error(e)}subscriptionClosed(this)&&cleanupSubscription(this)};Subscription.prototype=redefineAll({},{unsubscribe:function(){closeSubscription(this)}});var SubscriptionObserver=function(r){this._s=r};SubscriptionObserver.prototype=redefineAll({},{next:function(r){var e=this._s;if(!subscriptionClosed(e)){var t=e._o;try{var n=getMethod(t.next);if(n)return n.call(t,r)}catch(r){try{closeSubscription(e)}finally{throw r}}}},error:function(r){var e=this._s;if(subscriptionClosed(e))throw r;var t=e._o;e._o=void 0;try{var n=getMethod(t.error);if(!n)throw r;r=n.call(t,r)}catch(r){try{cleanupSubscription(e)}finally{throw r}}return cleanupSubscription(e),r},complete:function(r){var e=this._s;if(!subscriptionClosed(e)){var t=e._o;e._o=void 0;try{var n=getMethod(t.complete);r=n?n.call(t,r):void 0}catch(r){try{cleanupSubscription(e)}finally{throw r}}return cleanupSubscription(e),r}}});var $Observable=function(r){anInstance(this,$Observable,"Observable","_f")._f=aFunction(r)};redefineAll($Observable.prototype,{subscribe:function(r){return new Subscription(r,this._f)},forEach:function(r){var e=this;return new(core.Promise||global.Promise)(function(t,n){aFunction(r);var i=e.subscribe({next:function(e){try{return r(e)}catch(r){n(r),i.unsubscribe()}},error:n,complete:t})})}}),redefineAll($Observable,{from:function(r){var e="function"==typeof this?this:$Observable,t=getMethod(anObject(r)[OBSERVABLE]);if(t){var n=anObject(t.call(r));return n.constructor===e?n:new e(function(r){return n.subscribe(r)})}return new e(function(e){var t=!1;return microtask(function(){if(!t){try{if(forOf(r,!1,function(r){if(e.next(r),t)return RETURN})===RETURN)return}catch(r){if(t)throw r;return void e.error(r)}e.complete()}}),function(){t=!0}})},of:function(){for(var r=0,e=arguments.length,t=Array(e);r<e;)t[r]=arguments[r++];return new("function"==typeof this?this:$Observable)(function(r){var e=!1;return microtask(function(){if(!e){for(var n=0;n<t.length;++n)if(r.next(t[n]),e)return;r.complete()}}),function(){e=!0}})}}),hide($Observable.prototype,OBSERVABLE,function(){return this}),$export($export.G,{Observable:$Observable}),require("./_set-species")("Observable");
},{"./_a-function":169,"./_an-instance":172,"./_an-object":173,"./_core":189,"./_export":198,"./_for-of":203,"./_global":204,"./_hide":206,"./_microtask":230,"./_redefine-all":252,"./_set-species":257,"./_wks":283}],439:[function(require,module,exports){
var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({defineMetadata:function(a,e,t,n){ordinaryDefineOwnMetadata(a,e,anObject(t),toMetaKey(n))}});
},{"./_an-object":173,"./_metadata":229}],440:[function(require,module,exports){
var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,getOrCreateMetadataMap=metadata.map,store=metadata.store;metadata.exp({deleteMetadata:function(e,t){var a=arguments.length<3?void 0:toMetaKey(arguments[2]),r=getOrCreateMetadataMap(anObject(t),a,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var d=store.get(t);return d.delete(a),!!d.size||store.delete(t)}});
},{"./_an-object":173,"./_metadata":229}],441:[function(require,module,exports){
var Set=require("./es6.set"),from=require("./_array-from-iterable"),metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key,ordinaryMetadataKeys=function(e,a){var t=ordinaryOwnMetadataKeys(e,a),r=getPrototypeOf(e);if(null===r)return t;var n=ordinaryMetadataKeys(r,a);return n.length?t.length?from(new Set(t.concat(n))):n:t};metadata.exp({getMetadataKeys:function(e){return ordinaryMetadataKeys(anObject(e),arguments.length<2?void 0:toMetaKey(arguments[1]))}});
},{"./_an-object":173,"./_array-from-iterable":176,"./_metadata":229,"./_object-gpo":240,"./es6.set":386}],442:[function(require,module,exports){
var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key,ordinaryGetMetadata=function(a,t,e){var r=ordinaryHasOwnMetadata(a,t,e);if(r)return ordinaryGetOwnMetadata(a,t,e);var d=getPrototypeOf(t);return null!==d?ordinaryGetMetadata(a,d,e):void 0};metadata.exp({getMetadata:function(a,t){return ordinaryGetMetadata(a,anObject(t),arguments.length<3?void 0:toMetaKey(arguments[2]))}});
},{"./_an-object":173,"./_metadata":229,"./_object-gpo":240}],443:[function(require,module,exports){
var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key;metadata.exp({getOwnMetadataKeys:function(a){return ordinaryOwnMetadataKeys(anObject(a),arguments.length<2?void 0:toMetaKey(arguments[1]))}});
},{"./_an-object":173,"./_metadata":229}],444:[function(require,module,exports){
var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key;metadata.exp({getOwnMetadata:function(a,t){return ordinaryGetOwnMetadata(a,anObject(t),arguments.length<3?void 0:toMetaKey(arguments[2]))}});
},{"./_an-object":173,"./_metadata":229}],445:[function(require,module,exports){
var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key,ordinaryHasMetadata=function(a,t,e){var r=ordinaryHasOwnMetadata(a,t,e);if(r)return!0;var n=getPrototypeOf(t);return null!==n&&ordinaryHasMetadata(a,n,e)};metadata.exp({hasMetadata:function(a,t){return ordinaryHasMetadata(a,anObject(t),arguments.length<3?void 0:toMetaKey(arguments[2]))}});
},{"./_an-object":173,"./_metadata":229,"./_object-gpo":240}],446:[function(require,module,exports){
var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key;metadata.exp({hasOwnMetadata:function(a,t){return ordinaryHasOwnMetadata(a,anObject(t),arguments.length<3?void 0:toMetaKey(arguments[2]))}});
},{"./_an-object":173,"./_metadata":229}],447:[function(require,module,exports){
var metadata=require("./_metadata"),anObject=require("./_an-object"),aFunction=require("./_a-function"),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({metadata:function(a,t){return function(e,n){ordinaryDefineOwnMetadata(a,t,(void 0!==n?anObject:aFunction)(e),toMetaKey(n))}}});
},{"./_a-function":169,"./_an-object":173,"./_metadata":229}],448:[function(require,module,exports){
var $export=require("./_export");$export($export.P+$export.R,"Set",{toJSON:require("./_collection-to-json")("Set")});
},{"./_collection-to-json":186,"./_export":198}],449:[function(require,module,exports){
"use strict";var $export=require("./_export"),$at=require("./_string-at")(!0);$export($export.P,"String",{at:function(t){return $at(this,t)}});
},{"./_export":198,"./_string-at":263}],450:[function(require,module,exports){
"use strict";var $export=require("./_export"),defined=require("./_defined"),toLength=require("./_to-length"),isRegExp=require("./_is-regexp"),getFlags=require("./_flags"),RegExpProto=RegExp.prototype,$RegExpStringIterator=function(e,r){this._r=e,this._s=r};require("./_iter-create")($RegExpStringIterator,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),$export($export.P,"String",{matchAll:function(e){if(defined(this),!isRegExp(e))throw TypeError(e+" is not a regexp!");var r=String(this),t="flags"in RegExpProto?String(e.flags):getFlags.call(e),i=new RegExp(e.source,~t.indexOf("g")?t:"g"+t);return i.lastIndex=toLength(e.lastIndex),new $RegExpStringIterator(i,r)}});
},{"./_defined":193,"./_export":198,"./_flags":202,"./_is-regexp":216,"./_iter-create":218,"./_to-length":274}],451:[function(require,module,exports){
"use strict";var $export=require("./_export"),$pad=require("./_string-pad");$export($export.P,"String",{padEnd:function(r){return $pad(this,r,arguments.length>1?arguments[1]:void 0,!1)}});
},{"./_export":198,"./_string-pad":266}],452:[function(require,module,exports){
"use strict";var $export=require("./_export"),$pad=require("./_string-pad");$export($export.P,"String",{padStart:function(r){return $pad(this,r,arguments.length>1?arguments[1]:void 0,!0)}});
},{"./_export":198,"./_string-pad":266}],453:[function(require,module,exports){
"use strict";require("./_string-trim")("trimLeft",function(t){return function(){return t(this,1)}},"trimStart");
},{"./_string-trim":268}],454:[function(require,module,exports){
"use strict";require("./_string-trim")("trimRight",function(t){return function(){return t(this,2)}},"trimEnd");
},{"./_string-trim":268}],455:[function(require,module,exports){
require("./_wks-define")("asyncIterator");
},{"./_wks-define":281}],456:[function(require,module,exports){
require("./_wks-define")("observable");
},{"./_wks-define":281}],457:[function(require,module,exports){
var $export=require("./_export");$export($export.S,"System",{global:require("./_global")});
},{"./_export":198,"./_global":204}],458:[function(require,module,exports){
for(var $iterators=require("./es6.array.iterator"),redefine=require("./_redefine"),global=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),wks=require("./_wks"),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var NAME=collections[i],Collection=global[NAME],proto=Collection&&Collection.prototype,key;if(proto){proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues;for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}}
},{"./_global":204,"./_hide":206,"./_iterators":222,"./_redefine":253,"./_wks":283,"./es6.array.iterator":296}],459:[function(require,module,exports){
var $export=require("./_export"),$task=require("./_task");$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear});
},{"./_export":198,"./_task":270}],460:[function(require,module,exports){
var global=require("./_global"),$export=require("./_export"),invoke=require("./_invoke"),partial=require("./_partial"),navigator=global.navigator,MSIE=!!navigator&&/MSIE .\./.test(navigator.userAgent),wrap=function(e){return MSIE?function(r,t){return e(invoke(partial,[].slice.call(arguments,2),"function"==typeof r?r:Function(r)),t)}:e};$export($export.G+$export.B+$export.F*MSIE,{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)});
},{"./_export":198,"./_global":204,"./_invoke":210,"./_partial":249}],461:[function(require,module,exports){
require("./modules/es6.symbol"),require("./modules/es6.object.create"),require("./modules/es6.object.define-property"),require("./modules/es6.object.define-properties"),require("./modules/es6.object.get-own-property-descriptor"),require("./modules/es6.object.get-prototype-of"),require("./modules/es6.object.keys"),require("./modules/es6.object.get-own-property-names"),require("./modules/es6.object.freeze"),require("./modules/es6.object.seal"),require("./modules/es6.object.prevent-extensions"),require("./modules/es6.object.is-frozen"),require("./modules/es6.object.is-sealed"),require("./modules/es6.object.is-extensible"),require("./modules/es6.object.assign"),require("./modules/es6.object.is"),require("./modules/es6.object.set-prototype-of"),require("./modules/es6.object.to-string"),require("./modules/es6.function.bind"),require("./modules/es6.function.name"),require("./modules/es6.function.has-instance"),require("./modules/es6.parse-int"),require("./modules/es6.parse-float"),require("./modules/es6.number.constructor"),require("./modules/es6.number.to-fixed"),require("./modules/es6.number.to-precision"),require("./modules/es6.number.epsilon"),require("./modules/es6.number.is-finite"),require("./modules/es6.number.is-integer"),require("./modules/es6.number.is-nan"),require("./modules/es6.number.is-safe-integer"),require("./modules/es6.number.max-safe-integer"),require("./modules/es6.number.min-safe-integer"),require("./modules/es6.number.parse-float"),require("./modules/es6.number.parse-int"),require("./modules/es6.math.acosh"),require("./modules/es6.math.asinh"),require("./modules/es6.math.atanh"),require("./modules/es6.math.cbrt"),require("./modules/es6.math.clz32"),require("./modules/es6.math.cosh"),require("./modules/es6.math.expm1"),require("./modules/es6.math.fround"),require("./modules/es6.math.hypot"),require("./modules/es6.math.imul"),require("./modules/es6.math.log10"),require("./modules/es6.math.log1p"),require("./modules/es6.math.log2"),require("./modules/es6.math.sign"),require("./modules/es6.math.sinh"),require("./modules/es6.math.tanh"),require("./modules/es6.math.trunc"),require("./modules/es6.string.from-code-point"),require("./modules/es6.string.raw"),require("./modules/es6.string.trim"),require("./modules/es6.string.iterator"),require("./modules/es6.string.code-point-at"),require("./modules/es6.string.ends-with"),require("./modules/es6.string.includes"),require("./modules/es6.string.repeat"),require("./modules/es6.string.starts-with"),require("./modules/es6.string.anchor"),require("./modules/es6.string.big"),require("./modules/es6.string.blink"),require("./modules/es6.string.bold"),require("./modules/es6.string.fixed"),require("./modules/es6.string.fontcolor"),require("./modules/es6.string.fontsize"),require("./modules/es6.string.italics"),require("./modules/es6.string.link"),require("./modules/es6.string.small"),require("./modules/es6.string.strike"),require("./modules/es6.string.sub"),require("./modules/es6.string.sup"),require("./modules/es6.date.now"),require("./modules/es6.date.to-json"),require("./modules/es6.date.to-iso-string"),require("./modules/es6.date.to-string"),require("./modules/es6.date.to-primitive"),require("./modules/es6.array.is-array"),require("./modules/es6.array.from"),require("./modules/es6.array.of"),require("./modules/es6.array.join"),require("./modules/es6.array.slice"),require("./modules/es6.array.sort"),require("./modules/es6.array.for-each"),require("./modules/es6.array.map"),require("./modules/es6.array.filter"),require("./modules/es6.array.some"),require("./modules/es6.array.every"),require("./modules/es6.array.reduce"),require("./modules/es6.array.reduce-right"),require("./modules/es6.array.index-of"),require("./modules/es6.array.last-index-of"),require("./modules/es6.array.copy-within"),require("./modules/es6.array.fill"),require("./modules/es6.array.find"),require("./modules/es6.array.find-index"),require("./modules/es6.array.species"),require("./modules/es6.array.iterator"),require("./modules/es6.regexp.constructor"),require("./modules/es6.regexp.to-string"),require("./modules/es6.regexp.flags"),require("./modules/es6.regexp.match"),require("./modules/es6.regexp.replace"),require("./modules/es6.regexp.search"),require("./modules/es6.regexp.split"),require("./modules/es6.promise"),require("./modules/es6.map"),require("./modules/es6.set"),require("./modules/es6.weak-map"),require("./modules/es6.weak-set"),require("./modules/es6.typed.array-buffer"),require("./modules/es6.typed.data-view"),require("./modules/es6.typed.int8-array"),require("./modules/es6.typed.uint8-array"),require("./modules/es6.typed.uint8-clamped-array"),require("./modules/es6.typed.int16-array"),require("./modules/es6.typed.uint16-array"),require("./modules/es6.typed.int32-array"),require("./modules/es6.typed.uint32-array"),require("./modules/es6.typed.float32-array"),require("./modules/es6.typed.float64-array"),require("./modules/es6.reflect.apply"),require("./modules/es6.reflect.construct"),require("./modules/es6.reflect.define-property"),require("./modules/es6.reflect.delete-property"),require("./modules/es6.reflect.enumerate"),require("./modules/es6.reflect.get"),require("./modules/es6.reflect.get-own-property-descriptor"),require("./modules/es6.reflect.get-prototype-of"),require("./modules/es6.reflect.has"),require("./modules/es6.reflect.is-extensible"),require("./modules/es6.reflect.own-keys"),require("./modules/es6.reflect.prevent-extensions"),require("./modules/es6.reflect.set"),require("./modules/es6.reflect.set-prototype-of"),require("./modules/es7.array.includes"),require("./modules/es7.string.at"),require("./modules/es7.string.pad-start"),require("./modules/es7.string.pad-end"),require("./modules/es7.string.trim-left"),require("./modules/es7.string.trim-right"),require("./modules/es7.string.match-all"),require("./modules/es7.symbol.async-iterator"),require("./modules/es7.symbol.observable"),require("./modules/es7.object.get-own-property-descriptors"),require("./modules/es7.object.values"),require("./modules/es7.object.entries"),require("./modules/es7.object.define-getter"),require("./modules/es7.object.define-setter"),require("./modules/es7.object.lookup-getter"),require("./modules/es7.object.lookup-setter"),require("./modules/es7.map.to-json"),require("./modules/es7.set.to-json"),require("./modules/es7.system.global"),require("./modules/es7.error.is-error"),require("./modules/es7.math.iaddh"),require("./modules/es7.math.isubh"),require("./modules/es7.math.imulh"),require("./modules/es7.math.umulh"),require("./modules/es7.reflect.define-metadata"),require("./modules/es7.reflect.delete-metadata"),require("./modules/es7.reflect.get-metadata"),require("./modules/es7.reflect.get-metadata-keys"),require("./modules/es7.reflect.get-own-metadata"),require("./modules/es7.reflect.get-own-metadata-keys"),require("./modules/es7.reflect.has-metadata"),require("./modules/es7.reflect.has-own-metadata"),require("./modules/es7.reflect.metadata"),require("./modules/es7.asap"),require("./modules/es7.observable"),require("./modules/web.timers"),require("./modules/web.immediate"),require("./modules/web.dom.iterable"),module.exports=require("./modules/_core");
},{"./modules/_core":189,"./modules/es6.array.copy-within":286,"./modules/es6.array.every":287,"./modules/es6.array.fill":288,"./modules/es6.array.filter":289,"./modules/es6.array.find":291,"./modules/es6.array.find-index":290,"./modules/es6.array.for-each":292,"./modules/es6.array.from":293,"./modules/es6.array.index-of":294,"./modules/es6.array.is-array":295,"./modules/es6.array.iterator":296,"./modules/es6.array.join":297,"./modules/es6.array.last-index-of":298,"./modules/es6.array.map":299,"./modules/es6.array.of":300,"./modules/es6.array.reduce":302,"./modules/es6.array.reduce-right":301,"./modules/es6.array.slice":303,"./modules/es6.array.some":304,"./modules/es6.array.sort":305,"./modules/es6.array.species":306,"./modules/es6.date.now":307,"./modules/es6.date.to-iso-string":308,"./modules/es6.date.to-json":309,"./modules/es6.date.to-primitive":310,"./modules/es6.date.to-string":311,"./modules/es6.function.bind":312,"./modules/es6.function.has-instance":313,"./modules/es6.function.name":314,"./modules/es6.map":315,"./modules/es6.math.acosh":316,"./modules/es6.math.asinh":317,"./modules/es6.math.atanh":318,"./modules/es6.math.cbrt":319,"./modules/es6.math.clz32":320,"./modules/es6.math.cosh":321,"./modules/es6.math.expm1":322,"./modules/es6.math.fround":323,"./modules/es6.math.hypot":324,"./modules/es6.math.imul":325,"./modules/es6.math.log10":326,"./modules/es6.math.log1p":327,"./modules/es6.math.log2":328,"./modules/es6.math.sign":329,"./modules/es6.math.sinh":330,"./modules/es6.math.tanh":331,"./modules/es6.math.trunc":332,"./modules/es6.number.constructor":333,"./modules/es6.number.epsilon":334,"./modules/es6.number.is-finite":335,"./modules/es6.number.is-integer":336,"./modules/es6.number.is-nan":337,"./modules/es6.number.is-safe-integer":338,"./modules/es6.number.max-safe-integer":339,"./modules/es6.number.min-safe-integer":340,"./modules/es6.number.parse-float":341,"./modules/es6.number.parse-int":342,"./modules/es6.number.to-fixed":343,"./modules/es6.number.to-precision":344,"./modules/es6.object.assign":345,"./modules/es6.object.create":346,"./modules/es6.object.define-properties":347,"./modules/es6.object.define-property":348,"./modules/es6.object.freeze":349,"./modules/es6.object.get-own-property-descriptor":350,"./modules/es6.object.get-own-property-names":351,"./modules/es6.object.get-prototype-of":352,"./modules/es6.object.is":356,"./modules/es6.object.is-extensible":353,"./modules/es6.object.is-frozen":354,"./modules/es6.object.is-sealed":355,"./modules/es6.object.keys":357,"./modules/es6.object.prevent-extensions":358,"./modules/es6.object.seal":359,"./modules/es6.object.set-prototype-of":360,"./modules/es6.object.to-string":361,"./modules/es6.parse-float":362,"./modules/es6.parse-int":363,"./modules/es6.promise":364,"./modules/es6.reflect.apply":365,"./modules/es6.reflect.construct":366,"./modules/es6.reflect.define-property":367,"./modules/es6.reflect.delete-property":368,"./modules/es6.reflect.enumerate":369,"./modules/es6.reflect.get":372,"./modules/es6.reflect.get-own-property-descriptor":370,"./modules/es6.reflect.get-prototype-of":371,"./modules/es6.reflect.has":373,"./modules/es6.reflect.is-extensible":374,"./modules/es6.reflect.own-keys":375,"./modules/es6.reflect.prevent-extensions":376,"./modules/es6.reflect.set":378,"./modules/es6.reflect.set-prototype-of":377,"./modules/es6.regexp.constructor":379,"./modules/es6.regexp.flags":380,"./modules/es6.regexp.match":381,"./modules/es6.regexp.replace":382,"./modules/es6.regexp.search":383,"./modules/es6.regexp.split":384,"./modules/es6.regexp.to-string":385,"./modules/es6.set":386,"./modules/es6.string.anchor":387,"./modules/es6.string.big":388,"./modules/es6.string.blink":389,"./modules/es6.string.bold":390,"./modules/es6.string.code-point-at":391,"./modules/es6.string.ends-with":392,"./modules/es6.string.fixed":393,"./modules/es6.string.fontcolor":394,"./modules/es6.string.fontsize":395,"./modules/es6.string.from-code-point":396,"./modules/es6.string.includes":397,"./modules/es6.string.italics":398,"./modules/es6.string.iterator":399,"./modules/es6.string.link":400,"./modules/es6.string.raw":401,"./modules/es6.string.repeat":402,"./modules/es6.string.small":403,"./modules/es6.string.starts-with":404,"./modules/es6.string.strike":405,"./modules/es6.string.sub":406,"./modules/es6.string.sup":407,"./modules/es6.string.trim":408,"./modules/es6.symbol":409,"./modules/es6.typed.array-buffer":410,"./modules/es6.typed.data-view":411,"./modules/es6.typed.float32-array":412,"./modules/es6.typed.float64-array":413,"./modules/es6.typed.int16-array":414,"./modules/es6.typed.int32-array":415,"./modules/es6.typed.int8-array":416,"./modules/es6.typed.uint16-array":417,"./modules/es6.typed.uint32-array":418,"./modules/es6.typed.uint8-array":419,"./modules/es6.typed.uint8-clamped-array":420,"./modules/es6.weak-map":421,"./modules/es6.weak-set":422,"./modules/es7.array.includes":423,"./modules/es7.asap":424,"./modules/es7.error.is-error":425,"./modules/es7.map.to-json":426,"./modules/es7.math.iaddh":427,"./modules/es7.math.imulh":428,"./modules/es7.math.isubh":429,"./modules/es7.math.umulh":430,"./modules/es7.object.define-getter":431,"./modules/es7.object.define-setter":432,"./modules/es7.object.entries":433,"./modules/es7.object.get-own-property-descriptors":434,"./modules/es7.object.lookup-getter":435,"./modules/es7.object.lookup-setter":436,"./modules/es7.object.values":437,"./modules/es7.observable":438,"./modules/es7.reflect.define-metadata":439,"./modules/es7.reflect.delete-metadata":440,"./modules/es7.reflect.get-metadata":442,"./modules/es7.reflect.get-metadata-keys":441,"./modules/es7.reflect.get-own-metadata":444,"./modules/es7.reflect.get-own-metadata-keys":443,"./modules/es7.reflect.has-metadata":445,"./modules/es7.reflect.has-own-metadata":446,"./modules/es7.reflect.metadata":447,"./modules/es7.set.to-json":448,"./modules/es7.string.at":449,"./modules/es7.string.match-all":450,"./modules/es7.string.pad-end":451,"./modules/es7.string.pad-start":452,"./modules/es7.string.trim-left":453,"./modules/es7.string.trim-right":454,"./modules/es7.symbol.async-iterator":455,"./modules/es7.symbol.observable":456,"./modules/es7.system.global":457,"./modules/web.dom.iterable":458,"./modules/web.immediate":459,"./modules/web.timers":460}],462:[function(require,module,exports){
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.d3_collection=n.d3_collection||{})}(this,function(n){"use strict";function t(){}function e(n,e){var r=new t;if(n instanceof t)n.each(function(n,t){r.set(t,n)});else if(Array.isArray(n)){var i,u=-1,o=n.length;if(null==e)for(;++u<o;)r.set(u,n[u]);else for(;++u<o;)r.set(e(i=n[u],u,n),i)}else if(n)for(var s in n)r.set(s,n[s]);return r}function r(){function n(t,i,u,o){if(i>=a.length)return f?f(t):r?t.sort(r):t;for(var s,c,h,v=-1,l=t.length,p=a[i++],y=e(),d=u();++v<l;)(h=y.get(s=p(c=t[v])+""))?h.push(c):y.set(s,[c]);return y.each(function(t,e){o(d,e,n(t,i,u,o))}),d}function t(n,e){if(e>=a.length)return n;var r=[],i=h[e++];return n.each(function(n,i){r.push({key:i,values:t(n,e)})}),i?r.sort(function(n,t){return i(n.key,t.key)}):r}var r,f,c,a=[],h=[];return c={object:function(t){return n(t,0,i,u)},map:function(t){return n(t,0,o,s)},entries:function(e){return t(n(e,0,o,s),0)},key:function(n){return a.push(n),c},sortKeys:function(n){return h[a.length-1]=n,c},sortValues:function(n){return r=n,c},rollup:function(n){return f=n,c}}}function i(){return{}}function u(n,t,e){n[t]=e}function o(){return e()}function s(n,t,e){n.set(t,e)}function f(){}function c(n,t){var e=new f;if(n instanceof f)n.each(function(n){e.add(n)});else if(n){var r=-1,i=n.length;if(null==t)for(;++r<i;)e.add(n[r]);else for(;++r<i;)e.add(t(n[r],r,n))}return e}function a(n){var t=[];for(var e in n)t.push(e);return t}function h(n){var t=[];for(var e in n)t.push(n[e]);return t}function v(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t}var l="$";t.prototype=e.prototype={constructor:t,has:function(n){return l+n in this},get:function(n){return this[l+n]},set:function(n,t){return this[l+n]=t,this},remove:function(n){var t=l+n;return t in this&&delete this[t]},clear:function(){for(var n in this)n[0]===l&&delete this[n]},keys:function(){var n=[];for(var t in this)t[0]===l&&n.push(t.slice(1));return n},values:function(){var n=[];for(var t in this)t[0]===l&&n.push(this[t]);return n},entries:function(){var n=[];for(var t in this)t[0]===l&&n.push({key:t.slice(1),value:this[t]});return n},size:function(){var n=0;for(var t in this)t[0]===l&&++n;return n},empty:function(){for(var n in this)if(n[0]===l)return!1;return!0},each:function(n){for(var t in this)t[0]===l&&n(this[t],t.slice(1),this)}};var p=e.prototype;f.prototype=c.prototype={constructor:f,has:p.has,add:function(n){return n+="",this[l+n]=n,this},remove:p.remove,clear:p.clear,values:p.keys,size:p.size,empty:p.empty,each:p.each};var y="0.1.2";n.version=y,n.nest=r,n.set=c,n.map=e,n.keys=a,n.values=h,n.entries=v});
},{}],463:[function(require,module,exports){
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(n.d3_dispatch=n.d3_dispatch||{})}(this,function(n){"use strict";function e(){for(var n,e=0,r=arguments.length,o={};e<r;++e){if(!(n=arguments[e]+"")||n in o)throw new Error("illegal type: "+n);o[n]=[]}return new t(o)}function t(n){this._=n}function r(n,e){return n.trim().split(/^|\s+/).map(function(n){var t="",r=n.indexOf(".");if(r>=0&&(t=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:t}})}function o(n,e){for(var t,r=0,o=n.length;r<o;++r)if((t=n[r]).name===e)return t.value}function i(n,e,t){for(var r=0,o=n.length;r<o;++r)if(n[r].name===e){n[r]=a,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=t&&n.push({name:e,value:t}),n}var f="0.4.4",a={value:function(){}};t.prototype=e.prototype={constructor:t,on:function(n,e){var t,f=this._,a=r(n+"",f),l=-1,u=a.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++l<u;)if(t=(n=a[l]).type)f[t]=i(f[t],n.name,e);else if(null==e)for(t in f)f[t]=i(f[t],n.name,null);return this}for(;++l<u;)if((t=(n=a[l]).type)&&(t=o(f[t],n.name)))return t}},copy:function(){var n={},e=this._;for(var r in e)n[r]=e[r].slice();return new t(n)},call:function(n,e){if((t=arguments.length-2)>0)for(var t,r,o=new Array(t),i=0;i<t;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(r=this._[n],i=0,t=r.length;i<t;++i)r[i].value.apply(e,o)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],o=0,i=r.length;o<i;++o)r[o].value.apply(e,t)}},n.version=f,n.dispatch=e});
},{}],464:[function(require,module,exports){
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(r.d3_dsv=r.d3_dsv||{})}(this,function(r){"use strict";function n(r){return new Function("d","return {"+r.map(function(r,n){return JSON.stringify(r)+": d["+n+"]"}).join(",")+"}")}function t(r,t){var e=n(r);return function(n,o){return t(e(n),o,r)}}function e(r){var n=Object.create(null),t=[];return r.forEach(function(r){for(var e in r)e in n||t.push(n[e]=e)}),t}function o(r){function o(r,e){var o,a,i=u(r,function(r,u){return o?o(r,u-1):(a=r,void(o=e?t(r,e):n(r)))});return i.columns=a,i}function u(r,n){function t(){if(f>=s)return a;if(o)return o=!1,u;var n,t=f;if(34===r.charCodeAt(t)){for(var e=t;e++<s;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return f=e+2,n=r.charCodeAt(e+1),13===n?(o=!0,10===r.charCodeAt(e+2)&&++f):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;f<s;){var i=1;if(n=r.charCodeAt(f++),10===n)o=!0;else if(13===n)o=!0,10===r.charCodeAt(f)&&(++f,++i);else if(n!==p)continue;return r.slice(t,f-i)}return r.slice(t)}for(var e,o,u={},a={},i=[],s=r.length,f=0,c=0;(e=t())!==a;){for(var v=[];e!==u&&e!==a;)v.push(e),e=t();n&&null==(v=n(v,c++))||i.push(v)}return i}function a(n,t){return null==t&&(t=e(n)),[t.map(f).join(r)].concat(n.map(function(n){return t.map(function(r){return f(n[r])}).join(r)})).join("\n")}function i(r){return r.map(s).join("\n")}function s(n){return n.map(f).join(r)}function f(r){return null==r?"":c.test(r+="")?'"'+r.replace(/\"/g,'""')+'"':r}var c=new RegExp('["'+r+"\n]"),p=r.charCodeAt(0);return{parse:o,parseRows:u,format:a,formatRows:i}}var u="0.3.2",a=o(","),i=a.parse,s=a.parseRows,f=a.format,c=a.formatRows,p=o("\t"),v=p.parse,d=p.parseRows,m=p.format,l=p.formatRows;r.version=u,r.dsvFormat=o,r.csvParse=i,r.csvParseRows=s,r.csvFormat=f,r.csvFormatRows=c,r.tsvParse=v,r.tsvParseRows=d,r.tsvFormat=m,r.tsvFormatRows=l});
},{}],465:[function(require,module,exports){
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("d3-collection"),require("d3-dispatch"),require("d3-dsv")):"function"==typeof define&&define.amd?define(["exports","d3-collection","d3-dispatch","d3-dsv"],n):n(e.d3_request=e.d3_request||{},e.d3_collection,e.d3_dispatch,e.d3_dsv)}(this,function(e,n,t,r){"use strict";function o(e,r){function o(e){var n,t=d.status;if(!t&&s(d)||t>=200&&t<300||304===t){if(c)try{n=c.call(l,d)}catch(e){return void p.call("error",l,e)}else n=d;p.call("load",l,n)}else p.call("error",l,e)}var l,i,c,a,p=t.dispatch("beforesend","progress","load","error"),f=n.map(),d=new XMLHttpRequest,h=null,m=null,v=0;return"undefined"==typeof XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(e)||(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=d.ontimeout=o:d.onreadystatechange=function(e){d.readyState>3&&o(e)},d.onprogress=function(e){p.call("progress",l,e)},l={header:function(e,n){return e=(e+"").toLowerCase(),arguments.length<2?f.get(e):(null==n?f.remove(e):f.set(e,n+""),l)},mimeType:function(e){return arguments.length?(i=null==e?null:e+"",l):i},responseType:function(e){return arguments.length?(a=e,l):a},timeout:function(e){return arguments.length?(v=+e,l):v},user:function(e){return arguments.length<1?h:(h=null==e?null:e+"",l)},password:function(e){return arguments.length<1?m:(m=null==e?null:e+"",l)},response:function(e){return c=e,l},get:function(e,n){return l.send("GET",e,n)},post:function(e,n){return l.send("POST",e,n)},send:function(n,t,r){return r||"function"!=typeof t||(r=t,t=null),r&&1===r.length&&(r=u(r)),d.open(n,e,!0,h,m),null==i||f.has("accept")||f.set("accept",i+",*/*"),d.setRequestHeader&&f.each(function(e,n){d.setRequestHeader(n,e)}),null!=i&&d.overrideMimeType&&d.overrideMimeType(i),null!=a&&(d.responseType=a),v>0&&(d.timeout=v),r&&l.on("error",r).on("load",function(e){r(null,e)}),p.call("beforesend",l,d),d.send(null==t?null:t),l},abort:function(){return d.abort(),l},on:function(){var e=p.on.apply(p,arguments);return e===p?l:e}},r?l.get(r):l}function u(e){return function(n,t){e(null==n?t:null)}}function s(e){var n=e.responseType;return n&&"text"!==n?e.response:e.responseText}function l(e,n){return function(t,r){var u=o(t).mimeType(e).response(n);return r?u.get(r):u}}function i(e,n){return function(t,r,u){arguments.length<3&&(u=r,r=null);var s=o(t).mimeType(e);return s.row=function(e){return arguments.length?s.response(c(n,r=e)):r},s.row(r),u?s.get(u):s}}function c(e,n){return function(t){return e(t.responseText,n)}}var a="0.4.5",p=l("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),f=l("application/json",function(e){return JSON.parse(e.responseText)}),d=l("text/plain",function(e){return e.responseText}),h=l("application/xml",function(e){var n=e.responseXML;if(!n)throw new Error("parse error");return n}),m=i("text/csv",r.csvParse),v=i("text/tab-separated-values",r.tsvParse);e.version=a,e.request=o,e.html=p,e.json=f,e.text=d,e.xml=h,e.csv=m,e.tsv=v});
},{"d3-collection":462,"d3-dispatch":463,"d3-dsv":464}],466:[function(require,module,exports){
!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function r(n){return null===n?NaN:+n}function i(n){return!isNaN(n)}function u(n){return{left:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)<0?r=u+1:i=u}return r},right:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)>0?i=u:r=u+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function l(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function c(){this._=Object.create(null)}function f(n){return(n+="")===Mo||n[0]===xo?xo+n:n}function s(n){return(n+="")[0]===xo?n.slice(1):n}function h(n){return f(n)in this._}function p(n){return(n=f(n))in this._&&delete this._[n]}function g(){var n=[];for(var t in this._)n.push(s(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function y(){this._=Object.create(null)}function m(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=bo.length;e<r;++e){var i=bo[e]+t;if(i in n)return i}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,i=-1,u=r.length;++i<u;)(t=r[i].on)&&t.apply(this,arguments);return n}var e=[],r=new c;return t.on=function(t,i){var u,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,u=e.indexOf(o)).concat(e.slice(u+1)),r.remove(t)),i&&e.push(r.set(t,{on:i})),n)},t}function S(){ao.event.preventDefault()}function k(){for(var n,t=ao.event;n=t.sourceEvent;)t=n;return t}function N(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(i){try{var u=i.sourceEvent=ao.event;i.target=n,ao.event=i,t[i.type].apply(e,r)}finally{ao.event=u}}},t}function E(n){return wo(n,Eo),n}function A(n){return"function"==typeof n?n:function(){return So(n,this)}}function C(n){return"function"==typeof n?n:function(){return ko(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function i(){this.setAttribute(n,t)}function u(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ao.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?u:i}function L(n){return n.trim().replace(/\s+/g," ")}function q(n){return new RegExp("(?:^|\\s+)"+ao.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<i;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<i;)n[e](this,r)}n=T(n).map(D);var i=n.length;return"function"==typeof t?r:e}function D(n){var t=q(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||e.setAttribute("class",L(i+" "+n))):e.setAttribute("class",L(i.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?u:i}function U(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?i:r}function j(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e===Ao&&t.documentElement.namespaceURI===Ao?t.createElement(n):t.createElementNS(e,n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ao.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return No(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;e<r;e++)for(var i,u=n[e],o=0,a=u.length;o<a;o++)(i=u[o])&&t(i,o,e);return n}function Z(n){return wo(n,zo),n}function V(n){var t,e;return function(r,i,u){var o,a=n[u].update,l=a.length;for(u!=e&&(e=u,t=0),i>=t&&(t=i+1);!(o=a[t])&&++t<l;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function i(){var i=l(t,co(arguments));r.call(this),this.addEventListener(n,this[o]=i,i.$=e),i._=t}function u(){var t,e=new RegExp("^__on([^.]+)"+ao.requote(n)+"$");for(var r in this)if(t=r.match(e)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),l=$;a>0&&(n=n.slice(0,a));var c=Lo.get(n);return c&&(n=c,l=B),a?t?i:r:t?b:u}function $(n,t){return function(e){var r=ao.event;ao.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ao.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++To,i="click"+r,u=ao.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==qo&&(qo=!("onselectstart"in e)&&x(e.style,"userSelect")),qo){var o=n(e).style,a=o[qo];o[qo]="none"}return function(n){if(u.on(r,null),qo&&(o[qo]=a),n){var t=function(){u.on(i,null)};u.on(i,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();if(Ro<0){var u=t(n);if(u.scrollX||u.scrollY){r=ao.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Ro=!(o.f||o.e),r.remove()}}return Ro?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ao.event.changedTouches[0].identifier}function K(n){return n>0?1:n<0?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:n<-1?Uo:Math.acos(n)}function tn(n){return n>1?Ho:n<-1?-Ho:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function on(n){return(n=Math.sin(n/2))*n}function an(){}function ln(n,t,e){return this instanceof ln?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof ln?new ln(n.h,n.s,n.l):_n(""+n,wn,ln):new ln(n,t,e)}function cn(n,t,e){function r(n){return n>360?n-=360:n<0&&(n+=360),n<60?u+(o-u)*n/60:n<180?o:n<240?u+(o-u)*(240-n)/60:u}function i(n){return Math.round(255*r(n))}var u,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:t>1?1:t,e=e<0?0:e>1?1:e,o=e<=.5?e*(1+t):e+t-e*t,u=2*e-o,new mn(i(n+120),i(n),i(n-120))}function fn(n,t,e){return this instanceof fn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof fn?new fn(n.h,n.c,n.l):n instanceof hn?gn(n.l,n.a,n.b):gn((n=Sn((n=ao.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new fn(n,t,e)}function sn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Oo)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof fn?sn(n.h,n.c,n.l):Sn((n=mn(n)).r,n.g,n.b):new hn(n,t,e)}function pn(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return i=vn(i)*Ko,r=vn(r)*Qo,u=vn(u)*na,new mn(yn(3.2404542*i-1.5371385*r-.4985314*u),yn(-.969266*i+1.8760108*r+.041556*u),yn(.0556434*i-.2040259*r+1.0572252*u))}function gn(n,t,e){return n>0?new fn(Math.atan2(e,t)*Io,Math.sqrt(t*t+e*e),n):new fn(NaN,NaN,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function yn(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mn(n,t,e){return this instanceof mn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mn?new mn(n.r,n.g,n.b):_n(""+n,mn,cn):new mn(n,t,e)}function Mn(n){return new mn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r,i,u,o=0,a=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Nn(i[0]),Nn(i[1]),Nn(i[2]))}return(u=ra.get(n))?t(u.r,u.g,u.b):(null==n||"#"!==n.charAt(0)||isNaN(u=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&u)>>4,o=o>>4|o,a=240&u,a=a>>4|a,l=15&u,l=l<<4|l):7===n.length&&(o=(16711680&u)>>16,a=(65280&u)>>8,l=255&u)),t(o,a,l))}function wn(n,t,e){var r,i,u=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-u,l=(o+u)/2;return a?(i=l<.5?a/(o+u):a/(2-o-u),r=n==o?(t-e)/a+(t<e?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new ln(r,i,l)}function Sn(n,t,e){n=kn(n),t=kn(t),e=kn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/Ko),i=dn((.2126729*n+.7151522*t+.072175*e)/Qo),u=dn((.0193339*n+.119192*t+.9503041*e)/na);return hn(116*i-16,500*(r-i),200*(i-u))}function kn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Nn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function En(n){return"function"==typeof n?n:function(){return n}}function An(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function i(){var n,t=l.status;if(!t&&Ln(l)||t>=200&&t<300||304===t){try{n=e.call(u,l)}catch(n){return void o.error.call(u,n)}o.load.call(u,n)}else o.error.call(u,l)}var u={},o=ao.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(n)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(n){var t=ao.event;ao.event=n;try{o.progress.call(u,l)}finally{ao.event=t}},u.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",u)},u.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",u):t},u.responseType=function(n){return arguments.length?(c=n,u):c},u.response=function(n){return e=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(co(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),l.setRequestHeader)for(var f in a)l.setRequestHeader(f,a[f]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=i&&u.on("error",i).on("load",function(n){i(null,n)}),o.beforesend.call(u,l),l.send(null==r?null:r),u},u.abort=function(){return l.abort(),u},ao.rebind(u,o,"on"),null==r?u:u.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Ln(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qn(n,t,e){var r=arguments.length;r<2&&(t=0),r<3&&(e=Date.now());var i=e+t,u={c:n,t:i,n:null};return ua?ua.n=u:ia=u,ua=u,oa||(aa=clearTimeout(aa),oa=1,la(Tn)),u}function Tn(){var n=Rn(),t=Dn()-n;t>24?(isFinite(t)&&(clearTimeout(aa),aa=setTimeout(Tn,t)),oa=0):(oa=1,la(Tn))}function Rn(){for(var n=Date.now(),t=ia;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function Dn(){for(var n,t=ia,e=1/0;t;)t.c?(t.t<e&&(e=t.t),t=(n=t).n):t=n?n.n=t.n:ia=t.n;return ua=n,e}function Pn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function Un(n,t){var e=Math.pow(10,3*mo(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function jn(n){var t=n.decimal,e=n.thousands,r=n.grouping,i=n.currency,u=r&&e?function(n,t){for(var i=n.length,u=[],o=0,a=r[0],l=0;i>0&&a>0&&(l+a+1>t&&(a=Math.max(1,t-l)),u.push(n.substring(i-=a,i+a)),!((l+=a+1)>t));)a=r[o=(o+1)%r.length];return u.reverse().join(e)}:m;return function(n){var e=fa.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",l=e[4]||"",c=e[5],f=+e[6],s=e[7],h=e[8],p=e[9],g=1,v="",d="",y=!1,m=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),p){case"n":s=!0,p="g";break;case"%":g=100,d="%",p="f";break;case"p":g=100,d="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+p.toLowerCase());case"c":m=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===l&&(v=i[0],d=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=sa.get(p)||Fn;var M=c&&s;return function(n){var e=d;if(y&&n%1)return"";var i=n<0||0===n&&1/n<0?(n=-n,"-"):"-"===a?"":a;if(g<0){var l=ao.formatPrefix(n,h);n=l.scale(n),e=l.symbol+d}else n*=g;n=p(n,h);var x,b,_=n.lastIndexOf(".");if(_<0){var w=m?n.lastIndexOf("e"):-1;w<0?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!c&&s&&(x=u(x,1/0));var S=v.length+x.length+b.length+(M?0:i.length),k=S<f?new Array(S=f-S+1).join(r):"";return M&&(x=u(k+x,k.length?f-b.length:1/0)),i+=v,n=x+b,("<"===o?i+n+k:">"===o?k+i+n:"^"===o?k.substring(0,S>>=1)+i+n+k.substring(S):i+(M?n:k+n))+e}}}function Fn(n){return n+""}function Hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function On(n,t,e){function r(t){var e=n(t),r=u(e,1);return t-e<r-t?e:r}function i(e){return t(e=n(new pa(e-1)),1),e}function u(n,e){return t(n=new pa(+n),e),n}function o(n,r,u){var o=i(n),a=[];if(u>1)for(;o<r;)e(o)%u||a.push(new Date(+o)),t(o,1);else for(;o<r;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{pa=Hn;var r=new Hn;return r._=n,o(r,t,e)}finally{pa=Date}}n.floor=n,n.round=r,n.ceil=i,n.offset=u,n.range=o;var l=n.utc=In(n);return l.floor=l,l.round=In(r),l.ceil=In(i),l.offset=In(u),l.range=a,n}function In(n){return function(t,e){try{pa=Hn;var r=new Hn;return r._=t,n(r,e)._}finally{pa=Date}}}function Yn(n){function t(n){function t(t){for(var e,i,u,o=[],a=-1,l=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(l,a)),null!=(i=va[e=n.charAt(++a)])&&(e=n.charAt(++a)),(u=A[e])&&(e=u(t,null==i?"e"===e?" ":"0":i)),o.push(e),l=a+1);return o.push(n.slice(l,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=e(r,n,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var u=null!=r.Z&&pa!==Hn,o=new(u?Hn:pa);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),u?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var i,u,o,a=0,l=t.length,c=e.length;a<l;){if(r>=c)return-1;if(i=t.charCodeAt(a++),37===i){if(o=t.charAt(a++),u=C[o in va?t.charAt(a++):o],!u||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){N.lastIndex=0;var r=N.exec(t.slice(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,A.c.toString(),t,r)}function l(n,t,r){return e(n,A.x.toString(),t,r)}function c(n,t,r){return e(n,A.X.toString(),t,r)}function f(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var s=n.dateTime,h=n.date,p=n.time,g=n.periods,v=n.days,d=n.shortDays,y=n.months,m=n.shortMonths;t.utc=function(n){function e(n){try{pa=Hn;var t=new pa;return t._=n,r(t)}finally{pa=Date}}var r=t(n);return e.parse=function(n){try{pa=Hn;var t=r.parse(n);return t&&t._}finally{pa=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=ao.map(),x=Vn(v),b=Xn(v),_=Vn(d),w=Xn(d),S=Vn(y),k=Xn(y),N=Vn(m),E=Xn(m);g.forEach(function(n,t){M.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return m[n.getMonth()]},B:function(n){return y[n.getMonth()]},c:t(s),d:function(n,t){return Zn(n.getDate(),t,2)},e:function(n,t){return Zn(n.getDate(),t,2)},H:function(n,t){return Zn(n.getHours(),t,2)},I:function(n,t){return Zn(n.getHours()%12||12,t,2)},j:function(n,t){return Zn(1+ha.dayOfYear(n),t,3)},L:function(n,t){return Zn(n.getMilliseconds(),t,3)},m:function(n,t){return Zn(n.getMonth()+1,t,2)},M:function(n,t){return Zn(n.getMinutes(),t,2)},p:function(n){return g[+(n.getHours()>=12)]},S:function(n,t){return Zn(n.getSeconds(),t,2)},U:function(n,t){return Zn(ha.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Zn(ha.mondayOfYear(n),t,2)},x:t(h),X:t(p),y:function(n,t){return Zn(n.getFullYear()%100,t,2)},Y:function(n,t){return Zn(n.getFullYear()%1e4,t,4)},Z:at,"%":function(){return"%"}},C={a:r,A:i,b:u,B:o,c:a,d:tt,e:tt,H:rt,I:rt,j:et,L:ot,m:nt,M:it,p:f,S:ut,U:Bn,w:$n,W:Wn,x:l,X:c,y:Gn,Y:Jn,Z:Kn,"%":lt};return t}function Zn(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(t)+i:i)}function Vn(n){return new RegExp("^(?:"+n.map(ao.requote).join("|")+")","i")}function Xn(n){for(var t=new c,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function $n(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Bn(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Wn(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Jn(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Gn(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+2));return r?(n.y=Qn(+r[0]),e+r[0].length):-1}function Kn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Qn(n){return n+(n>68?1900:2e3)}function nt(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function tt(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function et(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function rt(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function it(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function ut(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ot(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function at(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=mo(t)/60|0,i=mo(t)%60;return e+Zn(r,"0",2)+Zn(i,"0",2)}function lt(n,t,e){ya.lastIndex=0;var r=ya.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ft(){}function st(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}function ht(n,t){n&&ba.hasOwnProperty(n.type)&&ba[n.type](n,t)}function pt(n,t,e){var r,i=-1,u=n.length-e;for(t.lineStart();++i<u;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function gt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)pt(n[e],t,1);t.polygonEnd()}function vt(){function n(n,t){n*=Oo,t=t*Oo/2+Uo/4;var e=n-r,o=e>=0?1:-1,a=o*e,l=Math.cos(t),c=Math.sin(t),f=u*c,s=i*l+f*Math.cos(a),h=f*o*Math.sin(a);wa.add(Math.atan2(h,s)),r=n,i=l,u=c}var t,e,r,i,u;Sa.point=function(o,a){Sa.point=n,r=(t=o)*Oo,i=Math.cos(a=(e=a)*Oo/2+Uo/4),u=Math.sin(a)},Sa.lineEnd=function(){n(t,e)}}function dt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function yt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function mt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _t(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function wt(n,t){return mo(n[0]-t[0])<Do&&mo(n[1]-t[1])<Do}function St(n,t){n*=Oo;var e=Math.cos(t*=Oo);kt(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function kt(n,t,e){++ka,Ea+=(n-Ea)/ka,Aa+=(t-Aa)/ka,Ca+=(e-Ca)/ka}function Nt(){function n(n,i){n*=Oo;var u=Math.cos(i*=Oo),o=u*Math.cos(n),a=u*Math.sin(n),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-r*a)*c+(c=r*o-t*l)*c+(c=t*a-e*o)*c),t*o+e*a+r*l);Na+=c,za+=c*(t+(t=o)),La+=c*(e+(e=a)),qa+=c*(r+(r=l)),kt(t,e,r)}var t,e,r;Pa.point=function(i,u){i*=Oo;var o=Math.cos(u*=Oo);t=o*Math.cos(i),e=o*Math.sin(i),r=Math.sin(u),Pa.point=n,kt(t,e,r)}}function Et(){Pa.point=St}function At(){function n(n,t){n*=Oo;var e=Math.cos(t*=Oo),o=e*Math.cos(n),a=e*Math.sin(n),l=Math.sin(t),c=i*l-u*a,f=u*o-r*l,s=r*a-i*o,h=Math.sqrt(c*c+f*f+s*s),p=r*o+i*a+u*l,g=h&&-nn(p)/h,v=Math.atan2(h,p);Ta+=g*c,Ra+=g*f,Da+=g*s,Na+=v,za+=v*(r+(r=o)),La+=v*(i+(i=a)),qa+=v*(u+(u=l)),kt(r,i,u)}var t,e,r,i,u;Pa.point=function(o,a){t=o,e=a,Pa.point=n,o*=Oo;var l=Math.cos(a*=Oo);r=l*Math.cos(o),i=l*Math.sin(o),u=Math.sin(a),kt(r,i,u)},Pa.lineEnd=function(){n(t,e),Pa.lineEnd=Et,Pa.point=St}}function Ct(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function zt(){return!0}function Lt(n,t,e,r,i){var u=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(wt(e,r)){i.lineStart();for(var a=0;a<t;++a)i.point((e=n[a])[0],e[1]);return void i.lineEnd()}var l=new Tt(e,n,null,!0),c=new Tt(e,null,l,!1);l.o=c,u.push(l),o.push(c),l=new Tt(r,n,null,!1),c=new Tt(r,null,l,!0),l.o=c,u.push(l),o.push(c)}}),o.sort(t),qt(u),qt(o),u.length){for(var a=0,l=e,c=o.length;a<c;++a)o[a].e=l=!l;for(var f,s,h=u[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(var a=0,c=f.length;a<c;++a)i.point((s=f[a])[0],s[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g){f=p.p.z;for(var a=f.length-1;a>=0;--a)i.point((s=f[a])[0],s[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,g=!g}while(!p.v);i.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Tt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rt(n,t,e,r){return function(i,u){function o(t,e){var r=i(t,e);n(t=r[0],e=r[1])&&u.point(t,e)}function a(n,t){var e=i(n,t);d.point(e[0],e[1])}function l(){m.point=a,d.lineStart()}function c(){m.point=o,d.lineEnd()}function f(n,t){v.push([n,t]);var e=i(n,t);x.point(e[0],e[1])}function s(){x.lineStart(),v=[]}function h(){f(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),g.push(v),v=null,r)if(1&t){n=e[0];var i,r=n.length-1,o=-1;if(r>0){for(b||(u.polygonStart(),b=!0),u.lineStart();++o<r;)u.point((i=n[o])[0],i[1]);u.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),p.push(e.filter(Dt))}var p,g,v,d=t(u),y=i.invert(r[0],r[1]),m={point:o,lineStart:l,lineEnd:c,polygonStart:function(){m.point=f,m.lineStart=s,m.lineEnd=h,p=[],g=[]},polygonEnd:function(){m.point=o,m.lineStart=l,m.lineEnd=c,p=ao.merge(p);var n=Ot(y,g);p.length?(b||(u.polygonStart(),b=!0),Lt(p,Ut,n,e,u)):n&&(b||(u.polygonStart(),b=!0),u.lineStart(),e(null,null,1,u),u.lineEnd()),b&&(u.polygonEnd(),b=!1),p=g=null},sphere:function(){u.polygonStart(),u.lineStart(),e(null,null,1,u),u.lineEnd(),u.polygonEnd()}},M=Pt(),x=t(M),b=!1;return m}}function Dt(n){return n.length>1}function Pt(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Ut(n,t){return((n=n.x)[0]<0?n[1]-Ho-Do:Ho-n[1])-((t=t.x)[0]<0?t[1]-Ho-Do:Ho-t[1])}function jt(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(u,o){var a=u>0?Uo:-Uo,l=mo(u-e);mo(l-Uo)<Do?(n.point(e,r=(r+o)/2>0?Ho:-Ho),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(u,r),t=0):i!==a&&l>=Uo&&(mo(e-i)<Do&&(e-=i*Do),mo(u-a)<Do&&(u-=a*Do),r=Ft(e,r,u,o),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=u,r=o),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function Ft(n,t,e,r){var i,u,o=Math.sin(n-e);return mo(o)>Do?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*o)):(t+r)/2}function Ht(n,t,e,r){var i;if(null==n)i=e*Ho,r.point(-Uo,i),r.point(0,i),r.point(Uo,i),r.point(Uo,0),r.point(Uo,-i),r.point(0,-i),r.point(-Uo,-i),r.point(-Uo,0),r.point(-Uo,i);else if(mo(n[0]-t[0])>Do){var u=n[0]<t[0]?Uo:-Uo;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])}function Ot(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;wa.reset();for(var a=0,l=t.length;a<l;++a){var c=t[a],f=c.length;if(f)for(var s=c[0],h=s[0],p=s[1]/2+Uo/4,g=Math.sin(p),v=Math.cos(p),d=1;;){d===f&&(d=0),n=c[d];var y=n[0],m=n[1]/2+Uo/4,M=Math.sin(m),x=Math.cos(m),b=y-h,_=b>=0?1:-1,w=_*b,S=w>Uo,k=g*M;if(wa.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),u+=S?b+_*jo:b,S^h>=e^y>=e){var N=mt(dt(s),dt(n));bt(N);var E=mt(i,N);bt(E);var A=(S^b>=0?-1:1)*tn(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=y,g=M,v=x,s=n}}return(u<-Do||u<Do&&wa<0)^1&o}function It(n){function t(n,t){return Math.cos(n)*Math.cos(t)>u}function e(n){var e,u,l,c,f;return{lineStart:function(){c=l=!1,f=1},point:function(s,h){var p,g=[s,h],v=t(s,h),d=o?v?0:i(s,h):v?i(s+(s<0?Uo:-Uo),h):0;if(!e&&(c=l=v)&&n.lineStart(),v!==l&&(p=r(e,g),(wt(e,p)||wt(g,p))&&(g[0]+=Do,g[1]+=Do,v=t(g[0],g[1]))),v!==l)f=0,v?(n.lineStart(),p=r(g,e),n.point(p[0],p[1])):(p=r(e,g),n.point(p[0],p[1]),n.lineEnd()),e=p;else if(a&&e&&o^v){var y;d&u||!(y=r(g,e,!0))||(f=0,o?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!v||e&&wt(e,g)||n.point(g[0],g[1]),e=g,l=v,u=d},lineEnd:function(){l&&n.lineEnd(),e=null},clean:function(){return f|(c&&l)<<1}}}function r(n,t,e){var r=dt(n),i=dt(t),o=[1,0,0],a=mt(r,i),l=yt(a,a),c=a[0],f=l-c*c;if(!f)return!e&&n;var s=u*l/f,h=-u*c/f,p=mt(o,a),g=xt(o,s),v=xt(a,h);Mt(g,v);var d=p,y=yt(g,d),m=yt(d,d),M=y*y-m*(yt(g,g)-1);if(!(M<0)){var x=Math.sqrt(M),b=xt(d,(-y-x)/m);if(Mt(b,g),b=_t(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],N=t[1];S<w&&(_=w,w=S,S=_);var E=S-w,A=mo(E-Uo)<Do,C=A||E<Do;if(!A&&N<k&&(_=k,k=N,N=_),C?A?k+N>0^b[1]<(mo(b[0]-w)<Do?k:N):k<=b[1]&&b[1]<=N:E>Uo^(w<=b[0]&&b[0]<=S)){var z=xt(d,(-y+x)/m);return Mt(z,g),[b,_t(z)]}}}function i(t,e){var r=o?n:Uo-n,i=0;return t<-r?i|=1:t>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var u=Math.cos(n),o=u>0,a=mo(u)>Do,l=ve(n,6*Oo);return Rt(t,e,l,o?[0,-n]:[-Uo,n-Uo])}function Yt(n,t,e,r){return function(i){var u,o=i.a,a=i.b,l=o.x,c=o.y,f=a.x,s=a.y,h=0,p=1,g=f-l,v=s-c;if(u=n-l,g||!(u>0)){if(u/=g,g<0){if(u<h)return;u<p&&(p=u)}else if(g>0){if(u>p)return;u>h&&(h=u)}if(u=e-l,g||!(u<0)){if(u/=g,g<0){if(u>p)return;u>h&&(h=u)}else if(g>0){if(u<h)return;u<p&&(p=u)}if(u=t-c,v||!(u>0)){if(u/=v,v<0){if(u<h)return;u<p&&(p=u)}else if(v>0){if(u>p)return;u>h&&(h=u)}if(u=r-c,v||!(u<0)){if(u/=v,v<0){if(u>p)return;u>h&&(h=u)}else if(v>0){if(u<h)return;u<p&&(p=u)}return h>0&&(i.a={x:l+h*g,y:c+h*v}),p<1&&(i.b={x:l+p*g,y:c+p*v}),i}}}}}}function Zt(n,t,e,r){function i(r,i){return mo(r[0]-n)<Do?i>0?0:3:mo(r[0]-e)<Do?i>0?2:1:mo(r[1]-t)<Do?i>0?1:0:i>0?3:2}function u(n,t){return o(n.x,t.x)}function o(n,t){var e=i(n,1),r=i(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function l(n){for(var t=0,e=d.length,r=n[1],i=0;i<e;++i)for(var u,o=1,a=d[i],l=a.length,c=a[0];o<l;++o)u=a[o],c[1]<=r?u[1]>r&&Q(c,u,n)>0&&++t:u[1]<=r&&Q(c,u,n)<0&&--t,c=u;return 0!==t}function c(u,a,l,c){var f=0,s=0;if(null==u||(f=i(u,l))!==(s=i(a,l))||o(u,a)<0^l>0){do c.point(0===f||3===f?n:e,f>1?r:t);while((f=(f+l+4)%4)!==s)}else c.point(a[0],a[1])}function f(i,u){return n<=i&&i<=e&&t<=u&&u<=r}function s(n,t){f(n,t)&&a.point(n,t)}function h(){C.point=g,d&&d.push(y=[]),S=!0,w=!1,b=_=NaN}function p(){v&&(g(m,M),x&&w&&E.rejoin(),v.push(E.buffer())),C.point=s,w&&a.lineEnd()}function g(n,t){n=Math.max(-ja,Math.min(ja,n)),t=Math.max(-ja,Math.min(ja,t));var e=f(n,t);if(d&&y.push([n,t]),S)m=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};A(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,y,m,M,x,b,_,w,S,k,N=a,E=Pt(),A=Yt(n,t,e,r),C={point:s,lineStart:h,lineEnd:p,polygonStart:function(){a=E,v=[],d=[],k=!0},polygonEnd:function(){a=N,v=ao.merge(v);var t=l([n,r]),e=k&&t,i=v.length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),i&&Lt(v,u,t,c,a),a.polygonEnd()),v=d=y=null}};return C}}function Vt(n){var t=0,e=Uo/3,r=ae(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*Uo/180,e=n[1]*Uo/180):[t/Uo*180,e/Uo*180]},i}function Xt(n,t){function e(n,t){var e=Math.sqrt(u-2*i*Math.sin(t))/i;return[e*Math.sin(n*=i),o-e*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),o=Math.sqrt(u)/i;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/i,tn((u-(n*n+e*e)*i*i)/(2*i))]},e}function $t(){function n(n,t){Ha+=i*n-r*t,r=n,i=t}var t,e,r,i;Va.point=function(u,o){Va.point=n,t=r=u,e=i=o},Va.lineEnd=function(){n(t,e)}}function Bt(n,t){n<Oa&&(Oa=n),n>Ya&&(Ya=n),t<Ia&&(Ia=t),t>Za&&(Za=t)}function Wt(){function n(n,t){o.push("M",n,",",t,u)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function i(){o.push("Z")}var u=Jt(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return u=Jt(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Jt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Gt(n,t){Ea+=n,Aa+=t,++Ca}function Kt(){function n(n,r){var i=n-t,u=r-e,o=Math.sqrt(i*i+u*u);za+=o*(t+n)/2,La+=o*(e+r)/2,qa+=o,Gt(t=n,e=r)}var t,e;$a.point=function(r,i){$a.point=n,Gt(t=r,e=i)}}function Qt(){$a.point=Gt}function ne(){function n(n,t){var e=n-r,u=t-i,o=Math.sqrt(e*e+u*u);za+=o*(r+n)/2,La+=o*(i+t)/2,qa+=o,o=i*n-r*t,Ta+=o*(r+n),Ra+=o*(i+t),Da+=3*o,Gt(r=n,i=t)}var t,e,r,i;$a.point=function(u,o){$a.point=n,Gt(t=r=u,e=i=o)},$a.lineEnd=function(){n(t,e)}}function te(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,jo)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function i(){a.point=t}function u(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function ee(n){function t(n){return(a?r:e)(n)}function e(t){return ue(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=NaN,S.point=u,t.lineStart()}function u(e,r){var u=dt([e,r]),o=n(e,r);i(M,x,m,b,_,w,M=o[0],x=o[1],m=e,b=u[0],_=u[1],w=u[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function l(){
r(),S.point=c,S.lineEnd=f}function c(n,t){u(s=n,h=t),p=M,g=x,v=b,d=_,y=w,S.point=u}function f(){i(M,x,m,b,_,w,p,g,s,v,d,y,a,t),S.lineEnd=o,o()}var s,h,p,g,v,d,y,m,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=l},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function i(t,e,r,a,l,c,f,s,h,p,g,v,d,y){var m=f-t,M=s-e,x=m*m+M*M;if(x>4*u&&d--){var b=a+p,_=l+g,w=c+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),N=mo(mo(w)-1)<Do||mo(r-h)<Do?(r+h)/2:Math.atan2(_,b),E=n(N,k),A=E[0],C=E[1],z=A-t,L=C-e,q=M*z-m*L;(q*q/x>u||mo((m*z+M*L)/x-.5)>.3||a*p+l*g+c*v<o)&&(i(t,e,r,a,l,c,A,C,N,b/=S,_/=S,w,d,y),y.point(A,C),i(A,C,N,b,_,w,f,s,h,p,g,v,d,y))}}var u=.5,o=Math.cos(30*Oo),a=16;return t.precision=function(n){return arguments.length?(a=(u=n*n)>0&&16,t):Math.sqrt(u)},t}function re(n){var t=ee(function(t,e){return n([t*Io,e*Io])});return function(n){return le(t(n))}}function ie(n){this.stream=n}function ue(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function oe(n){return ae(function(){return n})()}function ae(n){function t(n){return n=a(n[0]*Oo,n[1]*Oo),[n[0]*h+l,c-n[1]*h]}function e(n){return n=a.invert((n[0]-l)/h,(c-n[1])/h),n&&[n[0]*Io,n[1]*Io]}function r(){a=Ct(o=se(y,M,x),u);var n=u(v,d);return l=p-n[0]*h,c=g+n[1]*h,i()}function i(){return f&&(f.valid=!1,f=null),t}var u,o,a,l,c,f,s=ee(function(n,t){return n=u(n,t),[n[0]*h+l,c-n[1]*h]}),h=150,p=480,g=250,v=0,d=0,y=0,M=0,x=0,b=Ua,_=m,w=null,S=null;return t.stream=function(n){return f&&(f.valid=!1),f=le(b(o,s(_(n)))),f.valid=!0,f},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Ua):It((w=+n)*Oo),i()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Zt(n[0][0],n[0][1],n[1][0],n[1][1]):m,i()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(p=+n[0],g=+n[1],r()):[p,g]},t.center=function(n){return arguments.length?(v=n[0]%360*Oo,d=n[1]%360*Oo,r()):[v*Io,d*Io]},t.rotate=function(n){return arguments.length?(y=n[0]%360*Oo,M=n[1]%360*Oo,x=n.length>2?n[2]%360*Oo:0,r()):[y*Io,M*Io,x*Io]},ao.rebind(t,s,"precision"),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,r()}}function le(n){return ue(n,function(t,e){n.point(t*Oo,e*Oo)})}function ce(n,t){return[n,t]}function fe(n,t){return[n>Uo?n-jo:n<-Uo?n+jo:n,t]}function se(n,t,e){return n?t||e?Ct(pe(n),ge(t,e)):pe(n):t||e?ge(t,e):fe}function he(n){return function(t,e){return t+=n,[t>Uo?t-jo:t<-Uo?t+jo:t,e]}}function pe(n){var t=he(n);return t.invert=he(-n),t}function ge(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),f=c*r+a*i;return[Math.atan2(l*u-f*o,a*r-c*i),tn(f*u+l*o)]}var r=Math.cos(n),i=Math.sin(n),u=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),f=c*u-l*o;return[Math.atan2(l*u+c*o,a*r+f*i),tn(f*r-a*i)]},e}function ve(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,o,a){var l=o*t;null!=i?(i=de(e,i),u=de(e,u),(o>0?i<u:i>u)&&(i+=o*jo)):(i=n+o*jo,u=n-.5*l);for(var c,f=i;o>0?f>u:f<u;f-=l)a.point((c=_t([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function de(n,t){var e=dt(t);e[0]-=n,bt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Do)%(2*Math.PI)}function ye(n,t,e){var r=ao.range(n,t-Do,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function me(n,t,e){var r=ao.range(n,t-Do,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function Me(n){return n.source}function xe(n){return n.target}function be(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),o=Math.cos(r),a=Math.sin(r),l=i*Math.cos(n),c=i*Math.sin(n),f=o*Math.cos(e),s=o*Math.sin(e),h=2*Math.asin(Math.sqrt(on(r-t)+i*o*on(e-n))),p=1/Math.sin(h),g=h?function(n){var t=Math.sin(n*=h)*p,e=Math.sin(h-n)*p,r=e*l+t*f,i=e*c+t*s,o=e*u+t*a;return[Math.atan2(i,r)*Io,Math.atan2(o,Math.sqrt(r*r+i*i))*Io]}:function(){return[n*Io,t*Io]};return g.distance=h,g}function _e(){function n(n,i){var u=Math.sin(i*=Oo),o=Math.cos(i),a=mo((n*=Oo)-t),l=Math.cos(a);Ba+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*u-e*o*l)*a),e*u+r*o*l),t=n,e=u,r=o}var t,e,r;Wa.point=function(i,u){t=i*Oo,e=Math.sin(u*=Oo),r=Math.cos(u),Wa.point=n},Wa.lineEnd=function(){Wa.point=Wa.lineEnd=b}}function we(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(n*u,r*o),Math.asin(r&&e*u/r)]},e}function Se(n,t){function e(n,t){o>0?t<-Ho+Do&&(t=-Ho+Do):t>Ho-Do&&(t=Ho-Do);var e=o/Math.pow(i(t),u);return[e*Math.sin(u*n),o-e*Math.cos(u*n)]}var r=Math.cos(n),i=function(n){return Math.tan(Uo/4+n/2)},u=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(i(t)/i(n)),o=r*Math.pow(i(n),u)/u;return u?(e.invert=function(n,t){var e=o-t,r=K(u)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/u,2*Math.atan(Math.pow(o/r,1/u))-Ho]},e):Ne}function ke(n,t){function e(n,t){var e=u-t;return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}var r=Math.cos(n),i=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),u=r/i+n;return mo(i)<Do?ce:(e.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/i,u-K(i)*Math.sqrt(n*n+e*e)]},e)}function Ne(n,t){return[n,Math.log(Math.tan(Uo/4+t/2))]}function Ee(n){var t,e=oe(n),r=e.scale,i=e.translate,u=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=i.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=u.apply(e,arguments);if(o===e){if(t=null==n){var a=Uo*r(),l=i();u([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Ae(n,t){return[Math.log(Math.tan(Uo/4+t/2)),-n]}function Ce(n){return n[0]}function ze(n){return n[1]}function Le(n){for(var t=n.length,e=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Te(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Re(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,l=n[1],c=e[1],f=t[1]-l,s=r[1]-c,h=(a*(l-c)-s*(i-u))/(s*o-a*f);return[i+h*o,l+h*f]}function De(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Pe(){rr(this),this.edge=this.site=this.circle=null}function Ue(n){var t=al.pop()||new Pe;return t.site=n,t}function je(n){Be(n),il.remove(n),al.push(n),rr(n)}function Fe(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];je(n);for(var l=u;l.circle&&mo(e-l.circle.x)<Do&&mo(r-l.circle.cy)<Do;)u=l.P,a.unshift(l),je(l),l=u;a.unshift(l),Be(l);for(var c=o;c.circle&&mo(e-c.circle.x)<Do&&mo(r-c.circle.cy)<Do;)o=c.N,a.push(c),je(c),c=o;a.push(c),Be(c);var f,s=a.length;for(f=1;f<s;++f)c=a[f],l=a[f-1],nr(c.edge,l.site,c.site,i);l=a[0],c=a[s-1],c.edge=Ke(l.site,c.site,null,i),$e(l),$e(c)}function He(n){for(var t,e,r,i,u=n.x,o=n.y,a=il._;a;)if(r=Oe(a,o)-u,r>Do)a=a.L;else{if(i=u-Ie(a,o),!(i>Do)){r>-Do?(t=a.P,e=a):i>-Do?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var l=Ue(n);if(il.insert(t,l),t||e){if(t===e)return Be(t),e=Ue(t.site),il.insert(l,e),l.edge=e.edge=Ke(t.site,l.site),$e(t),void $e(e);if(!e)return void(l.edge=Ke(t.site,l.site));Be(t),Be(e);var c=t.site,f=c.x,s=c.y,h=n.x-f,p=n.y-s,g=e.site,v=g.x-f,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,M=v*v+d*d,x={x:(d*m-p*M)/y+f,y:(h*M-v*m)/y+s};nr(e.edge,c,g,x),l.edge=Ke(c,n,null,x),e.edge=Ke(n,g,null,x),$e(t),$e(e)}}function Oe(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-(1/0);e=o.site;var a=e.x,l=e.y,c=l-t;if(!c)return a;var f=a-r,s=1/u-1/c,h=f/c;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*c)-l+c/2+i-u/2)))/s+r:(r+a)/2}function Ie(n,t){var e=n.N;if(e)return Oe(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ye(n){this.site=n,this.edges=[]}function Ze(n){for(var t,e,r,i,u,o,a,l,c,f,s=n[0][0],h=n[1][0],p=n[0][1],g=n[1][1],v=rl,d=v.length;d--;)if(u=v[d],u&&u.prepare())for(a=u.edges,l=a.length,o=0;o<l;)f=a[o].end(),r=f.x,i=f.y,c=a[++o%l].start(),t=c.x,e=c.y,(mo(r-t)>Do||mo(i-e)>Do)&&(a.splice(o,0,new tr(Qe(u.site,f,mo(r-s)<Do&&g-i>Do?{x:s,y:mo(t-s)<Do?e:g}:mo(i-g)<Do&&h-r>Do?{x:mo(e-g)<Do?t:h,y:g}:mo(r-h)<Do&&i-p>Do?{x:h,y:mo(t-h)<Do?e:p}:mo(i-p)<Do&&r-s>Do?{x:mo(e-p)<Do?t:s,y:p}:null),u.site,null)),++l)}function Ve(n,t){return t.angle-n.angle}function Xe(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $e(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,u=e.site;if(r!==u){var o=i.x,a=i.y,l=r.x-o,c=r.y-a,f=u.x-o,s=u.y-a,h=2*(l*s-c*f);if(!(h>=-Po)){var p=l*l+c*c,g=f*f+s*s,v=(s*p-c*g)/h,d=(l*g-f*p)/h,s=d+a,y=ll.pop()||new Xe;y.arc=n,y.site=i,y.x=v+o,y.y=s+Math.sqrt(v*v+d*d),y.cy=s,n.circle=y;for(var m=null,M=ol._;M;)if(y.y<M.y||y.y===M.y&&y.x<=M.x){if(!M.L){m=M.P;break}M=M.L}else{if(!M.R){m=M;break}M=M.R}ol.insert(m,y),m||(ul=y)}}}}function Be(n){var t=n.circle;t&&(t.P||(ul=t.N),ol.remove(t),ll.push(t),rr(t),n.circle=null)}function We(n){for(var t,e=el,r=Yt(n[0][0],n[0][1],n[1][0],n[1][1]),i=e.length;i--;)t=e[i],(!Je(t,n)||!r(t)||mo(t.a.x-t.b.x)<Do&&mo(t.a.y-t.b.y)<Do)&&(t.a=t.b=null,e.splice(i,1))}function Je(n,t){var e=n.b;if(e)return!0;var r,i,u=n.a,o=t[0][0],a=t[1][0],l=t[0][1],c=t[1][1],f=n.l,s=n.r,h=f.x,p=f.y,g=s.x,v=s.y,d=(h+g)/2,y=(p+v)/2;if(v===p){if(d<o||d>=a)return;if(h>g){if(u){if(u.y>=c)return}else u={x:d,y:l};e={x:d,y:c}}else{if(u){if(u.y<l)return}else u={x:d,y:c};e={x:d,y:l}}}else if(r=(h-g)/(v-p),i=y-r*d,r<-1||r>1)if(h>g){if(u){if(u.y>=c)return}else u={x:(l-i)/r,y:l};e={x:(c-i)/r,y:c}}else{if(u){if(u.y<l)return}else u={x:(c-i)/r,y:c};e={x:(l-i)/r,y:l}}else if(p<v){if(u){if(u.x>=a)return}else u={x:o,y:r*o+i};e={x:a,y:r*a+i}}else{if(u){if(u.x<o)return}else u={x:a,y:r*a+i};e={x:o,y:r*o+i}}return n.a=u,n.b=e,!0}function Ge(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ke(n,t,e,r){var i=new Ge(n,t);return el.push(i),e&&nr(i,n,t,e),r&&nr(i,t,n,r),rl[n.i].edges.push(new tr(i,n,t)),rl[t.i].edges.push(new tr(i,t,n)),i}function Qe(n,t,e){var r=new Ge(n,null);return r.a=t,r.b=e,el.push(r),r}function nr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function tr(n,t,e){var r=n.a,i=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function er(){this._=null}function rr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function ir(n,t){var e=t,r=t.R,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ur(n,t){var e=t,r=t.L,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function or(n){for(;n.L;)n=n.L;return n}function ar(n,t){var e,r,i,u=n.sort(lr).pop();for(el=[],rl=new Array(n.length),il=new er,ol=new er;;)if(i=ul,u&&(!i||u.y<i.y||u.y===i.y&&u.x<i.x))u.x===e&&u.y===r||(rl[u.i]=new Ye(u),He(u),e=u.x,r=u.y),u=n.pop();else{if(!i)break;Fe(i.arc)}t&&(We(t),Ze(t));var o={cells:rl,edges:el};return il=ol=el=rl=null,o}function lr(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function fr(n){return n.x}function sr(n){return n.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pr(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=.5*(e+i),a=.5*(r+u),l=t.nodes;l[0]&&pr(n,l[0],e,r,o,a),l[1]&&pr(n,l[1],o,r,i,a),l[2]&&pr(n,l[2],e,a,o,u),l[3]&&pr(n,l[3],o,a,i,u)}}function gr(n,t,e,r,i,u,o){var a,l=1/0;return function n(c,f,s,h,p){if(!(f>u||s>o||h<r||p<i)){if(g=c.point){var g,v=t-c.x,d=e-c.y,y=v*v+d*d;if(y<l){var m=Math.sqrt(l=y);r=t-m,i=e-m,u=t+m,o=e+m,a=g}}for(var M=c.nodes,x=.5*(f+h),b=.5*(s+p),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;S<k;++S)if(c=M[3&S])switch(3&S){case 0:n(c,f,s,x,b);break;case 1:n(c,x,s,h,b);break;case 2:n(c,f,b,x,p);break;case 3:n(c,x,b,h,p)}}}(n,r,i,u,o),a}function vr(n,t){n=ao.rgb(n),t=ao.rgb(t);var e=n.r,r=n.g,i=n.b,u=t.r-e,o=t.g-r,a=t.b-i;return function(n){return"#"+bn(Math.round(e+u*n))+bn(Math.round(r+o*n))+bn(Math.round(i+a*n))}}function dr(n,t){var e,r={},i={};for(e in n)e in t?r[e]=Mr(n[e],t[e]):i[e]=n[e];for(e in t)e in n||(i[e]=t[e]);return function(n){for(e in r)i[e]=r[e](n);return i}}function yr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function mr(n,t){var e,r,i,u=fl.lastIndex=sl.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(e=fl.exec(n))&&(r=sl.exec(t));)(i=r.index)>u&&(i=t.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:yr(e,r)})),u=sl.lastIndex;return u<t.length&&(i=t.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?(t=l[0].x,function(n){return t(n)+""}):function(){return t}:(t=l.length,function(n){for(var e,r=0;r<t;++r)a[(e=l[r]).i]=e.x(n);return a.join("")})}function Mr(n,t){for(var e,r=ao.interpolators.length;--r>=0&&!(e=ao.interpolators[r](n,t)););return e}function xr(n,t){var e,r=[],i=[],u=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;e<a;++e)r.push(Mr(n[e],t[e]));for(;e<u;++e)i[e]=n[e];for(;e<o;++e)i[e]=t[e];return function(n){for(e=0;e<a;++e)i[e]=r[e](n);return i}}function br(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function _r(n){return function(t){return 1-n(1-t)}}function wr(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function Sr(n){return n*n}function kr(n){return n*n*n}function Nr(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)}function Er(n){return function(t){return Math.pow(t,n)}}function Ar(n){return 1-Math.cos(n*Ho)}function Cr(n){return Math.pow(2,10*(n-1))}function zr(n){return 1-Math.sqrt(1-n*n)}function Lr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/jo*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*jo/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Tr(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Rr(n,t){n=ao.hcl(n),t=ao.hcl(t);var e=n.h,r=n.c,i=n.l,u=t.h-e,o=t.c-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return sn(e+u*n,r+o*n,i+a*n)+""}}function Dr(n,t){n=ao.hsl(n),t=ao.hsl(t);var e=n.h,r=n.s,i=n.l,u=t.h-e,o=t.s-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return cn(e+u*n,r+o*n,i+a*n)+""}}function Pr(n,t){n=ao.lab(n),t=ao.lab(t);var e=n.l,r=n.a,i=n.b,u=t.l-e,o=t.a-r,a=t.b-i;return function(n){return pn(e+u*n,r+o*n,i+a*n)+""}}function Ur(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function jr(n){var t=[n.a,n.b],e=[n.c,n.d],r=Hr(t),i=Fr(t,e),u=Hr(Or(e,t,-i))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Io,this.translate=[n.e,n.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*Io:0}function Fr(n,t){return n[0]*t[0]+n[1]*t[1]}function Hr(n){var t=Math.sqrt(Fr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Or(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Ir(n){return n.length?n.pop()+",":""}function Yr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push("translate(",null,",",null,")");r.push({i:i-4,x:yr(n[0],t[0])},{i:i-2,x:yr(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}function Zr(n,t,e,r){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),r.push({i:e.push(Ir(e)+"rotate(",null,")")-2,x:yr(n,t)})):t&&e.push(Ir(e)+"rotate("+t+")")}function Vr(n,t,e,r){n!==t?r.push({i:e.push(Ir(e)+"skewX(",null,")")-2,x:yr(n,t)}):t&&e.push(Ir(e)+"skewX("+t+")")}function Xr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push(Ir(e)+"scale(",null,",",null,")");r.push({i:i-4,x:yr(n[0],t[0])},{i:i-2,x:yr(n[1],t[1])})}else 1===t[0]&&1===t[1]||e.push(Ir(e)+"scale("+t+")")}function $r(n,t){var e=[],r=[];return n=ao.transform(n),t=ao.transform(t),Yr(n.translate,t.translate,e,r),Zr(n.rotate,t.rotate,e,r),Vr(n.skew,t.skew,e,r),Xr(n.scale,t.scale,e,r),n=t=null,function(n){for(var t,i=-1,u=r.length;++i<u;)e[(t=r[i]).i]=t.x(n);return e.join("")}}function Br(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Wr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Jr(n){for(var t=n.source,e=n.target,r=Kr(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function Gr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Kr(n,t){if(n===t)return n;for(var e=Gr(n),r=Gr(t),i=e.pop(),u=r.pop(),o=null;i===u;)o=i,i=e.pop(),u=r.pop();return o}function Qr(n){n.fixed|=2}function ni(n){n.fixed&=-7}function ti(n){n.fixed|=4,n.px=n.x,n.py=n.y}function ei(n){n.fixed&=-5}function ri(n,t,e){var r=0,i=0;if(n.charge=0,!n.leaf)for(var u,o=n.nodes,a=o.length,l=-1;++l<a;)u=o[l],null!=u&&(ri(u,t,e),n.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var c=t*e[n.point.index];n.charge+=n.pointCharge=c,r+=c*n.point.x,i+=c*n.point.y}n.cx=r/n.charge,n.cy=i/n.charge}function ii(n,t){return ao.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=fi,n}function ui(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(i=n.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function oi(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(u=n.children)&&(i=u.length))for(var i,u,o=-1;++o<i;)e.push(u[o]);for(;null!=(n=r.pop());)t(n)}function ai(n){return n.children}function li(n){return n.value}function ci(n,t){return t.value-n.value}function fi(n){return ao.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function si(n){return n.x}function hi(n){return n.y}function pi(n,t,e){n.y0=t,n.y=e}function gi(n){return ao.range(n.length)}function vi(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function di(n){for(var t,e=1,r=0,i=n[0][1],u=n.length;e<u;++e)(t=n[e][1])>i&&(r=e,i=t);return r}function yi(n){return n.reduce(mi,0)}function mi(n,t){return n+t[1]}function Mi(n,t){return xi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function xi(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function bi(n){return[ao.min(n),ao.max(n)]}function _i(n,t){return n.value-t.value}function wi(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function Si(n,t){n._pack_next=t,t._pack_prev=n}function ki(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function Ni(n){function t(n){f=Math.min(n.x-n.r,f),s=Math.max(n.x+n.r,s),h=Math.min(n.y-n.r,h),p=Math.max(n.y+n.r,p)}if((e=n.children)&&(c=e.length)){var e,r,i,u,o,a,l,c,f=1/0,s=-(1/0),h=1/0,p=-(1/0);if(e.forEach(Ei),r=e[0],r.x=-r.r,r.y=0,t(r),c>1&&(i=e[1],i.x=i.r,i.y=0,t(i),c>2))for(u=e[2],zi(r,i,u),t(u),wi(r,u),r._pack_prev=u,wi(u,i),i=r._pack_next,o=3;o<c;o++){zi(r,i,u=e[o]);var g=0,v=1,d=1;for(a=i._pack_next;a!==i;a=a._pack_next,v++)if(ki(a,u)){g=1;break}if(1==g)for(l=r._pack_prev;l!==a._pack_prev&&!ki(l,u);l=l._pack_prev,d++);g?(v<d||v==d&&i.r<r.r?Si(r,i=a):Si(r=l,i),o--):(wi(r,u),i=u,t(u))}var y=(f+s)/2,m=(h+p)/2,M=0;for(o=0;o<c;o++)u=e[o],u.x-=y,u.y-=m,M=Math.max(M,u.r+Math.sqrt(u.x*u.x+u.y*u.y));n.r=M,e.forEach(Ai)}}function Ei(n){n._pack_next=n._pack_prev=n}function Ai(n){delete n._pack_next,delete n._pack_prev}function Ci(n,t,e,r){var i=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,i)for(var u=-1,o=i.length;++u<o;)Ci(i[u],t,e,r)}function zi(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u;o*=o,r*=r;var l=.5+(r-o)/(2*a),c=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+l*i+c*u,e.y=n.y+l*u-c*i}else e.x=n.x+r,e.y=n.y}function Li(n,t){return n.parent==t.parent?1:2}function qi(n){var t=n.children;return t.length?t[0]:n.t}function Ti(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ri(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Di(n){for(var t,e=0,r=0,i=n.children,u=i.length;--u>=0;)t=i[u],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Pi(n,t,e){return n.a.parent===t.parent?n.a:e}function Ui(n){return 1+ao.max(n,function(n){return n.y})}function ji(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Fi(n){var t=n.children;return t&&t.length?Fi(t[0]):n}function Hi(n){var t,e=n.children;return e&&(t=e.length)?Hi(e[t-1]):n}function Oi(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Ii(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return i<0&&(e+=i/2,i=0),u<0&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Yi(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]}function Zi(n){return n.rangeExtent?n.rangeExtent():Yi(n.range())}function Vi(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function Xi(n,t){var e,r=0,i=n.length-1,u=n[r],o=n[i];return o<u&&(e=r,r=i,i=e,e=u,u=o,o=e),n[r]=t.floor(u),n[i]=t.ceil(o),n}function $i(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:_l}function Bi(n,t,e,r){var i=[],u=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)i.push(e(n[o-1],n[o])),u.push(r(t[o-1],t[o]));return function(t){var e=ao.bisect(n,t,1,a)-1;return u[e](i[e](t))}}function Wi(n,t,e,r){function i(){var i=Math.min(n.length,t.length)>2?Bi:Vi,l=r?Wr:Br;return o=i(n,t,l,e),a=i(t,n,l,Mr),u}function u(n){return o(n)}var o,a;return u.invert=function(n){return a(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),i()):n},u.range=function(n){return arguments.length?(t=n,i()):t},u.rangeRound=function(n){return u.range(n).interpolate(Ur)},u.clamp=function(n){return arguments.length?(r=n,i()):r},u.interpolate=function(n){return arguments.length?(e=n,i()):e},u.ticks=function(t){return Qi(n,t)},u.tickFormat=function(t,e){return nu(n,t,e)},u.nice=function(t){return Gi(n,t),i()},u.copy=function(){return Wi(n,t,e,r)},i()}function Ji(n,t){return ao.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Gi(n,t){return Xi(n,$i(Ki(n,t)[2])),Xi(n,$i(Ki(n,t)[2])),n}function Ki(n,t){null==t&&(t=10);var e=Yi(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function Qi(n,t){return ao.range.apply(ao,Ki(n,t))}function nu(n,t,e){var r=Ki(n,t);if(e){var i=fa.exec(e);if(i.shift(),"s"===i[8]){var u=ao.formatPrefix(Math.max(mo(r[0]),mo(r[1])));return i[7]||(i[7]="."+tu(u.scale(r[2]))),i[8]="f",e=ao.format(i.join("")),function(n){return e(u.scale(n))+u.symbol}}i[7]||(i[7]="."+eu(i[8],r)),e=i.join("")}else e=",."+tu(r[2])+"f";return ao.format(e)}function tu(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function eu(n,t){var e=tu(t[2]);return n in wl?Math.abs(e-tu(Math.max(mo(t[0]),mo(t[1]))))+ +("e"!==n):e-2*("%"===n)}function ru(n,t,e,r){function i(n){return(e?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function u(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(i(t))}return o.invert=function(t){return u(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(i)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(i)),o):t},o.nice=function(){var t=Xi(r.map(i),e?Math:kl);return n.domain(t),r=t.map(u),o},o.ticks=function(){var n=Yi(r),o=[],a=n[0],l=n[1],c=Math.floor(i(a)),f=Math.ceil(i(l)),s=t%1?2:t;if(isFinite(f-c)){if(e){for(;c<f;c++)for(var h=1;h<s;h++)o.push(u(c)*h);o.push(u(c))}else for(o.push(u(c));c++<f;)for(var h=s-1;h>0;h--)o.push(u(c)*h);for(c=0;o[c]<a;c++);for(f=o.length;o[f-1]>l;f--);o=o.slice(c,f)}return o},o.tickFormat=function(n,e){if(!arguments.length)return Sl;arguments.length<2?e=Sl:"function"!=typeof e&&(e=ao.format(e));var r=Math.max(1,t*n/o.ticks().length);return function(n){var o=n/u(Math.round(i(n)));return o*t<t-.5&&(o*=t),o<=r?e(n):""}},o.copy=function(){return ru(n.copy(),t,e,r)},Ji(o,n)}function iu(n,t,e){function r(t){return n(i(t))}var i=uu(t),u=uu(1/t);return r.invert=function(t){return u(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(i)),r):e},r.ticks=function(n){return Qi(e,n)},r.tickFormat=function(n,t){return nu(e,n,t)},r.nice=function(n){return r.domain(Gi(e,n))},r.exponent=function(o){return arguments.length?(i=uu(t=o),u=uu(1/t),n.domain(e.map(i)),r):t},r.copy=function(){return iu(n.copy(),t,e)},Ji(r,n)}function uu(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function ou(n,t){function e(e){return u[((i.get(e)||("range"===t.t?i.set(e,n.push(e)):NaN))-1)%u.length]}function r(t,e){return ao.range(n.length).map(function(n){return t+e*n})}var i,u,o;return e.domain=function(r){if(!arguments.length)return n;n=[],i=new c;for(var u,o=-1,a=r.length;++o<a;)i.has(u=r[o])||i.set(u,n.push(u));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(u=n,o=0,t={t:"range",a:arguments},e):u},e.rangePoints=function(i,a){arguments.length<2&&(a=0);var l=i[0],c=i[1],f=n.length<2?(l=(l+c)/2,0):(c-l)/(n.length-1+a);return u=r(l+f*a/2,f),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(i,a){arguments.length<2&&(a=0);var l=i[0],c=i[1],f=n.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(n.length-1+a)|0;return u=r(l+Math.round(f*a/2+(c-l-(n.length-1+a)*f)/2),f),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=(s-f)/(n.length-a+2*l);return u=r(f+h*l,h),c&&u.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=Math.floor((s-f)/(n.length-a+2*l));return u=r(f+Math.round((s-f-(n.length-a)*h)/2),h),c&&u.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Yi(t.a[0])},e.copy=function(){return ou(n,t)},e.domain(n)}function au(n,t){function u(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ao.quantile(n,e/r);return o}function o(n){if(!isNaN(n=+n))return t[ao.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(i).sort(e),u()):n},o.range=function(n){return arguments.length?(t=n,u()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),e<0?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return au(n,t)},u()}function lu(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(u*(t-n))))]}function i(){return u=e.length/(t-n),o=e.length-1,r}var u,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],i()):[n,t]},r.range=function(n){return arguments.length?(e=n,i()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=t<0?NaN:t/u+n,[t,t+1/u]},r.copy=function(){return lu(n,t,e)},i()}function cu(n,t){function e(e){if(e<=e)return t[ao.bisect(n,e)]}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return cu(n,t)},e}function fu(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Qi(n,t)},t.tickFormat=function(t,e){return nu(n,t,e)},t.copy=function(){return fu(n)},t}function su(){return 0}function hu(n){return n.innerRadius}function pu(n){return n.outerRadius}function gu(n){return n.startAngle}function vu(n){return n.endAngle}function du(n){return n&&n.padAngle}function yu(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function mu(n,t,e,r,i){var u=n[0]-t[0],o=n[1]-t[1],a=(i?r:-r)/Math.sqrt(u*u+o*o),l=a*o,c=-a*u,f=n[0]+l,s=n[1]+c,h=t[0]+l,p=t[1]+c,g=(f+h)/2,v=(s+p)/2,d=h-f,y=p-s,m=d*d+y*y,M=e-r,x=f*p-h*s,b=(y<0?-1:1)*Math.sqrt(Math.max(0,M*M*m-x*x)),_=(x*y-d*b)/m,w=(-x*d-y*b)/m,S=(x*y+d*b)/m,k=(-x*d+y*b)/m,N=_-g,E=w-v,A=S-g,C=k-v;return N*N+E*E>A*A+C*C&&(_=S,w=k),[[_-l,w-c],[_*e/M,w*e/M]]}function Mu(n){function t(t){function o(){c.push("M",u(n(f),a))}for(var l,c=[],f=[],s=-1,h=t.length,p=En(e),g=En(r);++s<h;)i.call(this,l=t[s],s)?f.push([+p.call(this,l,s),+g.call(this,l,s)]):f.length&&(o(),f=[]);return f.length&&o(),c.length?c.join(""):null}var e=Ce,r=ze,i=zt,u=xu,o=u.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(i=n,t):i},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?u=n:(u=Ll.get(n)||xu).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function xu(n){return n.length>1?n.join("L"):n+"Z"}function bu(n){return n.join("L")+"Z"}function _u(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function wu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function Su(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function ku(n,t){return n.length<4?xu(n):n[1]+Au(n.slice(1,-1),Cu(n,t))}function Nu(n,t){return n.length<3?bu(n):n[0]+Au((n.push(n[0]),n),Cu([n[n.length-2]].concat(n,[n[1]]),t))}function Eu(n,t){return n.length<3?xu(n):n[0]+Au(n,Cu(n,t))}function Au(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return xu(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,l=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=n[1],l=2),t.length>1){a=t[1],u=n[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var c=2;c<t.length;c++,l++)u=n[l],a=t[c],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var f=n[l];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function Cu(n,t){for(var e,r=[],i=(1-t)/2,u=n[0],o=n[1],a=1,l=n.length;++a<l;)e=u,u=o,o=n[a],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function zu(n){if(n.length<3)return xu(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],l=[i,",",u,"L",Ru(Rl,o),",",Ru(Rl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Du(l,o,a);return n.pop(),l.push("L",r),l.join("")}function Lu(n){if(n.length<4)return xu(n);for(var t,e=[],r=-1,i=n.length,u=[0],o=[0];++r<3;)t=n[r],u.push(t[0]),o.push(t[1]);for(e.push(Ru(Rl,u)+","+Ru(Rl,o)),--r;++r<i;)t=n[r],u.shift(),u.push(t[0]),o.shift(),o.push(t[1]),Du(e,u,o);return e.join("")}function qu(n){for(var t,e,r=-1,i=n.length,u=i+4,o=[],a=[];++r<4;)e=n[r%i],o.push(e[0]),a.push(e[1]);for(t=[Ru(Rl,o),",",Ru(Rl,a)],--r;++r<u;)e=n[r%i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Du(t,o,a);return t.join("")}function Tu(n,t){var e=n.length-1;if(e)for(var r,i,u=n[0][0],o=n[0][1],a=n[e][0]-u,l=n[e][1]-o,c=-1;++c<=e;)r=n[c],i=c/e,r[0]=t*r[0]+(1-t)*(u+i*a),r[1]=t*r[1]+(1-t)*(o+i*l);return zu(n)}function Ru(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Du(n,t,e){n.push("C",Ru(ql,t),",",Ru(ql,e),",",Ru(Tl,t),",",Ru(Tl,e),",",Ru(Rl,t),",",Ru(Rl,e))}function Pu(n,t){return(t[1]-n[1])/(t[0]-n[0])}function Uu(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=Pu(i,u);++t<e;)r[t]=(o+(o=Pu(i=u,u=n[t+1])))/2;return r[t]=o,r}function ju(n){for(var t,e,r,i,u=[],o=Uu(n),a=-1,l=n.length-1;++a<l;)t=Pu(n[a],n[a+1]),mo(t)<Do?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,i=e*e+r*r,i>9&&(i=3*t/Math.sqrt(i),o[a]=i*e,o[a+1]=i*r));for(a=-1;++a<=l;)i=(n[Math.min(l,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),u.push([i||0,o[a]*i||0]);return u}function Fu(n){return n.length<3?xu(n):n[0]+Au(n,ju(n))}function Hu(n){for(var t,e,r,i=-1,u=n.length;++i<u;)t=n[i],e=t[0],r=t[1]-Ho,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Ou(n){function t(t){function l(){v.push("M",a(n(y),s),f,c(n(d.reverse()),s),"Z")}for(var h,p,g,v=[],d=[],y=[],m=-1,M=t.length,x=En(e),b=En(i),_=e===r?function(){
return p}:En(r),w=i===u?function(){return g}:En(u);++m<M;)o.call(this,h=t[m],m)?(d.push([p=+x.call(this,h,m),g=+b.call(this,h,m)]),y.push([+_.call(this,h,m),+w.call(this,h,m)])):d.length&&(l(),d=[],y=[]);return d.length&&l(),v.length?v.join(""):null}var e=Ce,r=Ce,i=0,u=ze,o=zt,a=xu,l=a.key,c=a,f="L",s=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(i=u=n,t):u},t.y0=function(n){return arguments.length?(i=n,t):i},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(l="function"==typeof n?a=n:(a=Ll.get(n)||xu).key,c=a.reverse||a,f=a.closed?"M":"L",t):l},t.tension=function(n){return arguments.length?(s=n,t):s},t}function Iu(n){return n.radius}function Yu(n){return[n.x,n.y]}function Zu(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Ho;return[e*Math.cos(r),e*Math.sin(r)]}}function Vu(){return 64}function Xu(){return"circle"}function $u(n){var t=Math.sqrt(n/Uo);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Bu(n){return function(){var t,e,r;(t=this[n])&&(r=t[e=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[e]:delete this[n],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Wu(n,t,e){return wo(n,Ol),n.namespace=t,n.id=e,n}function Ju(n,t,e,r){var i=n.id,u=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[u][i].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[u][i].tween.set(t,e)}))}function Gu(n){return null==n&&(n=""),function(){this.textContent=n}}function Ku(n){return null==n?"__transition__":"__transition_"+n+"__"}function Qu(n,t,e,r,i){function u(n){var t=v.delay;return f.t=t+l,t<=n?o(n-t):void(f.c=o)}function o(e){var i=g.active,u=g[i];u&&(u.timer.c=null,u.timer.t=NaN,--g.count,delete g[i],u.event&&u.event.interrupt.call(n,n.__data__,u.index));for(var o in g)if(+o<r){var c=g[o];c.timer.c=null,c.timer.t=NaN,--g.count,delete g[o]}f.c=a,qn(function(){return f.c&&a(e||1)&&(f.c=null,f.t=NaN),1},0,l),g.active=r,v.event&&v.event.start.call(n,n.__data__,t),p=[],v.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&p.push(r)}),h=v.ease,s=v.duration}function a(i){for(var u=i/s,o=h(u),a=p.length;a>0;)p[--a].call(n,o);if(u>=1)return v.event&&v.event.end.call(n,n.__data__,t),--g.count?delete g[r]:delete n[e],1}var l,f,s,h,p,g=n[e]||(n[e]={active:0,count:0}),v=g[r];v||(l=i.time,f=qn(u,0,l),v=g[r]={tween:new c,time:l,timer:f,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++g.count)}function no(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function to(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function eo(n){return n.toISOString()}function ro(n,t,e){function r(t){return n(t)}function i(n,e){var r=n[1]-n[0],i=r/e,u=ao.bisect(Jl,i);return u==Jl.length?[t.year,Ki(n.map(function(n){return n/31536e6}),e)[2]]:u?t[i/Jl[u-1]<Jl[u]/i?u-1:u]:[Ql,Ki(n,e)[2]]}return r.invert=function(t){return io(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(io)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,io(+e+1),t).length}var u=r.domain(),o=Yi(u),a=null==n?i(o,10):"number"==typeof n&&i(o,n);return a&&(n=a[0],t=a[1]),r.domain(Xi(u,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=io(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=io(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Yi(r.domain()),u=null==n?i(e,10):"number"==typeof n?i(e,n):!n.range&&[{range:n},t];return u&&(n=u[0],t=u[1]),n.range(e[0],io(+e[1]+1),t<1?1:t)},r.tickFormat=function(){return e},r.copy=function(){return ro(n.copy(),t,e)},Ji(r,n)}function io(n){return new Date(n)}function uo(n){return JSON.parse(n.responseText)}function oo(n){var t=fo.createRange();return t.selectNode(fo.body),t.createContextualFragment(n.responseText)}var ao={version:"3.5.16"},lo=[].slice,co=function(n){return lo.call(n)},fo=this.document;if(fo)try{co(fo.documentElement.childNodes)[0].nodeType}catch(n){co=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),fo)try{fo.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var so=this.Element.prototype,ho=so.setAttribute,po=so.setAttributeNS,go=this.CSSStyleDeclaration.prototype,vo=go.setProperty;so.setAttribute=function(n,t){ho.call(this,n,t+"")},so.setAttributeNS=function(n,t,e){po.call(this,n,t,e+"")},go.setProperty=function(n,t,e){vo.call(this,n,t+"",e)}}ao.ascending=e,ao.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},ao.min=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&e>r&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&e>r&&(e=r)}return e},ao.max=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&r>e&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&r>e&&(e=r)}return e},ao.extent=function(n,t){var e,r,i,u=-1,o=n.length;if(1===arguments.length){for(;++u<o;)if(null!=(r=n[u])&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=n[u])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++u<o;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=t.call(n,n[u],u))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]},ao.sum=function(n,t){var e,r=0,u=n.length,o=-1;if(1===arguments.length)for(;++o<u;)i(e=+n[o])&&(r+=e);else for(;++o<u;)i(e=+t.call(n,n[o],o))&&(r+=e);return r},ao.mean=function(n,t){var e,u=0,o=n.length,a=-1,l=o;if(1===arguments.length)for(;++a<o;)i(e=r(n[a]))?u+=e:--l;else for(;++a<o;)i(e=r(t.call(n,n[a],a)))?u+=e:--l;if(l)return u/l},ao.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},ao.median=function(n,t){var u,o=[],a=n.length,l=-1;if(1===arguments.length)for(;++l<a;)i(u=r(n[l]))&&o.push(u);else for(;++l<a;)i(u=r(t.call(n,n[l],l)))&&o.push(u);if(o.length)return ao.quantile(o.sort(e),.5)},ao.variance=function(n,t){var e,u,o=n.length,a=0,l=0,c=-1,f=0;if(1===arguments.length)for(;++c<o;)i(e=r(n[c]))&&(u=e-a,a+=u/++f,l+=u*(e-a));else for(;++c<o;)i(e=r(t.call(n,n[c],c)))&&(u=e-a,a+=u/++f,l+=u*(e-a));if(f>1)return l/(f-1)},ao.deviation=function(){var n=ao.variance.apply(this,arguments);return n?Math.sqrt(n):n};var yo=u(e);ao.bisectLeft=yo.left,ao.bisect=ao.bisectRight=yo.right,ao.bisector=function(n){return u(1===n.length?function(t,r){return e(n(t),r)}:n)},ao.shuffle=function(n,t,e){(u=arguments.length)<3&&(e=n.length,u<2&&(t=0));for(var r,i,u=e-t;u;)i=Math.random()*u--|0,r=n[u+t],n[u+t]=n[i+t],n[i+t]=r;return n},ao.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ao.pairs=function(n){for(var t,e=0,r=n.length-1,i=n[0],u=new Array(r<0?0:r);e<r;)u[e]=[t=i,i=n[++e]];return u},ao.transpose=function(n){if(!(i=n.length))return[];for(var t=-1,e=ao.min(n,o),r=new Array(e);++t<e;)for(var i,u=-1,a=r[t]=new Array(i);++u<i;)a[u]=n[u][t];return r},ao.zip=function(){return ao.transpose(arguments)},ao.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ao.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ao.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ao.merge=function(n){for(var t,e,r,i=n.length,u=-1,o=0;++u<i;)o+=n[u].length;for(e=new Array(o);--i>=0;)for(r=n[i],t=r.length;--t>=0;)e[--o]=r[t];return e};var mo=Math.abs;ao.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,i=[],u=a(mo(e)),o=-1;if(n*=u,t*=u,e*=u,e<0)for(;(r=n+e*++o)>t;)i.push(r/u);else for(;(r=n+e*++o)<t;)i.push(r/u);return i},ao.map=function(n,t){var e=new c;if(n instanceof c)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,i=-1,u=n.length;if(1===arguments.length)for(;++i<u;)e.set(i,n[i]);else for(;++i<u;)e.set(t.call(n,r=n[i],i),r)}else for(var o in n)e.set(o,n[o]);return e};var Mo="__proto__",xo="\0";l(c,{has:h,get:function(n){return this._[f(n)]},set:function(n,t){return this._[f(n)]=t},remove:p,keys:g,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:s(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t),this._[t])}}),ao.nest=function(){function n(t,o,a){if(a>=u.length)return r?r.call(i,o):e?o.sort(e):o;for(var l,f,s,h,p=-1,g=o.length,v=u[a++],d=new c;++p<g;)(h=d.get(l=v(f=o[p])))?h.push(f):d.set(l,[f]);return t?(f=t(),s=function(e,r){f.set(e,n(t,r,a))}):(f={},s=function(e,r){f[e]=n(t,r,a)}),d.forEach(s),f}function t(n,e){if(e>=u.length)return n;var r=[],i=o[e++];return n.forEach(function(n,i){r.push({key:n,values:t(i,e)})}),i?r.sort(function(n,t){return i(n.key,t.key)}):r}var e,r,i={},u=[],o=[];return i.map=function(t,e){return n(e,t,0)},i.entries=function(e){return t(n(ao.map,e,0),0)},i.key=function(n){return u.push(n),i},i.sortKeys=function(n){return o[u.length-1]=n,i},i.sortValues=function(n){return e=n,i},i.rollup=function(n){return r=n,i},i},ao.set=function(n){var t=new y;if(n)for(var e=0,r=n.length;e<r;++e)t.add(n[e]);return t},l(y,{has:h,add:function(n){return this._[f(n+="")]=!0,n},remove:p,values:g,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t))}}),ao.behavior={},ao.rebind=function(n,t){for(var e,r=1,i=arguments.length;++r<i;)n[e=arguments[r]]=M(n,t,t[e]);return n};var bo=["webkit","ms","moz","Moz","o","O"];ao.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ao.event=null,ao.requote=function(n){return n.replace(_o,"\\$&")};var _o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,wo={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},So=function(n,t){return t.querySelector(n)},ko=function(n,t){return t.querySelectorAll(n)},No=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(No=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(So=function(n,t){return Sizzle(n,t)[0]||null},ko=Sizzle,No=Sizzle.matchesSelector),ao.selection=function(){return ao.select(fo.documentElement)};var Eo=ao.selection.prototype=[];Eo.select=function(n){var t,e,r,i,u=[];n=A(n);for(var o=-1,a=this.length;++o<a;){u.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(t.push(e=n.call(i,i.__data__,l,o)),e&&"__data__"in i&&(e.__data__=i.__data__)):t.push(null)}return E(u)},Eo.selectAll=function(n){var t,e,r=[];n=C(n);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,l=o.length;++a<l;)(e=o[a])&&(r.push(t=co(n.call(e,e.__data__,a,i))),t.parentNode=e);return E(r)};var Ao="http://www.w3.org/1999/xhtml",Co={svg:"http://www.w3.org/2000/svg",xhtml:Ao,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ao.ns={prefix:Co,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),Co.hasOwnProperty(e)?{space:Co[e],local:n}:n}},Eo.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ao.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},Eo.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!q(n[i]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},Eo.style=function(n,e,r){var i=arguments.length;if(i<3){if("string"!=typeof n){i<2&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(i<2){var u=this.node();return t(u).getComputedStyle(u,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},Eo.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(U(t,n[t]));return this}return this.each(U(n,t))},Eo.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},Eo.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},Eo.append=function(n){return n=j(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},Eo.insert=function(n,t){return n=j(n),t=A(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},Eo.remove=function(){return this.each(F)},Eo.data=function(n,t){function e(n,e){var r,i,u,o=n.length,s=e.length,h=Math.min(o,s),p=new Array(s),g=new Array(s),v=new Array(o);if(t){var d,y=new c,m=new Array(o);for(r=-1;++r<o;)(i=n[r])&&(y.has(d=t.call(i,i.__data__,r))?v[r]=i:y.set(d,i),m[r]=d);for(r=-1;++r<s;)(i=y.get(d=t.call(e,u=e[r],r)))?i!==!0&&(p[r]=i,i.__data__=u):g[r]=H(u),y.set(d,!0);for(r=-1;++r<o;)r in m&&y.get(m[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)i=n[r],u=e[r],i?(i.__data__=u,p[r]=i):g[r]=H(u);for(;r<s;++r)g[r]=H(e[r]);for(;r<o;++r)v[r]=n[r]}g.update=p,g.parentNode=p.parentNode=v.parentNode=n.parentNode,a.push(g),l.push(p),f.push(v)}var r,i,u=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++u<o;)(i=r[u])&&(n[u]=i.__data__);return n}var a=Z([]),l=E([]),f=E([]);if("function"==typeof n)for(;++u<o;)e(r=this[u],n.call(r,r.parentNode.__data__,u));else for(;++u<o;)e(r=this[u],n);return l.enter=function(){return a},l.exit=function(){return f},l},Eo.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},Eo.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var a=0,l=e.length;a<l;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return E(i)},Eo.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},Eo.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},Eo.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},Eo.call=function(n){var t=co(arguments);return n.apply(t[0]=this,t),this},Eo.empty=function(){return!this.node()},Eo.node=function(){for(var n=0,t=this.length;n<t;n++)for(var e=this[n],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}return null},Eo.size=function(){var n=0;return Y(this,function(){++n}),n};var zo=[];ao.selection.enter=Z,ao.selection.enter.prototype=zo,zo.append=Eo.append,zo.empty=Eo.empty,zo.node=Eo.node,zo.call=Eo.call,zo.size=Eo.size,zo.select=function(n){for(var t,e,r,i,u,o=[],a=-1,l=this.length;++a<l;){r=(i=this[a]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,f=i.length;++c<f;)(u=i[c])?(t.push(r[c]=e=n.call(i.parentNode,u.__data__,c,a)),e.__data__=u.__data__):t.push(null)}return E(o)},zo.insert=function(n,t){return arguments.length<2&&(t=V(this)),Eo.insert.call(this,n,t)},ao.select=function(t){var e;return"string"==typeof t?(e=[So(t,fo)],e.parentNode=fo.documentElement):(e=[t],e.parentNode=n(t)),E([e])},ao.selectAll=function(n){var t;return"string"==typeof n?(t=co(ko(n,fo)),t.parentNode=fo.documentElement):(t=co(n),t.parentNode=null),E([t])},Eo.on=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){r<2&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var Lo=ao.map({mouseenter:"mouseover",mouseleave:"mouseout"});fo&&Lo.forEach(function(n){"on"+n in fo&&Lo.remove(n)});var qo,To=0;ao.mouse=function(n){return J(n,k())};var Ro=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ao.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,i=0,u=t.length;i<u;++i)if((r=t[i]).identifier===e)return J(n,r)},ao.behavior.drag=function(){function n(){this.on("mousedown.drag",u).on("touchstart.drag",o)}function e(n,t,e,u,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],g|=n|e,M=r,p({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:n,dy:e}))}function l(){t(h,v)&&(y.on(u+d,null).on(o+d,null),m(g),p({type:"dragend"}))}var c,f=this,s=ao.event.target.correspondingElement||ao.event.target,h=f.parentNode,p=r.of(f,arguments),g=0,v=n(),d=".drag"+(null==v?"":"-"+v),y=ao.select(e(s)).on(u+d,a).on(o+d,l),m=W(s),M=t(h,v);i?(c=i.apply(f,arguments),c=[c.x-M[0],c.y-M[1]]):c=[0,0],p({type:"dragstart"})}}var r=N(n,"drag","dragstart","dragend"),i=null,u=e(b,ao.mouse,t,"mousemove","mouseup"),o=e(G,ao.touch,m,"touchmove","touchend");return n.origin=function(t){return arguments.length?(i=t,n):i},ao.rebind(n,r,"on")},ao.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?co(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Do=1e-6,Po=Do*Do,Uo=Math.PI,jo=2*Uo,Fo=jo-Do,Ho=Uo/2,Oo=Uo/180,Io=180/Uo,Yo=Math.SQRT2,Zo=2,Vo=4;ao.interpolateZoom=function(n,t){var e,r,i=n[0],u=n[1],o=n[2],a=t[0],l=t[1],c=t[2],f=a-i,s=l-u,h=f*f+s*s;if(h<Po)r=Math.log(c/o)/Yo,e=function(n){return[i+n*f,u+n*s,o*Math.exp(Yo*n*r)]};else{var p=Math.sqrt(h),g=(c*c-o*o+Vo*h)/(2*o*Zo*p),v=(c*c-o*o-Vo*h)/(2*c*Zo*p),d=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-d)/Yo,e=function(n){var t=n*r,e=rn(d),a=o/(Zo*p)*(e*un(Yo*t+d)-en(d));return[i+a*f,u+a*s,o*e/rn(Yo*t+d)]}}return e.duration=1e3*r,e},ao.behavior.zoom=function(){function n(n){n.on(L,s).on($o+".zoom",p).on("dblclick.zoom",g).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function i(n){k.k=Math.max(A[0],Math.min(A[1],n))}function u(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},i(Math.pow(2,o)),u(d=e,r),t=ao.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function l(n){z++||n({type:"zoomstart"})}function c(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function f(n){--z||(n({type:"zoomend"}),d=null)}function s(){function n(){a=1,u(ao.mouse(i),h),c(o)}function r(){s.on(q,null).on(T,null),p(a),f(o)}var i=this,o=D.of(i,arguments),a=0,s=ao.select(t(i)).on(q,n).on(T,r),h=e(ao.mouse(i)),p=W(i);Hl.call(i),l(o)}function h(){function n(){var n=ao.touches(g);return p=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ao.event.target;ao.select(t).on(x,r).on(b,a),_.push(t);for(var e=ao.event.changedTouches,i=0,u=e.length;i<u;++i)d[e[i].identifier]=null;var l=n(),c=Date.now();if(1===l.length){if(c-M<500){var f=l[0];o(g,f,d[f.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=c}else if(l.length>1){var f=l[0],s=l[1],h=f[0]-s[0],p=f[1]-s[1];y=h*h+p*p}}function r(){var n,t,e,r,o=ao.touches(g);Hl.call(g);for(var a=0,l=o.length;a<l;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var f=(f=e[0]-n[0])*f+(f=e[1]-n[1])*f,s=y&&Math.sqrt(f/y);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(s*p)}M=null,u(n,t),c(v)}function a(){if(ao.event.touches.length){for(var t=ao.event.changedTouches,e=0,r=t.length;e<r;++e)delete d[t[e].identifier];for(var i in d)return void n()}ao.selectAll(_).on(m,null),w.on(L,s).on(R,h),N(),f(v)}var p,g=this,v=D.of(g,arguments),d={},y=0,m=".zoom-"+ao.event.changedTouches[0].identifier,x="touchmove"+m,b="touchend"+m,_=[],w=ao.select(g),N=W(g);t(),l(v),w.on(L,null).on(R,t)}function p(){var n=D.of(this,arguments);m?clearTimeout(m):(Hl.call(this),v=e(d=y||ao.mouse(this)),l(n)),m=setTimeout(function(){m=null,f(n)},50),S(),i(Math.pow(2,.002*Xo())*k.k),u(d,v),c(n)}function g(){var n=ao.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),ao.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,y,m,M,x,b,_,w,k={x:0,y:0,k:1},E=[960,500],A=Bo,C=250,z=0,L="mousedown.zoom",q="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=N(n,"zoomstart","zoom","zoomend");return $o||($o="onwheel"in fo?(Xo=function(){return-ao.event.deltaY*(ao.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fo?(Xo=function(){return ao.event.wheelDelta},"mousewheel"):(Xo=function(){return-ao.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;jl?ao.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},l(n)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],i=d?d[0]:e/2,u=d?d[1]:r/2,o=ao.interpolateZoom([(i-k.x)/k.k,(u-k.y)/k.k,e/k.k],[(i-t.x)/t.k,(u-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:i-r[0]*a,y:u-r[1]*a,k:a},c(n)}}).each("interrupt.zoom",function(){f(n)}).each("end.zoom",function(){f(n)}):(this.__chart__=k,l(n),c(n),f(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},i(+t),a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(A=null==t?Bo:[+t[0],+t[1]],n):A},n.center=function(t){return arguments.length?(y=t&&[+t[0],+t[1]],n):y},n.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],n):E},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},ao.rebind(n,D,"on")};var Xo,$o,Bo=[0,1/0];ao.color=an,an.prototype.toString=function(){return this.rgb()+""},ao.hsl=ln;var Wo=ln.prototype=new an;Wo.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,this.l/n)},Wo.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,n*this.l)},Wo.rgb=function(){return cn(this.h,this.s,this.l)},ao.hcl=fn;var Jo=fn.prototype=new an;Jo.brighter=function(n){return new fn(this.h,this.c,Math.min(100,this.l+Go*(arguments.length?n:1)))},Jo.darker=function(n){return new fn(this.h,this.c,Math.max(0,this.l-Go*(arguments.length?n:1)))},Jo.rgb=function(){return sn(this.h,this.c,this.l).rgb()},ao.lab=hn;var Go=18,Ko=.95047,Qo=1,na=1.08883,ta=hn.prototype=new an;ta.brighter=function(n){return new hn(Math.min(100,this.l+Go*(arguments.length?n:1)),this.a,this.b)},ta.darker=function(n){return new hn(Math.max(0,this.l-Go*(arguments.length?n:1)),this.a,this.b)},ta.rgb=function(){return pn(this.l,this.a,this.b)},ao.rgb=mn;var ea=mn.prototype=new an;ea.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;return t||e||r?(t&&t<i&&(t=i),e&&e<i&&(e=i),r&&r<i&&(r=i),new mn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mn(i,i,i)},ea.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mn(n*this.r,n*this.g,n*this.b)},ea.hsl=function(){return wn(this.r,this.g,this.b)},ea.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var ra=ao.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ra.forEach(function(n,t){ra.set(n,Mn(t))}),ao.functor=En,ao.xhr=An(m),ao.dsv=function(n,t){function e(n,e,u){arguments.length<3&&(u=e,e=null);var o=Cn(n,t,null==e?r:i(e),u);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:i(n)):e},o}function r(n){return e.parse(n.responseText)}function i(n){return function(t){return e.parse(t.responseText,n)}}function u(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),l=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(i(n),e)}:i})},e.parseRows=function(n,t){function e(){if(f>=c)return o;if(i)return i=!1,u;var t=f;if(34===n.charCodeAt(t)){for(var e=t;e++<c;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}f=e+2;var r=n.charCodeAt(e+1);return 13===r?(i=!0,10===n.charCodeAt(e+2)&&++f):10===r&&(i=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;f<c;){var r=n.charCodeAt(f++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===n.charCodeAt(f)&&(++f,++a);else if(r!==l)continue;return n.slice(t,f-a)}return n.slice(t)}for(var r,i,u={},o={},a=[],c=n.length,f=0,s=0;(r=e())!==o;){for(var h=[];r!==u&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,s++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new y,i=[];return t.forEach(function(n){for(var t in n)r.has(t)||i.push(r.add(t))}),[i.map(o).join(n)].concat(t.map(function(t){return i.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(u).join("\n")},e},ao.csv=ao.dsv(",","text/csv"),ao.tsv=ao.dsv("\t","text/tab-separated-values");var ia,ua,oa,aa,la=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ao.timer=function(){qn.apply(this,arguments)},ao.timer.flush=function(){Rn(),Dn()},ao.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var ca=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Un);ao.formatPrefix=function(n,t){var e=0;return(n=+n)&&(n<0&&(n*=-1),t&&(n=ao.round(n,Pn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),ca[8+e/3]};var fa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,sa=ao.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ao.round(n,Pn(n,t))).toFixed(Math.max(0,Math.min(20,Pn(n*(1+1e-15),t))))}}),ha=ao.time={},pa=Date;Hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ga.setUTCDate.apply(this._,arguments)},setDay:function(){ga.setUTCDay.apply(this._,arguments)},setFullYear:function(){ga.setUTCFullYear.apply(this._,arguments)},setHours:function(){ga.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ga.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ga.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ga.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ga.setUTCSeconds.apply(this._,arguments)},setTime:function(){ga.setTime.apply(this._,arguments)}};var ga=Date.prototype;ha.year=On(function(n){return n=ha.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ha.years=ha.year.range,ha.years.utc=ha.year.utc.range,ha.day=On(function(n){var t=new pa(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ha.days=ha.day.range,ha.days.utc=ha.day.utc.range,ha.dayOfYear=function(n){var t=ha.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ha[n]=On(function(n){return(n=ha.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ha.year(n).getDay();return Math.floor((ha.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ha[n+"s"]=e.range,ha[n+"s"].utc=e.utc.range,ha[n+"OfYear"]=function(n){var e=ha.year(n).getDay();return Math.floor((ha.dayOfYear(n)+(e+t)%7)/7)}}),ha.week=ha.sunday,ha.weeks=ha.sunday.range,ha.weeks.utc=ha.sunday.utc.range,ha.weekOfYear=ha.sundayOfYear;var va={"-":"",_:" ",0:"0"},da=/^\s*\d+/,ya=/^%/;ao.locale=function(n){return{numberFormat:jn(n),timeFormat:Yn(n)}};var ma=ao.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ao.format=ma.numberFormat,ao.geo={},ft.prototype={s:0,t:0,add:function(n){st(n,this.t,Ma),st(Ma.s,this.s,this),this.s?this.t+=Ma.t:this.s=Ma.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ma=new ft;ao.geo.stream=function(n,t){n&&xa.hasOwnProperty(n.type)?xa[n.type](n,t):ht(n,t)};var xa={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)ht(e[r].geometry,t)}},ba={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){pt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)pt(e[r],t,0)},Polygon:function(n,t){gt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)gt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)ht(e[r],t)}};ao.geo.area=function(n){return _a=0,ao.geo.stream(n,Sa),_a};var _a,wa=new ft,Sa={sphere:function(){_a+=4*Uo},point:b,lineStart:b,lineEnd:b,polygonStart:function(){wa.reset(),Sa.lineStart=vt},polygonEnd:function(){var n=2*wa;_a+=n<0?4*Uo+n:n,Sa.lineStart=Sa.lineEnd=Sa.point=b}};ao.geo.bounds=function(){function n(n,t){M.push(x=[f=n,h=n]),t<s&&(s=t),t>p&&(p=t)}function t(t,e){var r=dt([t*Oo,e*Oo]);if(y){var i=mt(y,r),u=[i[1],-i[0],0],o=mt(u,i);bt(o),o=_t(o);var l=t-g,c=l>0?1:-1,v=o[0]*Io*c,d=mo(l)>180;if(d^(c*g<v&&v<c*t)){var m=o[1]*Io;m>p&&(p=m)}else if(v=(v+360)%360-180,d^(c*g<v&&v<c*t)){var m=-o[1]*Io;m<s&&(s=m)}else e<s&&(s=e),e>p&&(p=e);d?t<g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t):h>=f?(t<f&&(f=t),t>h&&(h=t)):t>g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t)}else n(t,e);y=r,g=t}function e(){b.point=t}function r(){x[0]=f,x[1]=h,b.point=n,y=null}function i(n,e){if(y){var r=n-g;m+=mo(r)>180?r+(r>0?360:-360):r}else v=n,d=e;Sa.point(n,e),t(n,e)}function u(){Sa.lineStart()}function o(){i(v,d),Sa.lineEnd(),mo(m)>Do&&(f=-(h=180)),x[0]=f,x[1]=h,y=null}function a(n,t){return(t-=n)<0?t+360:t}function l(n,t){return n[0]-t[0]}function c(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var f,s,h,p,g,v,d,y,m,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=i,b.lineStart=u,b.lineEnd=o,m=0,Sa.polygonStart()},polygonEnd:function(){Sa.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,wa<0?(f=-(h=180),s=-(p=90)):m>Do?p=90:m<-Do&&(s=-90),x[0]=f,x[1]=h}};return function(n){p=h=-(f=s=1/0),M=[],ao.geo.stream(n,b);var t=M.length;if(t){M.sort(l);for(var e,r=1,i=M[0],u=[i];r<t;++r)e=M[r],c(e[0],i)||c(e[1],i)?(a(i[0],e[1])>a(i[0],i[1])&&(i[1]=e[1]),a(e[0],i[1])>a(i[0],i[1])&&(i[0]=e[0])):u.push(i=e);for(var o,e,g=-(1/0),t=u.length-1,r=0,i=u[t];r<=t;i=e,++r)e=u[r],(o=a(i[1],e[0]))>g&&(g=o,f=e[0],h=i[1])}return M=x=null,f===1/0||s===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,s],[h,p]]}}(),ao.geo.centroid=function(n){ka=Na=Ea=Aa=Ca=za=La=qa=Ta=Ra=Da=0,ao.geo.stream(n,Pa);var t=Ta,e=Ra,r=Da,i=t*t+e*e+r*r;return i<Po&&(t=za,e=La,r=qa,Na<Do&&(t=Ea,e=Aa,r=Ca),i=t*t+e*e+r*r,i<Po)?[NaN,NaN]:[Math.atan2(e,t)*Io,tn(r/Math.sqrt(i))*Io]};var ka,Na,Ea,Aa,Ca,za,La,qa,Ta,Ra,Da,Pa={sphere:b,point:St,lineStart:Nt,lineEnd:Et,polygonStart:function(){Pa.lineStart=At},polygonEnd:function(){Pa.lineStart=Nt}},Ua=Rt(zt,jt,Ht,[-Uo,-Uo/2]),ja=1e9;ao.geo.clipExtent=function(){var n,t,e,r,i,u,o={stream:function(n){return i&&(i.valid=!1),i=u(n),i.valid=!0,i},extent:function(a){return arguments.length?(u=Zt(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ao.geo.conicEqualArea=function(){return Vt(Xt)}).raw=Xt,ao.geo.albers=function(){return ao.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ao.geo.albersUsa=function(){function n(n){var u=n[0],o=n[1];return t=null,e(u,o),t||(r(u,o),t)||i(u,o),t}var t,e,r,i,u=ao.geo.albers(),o=ao.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ao.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?a:u).invert(n)},n.stream=function(n){var t=u.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,i){t.point(n,i),e.point(n,i),r.point(n,i)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(u.precision(t),o.precision(t),a.precision(t),n):u.precision()},n.scale=function(t){return arguments.length?(u.scale(t),o.scale(.35*t),a.scale(t),n.translate(u.translate())):u.scale()},n.translate=function(t){if(!arguments.length)return u.translate();var c=u.scale(),f=+t[0],s=+t[1];return e=u.translate(t).clipExtent([[f-.455*c,s-.238*c],[f+.455*c,s+.238*c]]).stream(l).point,r=o.translate([f-.307*c,s+.201*c]).clipExtent([[f-.425*c+Do,s+.12*c+Do],[f-.214*c-Do,s+.234*c-Do]]).stream(l).point,i=a.translate([f-.205*c,s+.212*c]).clipExtent([[f-.214*c+Do,s+.166*c+Do],[f-.115*c-Do,s+.234*c-Do]]).stream(l).point,n},n.scale(1070)};var Fa,Ha,Oa,Ia,Ya,Za,Va={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ha=0,Va.lineStart=$t},polygonEnd:function(){Va.lineStart=Va.lineEnd=Va.point=b,Fa+=mo(Ha/2)}},Xa={point:Bt,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},$a={point:Gt,lineStart:Kt,lineEnd:Qt,polygonStart:function(){$a.lineStart=ne},polygonEnd:function(){$a.point=Gt,$a.lineStart=Kt,$a.lineEnd=Qt}};ao.geo.path=function(){function n(n){return n&&("function"==typeof a&&u.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(u)),ao.geo.stream(n,o)),u.result()}function t(){return o=null,n}var e,r,i,u,o,a=4.5;return n.area=function(n){return Fa=0,ao.geo.stream(n,i(Va)),Fa},n.centroid=function(n){return Ea=Aa=Ca=za=La=qa=Ta=Ra=Da=0,ao.geo.stream(n,i($a)),Da?[Ta/Da,Ra/Da]:qa?[za/qa,La/qa]:Ca?[Ea/Ca,Aa/Ca]:[NaN,NaN]},n.bounds=function(n){return Ya=Za=-(Oa=Ia=1/0),ao.geo.stream(n,i(Xa)),[[Oa,Ia],[Ya,Za]]},n.projection=function(n){return arguments.length?(i=(e=n)?n.stream||re(n):m,t()):e},n.context=function(n){return arguments.length?(u=null==(r=n)?new Wt:new te(n),"function"!=typeof a&&u.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(u.pointRadius(+t),+t),n):a},n.projection(ao.geo.albersUsa()).context(null)},ao.geo.transform=function(n){return{stream:function(t){var e=new ie(t);for(var r in n)e[r]=n[r];return e}}},ie.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ao.geo.projection=oe,ao.geo.projectionMutator=ae,(ao.geo.equirectangular=function(){return oe(ce)}).raw=ce.invert=ce,ao.geo.rotation=function(n){function t(t){return t=n(t[0]*Oo,t[1]*Oo),t[0]*=Io,t[1]*=Io,t}return n=se(n[0]%360*Oo,n[1]*Oo,n.length>2?n[2]*Oo:0),t.invert=function(t){return t=n.invert(t[0]*Oo,t[1]*Oo),t[0]*=Io,t[1]*=Io,t},t},fe.invert=ce,ao.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=se(-n[0]*Oo,-n[1]*Oo,0).invert,i=[];return e(null,null,1,{point:function(n,e){i.push(n=t(n,e)),n[0]*=Io,n[1]*=Io}}),{type:"Polygon",coordinates:[i]}}var t,e,r=[0,0],i=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=ve((t=+r)*Oo,i*Oo),n):t},n.precision=function(r){return arguments.length?(e=ve(t*Oo,(i=+r)*Oo),n):i},n.angle(90)},ao.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Oo,i=n[1]*Oo,u=t[1]*Oo,o=Math.sin(r),a=Math.cos(r),l=Math.sin(i),c=Math.cos(i),f=Math.sin(u),s=Math.cos(u);return Math.atan2(Math.sqrt((e=s*o)*e+(e=c*f-l*s*a)*e),l*f+c*s*a)},ao.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ao.range(Math.ceil(u/d)*d,i,d).map(h).concat(ao.range(Math.ceil(c/y)*y,l,y).map(p)).concat(ao.range(Math.ceil(r/g)*g,e,g).filter(function(n){return mo(n%d)>Do}).map(f)).concat(ao.range(Math.ceil(a/v)*v,o,v).filter(function(n){return mo(n%y)>Do}).map(s))}var e,r,i,u,o,a,l,c,f,s,h,p,g=10,v=g,d=90,y=360,m=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(p(l).slice(1),h(i).reverse().slice(1),p(c).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(u=+t[0][0],i=+t[1][0],c=+t[0][1],l=+t[1][1],u>i&&(t=u,u=i,i=t),c>l&&(t=c,c=l,l=t),n.precision(m)):[[u,c],[i,l]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(m)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],y=+t[1],n):[d,y]},n.minorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],n):[g,v]},n.precision=function(t){return arguments.length?(m=+t,f=ye(a,o,90),s=me(r,e,m),h=ye(c,l,90),p=me(u,i,m),n):m},n.majorExtent([[-180,-90+Do],[180,90-Do]]).minorExtent([[-180,-80-Do],[180,80+Do]])},ao.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||i.apply(this,arguments)]}}var t,e,r=Me,i=xe;return n.distance=function(){return ao.geo.distance(t||r.apply(this,arguments),e||i.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,n):i},n.precision=function(){return arguments.length?n:0},n},ao.geo.interpolate=function(n,t){return be(n[0]*Oo,n[1]*Oo,t[0]*Oo,t[1]*Oo)},ao.geo.length=function(n){return Ba=0,ao.geo.stream(n,Wa),Ba};var Ba,Wa={sphere:b,point:b,lineStart:_e,lineEnd:b,polygonStart:b,polygonEnd:b},Ja=we(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ao.geo.azimuthalEqualArea=function(){return oe(Ja)}).raw=Ja;var Ga=we(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},m);(ao.geo.azimuthalEquidistant=function(){return oe(Ga)}).raw=Ga,(ao.geo.conicConformal=function(){return Vt(Se)}).raw=Se,(ao.geo.conicEquidistant=function(){return Vt(ke)}).raw=ke;var Ka=we(function(n){return 1/n},Math.atan);(ao.geo.gnomonic=function(){return oe(Ka)}).raw=Ka,Ne.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Ho]},(ao.geo.mercator=function(){return Ee(Ne)}).raw=Ne;var Qa=we(function(){return 1},Math.asin);(ao.geo.orthographic=function(){return oe(Qa)}).raw=Qa;var nl=we(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ao.geo.stereographic=function(){return oe(nl)}).raw=nl,Ae.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Ho]},(ao.geo.transverseMercator=function(){var n=Ee(Ae),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ae,ao.geom={},ao.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,i=En(e),u=En(r),o=n.length,a=[],l=[];for(t=0;t<o;t++)a.push([+i.call(this,n[t],t),+u.call(this,n[t],t),t]);for(a.sort(qe),t=0;t<o;t++)l.push([a[t][0],-a[t][1]]);var c=Le(a),f=Le(l),s=f[0]===c[0],h=f[f.length-1]===c[c.length-1],p=[];for(t=c.length-1;t>=0;--t)p.push(n[a[c[t]][2]]);for(t=+s;t<f.length-h;++t)p.push(n[a[f[t]][2]]);return p}var e=Ce,r=ze;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ao.geom.polygon=function(n){return wo(n,tl),n};var tl=ao.geom.polygon.prototype=[];tl.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return.5*i},tl.centroid=function(n){var t,e,r=-1,i=this.length,u=0,o=0,a=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++r<i;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],u+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[u*n,o*n]},tl.clip=function(n){for(var t,e,r,i,u,o,a=De(n),l=-1,c=this.length-De(this),f=this[c-1];++l<c;){for(t=n.slice(),n.length=0,i=this[l],u=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],Te(o,f,i)?(Te(u,f,i)||n.push(Re(u,o,f,i)),n.push(o)):Te(u,f,i)&&n.push(Re(u,o,f,i)),u=o;a&&n.push(n[0]),f=i}return n};var el,rl,il,ul,ol,al=[],ll=[];Ye.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Ve),t.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=or(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ur(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(ur(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,i=n.U,u=n.L,o=n.R;if(e=u?o?or(o):u:o,i?i.L===n?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=n.C,e.L=u,u.U=e,e!==o?(i=e.U,e.U=n.U,n=e.R,i.L=n,e.R=o,o.U=e):(e.U=i,i=e,n=e.R)):(r=n.C,n=e),n&&(n.U=i),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ir(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ur(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ir(this,i),n=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ur(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ir(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ur(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}},ao.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],i=a[0][1],u=a[1][0],o=a[1][1];return ar(e(n),a).cells.forEach(function(e,a){var l=e.edges,c=e.site,f=t[a]=l.length?l.map(function(n){var t=n.start();return[t.x,t.y]}):c.x>=r&&c.x<=u&&c.y>=i&&c.y<=o?[[r,o],[u,o],[u,i],[r,i]]:[];f.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(u(n,t)/Do)*Do,y:Math.round(o(n,t)/Do)*Do,i:t}})}var r=Ce,i=ze,u=r,o=i,a=cl;return n?t(n):(t.links=function(n){return ar(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return ar(e(n)).cells.forEach(function(e,r){for(var i,u,o=e.site,a=e.edges.sort(Ve),l=-1,c=a.length,f=a[c-1].edge,s=f.l===o?f.r:f.l;++l<c;)i=f,u=s,f=a[l].edge,s=f.l===o?f.r:f.l,r<u.i&&r<s.i&&cr(o,u,s)<0&&t.push([n[r],n[u.i],n[s.i]])}),t},t.x=function(n){return arguments.length?(u=En(r=n),t):r},t.y=function(n){return arguments.length?(o=En(i=n),t):i},t.clipExtent=function(n){return arguments.length?(a=null==n?cl:n,t):a===cl?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===cl?null:a&&a[1]},t)};var cl=[[-1e6,-1e6],[1e6,1e6]];ao.geom.delaunay=function(n){return ao.geom.voronoi().triangles(n)},ao.geom.quadtree=function(n,t,e,r,i){function u(n){function u(n,t,e,r,i,u,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var l=n.x,f=n.y;if(null!=l)if(mo(l-e)+mo(f-r)<.01)c(n,t,e,r,i,u,o,a);else{var s=n.point;n.x=n.y=n.point=null,c(n,s,l,f,i,u,o,a),c(n,t,e,r,i,u,o,a)}else n.x=e,n.y=r,n.point=t}else c(n,t,e,r,i,u,o,a)}function c(n,t,e,r,i,o,a,l){var c=.5*(i+a),f=.5*(o+l),s=e>=c,h=r>=f,p=h<<1|s;n.leaf=!1,n=n.nodes[p]||(n.nodes[p]=hr()),s?i=c:a=c,h?o=f:l=f,u(n,t,e,r,i,o,a,l)}var f,s,h,p,g,v,d,y,m,M=En(a),x=En(l);if(null!=t)v=t,d=e,y=r,m=i;else if(y=m=-(v=d=1/0),s=[],h=[],g=n.length,o)for(p=0;p<g;++p)f=n[p],f.x<v&&(v=f.x),f.y<d&&(d=f.y),f.x>y&&(y=f.x),f.y>m&&(m=f.y),s.push(f.x),h.push(f.y);else for(p=0;p<g;++p){var b=+M(f=n[p],p),_=+x(f,p);b<v&&(v=b),_<d&&(d=_),b>y&&(y=b),_>m&&(m=_),s.push(b),h.push(_)}var w=y-v,S=m-d;w>S?m=d+w:y=v+S;var k=hr();if(k.add=function(n){u(k,n,+M(n,++p),+x(n,p),v,d,y,m)},k.visit=function(n){pr(n,k,v,d,y,m)},k.find=function(n){return gr(k,n[0],n[1],v,d,y,m)},p=-1,null==t){for(;++p<g;)u(k,n[p],s[p],h[p],v,d,y,m);--p}else n.forEach(k.add);return s=h=n=f=null,k}var o,a=Ce,l=ze;return(o=arguments.length)?(a=fr,l=sr,3===o&&(i=e,r=t,e=t=0),u(n)):(u.x=function(n){return arguments.length?(a=n,u):a},u.y=function(n){return arguments.length?(l=n,u):l},u.extent=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),u):null==t?null:[[t,e],[r,i]]},u.size=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=e=0,r=+n[0],i=+n[1]),u):null==t?null:[r-t,i-e]},u)},ao.interpolateRgb=vr,ao.interpolateObject=dr,ao.interpolateNumber=yr,ao.interpolateString=mr;var fl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(fl.source,"g");ao.interpolate=Mr,ao.interpolators=[function(n,t){var e=typeof t;return("string"===e?ra.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?vr:mr:t instanceof an?vr:Array.isArray(t)?xr:"object"===e&&isNaN(t)?dr:yr)(n,t)}],ao.interpolateArray=xr;var hl=function(){return m},pl=ao.map({linear:hl,poly:Er,quad:function(){return Sr},cubic:function(){return kr},sin:function(){return Ar},exp:function(){return Cr},circle:function(){return zr},elastic:Lr,back:qr,bounce:function(){return Tr}}),gl=ao.map({in:m,out:_r,"in-out":wr,"out-in":function(n){return wr(_r(n))}});ao.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=pl.get(e)||hl,r=gl.get(r)||m,br(r(e.apply(null,lo.call(arguments,1))))},ao.interpolateHcl=Rr,ao.interpolateHsl=Dr,ao.interpolateLab=Pr,ao.interpolateRound=Ur,ao.transform=function(n){var t=fo.createElementNS(ao.ns.prefix.svg,"g");return(ao.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new jr(e?e.matrix:vl)})(n)},jr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var vl={a:1,b:0,c:0,d:1,e:0,f:0};ao.interpolateTransform=$r,ao.layout={},ao.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Jr(n[e]));return t}},ao.layout.chord=function(){function n(){var n,c,s,h,p,g={},v=[],d=ao.range(u),y=[];for(e=[],r=[],n=0,h=-1;++h<u;){for(c=0,p=-1;++p<u;)c+=i[h][p];v.push(c),y.push(ao.range(u)),n+=c}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&y.forEach(function(n,t){n.sort(function(n,e){return a(i[t][n],i[t][e])})}),n=(jo-f*u)/n,c=0,h=-1;++h<u;){for(s=c,p=-1;++p<u;){var m=d[h],M=y[m][p],x=i[m][M],b=c,_=c+=x*n;g[m+"-"+M]={index:m,subindex:M,startAngle:b,endAngle:_,value:x}}r[m]={index:m,startAngle:s,endAngle:c,value:v[m]},c+=f}for(h=-1;++h<u;)for(p=h-1;++p<u;){var w=g[h+"-"+p],S=g[p+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}l&&t()}function t(){e.sort(function(n,t){return l((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,i,u,o,a,l,c={},f=0;return c.matrix=function(n){return arguments.length?(u=(i=n)&&i.length,e=r=null,c):i},c.padding=function(n){return arguments.length?(f=n,e=r=null,c):f},c.sortGroups=function(n){return arguments.length?(o=n,e=r=null,c):o},c.sortSubgroups=function(n){return arguments.length?(a=n,e=null,c):a},c.sortChords=function(n){return arguments.length?(l=n,e&&t(),c):l},c.chords=function(){return e||n(),e},c.groups=function(){return r||n(),r},c},ao.layout.force=function(){function n(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,o=t.cy-n.y,a=i-e,l=u*u+o*o;if(a*a/y<l){if(l<v){var c=t.charge/l;n.px-=u*c,n.py-=o*c}return!0}if(t.point&&l&&l<v){var c=t.pointCharge/l;n.px-=u*c,n.py-=o*c}}return!t.charge}}function t(n){n.px=ao.event.x,n.py=ao.event.y,l.resume()}var e,r,i,u,o,a,l={},c=ao.dispatch("start","tick","end"),f=[1,1],s=.9,h=dl,p=yl,g=-30,v=ml,d=.1,y=.64,M=[],x=[];return l.tick=function(){if((i*=.99)<.005)return e=null,c.end({type:"end",alpha:i=0}),!0;var t,r,l,h,p,v,y,m,b,_=M.length,w=x.length;for(r=0;r<w;++r)l=x[r],h=l.source,p=l.target,m=p.x-h.x,b=p.y-h.y,(v=m*m+b*b)&&(v=i*o[r]*((v=Math.sqrt(v))-u[r])/v,m*=v,b*=v,p.x-=m*(y=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=b*y,h.x+=m*(y=1-y),h.y+=b*y);if((y=i*d)&&(m=f[0]/2,b=f[1]/2,r=-1,y))for(;++r<_;)l=M[r],l.x+=(m-l.x)*y,l.y+=(b-l.y)*y;if(g)for(ri(t=ao.geom.quadtree(M),i,a),r=-1;++r<_;)(l=M[r]).fixed||t.visit(n(l));for(r=-1;++r<_;)l=M[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*s,l.y-=(l.py-(l.py=l.y))*s);c.tick({type:"tick",alpha:i})},l.nodes=function(n){return arguments.length?(M=n,l):M},l.links=function(n){return arguments.length?(x=n,l):x},l.size=function(n){return arguments.length?(f=n,l):f},l.linkDistance=function(n){return arguments.length?(h="function"==typeof n?n:+n,l):h},l.distance=l.linkDistance,l.linkStrength=function(n){return arguments.length?(p="function"==typeof n?n:+n,l):p},l.friction=function(n){return arguments.length?(s=+n,l):s},l.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,l):g},l.chargeDistance=function(n){return arguments.length?(v=n*n,l):Math.sqrt(v)},l.gravity=function(n){return arguments.length?(d=+n,l):d},l.theta=function(n){return arguments.length?(y=n*n,l):Math.sqrt(y)},l.alpha=function(n){return arguments.length?(n=+n,i?n>0?i=n:(e.c=null,e.t=NaN,e=null,c.end({type:"end",alpha:i=0})):n>0&&(c.start({type:"start",alpha:i=n}),e=qn(l.tick)),l):i},l.start=function(){function n(n,r){if(!e){for(e=new Array(i),l=0;l<i;++l)e[l]=[];for(l=0;l<c;++l){var u=x[l];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var o,a=e[t],l=-1,f=a.length;++l<f;)if(!isNaN(o=a[l][n]))return o;return Math.random()*r}var t,e,r,i=M.length,c=x.length,s=f[0],v=f[1];for(t=0;t<i;++t)(r=M[t]).index=t,r.weight=0;for(t=0;t<c;++t)r=x[t],"number"==typeof r.source&&(r.source=M[r.source]),"number"==typeof r.target&&(r.target=M[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<i;++t)r=M[t],isNaN(r.x)&&(r.x=n("x",s)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof h)for(t=0;t<c;++t)u[t]=+h.call(this,x[t],t);else for(t=0;t<c;++t)u[t]=h;if(o=[],"function"==typeof p)for(t=0;t<c;++t)o[t]=+p.call(this,x[t],t);else for(t=0;t<c;++t)o[t]=p;if(a=[],"function"==typeof g)for(t=0;t<i;++t)a[t]=+g.call(this,M[t],t);else for(t=0;t<i;++t)a[t]=g;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=ao.behavior.drag().origin(m).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",ni)),arguments.length?void this.on("mouseover.force",ti).on("mouseout.force",ei).call(r):r},ao.rebind(l,c,"on")};var dl=20,yl=1,ml=1/0;ao.layout.hierarchy=function(){function n(i){var u,o=[i],a=[];for(i.depth=0;null!=(u=o.pop());)if(a.push(u),(c=e.call(n,u,u.depth))&&(l=c.length)){for(var l,c,f;--l>=0;)o.push(f=c[l]),f.parent=u,f.depth=u.depth+1;r&&(u.value=0),u.children=c}else r&&(u.value=+r.call(n,u,u.depth)||0),delete u.children;return oi(i,function(n){var e,i;t&&(e=n.children)&&e.sort(t),r&&(i=n.parent)&&(i.value+=n.value)}),a}var t=ci,e=ai,r=li;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(ui(t,function(n){n.children&&(n.value=0)}),oi(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ao.layout.partition=function(){function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(o=u.length)){var o,a,l,c=-1;for(r=t.value?r/t.value:0;++c<o;)n(a=u[c],e,l=a.value*r,i),e+=l}}function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,t(e[u]));return 1+r}function e(e,u){var o=r.call(this,e,u);return n(o[0],0,i[0],i[1]/t(o[0])),o}var r=ao.layout.hierarchy(),i=[1,1];return e.size=function(n){return arguments.length?(i=n,e):i},ii(e,r)},ao.layout.pie=function(){function n(o){var a,l=o.length,c=o.map(function(e,r){return+t.call(n,e,r)}),f=+("function"==typeof r?r.apply(this,arguments):r),s=("function"==typeof i?i.apply(this,arguments):i)-f,h=Math.min(Math.abs(s)/l,+("function"==typeof u?u.apply(this,arguments):u)),p=h*(s<0?-1:1),g=ao.sum(c),v=g?(s-l*p)/g:0,d=ao.range(l),y=[];return null!=e&&d.sort(e===Ml?function(n,t){return c[t]-c[n]}:function(n,t){return e(o[n],o[t])}),d.forEach(function(n){y[n]={data:o[n],value:a=c[n],startAngle:f,endAngle:f+=a*v+p,padAngle:h}}),y}var t=Number,e=Ml,r=0,i=jo,u=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(i=t,n):i},n.padAngle=function(t){return arguments.length?(u=t,n):u},n};var Ml={};ao.layout.stack=function(){function n(a,l){if(!(h=a.length))return a;var c=a.map(function(e,r){return t.call(n,e,r)}),f=c.map(function(t){return t.map(function(t,e){return[u.call(n,t,e),o.call(n,t,e)]})}),s=e.call(n,f,l);c=ao.permute(c,s),f=ao.permute(f,s);var h,p,g,v,d=r.call(n,f,l),y=c[0].length;for(g=0;g<y;++g)for(i.call(n,c[0][g],v=d[g],f[0][g][1]),p=1;p<h;++p)i.call(n,c[p][g],v+=f[p-1][g][1],f[p][g][1]);return a}var t=m,e=gi,r=vi,i=pi,u=si,o=hi;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:xl.get(t)||gi,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:bl.get(t)||vi,n):r},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(i=t,n):i},n};var xl=ao.map({"inside-out":function(n){var t,e,r=n.length,i=n.map(di),u=n.map(yi),o=ao.range(r).sort(function(n,t){return i[n]-i[t]}),a=0,l=0,c=[],f=[];for(t=0;t<r;++t)e=o[t],a<l?(a+=u[e],c.push(e)):(l+=u[e],f.push(e));return f.reverse().concat(c)},reverse:function(n){return ao.range(n.length).reverse()},default:gi}),bl=ao.map({silhouette:function(n){var t,e,r,i=n.length,u=n[0].length,o=[],a=0,l=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;e<u;++e)l[e]=(a-o[e])/2;return l},wiggle:function(n){var t,e,r,i,u,o,a,l,c,f=n.length,s=n[0],h=s.length,p=[];for(p[0]=l=c=0,e=1;e<h;++e){for(t=0,i=0;t<f;++t)i+=n[t][e][1];for(t=0,u=0,a=s[e][0]-s[e-1][0];t<f;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);r<t;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;u+=o*n[t][e][1]}p[e]=l-=i?u/i*a:0,l<c&&(c=l)}for(e=0;e<h;++e)p[e]-=c;return p},expand:function(n){var t,e,r,i=n.length,u=n[0].length,o=1/i,a=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];if(r)for(t=0;t<i;t++)n[t][e][1]/=r;else for(t=0;t<i;t++)n[t][e][1]=o}for(e=0;e<u;++e)a[e]=0;return a},zero:vi});ao.layout.histogram=function(){function n(n,u){for(var o,a,l=[],c=n.map(e,this),f=r.call(this,c,u),s=i.call(this,f,c,u),u=-1,h=c.length,p=s.length-1,g=t?1:1/h;++u<p;)o=l[u]=[],o.dx=s[u+1]-(o.x=s[u]),o.y=0;if(p>0)for(u=-1;++u<h;)a=c[u],a>=f[0]&&a<=f[1]&&(o=l[ao.bisect(s,a,1,p)-1],o.y+=g,o.push(n[u]));return l}var t=!0,e=Number,r=bi,i=Mi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=En(t),n):r},n.bins=function(t){return arguments.length?(i="number"==typeof t?function(n){return xi(n,t)}:En(t),n):i},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ao.layout.pack=function(){function n(n,u){var o=e.call(this,n,u),a=o[0],l=i[0],c=i[1],f=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,oi(a,function(n){n.r=+f(n.value)}),oi(a,Ni),r){var s=r*(t?1:Math.max(2*a.r/l,2*a.r/c))/2;oi(a,function(n){n.r+=s}),oi(a,Ni),oi(a,function(n){n.r-=s})}return Ci(a,l/2,c/2,t?1:1/Math.max(2*a.r/l,2*a.r/c)),o}var t,e=ao.layout.hierarchy().sort(_i),r=0,i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},ii(n,e)},ao.layout.tree=function(){function n(n,i){var f=o.call(this,n,i),s=f[0],h=t(s);if(oi(h,e),h.parent.m=-h.z,ui(h,r),c)ui(s,u);else{var p=s,g=s,v=s;ui(s,function(n){n.x<p.x&&(p=n),n.x>g.x&&(g=n),n.depth>v.depth&&(v=n)});var d=a(p,g)/2-p.x,y=l[0]/(g.x+a(g,p)/2+d),m=l[1]/(v.depth||1);ui(s,function(n){n.x=(n.x+d)*y,n.y=n.depth*m})}return f}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var i,u=t.children,o=0,a=u.length;o<a;++o)r.push((u[o]=i={_:u[o],parent:t,children:(i=u[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Di(n);var u=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-u):n.z=u}else r&&(n.z=r.z+a(n._,r._));n.parent.A=i(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function i(n,t,e){if(t){for(var r,i=n,u=n,o=t,l=i.parent.children[0],c=i.m,f=u.m,s=o.m,h=l.m;o=Ti(o),i=qi(i),o&&i;)l=qi(l),u=Ti(u),u.a=n,r=o.z+s-i.z-c+a(o._,i._),r>0&&(Ri(Pi(o,n,e),n,r),c+=r,f+=r),s+=o.m,c+=i.m,h+=l.m,f+=u.m;o&&!Ti(u)&&(u.t=o,u.m+=s-f),i&&!qi(l)&&(l.t=i,l.m+=c-h,e=n)}return e}function u(n){n.x*=l[0],n.y=n.depth*l[1]}var o=ao.layout.hierarchy().sort(null).value(null),a=Li,l=[1,1],c=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(c=null==(l=t)?u:null,n):c?null:l},n.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:u,n):c?l:null},ii(n,o)},ao.layout.cluster=function(){function n(n,u){var o,a=t.call(this,n,u),l=a[0],c=0;oi(l,function(n){var t=n.children;t&&t.length?(n.x=ji(t),n.y=Ui(t)):(n.x=o?c+=e(n,o):0,n.y=0,o=n)});var f=Fi(l),s=Hi(l),h=f.x-e(f,s)/2,p=s.x+e(s,f)/2;return oi(l,i?function(n){n.x=(n.x-l.x)*r[0],n.y=(l.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(p-h)*r[0],n.y=(1-(l.y?n.y/l.y:1))*r[1]}),a}var t=ao.layout.hierarchy().sort(null).value(null),e=Li,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},ii(n,t)},ao.layout.treemap=function(){function n(n,t){for(var e,r,i=-1,u=n.length;++i<u;)r=(e=n[i]).value*(t<0?0:t),e.area=isNaN(r)||r<=0?0:r}function t(e){var u=e.children;if(u&&u.length){var o,a,l,c=s(e),f=[],h=u.slice(),g=1/0,v="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(n(h,c.dx*c.dy/e.value),f.area=0;(l=h.length)>0;)f.push(o=h[l-1]),f.area+=o.area,"squarify"!==p||(a=r(f,v))<=g?(h.pop(),g=a):(f.area-=f.pop().area,i(f,v,c,!1),v=Math.min(c.dx,c.dy),f.length=f.area=0,g=1/0);f.length&&(i(f,v,c,!0),f.length=f.area=0),u.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var u,o=s(t),a=r.slice(),l=[];for(n(a,o.dx*o.dy/t.value),l.area=0;u=a.pop();)l.push(u),l.area+=u.area,null!=u.z&&(i(l,u.z?o.dx:o.dy,o,!a.length),l.length=l.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,i=0,u=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(e<u&&(u=e),e>i&&(i=e));return r*=r,t*=t,r?Math.max(t*i*g/r,r/(t*u*g)):1/0}function i(n,t,e,r){var i,u=-1,o=n.length,a=e.x,c=e.y,f=t?l(n.area/t):0;
if(t==e.dx){for((r||f>e.dy)&&(f=e.dy);++u<o;)i=n[u],i.x=a,i.y=c,i.dy=f,a+=i.dx=Math.min(e.x+e.dx-a,f?l(i.area/f):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=f,e.dy-=f}else{for((r||f>e.dx)&&(f=e.dx);++u<o;)i=n[u],i.x=a,i.y=c,i.dx=f,c+=i.dy=Math.min(e.y+e.dy-c,f?l(i.area/f):0);i.z=!1,i.dy+=e.y+e.dy-c,e.x+=f,e.dx-=f}}function u(r){var i=o||a(r),u=i[0];return u.x=u.y=0,u.value?(u.dx=c[0],u.dy=c[1]):u.dx=u.dy=0,o&&a.revalue(u),n([u],u.dx*u.dy/u.value),(o?e:t)(u),h&&(o=i),i}var o,a=ao.layout.hierarchy(),l=Math.round,c=[1,1],f=null,s=Oi,h=!1,p="squarify",g=.5*(1+Math.sqrt(5));return u.size=function(n){return arguments.length?(c=n,u):c},u.padding=function(n){function t(t){var e=n.call(u,t,t.depth);return null==e?Oi(t):Ii(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Ii(t,n)}if(!arguments.length)return f;var r;return s=null==(f=n)?Oi:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,u},u.round=function(n){return arguments.length?(l=n?Math.round:Number,u):l!=Number},u.sticky=function(n){return arguments.length?(h=n,o=null,u):h},u.ratio=function(n){return arguments.length?(g=n,u):g},u.mode=function(n){return arguments.length?(p=n+"",u):p},ii(u,a)},ao.random={normal:function(n,t){var e=arguments.length;return e<2&&(t=1),e<1&&(n=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=ao.random.normal.apply(ao,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ao.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},ao.scale={};var _l={floor:m,ceil:m};ao.scale.linear=function(){return Wi([0,1],[0,1],Mr,!1)};var wl={s:1,g:1,p:1,r:1,e:1};ao.scale.log=function(){return ru(ao.scale.linear().domain([0,1]),10,!0,[1,10])};var Sl=ao.format(".0e"),kl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ao.scale.pow=function(){return iu(ao.scale.linear(),1,[0,1])},ao.scale.sqrt=function(){return ao.scale.pow().exponent(.5)},ao.scale.ordinal=function(){return ou([],{t:"range",a:[[]]})},ao.scale.category10=function(){return ao.scale.ordinal().range(Nl)},ao.scale.category20=function(){return ao.scale.ordinal().range(El)},ao.scale.category20b=function(){return ao.scale.ordinal().range(Al)},ao.scale.category20c=function(){return ao.scale.ordinal().range(Cl)};var Nl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),El=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),Al=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),Cl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);ao.scale.quantile=function(){return au([],[])},ao.scale.quantize=function(){return lu(0,1,[0,1])},ao.scale.threshold=function(){return cu([.5],[0,1])},ao.scale.identity=function(){return fu([0,1])},ao.svg={},ao.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),f=o.apply(this,arguments)-Ho,s=a.apply(this,arguments)-Ho,h=Math.abs(s-f),p=f>s?0:1;if(c<n&&(g=c,c=n,n=g),h>=Fo)return t(c,p)+(n?t(n,1-p):"")+"Z";var g,v,d,y,m,M,x,b,_,w,S,k,N=0,E=0,A=[];if((y=(+l.apply(this,arguments)||0)/2)&&(d=u===zl?Math.sqrt(n*n+c*c):+u.apply(this,arguments),p||(E*=-1),c&&(E=tn(d/c*Math.sin(y))),n&&(N=tn(d/n*Math.sin(y)))),c){m=c*Math.cos(f+E),M=c*Math.sin(f+E),x=c*Math.cos(s-E),b=c*Math.sin(s-E);var C=Math.abs(s-f-2*E)<=Uo?0:1;if(E&&yu(m,M,x,b)===p^C){var z=(f+s)/2;m=c*Math.cos(z),M=c*Math.sin(z),x=b=null}}else m=M=0;if(n){_=n*Math.cos(s-N),w=n*Math.sin(s-N),S=n*Math.cos(f+N),k=n*Math.sin(f+N);var L=Math.abs(f-s+2*N)<=Uo?0:1;if(N&&yu(_,w,S,k)===1-p^L){var q=(f+s)/2;_=n*Math.cos(q),w=n*Math.sin(q),S=k=null}}else _=w=0;if(h>Do&&(g=Math.min(Math.abs(c-n)/2,+i.apply(this,arguments)))>.001){v=n<c^p?0:1;var T=g,R=g;if(h<Uo){var D=null==S?[_,w]:null==x?[m,M]:Re([m,M],[S,k],[x,b],[_,w]),P=m-D[0],U=M-D[1],j=x-D[0],F=b-D[1],H=1/Math.sin(Math.acos((P*j+U*F)/(Math.sqrt(P*P+U*U)*Math.sqrt(j*j+F*F)))/2),O=Math.sqrt(D[0]*D[0]+D[1]*D[1]);R=Math.min(g,(n-O)/(H-1)),T=Math.min(g,(c-O)/(H+1))}if(null!=x){var I=mu(null==S?[_,w]:[S,k],[m,M],c,T,p),Y=mu([x,b],[_,w],c,T,p);g===T?A.push("M",I[0],"A",T,",",T," 0 0,",v," ",I[1],"A",c,",",c," 0 ",1-p^yu(I[1][0],I[1][1],Y[1][0],Y[1][1]),",",p," ",Y[1],"A",T,",",T," 0 0,",v," ",Y[0]):A.push("M",I[0],"A",T,",",T," 0 1,",v," ",Y[0])}else A.push("M",m,",",M);if(null!=S){var Z=mu([m,M],[S,k],n,-R,p),V=mu([_,w],null==x?[m,M]:[x,b],n,-R,p);g===R?A.push("L",V[0],"A",R,",",R," 0 0,",v," ",V[1],"A",n,",",n," 0 ",p^yu(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-p," ",Z[1],"A",R,",",R," 0 0,",v," ",Z[0]):A.push("L",V[0],"A",R,",",R," 0 0,",v," ",Z[0])}else A.push("L",_,",",w)}else A.push("M",m,",",M),null!=x&&A.push("A",c,",",c," 0 ",C,",",p," ",x,",",b),A.push("L",_,",",w),null!=S&&A.push("A",n,",",n," 0 ",L,",",1-p," ",S,",",k);return A.push("Z"),A.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=hu,r=pu,i=su,u=zl,o=gu,a=vu,l=du;return n.innerRadius=function(t){return arguments.length?(e=En(t),n):e},n.outerRadius=function(t){return arguments.length?(r=En(t),n):r},n.cornerRadius=function(t){return arguments.length?(i=En(t),n):i},n.padRadius=function(t){return arguments.length?(u=t==zl?zl:En(t),n):u},n.startAngle=function(t){return arguments.length?(o=En(t),n):o},n.endAngle=function(t){return arguments.length?(a=En(t),n):a},n.padAngle=function(t){return arguments.length?(l=En(t),n):l},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Ho;return[Math.cos(t)*n,Math.sin(t)*n]},n};var zl="auto";ao.svg.line=function(){return Mu(m)};var Ll=ao.map({linear:xu,"linear-closed":bu,step:_u,"step-before":wu,"step-after":Su,basis:zu,"basis-open":Lu,"basis-closed":qu,bundle:Tu,cardinal:Eu,"cardinal-open":ku,"cardinal-closed":Nu,monotone:Fu});Ll.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var ql=[0,2/3,1/3,0],Tl=[0,1/3,2/3,0],Rl=[0,1/6,2/3,1/6];ao.svg.line.radial=function(){var n=Mu(Hu);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},wu.reverse=Su,Su.reverse=wu,ao.svg.area=function(){return Ou(m)},ao.svg.area.radial=function(){var n=Ou(Hu);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ao.svg.chord=function(){function n(n,a){var l=t(this,u,n,a),c=t(this,o,n,a);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(e(l,c)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,l.r,l.p0))+"Z"}function t(n,t,e,r){var i=t.call(n,e,r),u=a.call(n,i,r),o=l.call(n,i,r)-Ho,f=c.call(n,i,r)-Ho;return{r:u,a0:o,a1:f,p0:[u*Math.cos(o),u*Math.sin(o)],p1:[u*Math.cos(f),u*Math.sin(f)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>Uo)+",1 "+t}function i(n,t,e,r){return"Q 0,0 "+r}var u=Me,o=xe,a=Iu,l=gu,c=vu;return n.radius=function(t){return arguments.length?(a=En(t),n):a},n.source=function(t){return arguments.length?(u=En(t),n):u},n.target=function(t){return arguments.length?(o=En(t),n):o},n.startAngle=function(t){return arguments.length?(l=En(t),n):l},n.endAngle=function(t){return arguments.length?(c=En(t),n):c},n},ao.svg.diagonal=function(){function n(n,i){var u=t.call(this,n,i),o=e.call(this,n,i),a=(u.y+o.y)/2,l=[u,{x:u.x,y:a},{x:o.x,y:a},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Me,e=xe,r=Yu;return n.source=function(e){return arguments.length?(t=En(e),n):t},n.target=function(t){return arguments.length?(e=En(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ao.svg.diagonal.radial=function(){var n=ao.svg.diagonal(),t=Yu,e=n.projection;return n.projection=function(n){return arguments.length?e(Zu(t=n)):t},n},ao.svg.symbol=function(){function n(n,r){return(Dl.get(t.call(this,n,r))||$u)(e.call(this,n,r))}var t=Xu,e=Vu;return n.type=function(e){return arguments.length?(t=En(e),n):t},n.size=function(t){return arguments.length?(e=En(t),n):e},n};var Dl=ao.map({circle:$u,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Ul)),e=t*Ul;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Pl),e=t*Pl/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Pl),e=t*Pl/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ao.svg.symbolTypes=Dl.keys();var Pl=Math.sqrt(3),Ul=Math.tan(30*Oo);Eo.transition=function(n){for(var t,e,r=jl||++Il,i=Ku(n),u=[],o=Fl||{time:Date.now(),ease:Nr,delay:0,duration:250},a=-1,l=this.length;++a<l;){u.push(t=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(e=c[f])&&Qu(e,f,i,r,o),t.push(e)}return Wu(u,i,r)},Eo.interrupt=function(n){return this.each(null==n?Hl:Bu(Ku(n)))};var jl,Fl,Hl=Bu(Ku()),Ol=[],Il=0;Ol.call=Eo.call,Ol.empty=Eo.empty,Ol.node=Eo.node,Ol.size=Eo.size,ao.transition=function(n,t){return n&&n.transition?jl?n.transition(t):n:ao.selection().transition(n)},ao.transition.prototype=Ol,Ol.select=function(n){var t,e,r,i=this.id,u=this.namespace,o=[];n=A(n);for(var a=-1,l=this.length;++a<l;){o.push(t=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(r=c[f])&&(e=n.call(r,r.__data__,f,a))?("__data__"in r&&(e.__data__=r.__data__),Qu(e,f,u,i,r[u][i]),t.push(e)):t.push(null)}return Wu(o,u,i)},Ol.selectAll=function(n){var t,e,r,i,u,o=this.id,a=this.namespace,l=[];n=C(n);for(var c=-1,f=this.length;++c<f;)for(var s=this[c],h=-1,p=s.length;++h<p;)if(r=s[h]){u=r[a][o],e=n.call(r,r.__data__,h,c),l.push(t=[]);for(var g=-1,v=e.length;++g<v;)(i=e[g])&&Qu(i,g,a,o,u),t.push(i)}return Wu(l,a,o)},Ol.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){i.push(t=[]);for(var e=this[u],a=0,l=e.length;a<l;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return Wu(i,this.namespace,this.id)},Ol.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(i){i[r][e].tween.set(n,t)})},Ol.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function u(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?$r:Mr,a=ao.ns.qualify(n);return Ju(this,"attr."+n,t,a.local?u:i)},Ol.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(i));return r&&function(n){this.setAttribute(i,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(i.space,i.local));return r&&function(n){this.setAttributeNS(i.space,i.local,r(n))}}var i=ao.ns.qualify(n);return this.tween("attr."+n,i.local?r:e)},Ol.style=function(n,e,r){function i(){this.style.removeProperty(n)}function u(e){return null==e?i:(e+="",function(){var i,u=t(this).getComputedStyle(this,null).getPropertyValue(n);return u!==e&&(i=Mr(u,e),function(t){this.style.setProperty(n,i(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof n){o<2&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Ju(this,"style."+n,e,u)},Ol.styleTween=function(n,e,r){function i(i,u){var o=e.call(this,i,u,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,i)},Ol.text=function(n){return Ju(this,"text",n,Gu)},Ol.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ol.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ao.ease.apply(ao,arguments)),Y(this,function(r){r[e][t].ease=n}))},Ol.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,i,u){r[e][t].delay=+n.call(r,r.__data__,i,u)}:(n=+n,function(r){r[e][t].delay=n}))},Ol.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,i,u){r[e][t].duration=Math.max(1,n.call(r,r.__data__,i,u))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Ol.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var i=Fl,u=jl;try{jl=e,Y(this,function(t,i,u){Fl=t[r][e],n.call(t,t.__data__,i,u)})}finally{Fl=i,jl=u}}else Y(this,function(i){var u=i[r][e];(u.event||(u.event=ao.dispatch("start","end","interrupt"))).on(n,t)});return this},Ol.transition=function(){for(var n,t,e,r,i=this.id,u=++Il,o=this.namespace,a=[],l=0,c=this.length;l<c;l++){a.push(n=[]);for(var t=this[l],f=0,s=t.length;f<s;f++)(e=t[f])&&(r=e[o][i],Qu(e,f,o,u,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Wu(a,o,u)},ao.svg.axis=function(){function n(n){n.each(function(){var n,c=ao.select(this),f=this.__chart__||e,s=this.__chart__=e.copy(),h=null==l?s.ticks?s.ticks.apply(s,a):s.domain():l,p=null==t?s.tickFormat?s.tickFormat.apply(s,a):m:t,g=c.selectAll(".tick").data(h,s),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Do),d=ao.transition(g.exit()).style("opacity",Do).remove(),y=ao.transition(g.order()).style("opacity",1),M=Math.max(i,0)+o,x=Zi(s),b=c.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ao.transition(b));v.append("line"),v.append("text");var w,S,k,N,E=v.select("line"),A=y.select("line"),C=g.select("text").text(p),z=v.select("text"),L=y.select("text"),q="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=no,w="x",k="y",S="x2",N="y2",C.attr("dy",q<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+q*u+"V0H"+x[1]+"V"+q*u)):(n=to,w="y",k="x",S="y2",N="x2",C.attr("dy",".32em").style("text-anchor",q<0?"end":"start"),_.attr("d","M"+q*u+","+x[0]+"H0V"+x[1]+"H"+q*u)),E.attr(N,q*i),z.attr(k,q*M),A.attr(S,0).attr(N,q*i),L.attr(w,0).attr(k,q*M),s.rangeBand){var T=s,R=T.rangeBand()/2;f=s=function(n){return T(n)+R}}else f.rangeBand?f=s:d.call(n,s,f);v.call(n,f,s),y.call(n,s,s)})}var t,e=ao.scale.linear(),r=Yl,i=6,u=6,o=3,a=[10],l=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Zl?t+"":Yl,n):r},n.ticks=function(){return arguments.length?(a=co(arguments),n):a},n.tickValues=function(t){return arguments.length?(l=t,n):l},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(i=+t,u=+arguments[e-1],n):i},n.innerTickSize=function(t){return arguments.length?(i=+t,n):i},n.outerTickSize=function(t){return arguments.length?(u=+t,n):u},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var Yl="bottom",Zl={top:1,right:1,bottom:1,left:1};ao.svg.brush=function(){function n(t){t.each(function(){var t=ao.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,m);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Vl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var l,s=ao.transition(t),h=ao.transition(o);c&&(l=Zi(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(s)),f&&(l=Zi(f),h.attr("y",l[0]).attr("height",l[1]-l[0]),i(s)),e(s)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+s[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",s[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function i(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function u(){function u(){32==ao.event.keyCode&&(C||(M=null,L[0]-=s[1],L[1]-=h[1],C=2),S())}function v(){32==ao.event.keyCode&&2==C&&(L[0]+=s[1],L[1]+=h[1],C=0,S())}function d(){var n=ao.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(ao.event.altKey?(M||(M=[(s[0]+s[1])/2,(h[0]+h[1])/2]),L[0]=s[+(n[0]<M[0])],L[1]=h[+(n[1]<M[1])]):M=null),E&&y(n,c,0)&&(r(k),t=!0),A&&y(n,f,1)&&(i(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function y(n,t,e){var r,i,u=Zi(t),l=u[0],c=u[1],f=L[e],v=e?h:s,d=v[1]-v[0];if(C&&(l-=f,c-=d+f),r=(e?g:p)?Math.max(l,Math.min(c,n[e])):n[e],C?i=(r+=f)+d:(M&&(f=Math.max(l,Math.min(c,2*M[e]-r))),f<r?(i=r,r=f):i=f),v[0]!=r||v[1]!=i)return e?a=null:o=null,v[0]=r,v[1]=i,!0}function m(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ao.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=ao.select(ao.event.target),w=l.of(b,arguments),k=ao.select(b),N=_.datum(),E=!/^(n|s)$/.test(N)&&c,A=!/^(e|w)$/.test(N)&&f,C=_.classed("extent"),z=W(b),L=ao.mouse(b),q=ao.select(t(b)).on("keydown.brush",u).on("keyup.brush",v);if(ao.event.changedTouches?q.on("touchmove.brush",d).on("touchend.brush",m):q.on("mousemove.brush",d).on("mouseup.brush",m),k.interrupt().selectAll("*").interrupt(),C)L[0]=s[0]-L[0],L[1]=h[0]-L[1];else if(N){var T=+/w$/.test(N),R=+/^n/.test(N);x=[s[1-T]-L[0],h[1-R]-L[1]],L[0]=s[T],L[1]=h[R]}else ao.event.altKey&&(M=L.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ao.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,l=N(n,"brushstart","brush","brushend"),c=null,f=null,s=[0,0],h=[0,0],p=!0,g=!0,v=Xl[0];return n.event=function(n){n.each(function(){var n=l.of(this,arguments),t={x:s,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,jl?ao.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,s=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(s,t.x),r=xr(h,t.y);return o=a=null,function(i){s=t.x=e(i),h=t.y=r(i),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,v=Xl[!c<<1|!f],n):c},n.y=function(t){return arguments.length?(f=t,v=Xl[!c<<1|!f],n):f},n.clamp=function(t){return arguments.length?(c&&f?(p=!!t[0],g=!!t[1]):c?p=!!t:f&&(g=!!t),n):c&&f?[p,g]:c?p:f?g:null},n.extent=function(t){var e,r,i,u,l;return arguments.length?(c&&(e=t[0],r=t[1],f&&(e=e[0],r=r[0]),o=[e,r],c.invert&&(e=c(e),r=c(r)),r<e&&(l=e,e=r,r=l),e==s[0]&&r==s[1]||(s=[e,r])),f&&(i=t[0],u=t[1],c&&(i=i[1],u=u[1]),a=[i,u],f.invert&&(i=f(i),u=f(u)),u<i&&(l=i,i=u,u=l),i==h[0]&&u==h[1]||(h=[i,u])),n):(c&&(o?(e=o[0],r=o[1]):(e=s[0],r=s[1],c.invert&&(e=c.invert(e),r=c.invert(r)),r<e&&(l=e,e=r,r=l))),f&&(a?(i=a[0],u=a[1]):(i=h[0],u=h[1],f.invert&&(i=f.invert(i),u=f.invert(u)),u<i&&(l=i,i=u,u=l))),c&&f?[[e,i],[r,u]]:c?[e,r]:f&&[i,u])},n.clear=function(){return n.empty()||(s=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!c&&s[0]==s[1]||!!f&&h[0]==h[1]},ao.rebind(n,l,"on")};var Vl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Xl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],$l=ha.format=ma.timeFormat,Bl=$l.utc,Wl=Bl("%Y-%m-%dT%H:%M:%S.%LZ");$l.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eo:Wl,eo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},eo.toString=Wl.toString,ha.second=On(function(n){return new pa(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),ha.seconds=ha.second.range,ha.seconds.utc=ha.second.utc.range,ha.minute=On(function(n){return new pa(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),ha.minutes=ha.minute.range,ha.minutes.utc=ha.minute.utc.range,ha.hour=On(function(n){var t=n.getTimezoneOffset()/60;return new pa(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),ha.hours=ha.hour.range,ha.hours.utc=ha.hour.utc.range,ha.month=On(function(n){return n=ha.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),ha.months=ha.month.range,ha.months.utc=ha.month.utc.range;var Jl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gl=[[ha.second,1],[ha.second,5],[ha.second,15],[ha.second,30],[ha.minute,1],[ha.minute,5],[ha.minute,15],[ha.minute,30],[ha.hour,1],[ha.hour,3],[ha.hour,6],[ha.hour,12],[ha.day,1],[ha.day,2],[ha.week,1],[ha.month,1],[ha.month,3],[ha.year,1]],Kl=$l.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",zt]]),Ql={range:function(n,t,e){return ao.range(Math.ceil(n/e)*e,+t,e).map(io)},floor:m,ceil:m};Gl.year=ha.year,ha.scale=function(){return ro(ao.scale.linear(),Gl,Kl)};var nc=Gl.map(function(n){return[n[0].utc,n[1]]}),tc=Bl.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",zt]]);nc.year=ha.year.utc,ha.scale.utc=function(){return ro(ao.scale.linear(),nc,tc)},ao.text=An(function(n){return n.responseText}),ao.json=function(n,t){return Cn(n,"application/json",uo,t)},ao.html=function(n,t){return Cn(n,"text/html",oo,t)},ao.xml=An(function(n){return n.responseXML}),"function"==typeof define&&define.amd?(this.d3=ao,define(ao)):"object"==typeof module&&module.exports?module.exports=ao:this.d3=ao}();
},{}],467:[function(require,module,exports){
(function (process,global){
(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function e(t){return"object"==typeof t&&null!==t}function r(t){U=t}function o(t){G=t}function i(){return function(){process.nextTick(f)}}function u(){return function(){N(f)}}function s(){var t=0,n=new Q(f),e=document.createTextNode("");return n.observe(e,{characterData:!0}),function(){e.data=t=++t%2}}function c(){var t=new MessageChannel;return t.port1.onmessage=f,function(){t.port2.postMessage(0)}}function a(){return function(){setTimeout(f,1)}}function f(){for(var t=0;t<B;t+=2){var n=X[t],e=X[t+1];n(e),X[t]=void 0,X[t+1]=void 0}B=0}function l(){try{var t=require,n=t("vertx");return N=n.runOnLoop||n.runOnContext,u()}catch(t){return a()}}function p(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(t){return nt.error=t,nt}}function d(t,n,e,r){try{t.call(n,e,r)}catch(t){return t}}function y(t,n,e){G(function(t){var r=!1,o=d(e,n,function(e){r||(r=!0,n!==e?g(t,e):A(t,e))},function(n){r||(r=!0,E(t,n))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,E(t,o))},t)}function m(t,n){n._state===$?A(t,n._result):n._state===tt?E(t,n._result):j(n,void 0,function(n){g(t,n)},function(n){E(t,n)})}function b(t,e){if(e.constructor===t.constructor)m(t,e);else{var r=v(e);r===nt?E(t,nt.error):void 0===r?A(t,e):n(r)?y(t,e,r):A(t,e)}}function g(n,e){n===e?E(n,_()):t(e)?b(n,e):A(n,e)}function w(t){t._onerror&&t._onerror(t._result),S(t)}function A(t,n){t._state===Z&&(t._result=n,t._state=$,0!==t._subscribers.length&&G(S,t))}function E(t,n){t._state===Z&&(t._state=tt,t._result=n,G(w,t))}function j(t,n,e,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=n,o[i+$]=e,o[i+tt]=r,0===i&&t._state&&G(S,t)}function S(t){var n=t._subscribers,e=t._state;if(0!==n.length){for(var r,o,i=t._result,u=0;u<n.length;u+=3)r=n[u],o=n[u+e],r?x(e,r,o,i):o(i);t._subscribers.length=0}}function T(){this.error=null}function P(t,n){try{return t(n)}catch(t){return et.error=t,et}}function x(t,e,r,o){var i,u,s,c,a=n(r);if(a){if(i=P(r,o),i===et?(c=!0,u=i.error,i=null):s=!0,e===i)return void E(e,h())}else i=o,s=!0;e._state!==Z||(a&&s?g(e,i):c?E(e,u):t===$?A(e,i):t===tt&&E(e,i))}function C(t,n){try{n(function(n){g(t,n)},function(n){E(t,n)})}catch(n){E(t,n)}}function M(t,n){var e=this;e._instanceConstructor=t,e.promise=new t(p),e._validateInput(n)?(e._input=n,e.length=n.length,e._remaining=n.length,e._init(),0===e.length?A(e.promise,e._result):(e.length=e.length||0,e._enumerate(),0===e._remaining&&A(e.promise,e._result))):E(e.promise,e._validationError())}function O(t){return new rt(this,t).promise}function k(t){function n(t){g(o,t)}function e(t){E(o,t)}var r=this,o=new r(p);if(!z(t))return E(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,u=0;o._state===Z&&u<i;u++)j(r.resolve(t[u]),void 0,n,e);return o}function Y(t){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var e=new n(p);return g(e,t),e}function q(t){var n=this,e=new n(p);return E(e,t),e}function F(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function I(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function D(t){this._id=ct++,this._state=void 0,this._result=void 0,this._subscribers=[],p!==t&&(n(t)||F(),this instanceof D||I(),C(this,t))}function K(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=at)}var L;L=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var N,U,W,z=L,B=0,G=({}.toString,function(t,n){X[B]=t,X[B+1]=n,B+=2,2===B&&(U?U(f):W())}),H="undefined"!=typeof window?window:void 0,J=H||{},Q=J.MutationObserver||J.WebKitMutationObserver,R="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),V="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3);W=R?i():Q?s():V?c():void 0===H&&"function"==typeof require?l():a();var Z=void 0,$=1,tt=2,nt=new T,et=new T;M.prototype._validateInput=function(t){return z(t)},M.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},M.prototype._init=function(){this._result=new Array(this.length)};var rt=M;M.prototype._enumerate=function(){for(var t=this,n=t.length,e=t.promise,r=t._input,o=0;e._state===Z&&o<n;o++)t._eachEntry(r[o],o)},M.prototype._eachEntry=function(t,n){var r=this,o=r._instanceConstructor;e(t)?t.constructor===o&&t._state!==Z?(t._onerror=null,r._settledAt(t._state,n,t._result)):r._willSettleAt(o.resolve(t),n):(r._remaining--,r._result[n]=t)},M.prototype._settledAt=function(t,n,e){var r=this,o=r.promise;o._state===Z&&(r._remaining--,t===tt?E(o,e):r._result[n]=e),0===r._remaining&&A(o,r._result)},M.prototype._willSettleAt=function(t,n){var e=this;j(t,void 0,function(t){e._settledAt($,n,t)},function(t){e._settledAt(tt,n,t)})};var ot=O,it=k,ut=Y,st=q,ct=0,at=D;D.all=ot,D.race=it,D.resolve=ut,D.reject=st,D._setScheduler=r,D._setAsap=o,D._asap=G,D.prototype={constructor:D,then:function(t,n){var e=this,r=e._state;if(r===$&&!t||r===tt&&!n)return this;var o=new this.constructor(p),i=e._result;if(r){var u=arguments[r-1];G(function(){x(r,o,u,i)})}else j(e,o,t,n);return o},catch:function(t){return this.then(null,t)}};var ft=K,lt={Promise:at,polyfill:ft};"function"==typeof define&&define.amd?define(function(){return lt}):"undefined"!=typeof module&&module.exports?module.exports=lt:"undefined"!=typeof this&&(this.ES6Promise=lt),ft()}).call(this);
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":16}],468:[function(require,module,exports){
!function(e,t){var n="function"==typeof define,o="undefined"!=typeof module&&module.exports;n?define(t):o?module.exports=t():this[e]=t()}("GeoHasher",function(){var e=[16,8,4,2,1],t="0123456789bcdefghjkmnpqrstuvwxyz",n={right:{even:"bc01fg45238967deuvhjyznpkmstqrwx"},left:{even:"238967debc01fg45kmstqrwxuvhjyznp"},top:{even:"p0r21436x8zb9dcf5h7kjnmqesgutwvy"},bottom:{even:"14365h7k9dcfesgujnmqp0r2twvyx8zb"}},o={right:{even:"bcfguvyz"},left:{even:"0145hjnp"},top:{even:"prxz"},bottom:{even:"028b"}};n.bottom.odd=n.left.even,n.top.odd=n.right.even,n.left.odd=n.bottom.even,n.right.odd=n.top.even,o.bottom.odd=o.left.even,o.top.odd=o.right.even,o.left.odd=o.bottom.even,o.right.odd=o.top.even;var d=function(e,t,n){t&n?e[0]=(e[0]+e[1])/2:e[1]=(e[0]+e[1])/2},r=function(e,d){e=e.toLowerCase();var v=e.charAt(e.length-1),f=e.length%2?"odd":"even",u=e.substring(0,e.length-1);return o[d][f].indexOf(v)!==-1&&(u=r(u,d)),u+t[n[d][f].indexOf(v)]},v=function(n,o,d){var r=1,v=[-90,90],f=[-180,180],u=0,i=0;d=d||12;for(var h="";h.length<d;){var c;r?(c=(f[0]+f[1])/2,o>c?(i|=e[u],f[0]=c):f[1]=c):(c=(v[0]+v[1])/2,n>c?(i|=e[u],v[0]=c):v[1]=c),r=!r,u<4?u++:(h+=t[i],u=0,i=0)}return h},f=function(n){for(var o=1,r=[-90,90],v=[-180,180],f=90,u=180,i=0;i<n.length;i++)for(var h=n[i],c=t.indexOf(h),g=0;g<5;g++){var l=e[g];o?(u/=2,d(v,c,l)):(f/=2,d(r,c,l)),o=!o}return r[2]=(r[0]+r[1])/2,v[2]=(v[0]+v[1])/2,{latitude:r,longitude:v}};return{encode:v,decode:f,calculateAdjacent:r}});
},{}],469:[function(require,module,exports){
!function(){var t={VERSION:"2.3.5",Result:{SUCCEEDED:1,NOTRANSITION:2,CANCELLED:3,PENDING:4},Error:{INVALID_TRANSITION:100,PENDING_TRANSITION:200,INVALID_CALLBACK:300},WILDCARD:"*",ASYNC:"async",create:function(n,e){var r="string"==typeof n.initial?{state:n.initial}:n.initial,i=n.terminal||n.final,a=e||n.target||{},o=n.events||[],u=n.callbacks||{},f={},c={},s=function(n){var e=n.from instanceof Array?n.from:n.from?[n.from]:[t.WILDCARD];f[n.name]=f[n.name]||{};for(var r=0;r<e.length;r++)c[e[r]]=c[e[r]]||[],c[e[r]].push(n.name),f[n.name][e[r]]=n.to||e[r]};r&&(r.event=r.event||"startup",s({name:r.event,from:"none",to:r.state}));for(var l=0;l<o.length;l++)s(o[l]);for(var v in f)f.hasOwnProperty(v)&&(a[v]=t.buildEvent(v,f[v]));for(var v in u)u.hasOwnProperty(v)&&(a[v]=u[v]);return a.current="none",a.is=function(t){return t instanceof Array?t.indexOf(this.current)>=0:this.current===t},a.can=function(n){return!this.transition&&(f[n].hasOwnProperty(this.current)||f[n].hasOwnProperty(t.WILDCARD))},a.cannot=function(t){return!this.can(t)},a.transitions=function(){return c[this.current]},a.isFinished=function(){return this.is(i)},a.error=n.error||function(t,n,e,r,i,a,o){throw o||a},r&&!r.defer&&a[r.event](),a},doCallback:function(n,e,r,i,a,o){if(e)try{return e.apply(n,[r,i,a].concat(o))}catch(e){return n.error(r,i,a,o,t.Error.INVALID_CALLBACK,"an exception occurred in a caller-provided callback function",e)}},beforeAnyEvent:function(n,e,r,i,a){return t.doCallback(n,n.onbeforeevent,e,r,i,a)},afterAnyEvent:function(n,e,r,i,a){return t.doCallback(n,n.onafterevent||n.onevent,e,r,i,a)},leaveAnyState:function(n,e,r,i,a){return t.doCallback(n,n.onleavestate,e,r,i,a)},enterAnyState:function(n,e,r,i,a){return t.doCallback(n,n.onenterstate||n.onstate,e,r,i,a)},changeState:function(n,e,r,i,a){return t.doCallback(n,n.onchangestate,e,r,i,a)},beforeThisEvent:function(n,e,r,i,a){return t.doCallback(n,n["onbefore"+e],e,r,i,a)},afterThisEvent:function(n,e,r,i,a){return t.doCallback(n,n["onafter"+e]||n["on"+e],e,r,i,a)},leaveThisState:function(n,e,r,i,a){return t.doCallback(n,n["onleave"+r],e,r,i,a)},enterThisState:function(n,e,r,i,a){return t.doCallback(n,n["onenter"+i]||n["on"+i],e,r,i,a)},beforeEvent:function(n,e,r,i,a){if(!1===t.beforeThisEvent(n,e,r,i,a)||!1===t.beforeAnyEvent(n,e,r,i,a))return!1},afterEvent:function(n,e,r,i,a){t.afterThisEvent(n,e,r,i,a),t.afterAnyEvent(n,e,r,i,a)},leaveState:function(n,e,r,i,a){var o=t.leaveThisState(n,e,r,i,a),u=t.leaveAnyState(n,e,r,i,a);return!1!==o&&!1!==u&&(t.ASYNC===o||t.ASYNC===u?t.ASYNC:void 0)},enterState:function(n,e,r,i,a){t.enterThisState(n,e,r,i,a),t.enterAnyState(n,e,r,i,a)},buildEvent:function(n,e){return function(){var r=this.current,i=e[r]||e[t.WILDCARD]||r,a=Array.prototype.slice.call(arguments);if(this.transition)return this.error(n,r,i,a,t.Error.PENDING_TRANSITION,"event "+n+" inappropriate because previous transition did not complete");if(this.cannot(n))return this.error(n,r,i,a,t.Error.INVALID_TRANSITION,"event "+n+" inappropriate in current state "+this.current);if(!1===t.beforeEvent(this,n,r,i,a))return t.Result.CANCELLED;if(r===i)return t.afterEvent(this,n,r,i,a),t.Result.NOTRANSITION;var o=this;this.transition=function(){return o.transition=null,o.current=i,t.enterState(o,n,r,i,a),t.changeState(o,n,r,i,a),t.afterEvent(o,n,r,i,a),t.Result.SUCCEEDED},this.transition.cancel=function(){o.transition=null,t.afterEvent(o,n,r,i,a)};var u=t.leaveState(this,n,r,i,a);return!1===u?(this.transition=null,t.Result.CANCELLED):t.ASYNC===u?t.Result.PENDING:this.transition?this.transition():void 0}}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.StateMachine=t):"function"==typeof define&&define.amd?define(function(n){return t}):"undefined"!=typeof window?window.StateMachine=t:"undefined"!=typeof self&&(self.StateMachine=t)}();
},{}],470:[function(require,module,exports){
"use strict";function consoleAppender(o,e){return o=o||layouts.colouredLayout,function(n){consoleLog(o(n,e))}}function configure(o){var e;return o.layout&&(e=layouts.layout(o.layout.type,o.layout)),consoleAppender(e,o.timezoneOffset)}var layouts=require("../layouts"),consoleLog=console.log.bind(console);exports.appender=consoleAppender,exports.configure=configure;
},{"../layouts":473}],471:[function(require,module,exports){
"use strict";function getLogger(e,t){t="object"==typeof t?t||{}:t?{format:t}:{};var r=e,n=levels.toLevel(t.level,levels.INFO),o=t.format||DEFAULT_FORMAT,s=t.nolog?createNoLogCondition(t.nolog):null;return function(e,a,l){if(e._logging)return l();if(s&&s.test(e.originalUrl))return l();if(r.isLevelEnabled(n)||"auto"===t.level){var u,i=new Date,c=a.writeHead;e.originalUrl;e._logging=!0,a.writeHead=function(e,r){a.writeHead=c,a.writeHead(e,r),a.__statusCode=u=e,a.__headers=r||{},"auto"===t.level?(n=levels.INFO,e>=300&&(n=levels.WARN),e>=400&&(n=levels.ERROR)):n=levels.toLevel(t.level,levels.INFO)},a.on("finish",function(){if(a.responseTime=new Date-i,a.statusCode&&"auto"===t.level&&(n=levels.INFO,a.statusCode>=300&&(n=levels.WARN),a.statusCode>=400&&(n=levels.ERROR)),r.isLevelEnabled(n)){var s=assemble_tokens(e,a,t.tokens||[]);if("function"==typeof o){var l=o(e,a,function(e){return format(e,s)});l&&r.log(n,l)}else r.log(n,format(o,s))}})}l()}}function assemble_tokens(e,t,r){var n=function(e){for(var t=e.concat(),r=0;r<t.length;++r)for(var n=r+1;n<t.length;++n)t[r].token==t[n].token&&t.splice(n--,1);return t},o=[];return o.push({token:":url",replacement:e.originalUrl}),o.push({token:":protocol",replacement:e.protocol}),o.push({token:":hostname",replacement:e.hostname}),o.push({token:":method",replacement:e.method}),o.push({token:":status",replacement:t.__statusCode||t.statusCode}),o.push({token:":response-time",replacement:t.responseTime}),o.push({token:":date",replacement:(new Date).toUTCString()}),o.push({token:":referrer",replacement:e.headers.referer||e.headers.referrer||""}),o.push({token:":http-version",replacement:e.httpVersionMajor+"."+e.httpVersionMinor}),o.push({token:":remote-addr",replacement:e.headers["x-forwarded-for"]||e.ip||e._remoteAddress||e.socket&&(e.socket.remoteAddress||e.socket.socket&&e.socket.socket.remoteAddress)}),o.push({token:":user-agent",replacement:e.headers["user-agent"]}),o.push({token:":content-length",replacement:t._headers&&t._headers["content-length"]||t.__headers&&t.__headers["Content-Length"]||"-"}),o.push({token:/:req\[([^\]]+)\]/g,replacement:function(t,r){return e.headers[r.toLowerCase()]}}),o.push({token:/:res\[([^\]]+)\]/g,replacement:function(e,r){return t._headers?t._headers[r.toLowerCase()]||t.__headers[r]:t.__headers&&t.__headers[r]}}),n(r.concat(o))}function format(e,t){return _.reduce(t,function(e,t){return e.replace(t.token,t.replacement)},e)}function createNoLogCondition(e){var t=null;if(e&&(e instanceof RegExp&&(t=e),"string"==typeof e&&(t=new RegExp(e)),Array.isArray(e))){var r=e.map(function(e){return e.source?e.source:e});t=new RegExp(r.join("|"))}return t}var levels=require("./levels"),_=require("underscore"),DEFAULT_FORMAT=':remote-addr - - ":method :url HTTP/:http-version" :status :content-length ":referrer" ":user-agent"';exports.connectLogger=getLogger;
},{"./levels":474,"underscore":477}],472:[function(require,module,exports){
"use strict";function padWithZeros(e,t){for(var r=e+"";r.length<t;)r="0"+r;return r}function addZero(e){return padWithZeros(e,2)}function offset(e){var t=Math.abs(e),r=String(Math.floor(t/60)),s=String(t%60);return 1==r.length&&(r="0"+r),1==s.length&&(s="0"+s),e<0?"+"+r+s:"-"+r+s}exports.ISO8601_FORMAT="yyyy-MM-dd hh:mm:ss.SSS",exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ssO",exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS",exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS",exports.asString=function(e,t){var r=exports.ISO8601_FORMAT;"string"==typeof e&&(r=arguments[0],e=arguments[1],t=arguments[2]),void 0===t&&(t=e.getTimezoneOffset()),e.setUTCMinutes(e.getUTCMinutes()-t);var s=addZero(e.getUTCDate()),o=addZero(e.getUTCMonth()+1),a=addZero(e.getUTCFullYear()),d=addZero(e.getUTCFullYear().toString().substring(2,4)),n=r.indexOf("yyyy")>-1?a:d,g=addZero(e.getUTCHours()),T=addZero(e.getUTCMinutes()),i=addZero(e.getUTCSeconds()),M=padWithZeros(e.getUTCMilliseconds(),3),S=offset(t);e.setUTCMinutes(e.getUTCMinutes()+t);var h=r.replace(/dd/g,s).replace(/MM/g,o).replace(/y{1,4}/g,n).replace(/hh/g,g).replace(/mm/g,T).replace(/ss/g,i).replace(/SSS/g,M).replace(/O/g,S);return h};
},{}],473:[function(require,module,exports){
(function (process){
"use strict";function wrapErrorsWithInspect(t){return t.map(function(t){return t instanceof Error&&t.stack?{inspect:function(){return util.format(t)+"\n"+t.stack}}:t})}function formatLogData(t){var r=Array.isArray(t)?t:Array.prototype.slice.call(arguments);return util.format.apply(util,wrapErrorsWithInspect(r))}function colorizeStart(t){return t?"["+styles[t][0]+"m":""}function colorizeEnd(t){return t?"["+styles[t][1]+"m":""}function colorize(t,r){return colorizeStart(r)+t+colorizeEnd(r)}function timestampLevelAndCategory(t,r,e){var o=colorize(formatLogData("[%s] [%s] %s - ",dateFormat.asString(t.startTime,e),t.level,t.categoryName),r);return o}function basicLayout(t,r){return timestampLevelAndCategory(t,void 0,r)+formatLogData(t.data)}function colouredLayout(t,r){return timestampLevelAndCategory(t,colours[t.level.toString()],r)+formatLogData(t.data)}function messagePassThroughLayout(t){return formatLogData(t.data)}function dummyLayout(t){return t.data[0]}function patternLayout(t,r,e){function o(t,r){var e=t.categoryName;if(r){var o=parseInt(r,10),n=e.split(".");o<n.length&&(e=n.slice(n.length-o).join("."))}return e}function n(t,r){var o=dateFormat.ISO8601_FORMAT;return r&&(o=r,"ISO8601"==o?o=dateFormat.ISO8601_FORMAT:"ISO8601_WITH_TZ_OFFSET"==o?o=dateFormat.ISO8601_WITH_TZ_OFFSET_FORMAT:"ABSOLUTE"==o?o=dateFormat.ABSOLUTETIME_FORMAT:"DATE"==o&&(o=dateFormat.DATETIME_FORMAT)),dateFormat.asString(o,t.startTime,e)}function a(){return os.hostname().toString()}function u(t){return formatLogData(t.data)}function i(){return eol}function s(t){return t.level.toString()}function c(t){return dateFormat.asString("hh:mm:ss",t.startTime,e)}function l(t){return colorizeStart(colours[t.level.toString()])}function m(t){return colorizeEnd(colours[t.level.toString()])}function f(){return"%"}function y(t){return t&&t.pid?t.pid:process.pid}function d(t,r){return t.cluster&&r?r.replace("%m",t.cluster.master).replace("%w",t.cluster.worker).replace("%i",t.cluster.workerId):t.cluster?t.cluster.worker+"@"+t.cluster.master:y()}function g(t,e){return"undefined"!=typeof r[e]?"function"==typeof r[e]?r[e](t):r[e]:null}function p(t,r,e){return F[t](r,e)}function L(t,r){var e;return t?(e=parseInt(t.substr(1),10),r.substring(0,e)):r}function T(t,r){var e;if(t)if("-"==t.charAt(0))for(e=parseInt(t.substr(1),10);r.length<e;)r+=" ";else for(e=parseInt(t,10);r.length<e;)r=" "+r;return r}var h="%r %p %c - %m%n",v=/%(-?[0-9]+)?(\.?[0-9]+)?([\[\]cdhmnprzxy%])(\{([^\}]+)\})?|([^%]+)/;t=t||h;var F={c:o,d:n,h:a,m:u,n:i,p:s,r:c,"[":l,"]":m,y:d,z:y,"%":f,x:g};return function(r){for(var e,o="",n=t;e=v.exec(n);){var a=(e[0],e[1]),u=e[2],i=e[3],s=e[5],c=e[6];if(c)o+=""+c;else{var l=p(i,r,s);l=L(u,l),l=T(a,l),o+=l}n=n.substr(e.index+e[0].length)}return o}}var dateFormat=require("./date_format"),os=require("os"),eol=os.EOL||"\n",util=require("util"),replacementRegExp=/%[sdj]/g,layoutMakers={messagePassThrough:function(){return messagePassThroughLayout},basic:function(){return basicLayout},colored:function(){return colouredLayout},coloured:function(){return colouredLayout},pattern:function(t){return patternLayout(t&&t.pattern,t&&t.tokens)},dummy:function(){return dummyLayout}},colours={ALL:"grey",TRACE:"blue",DEBUG:"cyan",INFO:"green",WARN:"yellow",ERROR:"red",FATAL:"magenta",OFF:"grey"},styles={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};module.exports={basicLayout:basicLayout,messagePassThroughLayout:messagePassThroughLayout,patternLayout:patternLayout,colouredLayout:colouredLayout,coloredLayout:colouredLayout,dummyLayout:dummyLayout,addLayout:function(t,r){layoutMakers[t]=r},layout:function(t,r){return layoutMakers[t]&&layoutMakers[t](r)}};
}).call(this,require('_process'))

},{"./date_format":472,"_process":16,"os":2,"util":44}],474:[function(require,module,exports){
"use strict";function Level(e,t){this.level=e,this.levelStr=t}function toLevel(e,t){if(!e)return t;if("string"==typeof e){var l=e.toUpperCase();return module.exports[l]?module.exports[l]:t}return toLevel(e.toString())}Level.prototype.toString=function(){return this.levelStr},Level.prototype.isLessThanOrEqualTo=function(e){return"string"==typeof e&&(e=toLevel(e)),this.level<=e.level},Level.prototype.isGreaterThanOrEqualTo=function(e){return"string"==typeof e&&(e=toLevel(e)),this.level>=e.level},Level.prototype.isEqualTo=function(e){return"string"==typeof e&&(e=toLevel(e)),this.level===e.level},module.exports={ALL:new Level(Number.MIN_VALUE,"ALL"),TRACE:new Level(5e3,"TRACE"),DEBUG:new Level(1e4,"DEBUG"),INFO:new Level(2e4,"INFO"),WARN:new Level(3e4,"WARN"),ERROR:new Level(4e4,"ERROR"),FATAL:new Level(5e4,"FATAL"),MARK:new Level(9007199254740992,"MARK"),OFF:new Level(Number.MAX_VALUE,"OFF"),toLevel:toLevel};
},{}],475:[function(require,module,exports){
(function (process){
"use strict";function hasLogger(e){return loggers.hasOwnProperty(e)}function getBufferedLogger(e){var r=getLogger(e),o={};return o.temp=[],o.target=r,o.flush=function(){for(var e=0;e<o.temp.length;e++){var r=o.temp[e];o.target[r.level](r.message),delete o.temp[e]}},o.trace=function(e){o.temp.push({level:"trace",message:e})},o.debug=function(e){o.temp.push({level:"debug",message:e})},o.info=function(e){o.temp.push({level:"info",message:e})},o.warn=function(e){o.temp.push({level:"warn",message:e})},o.error=function(e){o.temp.push({level:"error",message:e})},o.fatal=function(e){o.temp.push({level:"fatal",message:e})},o}function normalizeCategory(e){return e+"."}function doesLevelEntryContainsLogger(e,r){var o=normalizeCategory(e),n=normalizeCategory(r);return n.substring(0,o.length)==o}function doesAppenderContainsLogger(e,r){var o=normalizeCategory(e),n=normalizeCategory(r);return n.substring(0,o.length)==o}function getLogger(e){if("string"!=typeof e&&(e=Logger.DEFAULT_CATEGORY),!hasLogger(e)){var r=void 0;if(levels.config)for(var o=Object.keys(levels.config).sort(),n=0;n<o.length;n++){var t=o[n];doesLevelEntryContainsLogger(t,e)&&(r=levels.config[t])}loggers[e]=new Logger(e,r);var g;for(var a in appenders)doesAppenderContainsLogger(a,e)&&(g=appenders[a],g.forEach(function(r){loggers[e].addListener("log",r)}));appenders[ALL_CATEGORIES]&&(g=appenders[ALL_CATEGORIES],g.forEach(function(r){loggers[e].addListener("log",r)}))}return loggers[e]}function addAppender(){var e=Array.prototype.slice.call(arguments),r=e.shift();0!==e.length&&void 0!==e[0]||(e=[ALL_CATEGORIES]),Array.isArray(e[0])&&(e=e[0]),e.forEach(function(e){if(addAppenderToCategory(r,e),e===ALL_CATEGORIES)addAppenderToAllLoggers(r);else for(var o in loggers)doesAppenderContainsLogger(e,o)&&loggers[o].addListener("log",r)})}function addAppenderToAllLoggers(e){for(var r in loggers)hasLogger(r)&&loggers[r].addListener("log",e)}function addAppenderToCategory(e,r){appenders[r]||(appenders[r]=[]),appenders[r].push(e)}function clearAppenders(){appenders={};for(var e in loggers)hasLogger(e)&&loggers[e].removeAllListeners("log")}function configureAppenders(e,r){clearAppenders(),e&&e.forEach(function(e){loadAppender(e.type);var o;e.makers=appenderMakers;try{o=appenderMakers[e.type](e,r),addAppender(o,e.category)}catch(r){throw new Error("log4js configuration problem for "+util.inspect(e),r)}})}function configureLevels(e){if(levels.config=e,e){var r=Object.keys(levels.config).sort();for(var o in r){var n=r[o];n===ALL_CATEGORIES&&setGlobalLogLevel(e[n]);for(var t in loggers)doesLevelEntryContainsLogger(n,t)&&loggers[t].setLevel(e[n])}}}function setGlobalLogLevel(e){Logger.prototype.level=levels.toLevel(e,levels.TRACE)}function getDefaultLogger(){return getLogger(Logger.DEFAULT_CATEGORY)}function loadConfigurationFile(e){if(e)return JSON.parse(fs.readFileSync(e,"utf8"))}function configureOnceOff(e,r){if(e)try{configureLevels(e.levels),configureAppenders(e.appenders,r),e.replaceConsole?replaceConsole():restoreConsole()}catch(r){throw new Error("Problem reading log4js config "+util.inspect(e)+'. Error was "'+r.message+'" ('+r.stack+")")}}function reloadConfiguration(e){var r=getMTime(configState.filename);r&&(configState.lastMTime&&r.getTime()>configState.lastMTime.getTime()&&configureOnceOff(loadConfigurationFile(configState.filename),e),configState.lastMTime=r)}function getMTime(e){var r;try{r=fs.statSync(configState.filename).mtime}catch(r){getLogger("log4js").warn("Failed to load configuration file "+e)}return r}function initReloadConfiguration(e,r){configState.timerId&&(clearInterval(configState.timerId),delete configState.timerId),configState.filename=e,configState.lastMTime=getMTime(e),configState.timerId=setInterval(reloadConfiguration,1e3*r.reloadSecs,r)}function configure(e,r){var o=e;o=o||process.env.LOG4JS_CONFIG,r=r||{},void 0===o||null===o||"string"==typeof o?(r.reloadSecs&&initReloadConfiguration(o,r),o=loadConfigurationFile(o)||defaultConfig):r.reloadSecs&&getLogger("log4js").warn('Ignoring configuration reload parameter for "object" configuration.'),configureOnceOff(o,r)}function replaceConsole(e){function r(r){return function(){r.apply(e,arguments)}}e=e||getLogger("console"),["log","debug","info","warn","error"].forEach(function(o){console[o]=r("log"===o?e.info:e[o])})}function restoreConsole(){["log","debug","info","warn","error"].forEach(function(e){console[e]=originalConsoleFunctions[e]})}function requireAppender(e){var r;try{r=require("./appenders/"+e)}catch(o){r=require(e)}return r}function loadAppender(e,r){if(r=r||requireAppender(e),!r)throw new Error("Invalid log4js appender: "+util.inspect(e));module.exports.appenders[e]=r.appender.bind(r),r.shutdown&&(appenderShutdowns[e]=r.shutdown.bind(r)),appenderMakers[e]=r.configure.bind(r)}function shutdown(e){loggerModule.disableAllLogWrites();var r=Object.keys(appenderShutdowns).reduce(function(e,r){return e.concat(appenderShutdowns[r])},[]);async.each(r,function(e,r){e(r)},e)}var events=require("events"),async=require("async"),fs=require("fs"),path=require("path"),util=require("util"),layouts=require("./layouts"),levels=require("./levels"),loggerModule=require("./logger"),LoggingEvent=loggerModule.LoggingEvent,Logger=loggerModule.Logger,ALL_CATEGORIES="[all]",appenders={},loggers={},appenderMakers={},appenderShutdowns={},defaultConfig={appenders:[{type:"console"}],replaceConsole:!1};require("./appenders/console");var configState={},originalConsoleFunctions={log:console.log,debug:console.debug,info:console.info,warn:console.warn,error:console.error};module.exports={getBufferedLogger:getBufferedLogger,getLogger:getLogger,getDefaultLogger:getDefaultLogger,hasLogger:hasLogger,addAppender:addAppender,loadAppender:loadAppender,clearAppenders:clearAppenders,configure:configure,shutdown:shutdown,replaceConsole:replaceConsole,restoreConsole:restoreConsole,levels:levels,setGlobalLogLevel:setGlobalLogLevel,layouts:layouts,appenders:{},appenderMakers:appenderMakers,connectLogger:require("./connect-logger").connectLogger},configure();
}).call(this,require('_process'))

},{"./appenders/console":470,"./connect-logger":471,"./layouts":473,"./levels":474,"./logger":476,"_process":16,"async":162,"events":9,"fs":3,"path":14,"util":44}],476:[function(require,module,exports){
"use strict";function LoggingEvent(e,t,l,o){this.startTime=new Date,this.categoryName=e,this.data=l,this.level=t,this.logger=o}function Logger(e,t){this.category=e||DEFAULT_CATEGORY,t&&this.setLevel(t)}function disableAllLogWrites(){logWritesEnabled=!1}function enableAllLogWrites(){logWritesEnabled=!0}var levels=require("./levels"),util=require("util"),events=require("events"),DEFAULT_CATEGORY="[default]",logWritesEnabled=!0;util.inherits(Logger,events.EventEmitter),Logger.DEFAULT_CATEGORY=DEFAULT_CATEGORY,Logger.prototype.level=levels.TRACE,Logger.prototype.setLevel=function(e){this.level=levels.toLevel(e,this.level||levels.TRACE)},Logger.prototype.removeLevel=function(){delete this.level},Logger.prototype.log=function(){var e,t=Array.prototype.slice.call(arguments),l=levels.toLevel(t.shift(),levels.INFO);this.isLevelEnabled(l)&&(e=new LoggingEvent(this.category,l,t,this),this.emit("log",e))},Logger.prototype.isLevelEnabled=function(e){return this.level.isLessThanOrEqualTo(e)},["Trace","Debug","Info","Warn","Error","Fatal","Mark"].forEach(function(e){var t=levels.toLevel(e);Logger.prototype["is"+e+"Enabled"]=function(){return this.isLevelEnabled(t)},Logger.prototype[e.toLowerCase()]=function(){if(logWritesEnabled&&this.isLevelEnabled(t)){var e=Array.prototype.slice.call(arguments);e.unshift(t),Logger.prototype.log.apply(this,e)}}}),exports.LoggingEvent=LoggingEvent,exports.Logger=Logger,exports.disableAllLogWrites=disableAllLogWrites,exports.enableAllLogWrites=enableAllLogWrites;
},{"./levels":474,"events":9,"util":44}],477:[function(require,module,exports){
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=m(e,i,4);var o=!w(r)&&g.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=b(r,e);for(var u=null!=t&&t.length,i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t){var r=S.length,e=n.constructor,u=g.isFunction(e)&&e.prototype||o,i="constructor";for(g.has(n,i)&&!g.contains(t,i)&&t.push(i);r--;)i=S[r],i in n&&n[i]!==u[i]&&!g.contains(t,i)&&t.push(i)}var e=this,u=e._,i=Array.prototype,o=Object.prototype,a=Function.prototype,c=i.push,f=i.slice,l=o.toString,s=o.hasOwnProperty,p=Array.isArray,h=Object.keys,v=a.bind,y=Object.create,d=function(){},g=function(n){return n instanceof g?n:this instanceof g?void(this._wrapped=n):new g(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=g),exports._=g):e._=g,g.VERSION="1.8.2";var m=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},b=function(n,t,r){return null==n?g.identity:g.isFunction(n)?m(n,t,r):g.isObject(n)?g.matcher(n):g.property(n)};g.iteratee=function(n,t){return b(n,t,1/0)};var x=function(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},_=function(n){if(!g.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},j=Math.pow(2,53)-1,w=function(n){var t=n&&n.length;return"number"==typeof t&&t>=0&&t<=j};g.each=g.forEach=function(n,t,r){t=m(t,r);var e,u;if(w(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=g.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},g.map=g.collect=function(n,t,r){t=b(t,r);for(var e=!w(n)&&g.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},g.reduce=g.foldl=g.inject=n(1),g.reduceRight=g.foldr=n(-1),g.find=g.detect=function(n,t,r){var e;if(e=w(n)?g.findIndex(n,t,r):g.findKey(n,t,r),void 0!==e&&e!==-1)return n[e]},g.filter=g.select=function(n,t,r){var e=[];return t=b(t,r),g.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},g.reject=function(n,t,r){return g.filter(n,g.negate(b(t)),r)},g.every=g.all=function(n,t,r){t=b(t,r);for(var e=!w(n)&&g.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},g.some=g.any=function(n,t,r){t=b(t,r);for(var e=!w(n)&&g.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},g.contains=g.includes=g.include=function(n,t,r){return w(n)||(n=g.values(n)),g.indexOf(n,t,"number"==typeof r&&r)>=0},g.invoke=function(n,t){var r=f.call(arguments,2),e=g.isFunction(t);return g.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},g.pluck=function(n,t){return g.map(n,g.property(t))},g.where=function(n,t){return g.filter(n,g.matcher(t))},g.findWhere=function(n,t){return g.find(n,g.matcher(t))},g.max=function(n,t,r){var e,u,i=-(1/0),o=-(1/0);if(null==t&&null!=n){n=w(n)?n:g.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e>i&&(i=e)}else t=b(t,r),g.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-(1/0)&&i===-(1/0))&&(i=n,o=u)});return i},g.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=w(n)?n:g.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e<i&&(i=e)}else t=b(t,r),g.each(n,function(n,r,e){u=t(n,r,e),(u<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},g.shuffle=function(n){for(var t,r=w(n)?n:g.values(n),e=r.length,u=Array(e),i=0;i<e;i++)t=g.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},g.sample=function(n,t,r){return null==t||r?(w(n)||(n=g.values(n)),n[g.random(n.length-1)]):g.shuffle(n).slice(0,Math.max(0,t))},g.sortBy=function(n,t,r){return t=b(t,r),g.pluck(g.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var A=function(n){return function(t,r,e){var u={};return r=b(r,e),g.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};g.groupBy=A(function(n,t,r){g.has(n,r)?n[r].push(t):n[r]=[t]}),g.indexBy=A(function(n,t,r){n[r]=t}),g.countBy=A(function(n,t,r){g.has(n,r)?n[r]++:n[r]=1}),g.toArray=function(n){return n?g.isArray(n)?f.call(n):w(n)?g.map(n,g.identity):g.values(n):[]},g.size=function(n){return null==n?0:w(n)?n.length:g.keys(n).length},g.partition=function(n,t,r){t=b(t,r);var e=[],u=[];return g.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},g.first=g.head=g.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:g.initial(n,n.length-t)},g.initial=function(n,t,r){return f.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},g.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:g.rest(n,Math.max(0,n.length-t))},g.rest=g.tail=g.drop=function(n,t,r){return f.call(n,null==t||r?1:t)},g.compact=function(n){return g.filter(n,g.identity)};var k=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=n&&n.length;o<a;o++){var c=n[o];if(w(c)&&(g.isArray(c)||g.isArguments(c))){t||(c=k(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};g.flatten=function(n,t){return k(n,t,!1)},g.without=function(n){return g.difference(n,f.call(arguments,1))},g.uniq=g.unique=function(n,t,r,e){if(null==n)return[];g.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=b(r,e));for(var u=[],i=[],o=0,a=n.length;o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?g.contains(i,f)||(i.push(f),u.push(c)):g.contains(u,c)||u.push(c)}return u},g.union=function(){return g.uniq(k(arguments,!0,!0))},g.intersection=function(n){if(null==n)return[];for(var t=[],r=arguments.length,e=0,u=n.length;e<u;e++){var i=n[e];if(!g.contains(t,i)){for(var o=1;o<r&&g.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},g.difference=function(n){var t=k(arguments,!0,!0,1);return g.filter(n,function(n){return!g.contains(t,n)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(n){for(var t=n&&g.max(n,"length").length||0,r=Array(t),e=0;e<t;e++)r[e]=g.pluck(n,e);return r},g.object=function(n,t){for(var r={},e=0,u=n&&n.length;e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},g.indexOf=function(n,t,r){var e=0,u=n&&n.length;if("number"==typeof r)e=r<0?Math.max(0,u+r):r;else if(r&&u)return e=g.sortedIndex(n,t),n[e]===t?e:-1;if(t!==t)return g.findIndex(f.call(n,e),g.isNaN);for(;e<u;e++)if(n[e]===t)return e;return-1},g.lastIndexOf=function(n,t,r){var e=n?n.length:0;if("number"==typeof r&&(e=r<0?e+r+1:Math.min(e,r+1)),t!==t)return g.findLastIndex(f.call(n,0,e),g.isNaN);for(;--e>=0;)if(n[e]===t)return e;return-1},g.findIndex=t(1),g.findLastIndex=t(-1),g.sortedIndex=function(n,t,r,e){r=b(r,e,1);for(var u=r(t),i=0,o=n.length;i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},g.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};var O=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=_(n.prototype),o=n.apply(i,u);return g.isObject(o)?o:i};g.bind=function(n,t){if(v&&n.bind===v)return v.apply(n,f.call(arguments,1));if(!g.isFunction(n))throw new TypeError("Bind must be called on a function");var r=f.call(arguments,2),e=function(){return O(n,e,t,this,r.concat(f.call(arguments)))};return e},g.partial=function(n){var t=f.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===g?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return O(n,r,this,this,i)};return r},g.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)r=arguments[t],n[r]=g.bind(n[r],n);return n},g.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return g.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},g.delay=function(n,t){var r=f.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},g.defer=g.partial(g.delay,g,1),g.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:g.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=g.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},g.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=g.now()-o;f<t&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=g.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},g.wrap=function(n,t){return g.partial(t,n)},g.negate=function(n){return function(){return!n.apply(this,arguments)}},g.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},g.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},g.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},g.once=g.partial(g.before,2);var F=!{toString:null}.propertyIsEnumerable("toString"),S=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];g.keys=function(n){if(!g.isObject(n))return[];if(h)return h(n);var t=[];for(var e in n)g.has(n,e)&&t.push(e);return F&&r(n,t),t},g.allKeys=function(n){if(!g.isObject(n))return[];var t=[];for(var e in n)t.push(e);return F&&r(n,t),t},g.values=function(n){for(var t=g.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},g.mapObject=function(n,t,r){t=b(t,r);for(var e,u=g.keys(n),i=u.length,o={},a=0;a<i;a++)e=u[a],o[e]=t(n[e],e,n);return o},g.pairs=function(n){for(var t=g.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},g.invert=function(n){for(var t={},r=g.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},g.functions=g.methods=function(n){var t=[];for(var r in n)g.isFunction(n[r])&&t.push(r);return t.sort()},g.extend=x(g.allKeys),g.extendOwn=g.assign=x(g.keys),g.findKey=function(n,t,r){t=b(t,r);for(var e,u=g.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],t(n[e],e,n))return e},g.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;g.isFunction(t)?(u=g.allKeys(o),e=m(t,r)):(u=k(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},g.omit=function(n,t,r){if(g.isFunction(t))t=g.negate(t);else{var e=g.map(k(arguments,!1,!1,1),String);t=function(n,t){return!g.contains(e,t)}}return g.pick(n,t,r)},g.defaults=x(g.allKeys,!0),g.clone=function(n){return g.isObject(n)?g.isArray(n)?n.slice():g.extend({},n):n},g.tap=function(n,t){return t(n),n},g.isMatch=function(n,t){var r=g.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var E=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof g&&(n=n._wrapped),t instanceof g&&(t=t._wrapped);var u=l.call(n);if(u!==l.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(g.isFunction(o)&&o instanceof o&&g.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!E(n[c],t[c],r,e))return!1}else{var f,s=g.keys(n);if(c=s.length,g.keys(t).length!==c)return!1;for(;c--;)if(f=s[c],!g.has(t,f)||!E(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};g.isEqual=function(n,t){return E(n,t)},g.isEmpty=function(n){return null==n||(w(n)&&(g.isArray(n)||g.isString(n)||g.isArguments(n))?0===n.length:0===g.keys(n).length)},g.isElement=function(n){return!(!n||1!==n.nodeType)},g.isArray=p||function(n){return"[object Array]"===l.call(n)},g.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){g["is"+n]=function(t){return l.call(t)==="[object "+n+"]"}}),g.isArguments(arguments)||(g.isArguments=function(n){return g.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(n){return"function"==typeof n||!1}),g.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},g.isNaN=function(n){return g.isNumber(n)&&n!==+n},g.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===l.call(n)},g.isNull=function(n){return null===n},g.isUndefined=function(n){return void 0===n},g.has=function(n,t){return null!=n&&s.call(n,t)},g.noConflict=function(){return e._=u,this},g.identity=function(n){return n},g.constant=function(n){return function(){return n}},g.noop=function(){},g.property=function(n){return function(t){return null==t?void 0:t[n]}},g.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},g.matcher=g.matches=function(n){return n=g.extendOwn({},n),function(t){return g.isMatch(t,n)}},g.times=function(n,t,r){var e=Array(Math.max(0,n));t=m(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},g.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},g.now=Date.now||function(){return(new Date).getTime()};var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=g.invert(M),I=function(n){var t=function(t){return n[t]},r="(?:"+g.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};g.escape=I(M),g.unescape=I(N),g.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),g.isFunction(e)?e.call(n):e};var B=0;g.uniqueId=function(n){var t=++B+"";return n?n+t:t},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,K=function(n){return"\\"+R[n]};g.template=function(n,t,r){!t&&r&&(t=r),t=g.defaults({},t,g.templateSettings);var e=RegExp([(t.escape||T).source,(t.interpolate||T).source,(t.evaluate||T).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(q,K),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return o.call(this,n,g)},c=t.variable||"obj";return a.source="function("+c+"){\n"+i+"}",a},g.chain=function(n){var t=g(n);return t._chain=!0,t};var z=function(n,t){return n._chain?g(t).chain():t};g.mixin=function(n){g.each(g.functions(n),function(t){var r=g[t]=n[t];g.prototype[t]=function(){var n=[this._wrapped];return c.apply(n,arguments),z(this,r.apply(g,n))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=i[n];g.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],z(this,r)}}),g.each(["concat","join","slice"],function(n){var t=i[n];g.prototype[n]=function(){return z(this,t.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return g})}).call(this);
},{}],478:[function(require,module,exports){
function degToRad(t){return t*(Math.PI/180)}function radToDeg(t){return 180*(t/Math.PI)}function LLtoUTM(t){var e,r,a,n,o,i,h,s,c,g=t.lat,M=t.lon,u=6378137,f=.00669438,l=.9996,d=degToRad(g),b=degToRad(M);c=Math.floor((M+180)/6)+1,180===M&&(c=60),g>=56&&g<64&&M>=3&&M<12&&(c=32),g>=72&&g<84&&(M>=0&&M<9?c=31:M>=9&&M<21?c=33:M>=21&&M<33?c=35:M>=33&&M<42&&(c=37)),e=6*(c-1)-180+3,s=degToRad(e),r=f/(1-f),a=u/Math.sqrt(1-f*Math.sin(d)*Math.sin(d)),n=Math.tan(d)*Math.tan(d),o=r*Math.cos(d)*Math.cos(d),i=Math.cos(d)*(b-s),h=u*((1-f/4-3*f*f/64-5*f*f*f/256)*d-(3*f/8+3*f*f/32+45*f*f*f/1024)*Math.sin(2*d)+(15*f*f/256+45*f*f*f/1024)*Math.sin(4*d)-35*f*f*f/3072*Math.sin(6*d));var I=l*a*(i+(1-n+o)*i*i*i/6+(5-18*n+n*n+72*o-58*r)*i*i*i*i*i/120)+5e5,T=l*(h+a*Math.tan(d)*(i*i/2+(5-n+9*o+4*o*o)*i*i*i*i/24+(61-58*n+n*n+600*o-330*r)*i*i*i*i*i*i/720));return g<0&&(T+=1e7),{northing:Math.round(T),easting:Math.round(I),zoneNumber:c,zoneLetter:getLetterDesignator(g)}}function UTMtoLL(t){var e=t.northing,r=t.easting,a=t.zoneLetter,n=t.zoneNumber;if(n<0||n>60)return null;var o,i,h,s,c,g,M,u,f,l,d=.9996,b=6378137,I=.00669438,T=(1-Math.sqrt(1-I))/(1+Math.sqrt(1-I)),v=r-5e5,L=e;a<"N"&&(L-=1e7),u=6*(n-1)-180+3,o=I/(1-I),M=L/d,f=M/(b*(1-I/4-3*I*I/64-5*I*I*I/256)),l=f+(3*T/2-27*T*T*T/32)*Math.sin(2*f)+(21*T*T/16-55*T*T*T*T/32)*Math.sin(4*f)+151*T*T*T/96*Math.sin(6*f),i=b/Math.sqrt(1-I*Math.sin(l)*Math.sin(l)),h=Math.tan(l)*Math.tan(l),s=o*Math.cos(l)*Math.cos(l),c=b*(1-I)/Math.pow(1-I*Math.sin(l)*Math.sin(l),1.5),g=v/(i*d);var S=l-i*Math.tan(l)/c*(g*g/2-(5+3*h+10*s-4*s*s-9*o)*g*g*g*g/24+(61+90*h+298*s+45*h*h-252*o-3*s*s)*g*g*g*g*g*g/720);S=radToDeg(S);var k=(g-(1+2*h+s)*g*g*g/6+(5-2*s+28*h-3*s*s+8*o+24*h*h)*g*g*g*g*g/120)/Math.cos(l);k=u+radToDeg(k);var N;if(t.accuracy){var R=UTMtoLL({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});N={top:R.lat,right:R.lon,bottom:S,left:k}}else N={lat:S,lon:k};return N}function getLetterDesignator(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function encode(t,e){var r="00000"+t.easting,a="00000"+t.northing;return t.zoneNumber+t.zoneLetter+get100kID(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+a.substr(a.length-5,e)}function get100kID(t,e,r){var a=get100kSetForZone(r),n=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return getLetter100kID(n,o,a)}function get100kSetForZone(t){var e=t%NUM_100K_SETS;return 0===e&&(e=NUM_100K_SETS),e}function getLetter100kID(t,e,r){var a=r-1,n=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(a),o=SET_ORIGIN_ROW_LETTERS.charCodeAt(a),i=n+t-1,h=o+e,s=!1;i>Z&&(i=i-Z+A-1,s=!0),(i===I||n<I&&i>I||(i>I||n<I)&&s)&&i++,(i===O||n<O&&i>O||(i>O||n<O)&&s)&&(i++,i===I&&i++),i>Z&&(i=i-Z+A-1),h>V?(h=h-V+A-1,s=!0):s=!1,(h===I||o<I&&h>I||(h>I||o<I)&&s)&&h++,(h===O||o<O&&h>O||(h>O||o<O)&&s)&&(h++,h===I&&h++),h>V&&(h=h-V+A-1);var c=String.fromCharCode(i)+String.fromCharCode(h);return c}function decode(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,r=t.length,a=null,n="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;n+=e,o++}var i=parseInt(n,10);if(0===o||o+3>r)throw"MGRSPoint bad conversion from: "+t;var h=t.charAt(o++);if(h<="A"||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+t;a=t.substring(o,o+=2);for(var s=get100kSetForZone(i),c=getEastingFromChar(a.charAt(0),s),g=getNorthingFromChar(a.charAt(1),s);g<getMinNorthing(h);)g+=2e6;var M=r-o;if(M%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var u,f,l,d,b,I=M/2,T=0,v=0;return I>0&&(u=1e5/Math.pow(10,I),f=t.substring(o,o+I),T=parseFloat(f)*u,l=t.substring(o+I),v=parseFloat(l)*u),d=T+c,b=v+g,{easting:d,northing:b,zoneLetter:h,zoneNumber:i,accuracy:u}}function getEastingFromChar(t,e){for(var r=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(e-1),a=1e5,n=!1;r!==t.charCodeAt(0);){if(r++,r===I&&r++,r===O&&r++,r>Z){if(n)throw"Bad character: "+t;r=A,n=!0}a+=1e5}return a}function getNorthingFromChar(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=SET_ORIGIN_ROW_LETTERS.charCodeAt(e-1),a=0,n=!1;r!==t.charCodeAt(0);){if(r++,r===I&&r++,r===O&&r++,r>V){if(n)throw"Bad character: "+t;r=A,n=!0}a+=1e5}return a}function getMinNorthing(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var NUM_100K_SETS=6,SET_ORIGIN_COLUMN_LETTERS="AJSAJS",SET_ORIGIN_ROW_LETTERS="AFAFAF",A=65,I=73,O=79,V=86,Z=90;exports.forward=function(t,e){return e=e||5,encode(LLtoUTM({lat:t[1],lon:t[0]}),e)},exports.inverse=function(t){var e=UTMtoLL(decode(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},exports.toPoint=function(t){var e=UTMtoLL(decode(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]};
},{}],479:[function(require,module,exports){
function Point(t,i,o){if(!(this instanceof Point))return new Point(t,i,o);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof i){var s=t.split(",");this.x=parseFloat(s[0],10),this.y=parseFloat(s[1],10),this.z=parseFloat(s[2],10)||0}else this.x=t,this.y=i,this.z=o||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var mgrs=require("mgrs");Point.fromMGRS=function(t){return new Point(mgrs.toPoint(t))},Point.prototype.toMGRS=function(t){return mgrs.forward([this.x,this.y],t)},module.exports=Point;
},{"mgrs":478}],480:[function(require,module,exports){
function Projection(e,o){if(!(this instanceof Projection))return new Projection(e);o=o||function(e){if(e)throw e};var t=parseCode(e);if("object"!=typeof t)return void o(e);var r=deriveConstants(t),i=Projection.projections.get(r.projName);i?(extend(this,r),extend(this,i),this.init(),o(null,this)):o(e)}var parseCode=require("./parseCode"),extend=require("./extend"),projections=require("./projections"),deriveConstants=require("./deriveConstants");Projection.projections=projections,Projection.projections.start(),module.exports=Projection;
},{"./deriveConstants":511,"./extend":512,"./parseCode":516,"./projections":518}],481:[function(require,module,exports){
module.exports=function(e,a,r){var s,c,i,o=r.x,u=r.y,b=r.z||0;for(i=0;i<3;i++)if(!a||2!==i||void 0!==r.z)switch(0===i?(s=o,c="x"):1===i?(s=u,c="y"):(s=b,c="z"),e.axis[i]){case"e":r[c]=s;break;case"w":r[c]=-s;break;case"n":r[c]=s;break;case"s":r[c]=-s;break;case"u":void 0!==r[c]&&(r.z=s);break;case"d":void 0!==r[c]&&(r.z=-s);break;default:return null}return r};
},{}],482:[function(require,module,exports){
var HALF_PI=Math.PI/2,sign=require("./sign");module.exports=function(n){return Math.abs(n)<HALF_PI?n:n-sign(n)*Math.PI};
},{"./sign":499}],483:[function(require,module,exports){
var TWO_PI=2*Math.PI,SPI=3.14159265359,sign=require("./sign");module.exports=function(n){return Math.abs(n)<=SPI?n:n-sign(n)*TWO_PI};
},{"./sign":499}],484:[function(require,module,exports){
module.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};
},{}],485:[function(require,module,exports){
module.exports=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))};
},{}],486:[function(require,module,exports){
module.exports=function(e){return.375*e*(1+.25*e*(1+.46875*e))};
},{}],487:[function(require,module,exports){
module.exports=function(e){return.05859375*e*e*(1+.75*e)};
},{}],488:[function(require,module,exports){
module.exports=function(e){return e*e*e*(35/3072)};
},{}],489:[function(require,module,exports){
module.exports=function(r,t,e){var n=t*e;return r/Math.sqrt(1-n*n)};
},{}],490:[function(require,module,exports){
module.exports=function(a,t,r,s,h){var n,o;n=a/t;for(var M=0;M<15;M++)if(o=(a-(t*n-r*Math.sin(2*n)+s*Math.sin(4*n)-h*Math.sin(6*n)))/(t-2*r*Math.cos(2*n)+4*s*Math.cos(4*n)-6*h*Math.cos(6*n)),n+=o,Math.abs(o)<=1e-10)return n;return NaN};
},{}],491:[function(require,module,exports){
var HALF_PI=Math.PI/2;module.exports=function(a,t){var r=1-(1-a*a)/(2*a)*Math.log((1-a)/(1+a));if(Math.abs(Math.abs(t)-r)<1e-6)return t<0?-1*HALF_PI:HALF_PI;for(var h,M,o,e,n=Math.asin(.5*t),s=0;s<30;s++)if(M=Math.sin(n),o=Math.cos(n),e=a*M,h=Math.pow(1-e*e,2)/(2*o)*(t/(1-a*a)-M/(1-e*e)+.5/a*Math.log((1-e)/(1+e))),n+=h,Math.abs(h)<=1e-10)return n;return NaN};
},{}],492:[function(require,module,exports){
module.exports=function(n,t,i,s,a){return n*a-t*Math.sin(2*a)+i*Math.sin(4*a)-s*Math.sin(6*a)};
},{}],493:[function(require,module,exports){
module.exports=function(r,t,e){var n=r*t;return e/Math.sqrt(1-n*n)};
},{}],494:[function(require,module,exports){
var HALF_PI=Math.PI/2;module.exports=function(a,t){for(var r,n,h=.5*a,M=HALF_PI-2*Math.atan(t),e=0;e<=15;e++)if(r=a*Math.sin(M),n=HALF_PI-2*Math.atan(t*Math.pow((1-r)/(1+r),h))-M,M+=n,Math.abs(n)<=1e-10)return M;return-9999};
},{}],495:[function(require,module,exports){
var C00=1,C02=.25,C04=.046875,C06=.01953125,C08=.01068115234375,C22=.75,C44=.46875,C46=.013020833333333334,C48=.007120768229166667,C66=.3645833333333333,C68=.005696614583333333,C88=.3076171875;module.exports=function(C){var r=[];r[0]=C00-C*(C02+C*(C04+C*(C06+C*C08))),r[1]=C*(C22-C*(C04+C*(C06+C*C08)));var a=C*C;return r[2]=a*(C44-C*(C46+C*C48)),a*=C,r[3]=a*(C66-C*C68),r[4]=a*C*C88,r};
},{}],496:[function(require,module,exports){
var pj_mlfn=require("./pj_mlfn"),EPSLN=1e-10,MAX_ITER=20;module.exports=function(r,t,a){for(var n=1/(1-t),e=r,f=MAX_ITER;f;--f){var M=Math.sin(e),o=1-t*M*M;if(o=(pj_mlfn(e,M,Math.cos(e),a)-r)*(o*Math.sqrt(o))*n,e-=o,Math.abs(o)<EPSLN)return e}return e};
},{"./pj_mlfn":497}],497:[function(require,module,exports){
module.exports=function(e,n,o,r){return o*=n,n*=n,r[0]*e-o*(r[1]+n*(r[2]+n*(r[3]+n*r[4])))};
},{}],498:[function(require,module,exports){
module.exports=function(e,o){var r;return e>1e-7?(r=e*o,(1-e*e)*(o/(1-r*r)-.5/e*Math.log((1-r)/(1+r)))):2*o};
},{}],499:[function(require,module,exports){
module.exports=function(e){return e<0?-1:1};
},{}],500:[function(require,module,exports){
module.exports=function(o,t){return Math.pow((1-o)/(1+o),t)};
},{}],501:[function(require,module,exports){
module.exports=function(e){var n={x:e[0],y:e[1]};return e.length>2&&(n.z=e[2]),e.length>3&&(n.m=e[3]),n};
},{}],502:[function(require,module,exports){
var HALF_PI=Math.PI/2;module.exports=function(t,a,r){var n=t*r,o=.5*t;return n=Math.pow((1-n)/(1+n),o),Math.tan(.5*(HALF_PI-a))/n};
},{}],503:[function(require,module,exports){
exports.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},exports.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},exports.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},exports.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},exports.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},exports.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},exports.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},exports.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},exports.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},exports.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},exports.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},exports.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},exports.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},exports.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},exports.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},exports.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};
},{}],504:[function(require,module,exports){
exports.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},exports.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},exports.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},exports.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},exports.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},exports.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},exports.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},exports.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},exports.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},exports.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},exports.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},exports.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},exports.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},exports.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},exports.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},exports.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},exports.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},exports.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},exports.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},exports.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},exports.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},exports.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},exports.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},exports.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},exports.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},exports.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},exports.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},exports.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},exports.hough={a:6378270,rf:297,ellipseName:"Hough"},exports.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},exports.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},exports.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},exports.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},exports.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},exports.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},exports.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},exports.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},exports.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},exports.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},exports.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},exports.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},exports.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},exports.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};
},{}],505:[function(require,module,exports){
exports.greenwich=0,exports.lisbon=-9.131906111111,exports.paris=2.337229166667,exports.bogota=-74.080916666667,exports.madrid=-3.687938888889,exports.rome=12.452333333333,exports.bern=7.439583333333,exports.jakarta=106.807719444444,exports.ferro=-17.666666666667,exports.brussels=4.367975,exports.stockholm=18.058277777778,exports.athens=23.7163375,exports.oslo=10.722916666667;
},{}],506:[function(require,module,exports){
exports.ft={to_meter:.3048},exports["us-ft"]={to_meter:1200/3937};
},{}],507:[function(require,module,exports){
function transformer(r,o,n){var e;return Array.isArray(n)?(e=transform(r,o,n),3===n.length?[e.x,e.y,e.z]:[e.x,e.y]):transform(r,o,n)}function checkProj(r){return r instanceof proj?r:r.oProj?r.oProj:proj(r)}function proj4(r,o,n){r=checkProj(r);var e,t=!1;return"undefined"==typeof o?(o=r,r=wgs84,t=!0):("undefined"!=typeof o.x||Array.isArray(o))&&(n=o,o=r,r=wgs84,t=!0),o=checkProj(o),n?transformer(r,o,n):(e={forward:function(n){return transformer(r,o,n)},inverse:function(n){return transformer(o,r,n)}},t&&(e.oProj=o),e)}var proj=require("./Proj"),transform=require("./transform"),wgs84=proj("WGS84");module.exports=proj4;
},{"./Proj":480,"./transform":544}],508:[function(require,module,exports){
var HALF_PI=Math.PI/2,PJD_3PARAM=1,PJD_7PARAM=2,PJD_GRIDSHIFT=3,PJD_WGS84=4,PJD_NODATUM=5,SEC_TO_RAD=484813681109536e-20,AD_C=1.0026,COS_67P5=.3826834323650898,datum=function(t){return this instanceof datum?(this.datum_type=PJD_WGS84,void(t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=PJD_NODATUM),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=PJD_3PARAM),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=PJD_7PARAM,this.datum_params[3]*=SEC_TO_RAD,this.datum_params[4]*=SEC_TO_RAD,this.datum_params[5]*=SEC_TO_RAD,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?PJD_GRIDSHIFT:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_type===PJD_GRIDSHIFT&&(this.grids=t.grids)))):new datum(t)};datum.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||Math.abs(this.es-t.es)>5e-11)&&(this.datum_type===PJD_3PARAM?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===PJD_7PARAM?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type!==PJD_GRIDSHIFT&&t.datum_type!==PJD_GRIDSHIFT||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var a,s,m,_,i,h,r,d=t.x,u=t.y,e=t.z?t.z:0,p=0;if(u<-HALF_PI&&u>-1.001*HALF_PI)u=-HALF_PI;else if(u>HALF_PI&&u<1.001*HALF_PI)u=HALF_PI;else if(u<-HALF_PI||u>HALF_PI)return null;return d>Math.PI&&(d-=2*Math.PI),i=Math.sin(u),r=Math.cos(u),h=i*i,_=this.a/Math.sqrt(1-this.es*h),a=(_+e)*r*Math.cos(d),s=(_+e)*r*Math.sin(d),m=(_*(1-this.es)+e)*i,t.x=a,t.y=s,t.z=m,p},geocentric_to_geodetic:function(t){var a,s,m,_,i,h,r,d,u,e,p,P,n,A,o,M,y,D=1e-12,I=D*D,c=30,F=t.x,f=t.y,H=t.z?t.z:0;if(n=!1,a=Math.sqrt(F*F+f*f),s=Math.sqrt(F*F+f*f+H*H),a/this.a<D){if(n=!0,o=0,s/this.a<D)return M=HALF_PI,void(y=-this.b)}else o=Math.atan2(f,F);m=H/s,_=a/s,i=1/Math.sqrt(1-this.es*(2-this.es)*_*_),d=_*(1-this.es)*i,u=m*i,A=0;do A++,r=this.a/Math.sqrt(1-this.es*u*u),y=a*d+H*u-r*(1-this.es*u*u),h=this.es*r/(r+y),i=1/Math.sqrt(1-h*(2-h)*_*_),e=_*(1-h)*i,p=m*i,P=p*d-e*u,d=e,u=p;while(P*P>I&&A<c);return M=Math.atan(p/Math.abs(e)),t.x=o,t.y=M,t.z=y,t},geocentric_to_geodetic_noniter:function(t){var a,s,m,_,i,h,r,d,u,e,p,P,n,A,o,M,y,D=t.x,I=t.y,c=t.z?t.z:0;if(D=parseFloat(D),I=parseFloat(I),c=parseFloat(c),y=!1,0!==D)a=Math.atan2(I,D);else if(I>0)a=HALF_PI;else if(I<0)a=-HALF_PI;else if(y=!0,a=0,c>0)s=HALF_PI;else{if(!(c<0))return s=HALF_PI,void(m=-this.b);s=-HALF_PI}return i=D*D+I*I,_=Math.sqrt(i),h=c*AD_C,d=Math.sqrt(h*h+i),e=h/d,P=_/d,p=e*e*e,r=c+this.b*this.ep2*p,M=_-this.a*this.es*P*P*P,u=Math.sqrt(r*r+M*M),n=r/u,A=M/u,o=this.a/Math.sqrt(1-this.es*n*n),m=A>=COS_67P5?_/A-o:A<=-COS_67P5?_/-A-o:c/n+o*(this.es-1),y===!1&&(s=Math.atan(n/A)),t.x=a,t.y=s,t.z=m,t},geocentric_to_wgs84:function(t){if(this.datum_type===PJD_3PARAM)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===PJD_7PARAM){var a=this.datum_params[0],s=this.datum_params[1],m=this.datum_params[2],_=this.datum_params[3],i=this.datum_params[4],h=this.datum_params[5],r=this.datum_params[6],d=r*(t.x-h*t.y+i*t.z)+a,u=r*(h*t.x+t.y-_*t.z)+s,e=r*(-i*t.x+_*t.y+t.z)+m;t.x=d,t.y=u,t.z=e}},geocentric_from_wgs84:function(t){if(this.datum_type===PJD_3PARAM)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===PJD_7PARAM){var a=this.datum_params[0],s=this.datum_params[1],m=this.datum_params[2],_=this.datum_params[3],i=this.datum_params[4],h=this.datum_params[5],r=this.datum_params[6],d=(t.x-a)/r,u=(t.y-s)/r,e=(t.z-m)/r;t.x=d+h*u-i*e,t.y=-h*d+u+_*e,t.z=i*d-_*u+e}}},module.exports=datum;
},{}],509:[function(require,module,exports){
var PJD_3PARAM=1,PJD_7PARAM=2,PJD_GRIDSHIFT=3,PJD_NODATUM=5,SRS_WGS84_SEMIMAJOR=6378137,SRS_WGS84_ESQUARED=.006694379990141316;module.exports=function(_,e,t){function a(_){return _===PJD_3PARAM||_===PJD_7PARAM}var r,S,s;if(_.compare_datums(e))return t;if(_.datum_type===PJD_NODATUM||e.datum_type===PJD_NODATUM)return t;var D=_.a,u=_.es,R=e.a,A=e.es,i=_.datum_type;if(i===PJD_GRIDSHIFT)if(0===this.apply_gridshift(_,0,t))_.a=SRS_WGS84_SEMIMAJOR,_.es=SRS_WGS84_ESQUARED;else{if(!_.datum_params)return _.a=D,_.es=_.es,t;for(r=1,S=0,s=_.datum_params.length;S<s;S++)r*=_.datum_params[S];if(0===r)return _.a=D,_.es=_.es,t;i=_.datum_params.length>3?PJD_7PARAM:PJD_3PARAM}return e.datum_type===PJD_GRIDSHIFT&&(e.a=SRS_WGS84_SEMIMAJOR,e.es=SRS_WGS84_ESQUARED),(_.es!==e.es||_.a!==e.a||a(i)||a(e.datum_type))&&(_.geodetic_to_geocentric(t),a(_.datum_type)&&_.geocentric_to_wgs84(t),a(e.datum_type)&&e.geocentric_from_wgs84(t),e.geocentric_to_geodetic(t)),e.datum_type===PJD_GRIDSHIFT&&this.apply_gridshift(e,1,t),_.a=D,_.es=u,e.a=R,e.es=A,t};
},{}],510:[function(require,module,exports){
function defs(e){var r=this;if(2===arguments.length){var s=arguments[1];"string"==typeof s?"+"===s.charAt(0)?defs[e]=parseProj(arguments[1]):defs[e]=wkt(arguments[1]):defs[e]=s}else if(1===arguments.length){if(Array.isArray(e))return e.map(function(e){Array.isArray(e)?defs.apply(r,e):defs(e)});if("string"==typeof e){if(e in defs)return defs[e]}else"EPSG"in e?defs["EPSG:"+e.EPSG]=e:"ESRI"in e?defs["ESRI:"+e.ESRI]=e:"IAU2000"in e?defs["IAU2000:"+e.IAU2000]=e:console.log(e);return}}var globals=require("./global"),parseProj=require("./projString"),wkt=require("./wkt");globals(defs),module.exports=defs;
},{"./global":513,"./projString":517,"./wkt":545}],511:[function(require,module,exports){
var Datum=require("./constants/Datum"),Ellipsoid=require("./constants/Ellipsoid"),extend=require("./extend"),datum=require("./datum"),EPSLN=1e-10,SIXTH=.16666666666666666,RA4=.04722222222222222,RA6=.022156084656084655;module.exports=function(a){if(a.datumCode&&"none"!==a.datumCode){var e=Datum[a.datumCode];e&&(a.datum_params=e.towgs84?e.towgs84.split(","):null,a.ellps=e.ellipse,a.datumName=e.datumName?e.datumName:a.datumCode)}if(!a.a){var t=Ellipsoid[a.ellps]?Ellipsoid[a.ellps]:Ellipsoid.WGS84;extend(a,t)}return a.rf&&!a.b&&(a.b=(1-1/a.rf)*a.a),(0===a.rf||Math.abs(a.a-a.b)<EPSLN)&&(a.sphere=!0,a.b=a.a),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=(a.a2-a.b2)/a.a2,a.e=Math.sqrt(a.es),a.R_A&&(a.a*=1-a.es*(SIXTH+a.es*(RA4+a.es*RA6)),a.a2=a.a*a.a,a.b2=a.b*a.b,a.es=0),a.ep2=(a.a2-a.b2)/a.b2,a.k0||(a.k0=1),a.axis||(a.axis="enu"),a.datum||(a.datum=datum(a)),a};
},{"./constants/Datum":503,"./constants/Ellipsoid":504,"./datum":508,"./extend":512}],512:[function(require,module,exports){
module.exports=function(r,n){r=r||{};var o,e;if(!n)return r;for(e in n)o=n[e],void 0!==o&&(r[e]=o);return r};
},{}],513:[function(require,module,exports){
module.exports=function(l){l("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),l("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),l("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),l.WGS84=l["EPSG:4326"],l["EPSG:3785"]=l["EPSG:3857"],l.GOOGLE=l["EPSG:3857"],l["EPSG:900913"]=l["EPSG:3857"],l["EPSG:102113"]=l["EPSG:3857"]};
},{}],514:[function(require,module,exports){
var projs=[require("./projections/tmerc"),require("./projections/utm"),require("./projections/sterea"),require("./projections/stere"),require("./projections/somerc"),require("./projections/omerc"),require("./projections/lcc"),require("./projections/krovak"),require("./projections/cass"),require("./projections/laea"),require("./projections/aea"),require("./projections/gnom"),require("./projections/cea"),require("./projections/eqc"),require("./projections/poly"),require("./projections/nzmg"),require("./projections/mill"),require("./projections/sinu"),require("./projections/moll"),require("./projections/eqdc"),require("./projections/vandg"),require("./projections/aeqd")];module.exports=function(e){projs.forEach(function(r){e.Proj.projections.add(r)})};
},{"./projections/aea":519,"./projections/aeqd":520,"./projections/cass":521,"./projections/cea":522,"./projections/eqc":523,"./projections/eqdc":524,"./projections/gnom":526,"./projections/krovak":527,"./projections/laea":528,"./projections/lcc":529,"./projections/mill":532,"./projections/moll":533,"./projections/nzmg":534,"./projections/omerc":535,"./projections/poly":536,"./projections/sinu":537,"./projections/somerc":538,"./projections/stere":539,"./projections/sterea":540,"./projections/tmerc":541,"./projections/utm":542,"./projections/vandg":543}],515:[function(require,module,exports){
var proj4=require("./core");proj4.defaultDatum="WGS84",proj4.Proj=require("./Proj"),proj4.WGS84=new proj4.Proj("WGS84"),proj4.Point=require("./Point"),proj4.toPoint=require("./common/toPoint"),proj4.defs=require("./defs"),proj4.transform=require("./transform"),proj4.mgrs=require("mgrs"),proj4.version=require("../package.json").version,require("./includedProjections")(proj4),module.exports=proj4;
},{"../package.json":546,"./Point":479,"./Proj":480,"./common/toPoint":501,"./core":507,"./defs":510,"./includedProjections":514,"./transform":544,"mgrs":478}],516:[function(require,module,exports){
function testObj(t){return"string"==typeof t}function testDef(t){return t in defs}function testWKT(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,r){return e+1+t.indexOf(r)},0)}function testProj(t){return"+"===t[0]}function parse(t){return testObj(t)?testDef(t)?defs[t]:testWKT(t)?wkt(t):testProj(t)?projStr(t):void 0:t}var defs=require("./defs"),wkt=require("./wkt"),projStr=require("./projString");module.exports=parse;
},{"./defs":510,"./projString":517,"./wkt":545}],517:[function(require,module,exports){
var D2R=.017453292519943295,PrimeMeridian=require("./constants/PrimeMeridian"),units=require("./constants/units");module.exports=function(n){var t={},o={};n.split("+").map(function(n){return n.trim()}).filter(function(n){return n}).forEach(function(n){var t=n.split("=");t.push(!0),o[t[0].toLowerCase()]=t[1]});var i,a,e,r={proj:"projName",datum:"datumCode",rf:function(n){t.rf=parseFloat(n)},lat_0:function(n){t.lat0=n*D2R},lat_1:function(n){t.lat1=n*D2R},lat_2:function(n){t.lat2=n*D2R},lat_ts:function(n){t.lat_ts=n*D2R},lon_0:function(n){t.long0=n*D2R},lon_1:function(n){t.long1=n*D2R},lon_2:function(n){t.long2=n*D2R},alpha:function(n){t.alpha=parseFloat(n)*D2R},lonc:function(n){t.longc=n*D2R},x_0:function(n){t.x0=parseFloat(n)},y_0:function(n){t.y0=parseFloat(n)},k_0:function(n){t.k0=parseFloat(n)},k:function(n){t.k0=parseFloat(n)},a:function(n){t.a=parseFloat(n)},b:function(n){t.b=parseFloat(n)},r_a:function(){t.R_A=!0},zone:function(n){t.zone=parseInt(n,10)},south:function(){t.utmSouth=!0},towgs84:function(n){t.datum_params=n.split(",").map(function(n){return parseFloat(n)})},to_meter:function(n){t.to_meter=parseFloat(n)},units:function(n){t.units=n,units[n]&&(t.to_meter=units[n].to_meter)},from_greenwich:function(n){t.from_greenwich=n*D2R},pm:function(n){t.from_greenwich=(PrimeMeridian[n]?PrimeMeridian[n]:parseFloat(n))*D2R},nadgrids:function(n){"@null"===n?t.datumCode="none":t.nadgrids=n},axis:function(n){var o="ewnsud";3===n.length&&o.indexOf(n.substr(0,1))!==-1&&o.indexOf(n.substr(1,1))!==-1&&o.indexOf(n.substr(2,1))!==-1&&(t.axis=n)}};for(i in o)a=o[i],i in r?(e=r[i],"function"==typeof e?e(a):t[e]=a):t[i]=a;return"string"==typeof t.datumCode&&"WGS84"!==t.datumCode&&(t.datumCode=t.datumCode.toLowerCase()),t};
},{"./constants/PrimeMeridian":505,"./constants/units":506}],518:[function(require,module,exports){
function add(r,e){var o=projStore.length;return r.names?(projStore[o]=r,r.names.forEach(function(r){names[r.toLowerCase()]=o}),this):(console.log(e),!0)}var projs=[require("./projections/merc"),require("./projections/longlat")],names={},projStore=[];exports.add=add,exports.get=function(r){if(!r)return!1;var e=r.toLowerCase();return"undefined"!=typeof names[e]&&projStore[names[e]]?projStore[names[e]]:void 0},exports.start=function(){projs.forEach(add)};
},{"./projections/longlat":530,"./projections/merc":531}],519:[function(require,module,exports){
var EPSLN=1e-10,msfnz=require("../common/msfnz"),qsfnz=require("../common/qsfnz"),adjust_lon=require("../common/adjust_lon"),asinz=require("../common/asinz");exports.init=function(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=msfnz(this.e3,this.sin_po,this.cos_po),this.qs1=qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=msfnz(this.e3,this.sin_po,this.cos_po),this.qs2=qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=qsfnz(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>EPSLN?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},exports.forward=function(s){var t=s.x,i=s.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var h=qsfnz(this.e3,this.sin_phi,this.cos_phi),n=this.a*Math.sqrt(this.c-this.ns0*h)/this.ns0,o=this.ns0*adjust_lon(t-this.long0),a=n*Math.sin(o)+this.x0,r=this.rh-n*Math.cos(o)+this.y0;return s.x=a,s.y=r,s},exports.inverse=function(s){var t,i,h,n,o,a;return s.x-=this.x0,s.y=this.rh-s.y+this.y0,this.ns0>=0?(t=Math.sqrt(s.x*s.x+s.y*s.y),h=1):(t=-Math.sqrt(s.x*s.x+s.y*s.y),h=-1),n=0,0!==t&&(n=Math.atan2(h*s.x,h*s.y)),h=t*this.ns0/this.a,this.sphere?a=Math.asin((this.c-h*h)/(2*this.ns0)):(i=(this.c-h*h)/this.ns0,a=this.phi1z(this.e3,i)),o=adjust_lon(n/this.ns0+this.long0),s.x=o,s.y=a,s},exports.phi1z=function(s,t){var i,h,n,o,a,r=asinz(.5*t);if(s<EPSLN)return r;for(var e=s*s,p=1;p<=25;p++)if(i=Math.sin(r),h=Math.cos(r),n=s*i,o=1-n*n,a=.5*o*o/h*(t/(1-e)-i/o+.5/s*Math.log((1-n)/(1+n))),r+=a,Math.abs(a)<=1e-7)return r;return null},exports.names=["Albers_Conic_Equal_Area","Albers","aea"];
},{"../common/adjust_lon":483,"../common/asinz":484,"../common/msfnz":493,"../common/qsfnz":498}],520:[function(require,module,exports){
var adjust_lon=require("../common/adjust_lon"),HALF_PI=Math.PI/2,EPSLN=1e-10,mlfn=require("../common/mlfn"),e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),gN=require("../common/gN"),asinz=require("../common/asinz"),imlfn=require("../common/imlfn");exports.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},exports.forward=function(s){var t,h,i,a,n,M,e,o,_,r,c,p,x,y,f,l,m,u,P,L,q,N,g,I=s.x,A=s.y,b=Math.sin(s.y),E=Math.cos(s.y),F=adjust_lon(I-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=EPSLN?(s.x=this.x0+this.a*(HALF_PI-A)*Math.sin(F),s.y=this.y0-this.a*(HALF_PI-A)*Math.cos(F),s):Math.abs(this.sin_p12+1)<=EPSLN?(s.x=this.x0+this.a*(HALF_PI+A)*Math.sin(F),s.y=this.y0+this.a*(HALF_PI+A)*Math.cos(F),s):(u=this.sin_p12*b+this.cos_p12*E*Math.cos(F),l=Math.acos(u),m=l/Math.sin(l),s.x=this.x0+this.a*m*E*Math.sin(F),s.y=this.y0+this.a*m*(this.cos_p12*b-this.sin_p12*E*Math.cos(F)),s):(t=e0fn(this.es),h=e1fn(this.es),i=e2fn(this.es),a=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(n=this.a*mlfn(t,h,i,a,HALF_PI),M=this.a*mlfn(t,h,i,a,A),s.x=this.x0+(n-M)*Math.sin(F),s.y=this.y0-(n-M)*Math.cos(F),s):Math.abs(this.sin_p12+1)<=EPSLN?(n=this.a*mlfn(t,h,i,a,HALF_PI),M=this.a*mlfn(t,h,i,a,A),s.x=this.x0+(n+M)*Math.sin(F),s.y=this.y0+(n+M)*Math.cos(F),s):(e=b/E,o=gN(this.a,this.e,this.sin_p12),_=gN(this.a,this.e,b),r=Math.atan((1-this.es)*e+this.es*o*this.sin_p12/(_*E)),c=Math.atan2(Math.sin(F),this.cos_p12*Math.tan(r)-this.sin_p12*Math.cos(F)),P=0===c?Math.asin(this.cos_p12*Math.sin(r)-this.sin_p12*Math.cos(r)):Math.abs(Math.abs(c)-Math.PI)<=EPSLN?-Math.asin(this.cos_p12*Math.sin(r)-this.sin_p12*Math.cos(r)):Math.asin(Math.sin(F)*Math.cos(r)/Math.sin(c)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),x=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es),y=p*x,f=x*x,L=P*P,q=L*P,N=q*P,g=N*P,l=o*P*(1-L*f*(1-f)/6+q/8*y*(1-2*f)+N/120*(f*(4-7*f)-3*p*p*(1-7*f))-g/48*y),s.x=this.x0+l*Math.sin(c),s.y=this.y0+l*Math.cos(c),s))},exports.inverse=function(s){s.x-=this.x0,s.y-=this.y0;var t,h,i,a,n,M,e,o,_,r,c,p,x,y,f,l,m,u,P,L,q,N,g;if(this.sphere){if(t=Math.sqrt(s.x*s.x+s.y*s.y),t>2*HALF_PI*this.a)return;return h=t/this.a,i=Math.sin(h),a=Math.cos(h),n=this.long0,Math.abs(t)<=EPSLN?M=this.lat0:(M=asinz(a*this.sin_p12+s.y*i*this.cos_p12/t),e=Math.abs(this.lat0)-HALF_PI,n=adjust_lon(Math.abs(e)<=EPSLN?this.lat0>=0?this.long0+Math.atan2(s.x,-s.y):this.long0-Math.atan2(-s.x,s.y):this.long0+Math.atan2(s.x*i,t*this.cos_p12*a-s.y*this.sin_p12*i))),s.x=n,s.y=M,s}return o=e0fn(this.es),_=e1fn(this.es),r=e2fn(this.es),c=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(p=this.a*mlfn(o,_,r,c,HALF_PI),t=Math.sqrt(s.x*s.x+s.y*s.y),x=p-t,M=imlfn(x/this.a,o,_,r,c),n=adjust_lon(this.long0+Math.atan2(s.x,-1*s.y)),s.x=n,s.y=M,s):Math.abs(this.sin_p12+1)<=EPSLN?(p=this.a*mlfn(o,_,r,c,HALF_PI),t=Math.sqrt(s.x*s.x+s.y*s.y),x=t-p,M=imlfn(x/this.a,o,_,r,c),n=adjust_lon(this.long0+Math.atan2(s.x,s.y)),s.x=n,s.y=M,s):(t=Math.sqrt(s.x*s.x+s.y*s.y),l=Math.atan2(s.x,s.y),y=gN(this.a,this.e,this.sin_p12),m=Math.cos(l),u=this.e*this.cos_p12*m,P=-u*u/(1-this.es),L=3*this.es*(1-P)*this.sin_p12*this.cos_p12*m/(1-this.es),q=t/y,N=q-P*(1+P)*Math.pow(q,3)/6-L*(1+3*P)*Math.pow(q,4)/24,g=1-P*N*N/2-q*N*N*N/6,f=Math.asin(this.sin_p12*Math.cos(N)+this.cos_p12*Math.sin(N)*m),n=adjust_lon(this.long0+Math.asin(Math.sin(l)*Math.sin(N)/Math.cos(f))),M=Math.atan((1-this.es*g*this.sin_p12/Math.sin(f))*Math.tan(f)/(1-this.es)),s.x=n,s.y=M,s)},exports.names=["Azimuthal_Equidistant","aeqd"];
},{"../common/adjust_lon":483,"../common/asinz":484,"../common/e0fn":485,"../common/e1fn":486,"../common/e2fn":487,"../common/e3fn":488,"../common/gN":489,"../common/imlfn":490,"../common/mlfn":492}],521:[function(require,module,exports){
var mlfn=require("../common/mlfn"),e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),gN=require("../common/gN"),adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat"),imlfn=require("../common/imlfn"),HALF_PI=Math.PI/2,EPSLN=1e-10;exports.init=function(){this.sphere||(this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0))},exports.forward=function(t){var s,i,h=t.x,e=t.y;if(h=adjust_lon(h-this.long0),this.sphere)s=this.a*Math.asin(Math.cos(e)*Math.sin(h)),i=this.a*(Math.atan2(Math.tan(e),Math.cos(h))-this.lat0);else{var a=Math.sin(e),n=Math.cos(e),o=gN(this.a,this.e,a),r=Math.tan(e)*Math.tan(e),m=h*Math.cos(e),f=m*m,l=this.es*n*n/(1-this.es),M=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,e);s=o*m*(1-f*r*(1/6-(8-r+8*l)*f/120)),i=M-this.ml0+o*a/n*f*(.5+(5-r+6*l)*f/24)}return t.x=s+this.x0,t.y=i+this.y0,t},exports.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var s,i,h=t.x/this.a,e=t.y/this.a;if(this.sphere){var a=e+this.lat0;s=Math.asin(Math.sin(a)*Math.cos(h)),i=Math.atan2(Math.tan(h),Math.cos(a))}else{var n=this.ml0/this.a+e,o=imlfn(n,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-HALF_PI)<=EPSLN)return t.x=this.long0,t.y=HALF_PI,e<0&&(t.y*=-1),t;var r=gN(this.a,this.e,Math.sin(o)),m=r*r*r/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(o),2),l=h*this.a/r,M=l*l;s=o-r*Math.tan(o)/m*l*l*(.5-(1+3*f)*l*l/24),i=l*(1-M*(f/3+(1+3*f)*f*M/15))/Math.cos(o)}return t.x=adjust_lon(i+this.long0),t.y=adjust_lat(s),t},exports.names=["Cassini","Cassini_Soldner","cass"];
},{"../common/adjust_lat":482,"../common/adjust_lon":483,"../common/e0fn":485,"../common/e1fn":486,"../common/e2fn":487,"../common/e3fn":488,"../common/gN":489,"../common/imlfn":490,"../common/mlfn":492}],522:[function(require,module,exports){
var adjust_lon=require("../common/adjust_lon"),qsfnz=require("../common/qsfnz"),msfnz=require("../common/msfnz"),iqsfnz=require("../common/iqsfnz");exports.init=function(){this.sphere||(this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},exports.forward=function(s){var t,i,h=s.x,a=s.y,n=adjust_lon(h-this.long0);if(this.sphere)t=this.x0+this.a*n*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var e=qsfnz(this.e,Math.sin(a));t=this.x0+this.a*this.k0*n,i=this.y0+this.a*e*.5/this.k0}return s.x=t,s.y=i,s},exports.inverse=function(s){s.x-=this.x0,s.y-=this.y0;var t,i;return this.sphere?(t=adjust_lon(this.long0+s.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(s.y/this.a*Math.cos(this.lat_ts))):(i=iqsfnz(this.e,2*s.y*this.k0/this.a),t=adjust_lon(this.long0+s.x/(this.a*this.k0))),s.x=t,s.y=i,s},exports.names=["cea"];
},{"../common/adjust_lon":483,"../common/iqsfnz":491,"../common/msfnz":493,"../common/qsfnz":498}],523:[function(require,module,exports){
var adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat");exports.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},exports.forward=function(t){var s=t.x,i=t.y,a=adjust_lon(s-this.long0),h=adjust_lat(i-this.lat0);return t.x=this.x0+this.a*a*this.rc,t.y=this.y0+this.a*h,t},exports.inverse=function(t){var s=t.x,i=t.y;return t.x=adjust_lon(this.long0+(s-this.x0)/(this.a*this.rc)),t.y=adjust_lat(this.lat0+(i-this.y0)/this.a),t},exports.names=["Equirectangular","Equidistant_Cylindrical","eqc"];
},{"../common/adjust_lat":482,"../common/adjust_lon":483}],524:[function(require,module,exports){
var e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),msfnz=require("../common/msfnz"),mlfn=require("../common/mlfn"),adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat"),imlfn=require("../common/imlfn"),EPSLN=1e-10;exports.init=function(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=msfnz(this.e,this.sinphi,this.cosphi),this.ml1=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=msfnz(this.e,this.sinphi,this.cosphi),this.ml2=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},exports.forward=function(s){var t,i=s.x,h=s.y;if(this.sphere)t=this.a*(this.g-h);else{var e=mlfn(this.e0,this.e1,this.e2,this.e3,h);t=this.a*(this.g-e)}var n=this.ns*adjust_lon(i-this.long0),a=this.x0+t*Math.sin(n),m=this.y0+this.rh-t*Math.cos(n);return s.x=a,s.y=m,s},exports.inverse=function(s){s.x-=this.x0,s.y=this.rh-s.y+this.y0;var t,i,h,e;this.ns>=0?(i=Math.sqrt(s.x*s.x+s.y*s.y),t=1):(i=-Math.sqrt(s.x*s.x+s.y*s.y),t=-1);var n=0;if(0!==i&&(n=Math.atan2(t*s.x,t*s.y)),this.sphere)return e=adjust_lon(this.long0+n/this.ns),h=adjust_lat(this.g-i/this.a),s.x=e,s.y=h,s;var a=this.g-i/this.a;return h=imlfn(a,this.e0,this.e1,this.e2,this.e3),e=adjust_lon(this.long0+n/this.ns),s.x=e,s.y=h,s},exports.names=["Equidistant_Conic","eqdc"];
},{"../common/adjust_lat":482,"../common/adjust_lon":483,"../common/e0fn":485,"../common/e1fn":486,"../common/e2fn":487,"../common/e3fn":488,"../common/imlfn":490,"../common/mlfn":492,"../common/msfnz":493}],525:[function(require,module,exports){
var FORTPI=Math.PI/4,srat=require("../common/srat"),HALF_PI=Math.PI/2,MAX_ITER=20;exports.init=function(){var t=Math.sin(this.lat0),s=Math.cos(this.lat0);s*=s,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*s*s/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+FORTPI)/(Math.pow(Math.tan(.5*this.lat0+FORTPI),this.C)*srat(this.e*t,this.ratexp))},exports.forward=function(t){var s=t.x,h=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*h+FORTPI),this.C)*srat(this.e*Math.sin(h),this.ratexp))-HALF_PI,t.x=this.C*s,t},exports.inverse=function(t){for(var s=1e-14,h=t.x/this.C,a=t.y,i=Math.pow(Math.tan(.5*a+FORTPI)/this.K,1/this.C),r=MAX_ITER;r>0&&(a=2*Math.atan(i*srat(this.e*Math.sin(t.y),-.5*this.e))-HALF_PI,!(Math.abs(a-t.y)<s));--r)t.y=a;return r?(t.x=h,t.y=a,t):null},exports.names=["gauss"];
},{"../common/srat":500}],526:[function(require,module,exports){
var adjust_lon=require("../common/adjust_lon"),EPSLN=1e-10,asinz=require("../common/asinz");exports.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},exports.forward=function(s){var t,i,h,n,a,o,r,_,c=s.x,p=s.y;return h=adjust_lon(c-this.long0),t=Math.sin(p),i=Math.cos(p),n=Math.cos(h),o=this.sin_p14*t+this.cos_p14*i*n,a=1,o>0||Math.abs(o)<=EPSLN?(r=this.x0+this.a*a*i*Math.sin(h)/o,_=this.y0+this.a*a*(this.cos_p14*t-this.sin_p14*i*n)/o):(r=this.x0+this.infinity_dist*i*Math.sin(h),_=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*i*n)),s.x=r,s.y=_,s},exports.inverse=function(s){var t,i,h,n,a,o;return s.x=(s.x-this.x0)/this.a,s.y=(s.y-this.y0)/this.a,s.x/=this.k0,s.y/=this.k0,(t=Math.sqrt(s.x*s.x+s.y*s.y))?(n=Math.atan2(t,this.rc),i=Math.sin(n),h=Math.cos(n),o=asinz(h*this.sin_p14+s.y*i*this.cos_p14/t),a=Math.atan2(s.x*i,t*this.cos_p14*h-s.y*this.sin_p14*i),a=adjust_lon(this.long0+a)):(o=this.phic0,a=0),s.x=a,s.y=o,s},exports.names=["gnom"];
},{"../common/adjust_lon":483,"../common/asinz":484}],527:[function(require,module,exports){
var adjust_lon=require("../common/adjust_lon");exports.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},exports.forward=function(t){var s,h,i,a,M,n,o,e=t.x,r=t.y,l=adjust_lon(e-this.long0);return s=Math.pow((1+this.e*Math.sin(r))/(1-this.e*Math.sin(r)),this.alfa*this.e/2),h=2*(Math.atan(this.k*Math.pow(Math.tan(r/2+this.s45),this.alfa)/s)-this.s45),i=-l*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(h)+Math.sin(this.ad)*Math.cos(h)*Math.cos(i)),M=Math.asin(Math.cos(h)*Math.sin(i)/Math.cos(a)),n=this.n*M,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=o*Math.cos(n)/1,t.x=o*Math.sin(n)/1,this.czech||(t.y*=-1,t.x*=-1),t},exports.inverse=function(t){var s,h,i,a,M,n,o,e,r=t.x;t.x=t.y,t.y=r,this.czech||(t.y*=-1,t.x*=-1),n=Math.sqrt(t.x*t.x+t.y*t.y),M=Math.atan2(t.y,t.x),a=M/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/n,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),s=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(a)),h=Math.asin(Math.cos(i)*Math.sin(a)/Math.cos(s)),t.x=this.long0-h/this.alfa,o=s,e=0;var l=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(s/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(e=1),o=t.y,l+=1;while(0===e&&l<15);return l>=15?null:t},exports.names=["Krovak","krovak"];
},{"../common/adjust_lon":483}],528:[function(require,module,exports){
var HALF_PI=Math.PI/2,FORTPI=Math.PI/4,EPSLN=1e-10,qsfnz=require("../common/qsfnz"),adjust_lon=require("../common/adjust_lon");exports.S_POLE=1,exports.N_POLE=2,exports.EQUIT=3,exports.OBLIQ=4,exports.init=function(){var s=Math.abs(this.lat0);if(Math.abs(s-HALF_PI)<EPSLN?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(s)<EPSLN?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var t;switch(this.qp=qsfnz(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=qsfnz(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},exports.forward=function(s){var t,h,i,a,e,r,o,n,d,L,P=s.x,m=s.y;if(P=adjust_lon(P-this.long0),this.sphere){if(e=Math.sin(m),L=Math.cos(m),i=Math.cos(P),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h=this.mode===this.EQUIT?1+L*i:1+this.sinph0*e+this.cosph0*L*i,h<=EPSLN)return null;h=Math.sqrt(2/h),t=h*L*Math.sin(P),h*=this.mode===this.EQUIT?e:this.cosph0*e-this.sinph0*L*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(m+this.phi0)<EPSLN)return null;h=FORTPI-.5*m,h=2*(this.mode===this.S_POLE?Math.cos(h):Math.sin(h)),t=h*Math.sin(P),h*=i}}else{switch(o=0,n=0,d=0,i=Math.cos(P),a=Math.sin(P),e=Math.sin(m),r=qsfnz(this.e,e),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(o=r/this.qp,n=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:d=1+this.sinb1*o+this.cosb1*n*i;break;case this.EQUIT:d=1+n*i;break;case this.N_POLE:d=HALF_PI+m,r=this.qp-r;break;case this.S_POLE:d=m-HALF_PI,r=this.qp+r}if(Math.abs(d)<EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),h=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*o-this.sinb1*n*i):(d=Math.sqrt(2/(1+n*i)))*o*this.ymf,t=this.xmf*d*n*a;break;case this.N_POLE:case this.S_POLE:r>=0?(t=(d=Math.sqrt(r))*a,h=i*(this.mode===this.S_POLE?d:-d)):t=h=0}}return s.x=this.a*t+this.x0,s.y=this.a*h+this.y0,s},exports.inverse=function(s){s.x-=this.x0,s.y-=this.y0;var t,h,i,a,e,r,o,n=s.x/this.a,d=s.y/this.a;if(this.sphere){var L,P=0,m=0;if(L=Math.sqrt(n*n+d*d),h=.5*L,h>1)return null;switch(h=2*Math.asin(h),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(h),P=Math.cos(h)),this.mode){case this.EQUIT:h=Math.abs(L)<=EPSLN?0:Math.asin(d*m/L),n*=m,d=P*L;break;case this.OBLIQ:h=Math.abs(L)<=EPSLN?this.phi0:Math.asin(P*this.sinph0+d*m*this.cosph0/L),n*=m*this.cosph0,d=(P-Math.sin(h)*this.sinph0)*L;break;case this.N_POLE:d=-d,h=HALF_PI-h;break;case this.S_POLE:h-=HALF_PI}t=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(n,d):0}else{if(o=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n/=this.dd,d*=this.dd,r=Math.sqrt(n*n+d*d),r<EPSLN)return s.x=0,s.y=this.phi0,s;a=2*Math.asin(.5*r/this.rq),i=Math.cos(a),n*=a=Math.sin(a),this.mode===this.OBLIQ?(o=i*this.sinb1+d*a*this.cosb1/r,e=this.qp*o,d=r*this.cosb1*i-d*this.sinb1*a):(o=d*a/r,e=this.qp*o,d=r*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),e=n*n+d*d,!e)return s.x=0,s.y=this.phi0,s;o=1-e/this.qp,this.mode===this.S_POLE&&(o=-o)}t=Math.atan2(n,d),h=this.authlat(Math.asin(o),this.apa)}return s.x=adjust_lon(this.long0+t),s.y=h,s},exports.P00=.3333333333333333,exports.P01=.17222222222222222,exports.P02=.10257936507936508,exports.P10=.06388888888888888,exports.P11=.0664021164021164,exports.P20=.016415012942191543,exports.authset=function(s){var t,h=[];return h[0]=s*this.P00,t=s*s,h[0]+=t*this.P01,h[1]=t*this.P10,t*=s,h[0]+=t*this.P02,h[1]+=t*this.P11,h[2]=t*this.P20,h},exports.authlat=function(s,t){var h=s+s;return s+t[0]*Math.sin(h)+t[1]*Math.sin(h+h)+t[2]*Math.sin(h+h+h)},exports.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];
},{"../common/adjust_lon":483,"../common/qsfnz":498}],529:[function(require,module,exports){
var EPSLN=1e-10,msfnz=require("../common/msfnz"),tsfnz=require("../common/tsfnz"),HALF_PI=Math.PI/2,sign=require("../common/sign"),adjust_lon=require("../common/adjust_lon"),phi2z=require("../common/phi2z");exports.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<EPSLN)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var s=Math.sin(this.lat1),i=Math.cos(this.lat1),h=msfnz(this.e,s,i),a=tsfnz(this.e,this.lat1,s),n=Math.sin(this.lat2),r=Math.cos(this.lat2),o=msfnz(this.e,n,r),e=tsfnz(this.e,this.lat2,n),l=tsfnz(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>EPSLN?this.ns=Math.log(h/o)/Math.log(a/e):this.ns=s,isNaN(this.ns)&&(this.ns=s),this.f0=h/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},exports.forward=function(t){var s=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=EPSLN&&(i=sign(i)*(HALF_PI-2*EPSLN));var h,a,n=Math.abs(Math.abs(i)-HALF_PI);if(n>EPSLN)h=tsfnz(this.e,i,Math.sin(i)),a=this.a*this.f0*Math.pow(h,this.ns);else{if(n=i*this.ns,n<=0)return null;a=0}var r=this.ns*adjust_lon(s-this.long0);return t.x=this.k0*(a*Math.sin(r))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(r))+this.y0,t},exports.inverse=function(t){var s,i,h,a,n,r=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(s=Math.sqrt(r*r+o*o),i=1):(s=-Math.sqrt(r*r+o*o),i=-1);var e=0;if(0!==s&&(e=Math.atan2(i*r,i*o)),0!==s||this.ns>0){if(i=1/this.ns,h=Math.pow(s/(this.a*this.f0),i),a=phi2z(this.e,h),a===-9999)return null}else a=-HALF_PI;return n=adjust_lon(e/this.ns+this.long0),t.x=n,t.y=a,t},exports.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"];
},{"../common/adjust_lon":483,"../common/msfnz":493,"../common/phi2z":494,"../common/sign":499,"../common/tsfnz":502}],530:[function(require,module,exports){
function identity(t){return t}exports.init=function(){},exports.forward=identity,exports.inverse=identity,exports.names=["longlat","identity"];
},{}],531:[function(require,module,exports){
var msfnz=require("../common/msfnz"),HALF_PI=Math.PI/2,EPSLN=1e-10,R2D=57.29577951308232,adjust_lon=require("../common/adjust_lon"),FORTPI=Math.PI/4,tsfnz=require("../common/tsfnz"),phi2z=require("../common/phi2z");exports.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},exports.forward=function(t){var s=t.x,i=t.y;if(i*R2D>90&&i*R2D<-90&&s*R2D>180&&s*R2D<-180)return null;var h,a;if(Math.abs(Math.abs(i)-HALF_PI)<=EPSLN)return null;if(this.sphere)h=this.x0+this.a*this.k0*adjust_lon(s-this.long0),a=this.y0+this.a*this.k0*Math.log(Math.tan(FORTPI+.5*i));else{var r=Math.sin(i),e=tsfnz(this.e,i,r);h=this.x0+this.a*this.k0*adjust_lon(s-this.long0),a=this.y0-this.a*this.k0*Math.log(e)}return t.x=h,t.y=a,t},exports.inverse=function(t){var s,i,h=t.x-this.x0,a=t.y-this.y0;if(this.sphere)i=HALF_PI-2*Math.atan(Math.exp(-a/(this.a*this.k0)));else{var r=Math.exp(-a/(this.a*this.k0));if(i=phi2z(this.e,r),i===-9999)return null}return s=adjust_lon(this.long0+h/(this.a*this.k0)),t.x=s,t.y=i,t},exports.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];
},{"../common/adjust_lon":483,"../common/msfnz":493,"../common/phi2z":494,"../common/tsfnz":502}],532:[function(require,module,exports){
var adjust_lon=require("../common/adjust_lon");exports.init=function(){},exports.forward=function(t){var a=t.x,i=t.y,n=adjust_lon(a-this.long0),s=this.x0+this.a*n,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=s,t.y=r,t},exports.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var a=adjust_lon(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=a,t.y=i,t},exports.names=["Miller_Cylindrical","mill"];
},{"../common/adjust_lon":483}],533:[function(require,module,exports){
var adjust_lon=require("../common/adjust_lon"),EPSLN=1e-10;exports.init=function(){},exports.forward=function(a){for(var t=a.x,s=a.y,h=adjust_lon(t-this.long0),i=s,n=Math.PI*Math.sin(s),o=0;!0;o++){var r=-(i+Math.sin(i)-n)/(1+Math.cos(i));if(i+=r,Math.abs(r)<EPSLN)break}i/=2,Math.PI/2-Math.abs(s)<EPSLN&&(h=0);var M=.900316316158*this.a*h*Math.cos(i)+this.x0,e=1.4142135623731*this.a*Math.sin(i)+this.y0;return a.x=M,a.y=e,a},exports.inverse=function(a){var t,s;a.x-=this.x0,a.y-=this.y0,s=a.y/(1.4142135623731*this.a),Math.abs(s)>.999999999999&&(s=.999999999999),t=Math.asin(s);var h=adjust_lon(this.long0+a.x/(.900316316158*this.a*Math.cos(t)));h<-Math.PI&&(h=-Math.PI),h>Math.PI&&(h=Math.PI),s=(2*t+Math.sin(2*t))/Math.PI,Math.abs(s)>1&&(s=1);var i=Math.asin(s);return a.x=h,a.y=i,a},exports.names=["Mollweide","moll"];
},{"../common/adjust_lon":483}],534:[function(require,module,exports){
var SEC_TO_RAD=484813681109536e-20;exports.iterations=1,exports.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},exports.forward=function(i){var t,s=i.x,h=i.y,r=h-this.lat0,_=s-this.long0,e=r/SEC_TO_RAD*1e-5,B=_,m=1,a=0;for(t=1;t<=10;t++)m*=e,a+=this.A[t]*m;var C,o,n=a,A=B,D=1,f=0,v=0,x=0;for(t=1;t<=6;t++)C=D*n-f*A,o=f*n+D*A,D=C,f=o,v=v+this.B_re[t]*D-this.B_im[t]*f,x=x+this.B_im[t]*D+this.B_re[t]*f;return i.x=x*this.a+this.x0,i.y=v*this.a+this.y0,i},exports.inverse=function(i){var t,s,h,r=i.x,_=i.y,e=r-this.x0,B=_-this.y0,m=B/this.a,a=e/this.a,C=1,o=0,n=0,A=0;for(t=1;t<=6;t++)s=C*m-o*a,h=o*m+C*a,C=s,o=h,n=n+this.C_re[t]*C-this.C_im[t]*o,A=A+this.C_im[t]*C+this.C_re[t]*o;for(var D=0;D<this.iterations;D++){var f,v,x=n,p=A,y=m,l=a;for(t=2;t<=6;t++)f=x*n-p*A,v=p*n+x*A,x=f,p=v,y+=(t-1)*(this.B_re[t]*x-this.B_im[t]*p),l+=(t-1)*(this.B_im[t]*x+this.B_re[t]*p);x=1,p=0;var u=this.B_re[1],c=this.B_im[1];for(t=2;t<=6;t++)f=x*n-p*A,v=p*n+x*A,x=f,p=v,u+=t*(this.B_re[t]*x-this.B_im[t]*p),c+=t*(this.B_im[t]*x+this.B_re[t]*p);var d=u*u+c*c;n=(y*u+l*c)/d,A=(l*u-y*c)/d}var g=n,E=A,O=1,R=0;for(t=1;t<=9;t++)O*=g,R+=this.D[t]*O;var S=this.lat0+R*SEC_TO_RAD*1e5,T=this.long0+E;return i.x=T,i.y=S,i},exports.names=["New_Zealand_Map_Grid","nzmg"];
},{}],535:[function(require,module,exports){
var tsfnz=require("../common/tsfnz"),adjust_lon=require("../common/adjust_lon"),phi2z=require("../common/phi2z"),HALF_PI=Math.PI/2,FORTPI=Math.PI/4,EPSLN=1e-10;exports.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),h=Math.cos(this.lat0),s=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(h,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-s*s);var a=tsfnz(this.e,this.lat0,t),i=this.bl/h*Math.sqrt((1-this.es)/(1-s*s));i*i<1&&(i=1);var l,n;if(isNaN(this.longc)){var o=tsfnz(this.e,this.lat1,Math.sin(this.lat1)),M=tsfnz(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(i+Math.sqrt(i*i-1))*Math.pow(a,this.bl):this.el=(i-Math.sqrt(i*i-1))*Math.pow(a,this.bl);var e=Math.pow(o,this.bl),r=Math.pow(M,this.bl);l=this.el/e,n=.5*(l-1/l);var b=(this.el*this.el-r*e)/(this.el*this.el+r*e),m=(r-e)/(r+e),c=adjust_lon(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(b*Math.tan(.5*this.bl*c)/m)/this.bl,this.long0=adjust_lon(this.long0);var g=adjust_lon(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/n),this.alpha=Math.asin(i*Math.sin(this.gamma0))}else l=this.lat0>=0?i+Math.sqrt(i*i-1):i-Math.sqrt(i*i-1),this.el=l*Math.pow(a,this.bl),n=.5*(l-1/l),this.gamma0=Math.asin(Math.sin(this.alpha)/i),this.long0=this.longc-Math.asin(n*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(i*i-1),Math.cos(this.alpha))},exports.forward=function(t){var h,s,a,i=t.x,l=t.y,n=adjust_lon(i-this.long0);if(Math.abs(Math.abs(l)-HALF_PI)<=EPSLN)a=l>0?-1:1,s=this.al/this.bl*Math.log(Math.tan(FORTPI+a*this.gamma0*.5)),h=-1*a*HALF_PI*this.al/this.bl;else{var o=tsfnz(this.e,l,Math.sin(l)),M=this.el/Math.pow(o,this.bl),e=.5*(M-1/M),r=.5*(M+1/M),b=Math.sin(this.bl*n),m=(e*Math.sin(this.gamma0)-b*Math.cos(this.gamma0))/r;s=Math.abs(Math.abs(m)-1)<=EPSLN?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-m)/(1+m))/this.bl,h=Math.abs(Math.cos(this.bl*n))<=EPSLN?this.al*this.bl*n:this.al*Math.atan2(e*Math.cos(this.gamma0)+b*Math.sin(this.gamma0),Math.cos(this.bl*n))/this.bl}return this.no_rot?(t.x=this.x0+h,t.y=this.y0+s):(h-=this.uc,t.x=this.x0+s*Math.cos(this.alpha)+h*Math.sin(this.alpha),t.y=this.y0+h*Math.cos(this.alpha)-s*Math.sin(this.alpha)),t},exports.inverse=function(t){var h,s;this.no_rot?(s=t.y-this.y0,h=t.x-this.x0):(s=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),h=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),h+=this.uc);var a=Math.exp(-1*this.bl*s/this.al),i=.5*(a-1/a),l=.5*(a+1/a),n=Math.sin(this.bl*h/this.al),o=(n*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/l,M=Math.pow(this.el/Math.sqrt((1+o)/(1-o)),1/this.bl);return Math.abs(o-1)<EPSLN?(t.x=this.long0,t.y=HALF_PI):Math.abs(o+1)<EPSLN?(t.x=this.long0,t.y=-1*HALF_PI):(t.y=phi2z(this.e,M),t.x=adjust_lon(this.long0-Math.atan2(i*Math.cos(this.gamma0)-n*Math.sin(this.gamma0),Math.cos(this.bl*h/this.al))/this.bl)),t},exports.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"];
},{"../common/adjust_lon":483,"../common/phi2z":494,"../common/tsfnz":502}],536:[function(require,module,exports){
var e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat"),mlfn=require("../common/mlfn"),EPSLN=1e-10,gN=require("../common/gN"),MAX_ITER=20;exports.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},exports.forward=function(t){var s,h,i,a=t.x,e=t.y,n=adjust_lon(a-this.long0);if(i=n*Math.sin(e),this.sphere)Math.abs(e)<=EPSLN?(s=this.a*n,h=-1*this.a*this.lat0):(s=this.a*Math.sin(i)/Math.tan(e),h=this.a*(adjust_lat(e-this.lat0)+(1-Math.cos(i))/Math.tan(e)));else if(Math.abs(e)<=EPSLN)s=this.a*n,h=-1*this.ml0;else{var o=gN(this.a,this.e,Math.sin(e))/Math.tan(e);s=o*Math.sin(i),h=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,e)-this.ml0+o*(1-Math.cos(i))}return t.x=s+this.x0,t.y=h+this.y0,t},exports.inverse=function(t){var s,h,i,a,e,n,o,r,M;if(i=t.x-this.x0,a=t.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=EPSLN)s=adjust_lon(i/this.a+this.long0),h=0;else{n=this.lat0+a/this.a,o=i*i/this.a/this.a+n*n,r=n;var l;for(e=MAX_ITER;e;--e)if(l=Math.tan(r),M=-1*(n*(r*l+1)-r-.5*(r*r+o)*l)/((r-n)/l-1),r+=M,Math.abs(M)<=EPSLN){h=r;break}s=adjust_lon(this.long0+Math.asin(i*Math.tan(r)/this.a)/Math.sin(h))}else if(Math.abs(a+this.ml0)<=EPSLN)h=0,s=adjust_lon(this.long0+i/this.a);else{n=(this.ml0+a)/this.a,o=i*i/this.a/this.a+n*n,r=n;var f,m,u,c,_;for(e=MAX_ITER;e;--e)if(_=this.e*Math.sin(r),f=Math.sqrt(1-_*_)*Math.tan(r),m=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,r),u=this.e0-2*this.e1*Math.cos(2*r)+4*this.e2*Math.cos(4*r)-6*this.e3*Math.cos(6*r),c=m/this.a,M=(n*(f*c+1)-c-.5*f*(c*c+o))/(this.es*Math.sin(2*r)*(c*c+o-2*n*c)/(4*f)+(n-c)*(f*u-2/Math.sin(2*r))-u),r-=M,Math.abs(M)<=EPSLN){h=r;break}f=Math.sqrt(1-this.es*Math.pow(Math.sin(h),2))*Math.tan(h),s=adjust_lon(this.long0+Math.asin(i*f/this.a)/Math.sin(h))}return t.x=s,t.y=h,t},exports.names=["Polyconic","poly"];
},{"../common/adjust_lat":482,"../common/adjust_lon":483,"../common/e0fn":485,"../common/e1fn":486,"../common/e2fn":487,"../common/e3fn":488,"../common/gN":489,"../common/mlfn":492}],537:[function(require,module,exports){
var adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat"),pj_enfn=require("../common/pj_enfn"),MAX_ITER=20,pj_mlfn=require("../common/pj_mlfn"),pj_inv_mlfn=require("../common/pj_inv_mlfn"),HALF_PI=Math.PI/2,EPSLN=1e-10,asinz=require("../common/asinz");exports.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pj_enfn(this.es)},exports.forward=function(s){var t,i,h=s.x,n=s.y;if(h=adjust_lon(h-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(n),e=MAX_ITER;e;--e){var r=(this.m*n+Math.sin(n)-a)/(this.m+Math.cos(n));if(n-=r,Math.abs(r)<EPSLN)break}else n=1!==this.n?Math.asin(this.n*Math.sin(n)):n;t=this.a*this.C_x*h*(this.m+Math.cos(n)),i=this.a*this.C_y*n}else{var o=Math.sin(n),_=Math.cos(n);i=this.a*pj_mlfn(n,o,_,this.en),t=this.a*h*_/Math.sqrt(1-this.es*o*o)}return s.x=t,s.y=i,s},exports.inverse=function(s){var t,i,h,n;return s.x-=this.x0,h=s.x/this.a,s.y-=this.y0,t=s.y/this.a,this.sphere?(t/=this.C_y,h/=this.C_x*(this.m+Math.cos(t)),this.m?t=asinz((this.m*t+Math.sin(t))/this.n):1!==this.n&&(t=asinz(Math.sin(t)/this.n)),h=adjust_lon(h+this.long0),t=adjust_lat(t)):(t=pj_inv_mlfn(s.y/this.a,this.es,this.en),n=Math.abs(t),n<HALF_PI?(n=Math.sin(t),i=this.long0+s.x*Math.sqrt(1-this.es*n*n)/(this.a*Math.cos(t)),h=adjust_lon(i)):n-EPSLN<HALF_PI&&(h=this.long0)),s.x=h,s.y=t,s},exports.names=["Sinusoidal","sinu"];
},{"../common/adjust_lat":482,"../common/adjust_lon":483,"../common/asinz":484,"../common/pj_enfn":495,"../common/pj_inv_mlfn":496,"../common/pj_mlfn":497}],538:[function(require,module,exports){
exports.init=function(){var t=this.lat0;this.lambda0=this.long0;var a=Math.sin(t),h=this.a,s=this.rf,i=1/s,M=2*i-Math.pow(i,2),n=this.e=Math.sqrt(M);this.R=this.k0*h*Math.sqrt(1-M)/(1-M*Math.pow(a,2)),this.alpha=Math.sqrt(1+M/(1-M)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(a/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),r=Math.log(Math.tan(Math.PI/4+t/2)),e=Math.log((1+n*a)/(1-n*a));this.K=o-this.alpha*r+this.alpha*n/2*e},exports.forward=function(t){var a=Math.log(Math.tan(Math.PI/4-t.y/2)),h=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),s=-this.alpha*(a+h)+this.K,i=2*(Math.atan(Math.exp(s))-Math.PI/4),M=this.alpha*(t.x-this.lambda0),n=Math.atan(Math.sin(M)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(M))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(M));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*n+this.x0,t},exports.inverse=function(t){for(var a=t.x-this.x0,h=t.y-this.y0,s=a/this.R,i=2*(Math.atan(Math.exp(h/this.R))-Math.PI/4),M=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(s)),n=Math.atan(Math.sin(s)/(Math.cos(this.b0)*Math.cos(s)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+n/this.alpha,r=0,e=M,l=-1e3,p=0;Math.abs(e-l)>1e-7;){if(++p>20)return;r=1/this.alpha*(Math.log(Math.tan(Math.PI/4+M/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(e))/2)),l=e,e=2*Math.atan(Math.exp(r))-Math.PI/2}return t.x=o,t.y=e,t},exports.names=["somerc"];
},{}],539:[function(require,module,exports){
var HALF_PI=Math.PI/2,EPSLN=1e-10,sign=require("../common/sign"),msfnz=require("../common/msfnz"),tsfnz=require("../common/tsfnz"),phi2z=require("../common/phi2z"),adjust_lon=require("../common/adjust_lon");exports.ssfn_=function(t,s,h){return s*=h,Math.tan(.5*(HALF_PI+t))*Math.pow((1-s)/(1+s),.5*h)},exports.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*(1+sign(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=EPSLN&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*this.cons*msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/tsfnz(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=msfnz(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},exports.forward=function(t){var s,h,i,a,n,o,c=t.x,M=t.y,l=Math.sin(M),e=Math.cos(M),r=adjust_lon(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=EPSLN&&Math.abs(M+this.lat0)<=EPSLN?(t.x=NaN,t.y=NaN,t):this.sphere?(s=2*this.k0/(1+this.sinlat0*l+this.coslat0*e*Math.cos(r)),t.x=this.a*s*e*Math.sin(r)+this.x0,t.y=this.a*s*(this.coslat0*l-this.sinlat0*e*Math.cos(r))+this.y0,t):(h=2*Math.atan(this.ssfn_(M,l,this.e))-HALF_PI,a=Math.cos(h),i=Math.sin(h),Math.abs(this.coslat0)<=EPSLN?(n=tsfnz(this.e,M*this.con,this.con*l),o=2*this.a*this.k0*n/this.cons,t.x=this.x0+o*Math.sin(c-this.long0),t.y=this.y0-this.con*o*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<EPSLN?(s=2*this.a*this.k0/(1+a*Math.cos(r)),t.y=s*i):(s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*a*Math.cos(r))),t.y=s*(this.cosX0*i-this.sinX0*a*Math.cos(r))+this.y0),t.x=s*a*Math.sin(r)+this.x0,t))},exports.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var s,h,i,a,n,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(o/(.5*this.a*this.k0));return s=this.long0,h=this.lat0,o<=EPSLN?(t.x=s,t.y=h,t):(h=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/o),s=adjust_lon(Math.abs(this.coslat0)<EPSLN?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(c),o*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=s,t.y=h,t)}if(Math.abs(this.coslat0)<=EPSLN){if(o<=EPSLN)return h=this.lat0,s=this.long0,t.x=s,t.y=h,t;t.x*=this.con,t.y*=this.con,i=o*this.cons/(2*this.a*this.k0),h=this.con*phi2z(this.e,i),s=this.con*adjust_lon(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),s=this.long0,o<=EPSLN?n=this.X0:(n=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/o),s=adjust_lon(this.long0+Math.atan2(t.x*Math.sin(a),o*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),h=-1*phi2z(this.e,Math.tan(.5*(HALF_PI+n)));return t.x=s,t.y=h,t},exports.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];
},{"../common/adjust_lon":483,"../common/msfnz":493,"../common/phi2z":494,"../common/sign":499,"../common/tsfnz":502}],540:[function(require,module,exports){
var gauss=require("./gauss"),adjust_lon=require("../common/adjust_lon");exports.init=function(){gauss.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},exports.forward=function(t){var s,i,h,a;return t.x=adjust_lon(t.x-this.long0),gauss.forward.apply(this,[t]),s=Math.sin(t.y),i=Math.cos(t.y),h=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*s+this.cosc0*i*h),t.x=a*i*Math.sin(t.x),t.y=a*(this.cosc0*s-this.sinc0*i*h),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},exports.inverse=function(t){var s,i,h,a,r;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,r=Math.sqrt(t.x*t.x+t.y*t.y)){var e=2*Math.atan2(r,this.R2);s=Math.sin(e),i=Math.cos(e),a=Math.asin(i*this.sinc0+t.y*s*this.cosc0/r),h=Math.atan2(t.x*s,r*this.cosc0*i-t.y*this.sinc0*s)}else a=this.phic0,h=0;return t.x=h,t.y=a,gauss.inverse.apply(this,[t]),t.x=adjust_lon(t.x+this.long0),t},exports.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"];
},{"../common/adjust_lon":483,"./gauss":525}],541:[function(require,module,exports){
var e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),mlfn=require("../common/mlfn"),adjust_lon=require("../common/adjust_lon"),HALF_PI=Math.PI/2,EPSLN=1e-10,sign=require("../common/sign"),asinz=require("../common/asinz");exports.init=function(){this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},exports.forward=function(t){var s,h,i,e=t.x,a=t.y,n=adjust_lon(e-this.long0),r=Math.sin(a),o=Math.cos(a);if(this.sphere){var M=o*Math.sin(n);if(Math.abs(Math.abs(M)-1)<1e-10)return 93;h=.5*this.a*this.k0*Math.log((1+M)/(1-M)),s=Math.acos(o*Math.cos(n)/Math.sqrt(1-M*M)),a<0&&(s=-s),i=this.a*this.k0*(s-this.lat0)}else{var p=o*n,f=Math.pow(p,2),m=this.ep2*Math.pow(o,2),l=Math.tan(a),u=Math.pow(l,2);s=1-this.es*Math.pow(r,2);var c=this.a/Math.sqrt(s),w=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,a);h=this.k0*c*p*(1+f/6*(1-u+m+f/20*(5-18*u+Math.pow(u,2)+72*m-58*this.ep2)))+this.x0,i=this.k0*(w-this.ml0+c*l*(f*(.5+f/24*(5-u+9*m+4*Math.pow(m,2)+f/30*(61-58*u+Math.pow(u,2)+600*m-330*this.ep2)))))+this.y0}return t.x=h,t.y=i,t},exports.inverse=function(t){var s,h,i,e,a,n,r=6;if(this.sphere){var o=Math.exp(t.x/(this.a*this.k0)),M=.5*(o-1/o),p=this.lat0+t.y/(this.a*this.k0),f=Math.cos(p);s=Math.sqrt((1-f*f)/(1+M*M)),a=asinz(s),p<0&&(a=-a),n=0===M&&0===f?this.long0:adjust_lon(Math.atan2(M,f)+this.long0)}else{var m=t.x-this.x0,l=t.y-this.y0;for(s=(this.ml0+l/this.k0)/this.a,h=s,e=0;!0&&(i=(s+this.e1*Math.sin(2*h)-this.e2*Math.sin(4*h)+this.e3*Math.sin(6*h))/this.e0-h,h+=i,!(Math.abs(i)<=EPSLN));e++)if(e>=r)return 95;if(Math.abs(h)<HALF_PI){var u=Math.sin(h),c=Math.cos(h),w=Math.tan(h),v=this.ep2*Math.pow(c,2),q=Math.pow(v,2),x=Math.pow(w,2),g=Math.pow(x,2);s=1-this.es*Math.pow(u,2);var _=this.a/Math.sqrt(s),k=_*(1-this.es)/s,y=m/(_*this.k0),d=Math.pow(y,2);a=h-_*w*d/k*(.5-d/24*(5+3*x+10*v-4*q-9*this.ep2-d/30*(61+90*x+298*v+45*g-252*this.ep2-3*q))),n=adjust_lon(this.long0+y*(1-d/6*(1+2*x+v-d/20*(5-2*v+28*x-3*q+8*this.ep2+24*g)))/c)}else a=HALF_PI*sign(l),n=this.long0}return t.x=n,t.y=a,t},exports.names=["Transverse_Mercator","Transverse Mercator","tmerc"];
},{"../common/adjust_lon":483,"../common/asinz":484,"../common/e0fn":485,"../common/e1fn":486,"../common/e2fn":487,"../common/e3fn":488,"../common/mlfn":492,"../common/sign":499}],542:[function(require,module,exports){
var D2R=.017453292519943295,tmerc=require("./tmerc");exports.dependsOn="tmerc",exports.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,tmerc.init.apply(this),this.forward=tmerc.forward,this.inverse=tmerc.inverse)},exports.names=["Universal Transverse Mercator System","utm"];
},{"./tmerc":541}],543:[function(require,module,exports){
var adjust_lon=require("../common/adjust_lon"),HALF_PI=Math.PI/2,EPSLN=1e-10,asinz=require("../common/asinz");exports.init=function(){this.R=this.a},exports.forward=function(t){var a,h,s=t.x,i=t.y,M=adjust_lon(s-this.long0);Math.abs(i)<=EPSLN&&(a=this.x0+this.R*M,h=this.y0);var n=asinz(2*Math.abs(i/Math.PI));(Math.abs(M)<=EPSLN||Math.abs(Math.abs(i)-HALF_PI)<=EPSLN)&&(a=this.x0,h=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*n):this.y0+Math.PI*this.R*-Math.tan(.5*n));var r=.5*Math.abs(Math.PI/M-M/Math.PI),o=r*r,P=Math.sin(n),e=Math.cos(n),I=e/(P+e-1),x=I*I,y=I*(2/P-1),u=y*y,b=Math.PI*this.R*(r*(I-u)+Math.sqrt(o*(I-u)*(I-u)-(u+o)*(x-u)))/(u+o);M<0&&(b=-b),a=this.x0+b;var c=o+I;return b=Math.PI*this.R*(y*c-r*Math.sqrt((u+o)*(o+1)-c*c))/(u+o),h=i>=0?this.y0+b:this.y0-b,t.x=a,t.y=h,t},exports.inverse=function(t){var a,h,s,i,M,n,r,o,P,e,I,x,y;return t.x-=this.x0,t.y-=this.y0,I=Math.PI*this.R,s=t.x/I,i=t.y/I,M=s*s+i*i,n=-Math.abs(i)*(1+M),r=n-2*i*i+s*s,o=-2*n+1+2*i*i+M*M,y=i*i/o+(2*r*r*r/o/o/o-9*n*r/o/o)/27,P=(n-r*r/3/o)/o,e=2*Math.sqrt(-P/3),I=3*y/P/e,Math.abs(I)>1&&(I=I>=0?1:-1),x=Math.acos(I)/3,h=t.y>=0?(-e*Math.cos(x+Math.PI/3)-r/3/o)*Math.PI:-(-e*Math.cos(x+Math.PI/3)-r/3/o)*Math.PI,a=Math.abs(s)<EPSLN?this.long0:adjust_lon(this.long0+Math.PI*(M-1+Math.sqrt(1+2*(s*s-i*i)+M*M))/2/s),t.x=a,t.y=h,t},exports.names=["Van_der_Grinten_I","VanDerGrinten","vandg"];
},{"../common/adjust_lon":483,"../common/asinz":484}],544:[function(require,module,exports){
var D2R=.017453292519943295,R2D=57.29577951308232,PJD_3PARAM=1,PJD_7PARAM=2,datum_transform=require("./datum_transform"),adjust_axis=require("./adjust_axis"),proj=require("./Proj"),toPoint=require("./common/toPoint");module.exports=function r(t,e,a){function o(r,t){return(r.datum.datum_type===PJD_3PARAM||r.datum.datum_type===PJD_7PARAM)&&"WGS84"!==t.datumCode}var m;return Array.isArray(a)&&(a=toPoint(a)),t.datum&&e.datum&&(o(t,e)||o(e,t))&&(m=new proj("WGS84"),r(t,m,a),t=m),"enu"!==t.axis&&adjust_axis(t,!1,a),"longlat"===t.projName?(a.x*=D2R,a.y*=D2R):(t.to_meter&&(a.x*=t.to_meter,a.y*=t.to_meter),t.inverse(a)),t.from_greenwich&&(a.x+=t.from_greenwich),a=datum_transform(t.datum,e.datum,a),e.from_greenwich&&(a.x-=e.from_greenwich),"longlat"===e.projName?(a.x*=R2D,a.y*=R2D):(e.forward(a),e.to_meter&&(a.x/=e.to_meter,a.y/=e.to_meter)),"enu"!==e.axis&&adjust_axis(e,!0,a),a};
},{"./Proj":480,"./adjust_axis":481,"./common/toPoint":501,"./datum_transform":509}],545:[function(require,module,exports){
function mapit(e,a,t){e[a]=t.map(function(e){var a={};return sExpr(e,a),a}).reduce(function(e,a){return extend(e,a)},{})}function sExpr(e,a){var t;return Array.isArray(e)?(t=e.shift(),"PARAMETER"===t&&(t=e.shift()),1===e.length?Array.isArray(e[0])?(a[t]={},sExpr(e[0],a[t])):a[t]=e[0]:e.length?"TOWGS84"===t?a[t]=e:(a[t]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(t)>-1?(a[t]={name:e[0].toLowerCase(),convert:e[1]},3===e.length&&(a[t].auth=e[2])):"SPHEROID"===t?(a[t]={name:e[0],a:e[1],rf:e[2]},4===e.length&&(a[t].auth=e[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(t)>-1?(e[0]=["name",e[0]],mapit(a,t,e)):e.every(function(e){return Array.isArray(e)})?mapit(a,t,e):sExpr(e,a[t])):a[t]=!0,void 0):void(a[e]=!0)}function rename(e,a){var t=a[0],r=a[1];!(t in e)&&r in e&&(e[t]=e[r],3===a.length&&(e[t]=a[2](e[t])))}function d2r(e){return e*D2R}function cleanWKT(e){function a(a){var t=e.to_meter||1;return parseFloat(a,10)*t}"GEOGCS"===e.type?e.projName="longlat":"LOCAL_CS"===e.type?(e.projName="identity",e.local=!0):"object"==typeof e.PROJECTION?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),"metre"===e.units&&(e.units="meter"),e.UNIT.convert&&("GEOGCS"===e.type?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=parseFloat(e.UNIT.convert,10)*e.DATUM.SPHEROID.a):e.to_meter=parseFloat(e.UNIT.convert,10))),e.GEOGCS&&(e.GEOGCS.DATUM?e.datumCode=e.GEOGCS.DATUM.name.toLowerCase():e.datumCode=e.GEOGCS.name.toLowerCase(),"d_"===e.datumCode.slice(0,2)&&(e.datumCode=e.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==e.datumCode&&"new_zealand_1949"!==e.datumCode||(e.datumCode="nzgd49"),"wgs_1984"===e.datumCode&&("Mercator_Auxiliary_Sphere"===e.PROJECTION&&(e.sphere=!0),e.datumCode="wgs84"),"_ferro"===e.datumCode.slice(-6)&&(e.datumCode=e.datumCode.slice(0,-6)),"_jakarta"===e.datumCode.slice(-8)&&(e.datumCode=e.datumCode.slice(0,-8)),~e.datumCode.indexOf("belge")&&(e.datumCode="rnb72"),e.GEOGCS.DATUM&&e.GEOGCS.DATUM.SPHEROID&&(e.ellps=e.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===e.ellps.toLowerCase().slice(0,13)&&(e.ellps="intl"),e.a=e.GEOGCS.DATUM.SPHEROID.a,e.rf=parseFloat(e.GEOGCS.DATUM.SPHEROID.rf,10)),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36")),e.b&&!isFinite(e.b)&&(e.b=e.a);var t=function(a){return rename(e,a)},r=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",d2r],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",d2r],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",d2r],["lat0","latitude_of_origin",d2r],["lat0","standard_parallel_1",d2r],["lat1","standard_parallel_1",d2r],["lat2","standard_parallel_2",d2r],["alpha","azimuth",d2r],["srsCode","name"]];r.forEach(t),e.long0||!e.longc||"Albers_Conic_Equal_Area"!==e.projName&&"Lambert_Azimuthal_Equal_Area"!==e.projName||(e.long0=e.longc),e.lat_ts||!e.lat1||"Stereographic_South_Pole"!==e.projName&&"Polar Stereographic (variant B)"!==e.projName||(e.lat0=d2r(e.lat1>0?90:-90),e.lat_ts=e.lat1)}var D2R=.017453292519943295,extend=require("./extend");module.exports=function(e,a){var t=JSON.parse((","+e).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),r=t.shift(),n=t.shift();t.unshift(["name",n]),t.unshift(["type",r]),t.unshift("output");var l={};return sExpr(t,l),cleanWKT(l.output),extend(a,l.output)};
},{"./extend":512}],546:[function(require,module,exports){
module.exports={"_args":[["proj4@2.3.12","/Users/build/build/locuslabs-js-sdk-1.0.6/locuslabs-js-sdk/src/locuslabs-core"]],"_from":"proj4@2.3.12","_id":"proj4@2.3.12","_inCache":true,"_installable":true,"_location":"/proj4","_nodeVersion":"0.12.7","_npmUser":{"email":"andreas.hocevar@gmail.com","name":"ahocevar"},"_npmVersion":"2.11.3","_phantomChildren":{},"_requested":{"name":"proj4","raw":"proj4@2.3.12","rawSpec":"2.3.12","scope":null,"spec":"2.3.12","type":"version"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/proj4/-/proj4-2.3.12.tgz","_shasum":"96b9ed2a810dad6e62f1e32b4dad37c276b427a2","_shrinkwrap":null,"_spec":"proj4@2.3.12","_where":"/Users/build/build/locuslabs-js-sdk-1.0.6/locuslabs-js-sdk/src/locuslabs-core","author":"","bugs":{"url":"https://github.com/proj4js/proj4js/issues"},"contributors":[{"email":"madair@dmsolutions.ca","name":"Mike Adair"},{"email":"rich@greenwoodmap.com","name":"Richard Greenwood"},{"email":"calvin.metcalf@gmail.com","name":"Calvin Metcalf"},{"name":"Richard Marsden","url":"http://www.winwaed.com"},{"name":"T. Mittan"},{"name":"D. Steinwand"},{"name":"S. Nelson"}],"dependencies":{"mgrs":"~0.0.2"},"description":"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.","devDependencies":{"browserify":"~3.24.5","chai":"~1.8.1","curl":"git://github.com/cujojs/curl.git","grunt":"~0.4.2","grunt-browserify":"~1.3.0","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.3.2","grunt-mocha-phantomjs":"~0.4.0","istanbul":"~0.2.4","mocha":"~1.17.1","tin":"~0.4.0"},"directories":{"doc":"docs","test":"test"},"dist":{"shasum":"96b9ed2a810dad6e62f1e32b4dad37c276b427a2","tarball":"https://registry.npmjs.org/proj4/-/proj4-2.3.12.tgz"},"gitHead":"cd07cad5c6a5b6ed82b59a21356848979eafe22c","homepage":"https://github.com/proj4js/proj4js#readme","jam":{"include":["dist/proj4.js","README.md","AUTHORS","LICENSE.md"],"main":"dist/proj4.js"},"license":"MIT","main":"lib/index.js","maintainers":[{"email":"calvin.metcalf@gmail.com","name":"cwmma"},{"email":"andreas.hocevar@gmail.com","name":"ahocevar"}],"name":"proj4","optionalDependencies":{},"readme":"ERROR: No README data found!","repository":{"type":"git","url":"git://github.com/proj4js/proj4js.git"},"scripts":{"test":"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},"version":"2.3.12"}
},{}],547:[function(require,module,exports){
module.exports=require("./lib/effects");
},{"./lib/effects":548}],548:[function(require,module,exports){
"use strict";var _io=require("./internal/io");module.exports={take:_io.take,put:_io.put,race:_io.race,call:_io.call,apply:_io.apply,cps:_io.cps,fork:_io.fork,join:_io.join,cancel:_io.cancel,select:_io.select};
},{"./internal/io":552}],549:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.utils=exports.effects=exports.takeLatest=exports.takeEvery=exports.storeIO=exports.runSaga=exports.isCancelError=exports.SagaCancellationException=void 0;var _runSaga=require("./internal/runSaga");Object.defineProperty(exports,"runSaga",{enumerable:!0,get:function(){return _runSaga.runSaga}}),Object.defineProperty(exports,"storeIO",{enumerable:!0,get:function(){return _runSaga.storeIO}});var _sagaHelpers=require("./internal/sagaHelpers");Object.defineProperty(exports,"takeEvery",{enumerable:!0,get:function(){return _sagaHelpers.takeEvery}}),Object.defineProperty(exports,"takeLatest",{enumerable:!0,get:function(){return _sagaHelpers.takeLatest}});var _middleware=require("./internal/middleware"),_middleware2=_interopRequireDefault(_middleware),_SagaCancellationException2=require("./internal/SagaCancellationException"),_SagaCancellationException3=_interopRequireDefault(_SagaCancellationException2),_effects=require("./effects"),effects=_interopRequireWildcard(_effects),_utils=require("./utils"),utils=_interopRequireWildcard(_utils);exports.default=_middleware2.default;var SagaCancellationException=exports.SagaCancellationException=_SagaCancellationException3.default,isCancelError=exports.isCancelError=function(e){return e instanceof SagaCancellationException};exports.effects=effects,exports.utils=utils;
},{"./effects":548,"./internal/SagaCancellationException":550,"./internal/middleware":553,"./internal/runSaga":556,"./internal/sagaHelpers":557,"./utils":560}],550:[function(require,module,exports){
"use strict";function SagaCancellationException(t,a,e){var o="SagaCancellationException; type: "+t+", saga: "+a+", origin: "+e;this.name="SagaCancellationException",this.message=o,this.type=t,this.saga=a,this.origin=e,this.stack=(new Error).stack}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SagaCancellationException,SagaCancellationException.prototype=Object.create(Error.prototype),SagaCancellationException.prototype.constructor=SagaCancellationException;
},{}],551:[function(require,module,exports){
"use strict";function emitter(){function e(e){return r.push(e),function(){return(0,_utils.remove)(r,e)}}function t(e){r.slice().forEach(function(t){return t(e)})}var r=[];return{subscribe:e,emit:t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=emitter;var _utils=require("./utils");
},{"./utils":559}],552:[function(require,module,exports){
"use strict";function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function matcher(t){return("*"===t?matchers.wildcard:_utils.is.array(t)?matchers.array:_utils.is.func(t)?matchers.predicate:matchers.default)(t)}function take(t){if(arguments.length>0&&_utils.is.undef(t))throw new Error(INVALID_PATTERN);return effect(TAKE,_utils.is.undef(t)?"*":t)}function put(t){return effect(PUT,t)}function race(t){return effect(RACE,t)}function getFnCallDesc(t,e){(0,_utils.check)(t,_utils.is.notUndef,CALL_FUNCTION_ARG_ERROR);var r=null;if(_utils.is.array(t)){var n=t,o=_slicedToArray(n,2);r=o[0],t=o[1]}else if(t.fn){var u=t;r=u.context,t=u.fn}return(0,_utils.check)(t,_utils.is.func,CALL_FUNCTION_ARG_ERROR),{context:r,fn:t,args:e}}function call(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return effect(CALL,getFnCallDesc(t,r))}function apply(t,e){var r=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return effect(CALL,getFnCallDesc({context:t,fn:e},r))}function cps(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return effect(CPS,getFnCallDesc(t,r))}function fork(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return effect(FORK,getFnCallDesc(t,r))}function join(t){if(!isForkedTask(t))throw new Error(JOIN_ARG_ERROR);return effect(JOIN,t)}function cancel(t){if(!isForkedTask(t))throw new Error(CANCEL_ARG_ERROR);return effect(CANCEL,t)}function select(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return 0===arguments.length?t=_utils.ident:(0,_utils.check)(t,_utils.is.func,SELECT_ARG_ERROR),effect(SELECT,{selector:t,args:r})}var _slicedToArray=function(){function t(t,e){var r=[],n=!0,o=!1,u=void 0;try{for(var c,a=t[Symbol.iterator]();!(n=(c=a.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){o=!0,u=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw u}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.asEffect=exports.SELECT_ARG_ERROR=exports.INVALID_PATTERN=exports.CANCEL_ARG_ERROR=exports.JOIN_ARG_ERROR=exports.FORK_ARG_ERROR=exports.CALL_FUNCTION_ARG_ERROR=void 0,exports.matcher=matcher,exports.take=take,exports.put=put,exports.race=race,exports.call=call,exports.apply=apply,exports.cps=cps,exports.fork=fork,exports.join=join,exports.cancel=cancel,exports.select=select;var _utils=require("./utils"),CALL_FUNCTION_ARG_ERROR=exports.CALL_FUNCTION_ARG_ERROR="call/cps/fork first argument must be a function, an array [context, function] or an object {context, fn}",FORK_ARG_ERROR=exports.FORK_ARG_ERROR="fork first argument must be a generator function or an iterator",JOIN_ARG_ERROR=exports.JOIN_ARG_ERROR="join argument must be a valid task (a result of a fork)",CANCEL_ARG_ERROR=exports.CANCEL_ARG_ERROR="cancel argument must be a valid task (a result of a fork)",INVALID_PATTERN=exports.INVALID_PATTERN="Invalid pattern passed to `take` (HINT: check if you didn't mispell a constant)",SELECT_ARG_ERROR=exports.SELECT_ARG_ERROR="select first argument must be a function",IO=(0,_utils.sym)("IO"),TAKE="TAKE",PUT="PUT",RACE="RACE",CALL="CALL",CPS="CPS",FORK="FORK",JOIN="JOIN",CANCEL="CANCEL",SELECT="SELECT",effect=function(t,e){var r;return r={},_defineProperty(r,IO,!0),_defineProperty(r,t,e),r},matchers={wildcard:function(){return _utils.kTrue},default:function(t){return function(e){return e.type===t}},array:function(t){return function(e){return t.some(function(t){return t===e.type})}},predicate:function(t){return function(e){return t(e)}}},isForkedTask=function(t){return t[_utils.TASK]},asEffect=exports.asEffect={take:function(t){return t&&t[IO]&&t[TAKE]},put:function(t){return t&&t[IO]&&t[PUT]},race:function(t){return t&&t[IO]&&t[RACE]},call:function(t){return t&&t[IO]&&t[CALL]},cps:function(t){return t&&t[IO]&&t[CPS]},fork:function(t){return t&&t[IO]&&t[FORK]},join:function(t){return t&&t[IO]&&t[JOIN]},cancel:function(t){return t&&t[IO]&&t[CANCEL]},select:function(t){return t&&t[IO]&&t[SELECT]}};
},{"./utils":559}],553:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sagaMiddlewareFactory(){function e(e){function r(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return(0,_proc2.default)(e.apply(void 0,[c].concat(t)),i.subscribe,o,a,u,0,e.name)}var a=e.getState,o=e.dispatch,i=(0,_emitter2.default)(),u=_utils.isDev?function(e){return(0,_utils.asap)(function(){return o(e)})}:void 0,c=function(){return(0,_utils.warnDeprecated)(GET_STATE_DEPRECATED_WARNING),a()};return n=r,t.forEach(r),function(e){return function(r){var t=e(r);return r[_monitorActions.MONITOR_ACTION]||i.emit(r),t}}}for(var r=arguments.length,t=Array(r),a=0;a<r;a++)t[a]=arguments[a];var n=void 0;return t.forEach(function(e,r){return(0,_utils.check)(e,_utils.is.func,sagaArgError("createSagaMiddleware",r,e))}),e.run=function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];if(!n)throw new Error(RUN_SAGA_DYNAMIC_ERROR);(0,_utils.check)(e,_utils.is.func,sagaArgError("sagaMiddleware.run",0,e));var o=n.apply(void 0,[e].concat(t));return o.done.catch(function(e){if(!(e instanceof _SagaCancellationException2.default))throw e}),o},e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GET_STATE_DEPRECATED_WARNING=exports.RUN_SAGA_DYNAMIC_ERROR=exports.sagaArgError=void 0,exports.default=sagaMiddlewareFactory;var _utils=require("./utils"),_proc=require("./proc"),_proc2=_interopRequireDefault(_proc),_emitter=require("./emitter"),_emitter2=_interopRequireDefault(_emitter),_monitorActions=require("./monitorActions"),_SagaCancellationException=require("./SagaCancellationException"),_SagaCancellationException2=_interopRequireDefault(_SagaCancellationException),sagaArgError=exports.sagaArgError=function(e,r,t){return"\n  "+e+" can only be called on Generator functions\n  Argument "+t+" at position "+r+" is not function!\n"},RUN_SAGA_DYNAMIC_ERROR=exports.RUN_SAGA_DYNAMIC_ERROR="Before running a Saga dynamically using middleware.run, you must mount the Saga middleware on the Store using applyMiddleware",GET_STATE_DEPRECATED_WARNING=exports.GET_STATE_DEPRECATED_WARNING="\n  Using the 'getState' param of Sagas to access the state is deprecated since 0.9.1\n  To access the Store's state use 'yield select()' instead\n  For more infos see http://yelouafi.github.io/redux-saga/docs/api/index.html#selectselector-args\n";
},{"./SagaCancellationException":550,"./emitter":551,"./monitorActions":554,"./proc":555,"./utils":559}],554:[function(require,module,exports){
"use strict";function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function effectTriggered(e,r,t,E){var f;return f={},_defineProperty(f,MONITOR_ACTION,!0),_defineProperty(f,"type",EFFECT_TRIGGERED),_defineProperty(f,"effectId",e),_defineProperty(f,"parentEffectId",r),_defineProperty(f,"label",t),_defineProperty(f,"effect",E),f}function effectResolved(e,r){var t;return t={},_defineProperty(t,MONITOR_ACTION,!0),_defineProperty(t,"type",EFFECT_RESOLVED),_defineProperty(t,"effectId",e),_defineProperty(t,"result",r),t}function effectRejected(e,r){var t;return t={},_defineProperty(t,MONITOR_ACTION,!0),_defineProperty(t,"type",EFFECT_REJECTED),_defineProperty(t,"effectId",e),_defineProperty(t,"error",r),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.effectTriggered=effectTriggered,exports.effectResolved=effectResolved,exports.effectRejected=effectRejected;var MONITOR_ACTION=exports.MONITOR_ACTION="MONITOR_ACTION",EFFECT_TRIGGERED=exports.EFFECT_TRIGGERED="EFFECT_TRIGGERED",EFFECT_RESOLVED=exports.EFFECT_RESOLVED="EFFECT_RESOLVED",EFFECT_REJECTED=exports.EFFECT_REJECTED="EFFECT_REJECTED";
},{}],555:[function(require,module,exports){
"use strict";function _interopRequireDefault(n){return n&&n.__esModule?n:{default:n}}function _interopRequireWildcard(n){if(n&&n.__esModule)return n;var e={};if(null!=n)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function _toConsumableArray(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function _defineProperty(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function proc(n){function e(o,i){if(!n._isRunning)throw new Error("Trying to resume an already finished generator");try{var a=o?n.throw(o):n.next(i);a.done?t(a.value):r(a.value,R,"",e)}catch(n){t(n,!0),n instanceof _SagaCancellationException2.default?_utils.isDev&&console.warn(y+": uncaught",n):console.error(y+": uncaught",n)}}function t(e,t){n._isRunning=!1,t?(n._error=e,N.reject(e)):(n._result=e,N.resolve(e)),O()}function r(n,e){function t(n,e){v||(v=!0,E.cancel=_utils.noop,h(n?monitorActions.effectRejected(C,n):monitorActions.effectResolved(C,e)),E(n,e))}var r=arguments.length<=2||void 0===arguments[2]?"":arguments[2],E=arguments[3],C=nextEffectId();h(monitorActions.effectTriggered(C,e,r,n));var v=void 0;t.cancel=_utils.noop,E.cancel=function(n){if(!v){v=!0;try{t.cancel(n)}catch(n){}t.cancel=_utils.noop,E(n),h(monitorActions.effectRejected(C,n))}};var g=void 0;return _utils.is.promise(n)?o(n,t):_utils.is.iterator(n)?i(n,C,y,t):_utils.is.array(n)?d(n,C,t):_utils.is.notUndef(g=_io.asEffect.take(n))?a(g,t):_utils.is.notUndef(g=_io.asEffect.put(n))?c(g,t):_utils.is.notUndef(g=_io.asEffect.race(n))?p(g,C,t):_utils.is.notUndef(g=_io.asEffect.call(n))?u(g,C,t):_utils.is.notUndef(g=_io.asEffect.cps(n))?l(g,t):_utils.is.notUndef(g=_io.asEffect.fork(n))?s(g,C,t):_utils.is.notUndef(g=_io.asEffect.join(n))?f(g,t):_utils.is.notUndef(g=_io.asEffect.cancel(n))?_(g,t):_utils.is.notUndef(g=_io.asEffect.select(n))?A(g,t):t(null,n)}function o(n,e){var t=n[CANCEL];"function"==typeof t&&(e.cancel=t),n.then(function(n){return e(null,n)},function(n){return e(n)})}function i(n,e,t,r){o(proc(n,C,v,g,h,e,t).done,r)}function a(n,e){var t={match:(0,_io.matcher)(n),pattern:n,resolve:function(n){return e(null,n)}};m.push(t),e.cancel=function(){return(0,_utils.remove)(m,t)}}function c(n,e){(0,_utils.asap)(function(){return e(null,v(n))})}function u(n,e,t){var r=n.context,a=n.fn,c=n.args,u=void 0;try{u=a.apply(r,c)}catch(n){return t(n)}return _utils.is.promise(u)?o(u,t):_utils.is.iterator(u)?i(u,e,a.name,t):t(null,u)}function l(n,e){var t=n.context,r=n.fn,o=n.args;try{r.apply(t,o.concat(e))}catch(n){return e(n)}}function s(n,e,t){var r=n.context,o=n.fn,i=n.args,a=void 0,c=void 0,u=void 0;try{a=o.apply(r,i)}catch(n){c=c}u=_utils.is.iterator(a)?a:(c?regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:throw c;case 1:case"end":return n.stop()}},n,this)}):regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a;case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n,this)}))(),t(null,proc(u,C,v,g,h,e,o.name,!0))}function f(n,e){o(n.done,e)}function _(n,e){n.done[CANCEL](new _SagaCancellationException2.default(MANUAL_CANCEL,y,y)),e()}function d(n,e,t){function o(){i===c.length&&(a=!0,t(null,c))}if(!n.length)return void t(null,[]);var i=0,a=void 0,c=Array(n.length),u=n.map(function(n,e){var r=function(n,r){if(!a)if(n){try{t.cancel(new _SagaCancellationException2.default(PARALLEL_AUTO_CANCEL,y,y))}catch(n){}t(n)}else c[e]=r,i++,o()};return r.cancel=_utils.noop,r});t.cancel=function(n){a||(a=!0,u.forEach(function(e){return e.cancel(n)}))},n.forEach(function(n,t){return r(n,e,t,u[t])})}function p(n,e,t){var o=void 0,i=Object.keys(n),a={};i.forEach(function(n){var e=function(e,r){if(!o)if(e){try{t.cancel(new _SagaCancellationException2.default(RACE_AUTO_CANCEL,y,y))}catch(n){}t(_defineProperty({},n,e))}else{try{t.cancel(new _SagaCancellationException2.default(RACE_AUTO_CANCEL,y,y))}catch(n){}o=!0,t(null,_defineProperty({},n,r))}};e.cancel=_utils.noop,a[n]=e}),t.cancel=function(n){o||(o=!0,i.forEach(function(e){return a[e].cancel(n)}))},i.forEach(function(t){return r(n[t],e,t,a[t])})}function A(n,e){var t=n.selector,r=n.args;try{var o=t.apply(void 0,[g()].concat(_toConsumableArray(r)));e(null,o)}catch(n){e(n)}}function E(n,e,t,r,o){var i;return i={},_defineProperty(i,_utils.TASK,!0),_defineProperty(i,"id",n),_defineProperty(i,"name",e),_defineProperty(i,"done",r),_defineProperty(i,"forked",o),_defineProperty(i,"cancel",function(n){n instanceof _SagaCancellationException2.default||(n=new _SagaCancellationException2.default(MANUAL_CANCEL,e,n)),r[CANCEL](n)}),_defineProperty(i,"isRunning",function(){return t._isRunning}),_defineProperty(i,"result",function(){return t._result}),_defineProperty(i,"error",function(){return t._error}),i}var C=arguments.length<=1||void 0===arguments[1]?function(){return _utils.noop}:arguments[1],v=arguments.length<=2||void 0===arguments[2]?_utils.noop:arguments[2],g=arguments.length<=3||void 0===arguments[3]?_utils.noop:arguments[3],h=arguments.length<=4||void 0===arguments[4]?_utils.noop:arguments[4],R=arguments.length<=5||void 0===arguments[5]?0:arguments[5],y=arguments.length<=6||void 0===arguments[6]?"anonymous":arguments[6],L=arguments[7];(0,_utils.check)(n,_utils.is.iterator,NOT_ITERATOR_ERROR);var x=undefindInputError(y),m=[],N=(0,_utils.deferred)(),O=C(function(n){if(void 0===n)throw x;for(var e=0;e<m.length;e++){var t=m[e];t.match(n)&&(m=[],t.resolve(n))}});e.cancel=_utils.noop;var T=E(R,y,n,N.promise,L);return T.done[CANCEL]=function(n){var t=n.type,r=n.origin;e.cancel(new _SagaCancellationException2.default(t,y,r))},n._isRunning=!0,e(),T}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MANUAL_CANCEL=exports.RACE_AUTO_CANCEL=exports.PARALLEL_AUTO_CANCEL=exports.CANCEL=exports.undefindInputError=exports.NOT_ITERATOR_ERROR=void 0,exports.default=proc;var _utils=require("./utils"),_io=require("./io"),_monitorActions=require("./monitorActions"),monitorActions=_interopRequireWildcard(_monitorActions),_SagaCancellationException=require("./SagaCancellationException"),_SagaCancellationException2=_interopRequireDefault(_SagaCancellationException),NOT_ITERATOR_ERROR=exports.NOT_ITERATOR_ERROR="proc first argument (Saga function result) must be an iterator",undefindInputError=exports.undefindInputError=function(n){return"\n  "+n+" saga was provided with an undefined input action\n  Hints :\n  - check that your Action Creator returns a non undefined value\n  - if the Saga was started using runSaga, check that your subscribe source provides the action to its listeners\n"},CANCEL=exports.CANCEL=(0,_utils.sym)("@@redux-saga/cancelPromise"),PARALLEL_AUTO_CANCEL=exports.PARALLEL_AUTO_CANCEL="PARALLEL_AUTO_CANCEL",RACE_AUTO_CANCEL=exports.RACE_AUTO_CANCEL="RACE_AUTO_CANCEL",MANUAL_CANCEL=exports.MANUAL_CANCEL="MANUAL_CANCEL",nextEffectId=(0,_utils.autoInc)();
},{"./SagaCancellationException":550,"./io":552,"./monitorActions":554,"./utils":559}],556:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function storeIO(e){if((0,_utils.warnDeprecated)("storeIO is deprecated, to run Saga dynamically, use 'run' method of the middleware"),e[IO])return e[IO];var t=(0,_emitter2.default)(),r=e.dispatch;return e.dispatch=function(e){var i=r(e);return t.emit(e),i},e[IO]={subscribe:t.subscribe,dispatch:e.dispatch,getState:e.getState},e[IO]}function runSaga(e,t){var r=t.subscribe,i=t.dispatch,u=t.getState,a=arguments.length<=2||void 0===arguments[2]?_utils.noop:arguments[2];return(0,_utils.check)(e,_utils.is.iterator,NOT_ITERATOR_ERROR),(0,_proc2.default)(e,r,i,u,a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NOT_ITERATOR_ERROR=void 0,exports.storeIO=storeIO,exports.runSaga=runSaga;var _utils=require("./utils"),_proc=require("./proc"),_proc2=_interopRequireDefault(_proc),_emitter=require("./emitter"),_emitter2=_interopRequireDefault(_emitter),NOT_ITERATOR_ERROR=exports.NOT_ITERATOR_ERROR="runSaga must be called on an iterator",IO=(0,_utils.sym)("IO");
},{"./emitter":551,"./proc":555,"./utils":559}],557:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function fsmIterator(e,r){function t(t,a){if(n)return done;if(a){if(n=!0,!(a instanceof _SagaCancellationException2.default))throw a;return done}o&&o(t);var i=_slicedToArray(e[r],3),u=i[0],c=i[1],l=i[2];return o=l,r=resume(c,t),resume(u,t)}var n=void 0,o=void 0,a={next:t,throw:function(e){return t(null,e)}};return a}function takeEvery(e,r){for(var t=arguments.length,n=Array(t>2?t-2:0),o=2;o<t;o++)n[o-2]=arguments[o];var a={done:!1,value:(0,_io.take)(e)},i=function(e){return{done:!1,value:_io.fork.apply(void 0,[r].concat(n,[e]))}};return fsmIterator({take:[a,"fork"],fork:[i,"take"]},"take")}function takeLatest(e,r){for(var t=arguments.length,n=Array(t>2?t-2:0),o=2;o<t;o++)n[o-2]=arguments[o];var a={done:!1,value:(0,_io.take)(e)},i=function(){return{done:!1,value:_io.fork.apply(void 0,[r].concat(n,[f]))}},u=function(){return{done:!1,value:(0,_io.cancel)(l)}},c=function(){return l?"cancel":"fork"},l=void 0,f=void 0;return fsmIterator({take:[a,c,function(e){return f=e}],cancel:[u,"fork"],fork:[i,"take",function(e){return l=e}]},"take")}var _slicedToArray=function(){function e(e,r){var t=[],n=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw a}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return e(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.takeEvery=takeEvery,exports.takeLatest=takeLatest;var _utils=require("./utils"),_io=require("./io"),_SagaCancellationException=require("./SagaCancellationException"),_SagaCancellationException2=_interopRequireDefault(_SagaCancellationException),resume=function(e,r){return _utils.is.func(e)?e(r):e},done={done:!0};
},{"./SagaCancellationException":550,"./io":552,"./utils":559}],558:[function(require,module,exports){
"use strict";function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function createMockTask(){var e,r=!0,t=void 0,n=void 0;return e={},_defineProperty(e,_utils.TASK,!0),_defineProperty(e,"isRunning",function(){return r}),_defineProperty(e,"getResult",function(){return t}),_defineProperty(e,"getError",function(){return n}),_defineProperty(e,"setRunning",function(e){return r=e}),_defineProperty(e,"setResult",function(e){return t=e}),_defineProperty(e,"setError",function(e){return n=e}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMockTask=createMockTask;var _utils=require("./utils");
},{"./utils":559}],559:[function(require,module,exports){
(function (process){
"use strict";function ident(e){return e}function check(e,r,n){if(!r(e))throw new Error(n)}function remove(e,r){var n=e.indexOf(r);n>=0&&e.splice(n,1)}function deferred(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=_extends({},e),n=new Promise(function(e,n){r.resolve=e,r.reject=n});return r.promise=n,r}function arrayOfDeffered(e){for(var r=[],n=0;n<e;n++)r.push(deferred());return r}function autoInc(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return function(){return++e}}function asap(e){return Promise.resolve(1).then(function(){return e()})}function warnDeprecated(e){isDev&&console.warn("DEPRECATION WARNING",e)}var _extends=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ident=ident,exports.check=check,exports.remove=remove,exports.deferred=deferred,exports.arrayOfDeffered=arrayOfDeffered,exports.autoInc=autoInc,exports.asap=asap,exports.warnDeprecated=warnDeprecated;var sym=exports.sym=function(e){return"@@redux-saga/"+e},TASK=exports.TASK=sym("TASK"),kTrue=exports.kTrue=function(){return!0},noop=exports.noop=function(){},isDev=exports.isDev="undefined"!=typeof process&&process.env&&"development"===process.env.NODE_ENV,is=exports.is={undef:function(e){return null===e||void 0===e},notUndef:function(e){return null!==e&&void 0!==e},func:function(e){return"function"==typeof e},array:Array.isArray,promise:function(e){return e&&is.func(e.then)},iterator:function(e){return e&&is.func(e.next)&&is.func(e.throw)},task:function(e){return e&&e[TASK]}};
}).call(this,require('_process'))

},{"_process":16}],560:[function(require,module,exports){
"use strict";function _interopRequireWildcard(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}var _utils=require("./internal/utils"),_io=require("./internal/io"),_proc=require("./internal/proc"),_testUtils=require("./internal/testUtils"),_monitorActions=require("./internal/monitorActions"),monitorActions=_interopRequireWildcard(_monitorActions);module.exports={TASK:_utils.TASK,noop:_utils.noop,is:_utils.is,asEffect:_io.asEffect,deferred:_utils.deferred,arrayOfDeffered:_utils.arrayOfDeffered,asap:_utils.asap,CANCEL:_proc.CANCEL,RACE_AUTO_CANCEL:_proc.RACE_AUTO_CANCEL,PARALLEL_AUTO_CANCEL:_proc.PARALLEL_AUTO_CANCEL,MANUAL_CANCEL:_proc.MANUAL_CANCEL,createMockTask:_testUtils.createMockTask,monitorActions:monitorActions};
},{"./internal/io":552,"./internal/monitorActions":554,"./internal/proc":555,"./internal/testUtils":558,"./internal/utils":559}],561:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function applyMiddleware(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,o){var a=e(r,n,o),u=a.dispatch,p=[],i={getState:a.getState,dispatch:function(e){return u(e)}};return p=t.map(function(e){return e(i)}),u=_compose2.default.apply(void 0,p)(a.dispatch),_extends({},a,{dispatch:u})}}}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};exports.__esModule=!0,exports.default=applyMiddleware;var _compose=require("./compose"),_compose2=_interopRequireDefault(_compose);
},{"./compose":564}],562:[function(require,module,exports){
"use strict";function bindActionCreator(t,o){return function(){return o(t.apply(void 0,arguments))}}function bindActionCreators(t,o){if("function"==typeof t)return bindActionCreator(t,o);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(t),n={},e=0;e<r.length;e++){var i=r[e],c=t[i];"function"==typeof c&&(n[i]=bindActionCreator(c,o))}return n}exports.__esModule=!0,exports.default=bindActionCreators;
},{}],563:[function(require,module,exports){
(function (process){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getUndefinedStateErrorMessage(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return'Reducer "'+e+'" returned undefined handling '+r+". To ignore an action, you must explicitly return the previous state."}function getUnexpectedStateShapeWarningMessage(e,t,n){var r=Object.keys(t),i=n&&n.type===_createStore.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,_isPlainObject2.default)(e))return"The "+i+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+r.join('", "')+'"');var a=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)});return a.length>0?"Unexpected "+(a.length>1?"keys":"key")+" "+('"'+a.join('", "')+'" found in '+i+". ")+"Expected to find one of the known reducer keys instead: "+('"'+r.join('", "')+'". Unexpected keys will be ignored.'):void 0}function assertReducerSanity(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:_createStore.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+_createStore.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function combineReducers(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{assertReducerSanity(n)}catch(e){a=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;if("production"!==process.env.NODE_ENV){var r=getUnexpectedStateShapeWarningMessage(e,n,t);r&&(0,_warning2.default)(r)}for(var i=!1,u={},s=0;s<o.length;s++){var d=o[s],c=n[d],f=e[d],l=c(f,t);if("undefined"==typeof l){var h=getUndefinedStateErrorMessage(d,t);throw new Error(h)}u[d]=l,i=i||l!==f}return i?u:e}}exports.__esModule=!0,exports.default=combineReducers;var _createStore=require("./createStore"),_isPlainObject=require("lodash/isPlainObject"),_isPlainObject2=_interopRequireDefault(_isPlainObject),_warning=require("./utils/warning"),_warning2=_interopRequireDefault(_warning);
}).call(this,require('_process'))

},{"./createStore":565,"./utils/warning":567,"_process":16,"lodash/isPlainObject":572}],564:[function(require,module,exports){
"use strict";function compose(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(){if(0===r.length)return arguments.length<=0?void 0:arguments[0];var e=r[r.length-1],t=r.slice(0,-1);return t.reduceRight(function(e,r){return r(e)},e.apply(void 0,arguments))}}exports.__esModule=!0,exports.default=compose;
},{}],565:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createStore(e,t,n){function r(){p===s&&(p=s.slice())}function o(){return a}function i(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),p.push(e),function(){if(t){t=!1,r();var n=p.indexOf(e);p.splice(n,1)}}}function c(e){if(!(0,_isPlainObject2.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,a=f(a,e)}finally{d=!1}for(var t=s=p,n=0;n<t.length;n++)t[n]();return e}function u(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");f=e,c({type:ActionTypes.INIT})}if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(createStore)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var f=e,a=t,s=[],p=s,d=!1;return c({type:ActionTypes.INIT}),{dispatch:c,subscribe:i,getState:o,replaceReducer:u}}exports.__esModule=!0,exports.ActionTypes=void 0,exports.default=createStore;var _isPlainObject=require("lodash/isPlainObject"),_isPlainObject2=_interopRequireDefault(_isPlainObject),ActionTypes=exports.ActionTypes={INIT:"@@redux/INIT"};
},{"lodash/isPlainObject":572}],566:[function(require,module,exports){
(function (process){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isCrushed(){}exports.__esModule=!0,exports.compose=exports.applyMiddleware=exports.bindActionCreators=exports.combineReducers=exports.createStore=void 0;var _createStore=require("./createStore"),_createStore2=_interopRequireDefault(_createStore),_combineReducers=require("./combineReducers"),_combineReducers2=_interopRequireDefault(_combineReducers),_bindActionCreators=require("./bindActionCreators"),_bindActionCreators2=_interopRequireDefault(_bindActionCreators),_applyMiddleware=require("./applyMiddleware"),_applyMiddleware2=_interopRequireDefault(_applyMiddleware),_compose=require("./compose"),_compose2=_interopRequireDefault(_compose),_warning=require("./utils/warning"),_warning2=_interopRequireDefault(_warning);"production"!==process.env.NODE_ENV&&"string"==typeof isCrushed.name&&"isCrushed"!==isCrushed.name&&(0,_warning2.default)("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),exports.createStore=_createStore2.default,exports.combineReducers=_combineReducers2.default,exports.bindActionCreators=_bindActionCreators2.default,exports.applyMiddleware=_applyMiddleware2.default,exports.compose=_compose2.default;
}).call(this,require('_process'))

},{"./applyMiddleware":561,"./bindActionCreators":562,"./combineReducers":563,"./compose":564,"./createStore":565,"./utils/warning":567,"_process":16}],567:[function(require,module,exports){
"use strict";function warning(o){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(o);try{throw new Error(o)}catch(o){}}exports.__esModule=!0,exports.default=warning;
},{}],568:[function(require,module,exports){
var overArg=require("./_overArg"),getPrototype=overArg(Object.getPrototypeOf,Object);module.exports=getPrototype;
},{"./_overArg":570}],569:[function(require,module,exports){
function isHostObject(t){var o=!1;if(null!=t&&"function"!=typeof t.toString)try{o=!!(t+"")}catch(t){}return o}module.exports=isHostObject;
},{}],570:[function(require,module,exports){
function overArg(r,e){return function(n){return r(e(n))}}module.exports=overArg;
},{}],571:[function(require,module,exports){
function isObjectLike(e){return!!e&&"object"==typeof e}module.exports=isObjectLike;
},{}],572:[function(require,module,exports){
function isPlainObject(t){if(!isObjectLike(t)||objectToString.call(t)!=objectTag||isHostObject(t))return!1;var o=getPrototype(t);if(null===o)return!0;var e=hasOwnProperty.call(o,"constructor")&&o.constructor;return"function"==typeof e&&e instanceof e&&funcToString.call(e)==objectCtorString}var getPrototype=require("./_getPrototype"),isHostObject=require("./_isHostObject"),isObjectLike=require("./isObjectLike"),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object),objectToString=objectProto.toString;module.exports=isPlainObject;
},{"./_getPrototype":568,"./_isHostObject":569,"./isObjectLike":571}],573:[function(require,module,exports){
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=c.bind,d=Object.create,g=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(d)return d(n);g.prototype=n;var t=new g;return g.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&t<=A};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;if(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&e!==-1)return n[e]},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-(1/0),o=-(1/0);if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-(1/0)&&i===-(1/0))&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e<i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return o.call(this,n,m)},c=t.variable||"obj";return a.source="function("+c+"){\n"+i+"}",a},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
},{}],574:[function(require,module,exports){
!function(){"use strict";"undefined"==typeof window||"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,r){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=r},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=r},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=r},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=r},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=r},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,r,n,i,h,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=r,this._x1=n,this._y1=i,this._x2=h,this._y2=o},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,r,n,i,h,o){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=r,this._x1=n,this._y1=i,this._x2=h,this._y2=o},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,r,n,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=r,this._x1=n,this._y1=i},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,r,n,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=r,this._x1=n,this._y1=i},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,r,n,i,h,o,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=r,this._r1=n,this._r2=i,this._angle=h,this._largeArcFlag=o,this._sweepFlag=s},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,r,n,i,h,o,s){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=r,this._r1=n,this._r2=i,this._angle=h,this._largeArcFlag=o,this._sweepFlag=s},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,r,n,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=r,this._x2=n,this._y2=i},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,r,n,i){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=r,this._x2=n,this._y2=i},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=r},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,r){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=r},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new SVGPathSegMovetoAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new SVGPathSegMovetoRel(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new SVGPathSegLinetoAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new SVGPathSegLinetoRel(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,r,n,i,h){return new SVGPathSegCurvetoCubicAbs(void 0,t,e,r,n,i,h)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,r,n,i,h){return new SVGPathSegCurvetoCubicRel(void 0,t,e,r,n,i,h)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,r,n){return new SVGPathSegCurvetoQuadraticAbs(void 0,t,e,r,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,r,n){return new SVGPathSegCurvetoQuadraticRel(void 0,t,e,r,n)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,r,n,i,h,o){return new SVGPathSegArcAbs(void 0,t,e,r,n,i,h,o)},SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,r,n,i,h,o){return new SVGPathSegArcRel(void 0,t,e,r,n,i,h,o)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new SVGPathSegLinetoHorizontalAbs(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new SVGPathSegLinetoHorizontalRel(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new SVGPathSegLinetoVerticalAbs(void 0,t)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new SVGPathSegLinetoVerticalRel(void 0,t)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,r,n){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,r,n)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,r,n){return new SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,r,n)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)}),"undefined"==typeof window||"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},SVGPathSegList._pathSegArrayAsString=function(t){var e="",r=!0;return t.forEach(function(t){r?(r=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,r=function(){this.pathSegList=[]};r.prototype.appendSegment=function(t){this.pathSegList.push(t)};var n=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},n.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=SVGPathSeg.PATHSEG_CLOSEPATH?e==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:e==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:e:SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==SVGPathSeg.PATHSEG_MOVETO_ABS||t==SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var t=0,e=0,r=1,n=0,i=1,h=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var a=this._currentIndex-1,S=1;a>=s;)e+=S*(this._string.charAt(a--)-"0"),S*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n+=(this._string.charAt(this._currentIndex++)-"0")*(r*=.1)}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,h=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;
for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+n;if(u*=i,t&&(u*=Math.pow(10,h*t)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},n.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},n.prototype.parseSegment=function(){var t=this._string[this._currentIndex],r=this._pathSegTypeFromChar(t);if(r==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(r=this._nextCommandHelper(t,this._previousCommand),r==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=r,r){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(e,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(e);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(e,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(e,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(e,n.x,n.y,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(e,n.x,n.y,n.x2,n.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(e,n.x,n.y,n.x1,n.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(e,n.x,n.y,n.x1,n.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(e,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(e,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var i=new r,h=new n(t);if(!h.initialCommandIsMoveTo())return[];for(;h.hasMoreData();){var o=h.parseSegment();if(!o)return[];i.appendSegment(o)}return i.pathSegList})}();
},{}],575:[function(require,module,exports){
require("../locuslabs-core"),"undefined"==typeof thisIsAHackityHackToKnowIfWeAreInAMochaTest&&($=jQuery=require("jquery"),require("./thirdparty/jquery.mousewheel.js"),require("./thirdparty/jquery.panzoom.js"),require("./thirdparty/jquery.resize.js"),require("./thirdparty/jquery.tinysort.min.js"),require("./thirdparty/jquery-ui-1.10.4.custom.js"),require("./thirdparty/jquery-uuid.js"),require("./thirdparty/ie.js"),require("hammerjs")),moment=require("moment"),locuslabs.maps.Circle=require("./locuslabs/maps/map-overlays/model/circle"),locuslabs.maps.CurvedPath=require("./locuslabs/maps/map-overlays/model/curvedpath"),locuslabs.maps.InfoWindow=require("./locuslabs/maps/map-overlays/model/infowindow"),locuslabs.maps.Marker=require("./locuslabs/maps/map-overlays/model/marker"),locuslabs.maps.NavCurve=require("./locuslabs/maps/map-overlays/model/navcurve"),locuslabs.maps.NavLine=require("./locuslabs/maps/map-overlays/model/navLine"),locuslabs.maps.NavPoint=require("./locuslabs/maps/map-overlays/model/navpoint"),locuslabs.maps.Path=require("./locuslabs/maps/map-overlays/model/path"),locuslabs.maps.Polycurve=require("./locuslabs/maps/map-overlays/model/polycurve"),locuslabs.maps.Polyline=require("./locuslabs/maps/map-overlays/model/polyline"),locuslabs.maps.CircleView=require("./locuslabs/maps/map-overlays/view/circleView"),locuslabs.maps.InfoWindowView=require("./locuslabs/maps/map-overlays/view/infowindowView"),locuslabs.maps.MarkerView=require("./locuslabs/maps/map-overlays/view/markerView"),locuslabs.maps.NavCurveView=require("./locuslabs/maps/map-overlays/view/navcurveView"),locuslabs.maps.NavLineView=require("./locuslabs/maps/map-overlays/view/navLineView"),locuslabs.maps.NavPointView=require("./locuslabs/maps/map-overlays/view/navpointView"),locuslabs.maps.PolycurveView=require("./locuslabs/maps/map-overlays/view/polycurveView"),locuslabs.maps.PolylineView=require("./locuslabs/maps/map-overlays/view/polylineView"),locuslabs.maps.Autocomplete=require("./locuslabs/maps/js-ui-widgets/autocomplete"),locuslabs.maps.AutocompleteResultsList=require("./locuslabs/maps/js-ui-widgets/autocompleteResultsList"),locuslabs.maps.BasicButtonsBar=require("./locuslabs/maps/js-ui-widgets/basicButtonsBar"),locuslabs.maps.BottomBar=require("./locuslabs/maps/js-ui-widgets/bottomBar"),locuslabs.maps.Button=require("./locuslabs/maps/js-ui-widgets/button"),locuslabs.maps.ButtonsBar=require("./locuslabs/maps/js-ui-widgets/buttonsBar"),locuslabs.maps.FlightStatus=require("./locuslabs/maps/js-ui-widgets/flightStatus"),locuslabs.maps.LevelSelector=require("./locuslabs/maps/js-ui-widgets/levelSelector"),locuslabs.maps.NavPointController=require("./locuslabs/maps/js-ui-widgets/controller/navPointController"),locuslabs.maps.NavigationSegment=require("./locuslabs/maps/js-ui-widgets/model/navigationSegment"),module.exports=locuslabs;
},{"../locuslabs-core":47,"./locuslabs/maps/js-ui-widgets/autocomplete":576,"./locuslabs/maps/js-ui-widgets/autocompleteResultsList":577,"./locuslabs/maps/js-ui-widgets/basicButtonsBar":578,"./locuslabs/maps/js-ui-widgets/bottomBar":579,"./locuslabs/maps/js-ui-widgets/button":580,"./locuslabs/maps/js-ui-widgets/buttonsBar":581,"./locuslabs/maps/js-ui-widgets/controller/navPointController":582,"./locuslabs/maps/js-ui-widgets/flightStatus":583,"./locuslabs/maps/js-ui-widgets/levelSelector":584,"./locuslabs/maps/js-ui-widgets/model/navigationSegment":585,"./locuslabs/maps/map-overlays/model/circle":586,"./locuslabs/maps/map-overlays/model/curvedpath":587,"./locuslabs/maps/map-overlays/model/infowindow":588,"./locuslabs/maps/map-overlays/model/marker":589,"./locuslabs/maps/map-overlays/model/navLine":590,"./locuslabs/maps/map-overlays/model/navcurve":591,"./locuslabs/maps/map-overlays/model/navpoint":592,"./locuslabs/maps/map-overlays/model/path":593,"./locuslabs/maps/map-overlays/model/polycurve":594,"./locuslabs/maps/map-overlays/model/polyline":595,"./locuslabs/maps/map-overlays/view/circleView":596,"./locuslabs/maps/map-overlays/view/infowindowView":597,"./locuslabs/maps/map-overlays/view/markerView":598,"./locuslabs/maps/map-overlays/view/navLineView":599,"./locuslabs/maps/map-overlays/view/navcurveView":600,"./locuslabs/maps/map-overlays/view/navpointView":601,"./locuslabs/maps/map-overlays/view/polycurveView":602,"./locuslabs/maps/map-overlays/view/polylineView":603,"./thirdparty/ie.js":609,"./thirdparty/jquery-ui-1.10.4.custom.js":610,"./thirdparty/jquery-uuid.js":611,"./thirdparty/jquery.mousewheel.js":612,"./thirdparty/jquery.panzoom.js":613,"./thirdparty/jquery.resize.js":614,"./thirdparty/jquery.tinysort.min.js":615,"hammerjs":605,"jquery":606,"moment":607}],576:[function(require,module,exports){
var core=require("../../../../locuslabs-core"),MVCObject=core.maps.MVCObject,Autocomplete=function(t){};Autocomplete.prototype=new MVCObject,Autocomplete.prototype.getContext=function(){return this.get("context")},Autocomplete.prototype.autocomplete=function(t){},module.exports=Autocomplete;
},{"../../../../locuslabs-core":47}],577:[function(require,module,exports){
var core=require("../../../../locuslabs-core"),$$=require("jquery"),MVCObject=core.maps.MVCObject;module.exports=MVCObject.subclass("AutocompleteResultsList",{constructor:function(e){this.callParent(e),this.container=e.container,this.el=$$('<div class="ll_search-results">'),this.visible=!1,this.set("uuid",core.uuid())},remove:function(){this.el.remove(),this.visible=!1},getClassName:function(){return"locuslabs.maps.AutocompleteResultsList"},results_changed:function(){this.visible?this._render():this._show()},_renderItem:function(e){var t=$$('<li class="ll_search-results-item">');return t.html(e),t.on("click",function(t){return function(){core.maps.event.trigger(t,"click",e)}}(this)),t},_render:function(){this.el.html("");var e=$$('<ul class="ll_search-results-list ll_search-autocomplete-results-list">');return this.get("results").forEach(function(t){return function(s){e.append(t._renderItem(s))}}(this)),this.el.append(e),this},_show:function(){this.container.append(this._render().el),this.visible=!0}});
},{"../../../../locuslabs-core":47,"jquery":606}],578:[function(require,module,exports){
var core=require("../../../../locuslabs-core"),MVCObject=core.maps.MVCObject,__=require("underscore"),$$=require("jquery"),ddd=require("d3"),Button=require("./button"),ButtonsBar=require("./buttonsBar");module.exports=MVCObject.subclass("BasicButtonsBar",{constructor:function(t){this.callParent(t),this.set("map",t.map),this.set("venue",t.venue),this.set("uuid",core.uuid()),this._createLevelSelector(),this._createNavigationPopup(),this._createButtonsBar()},openNavigationPopup:function(t,e){this.navigationPopup.set("poiStart",t),this.navigationPopup.set("poiEnd",e),this.navigationPopup.show()},modifyButtonsBar:function(t,e,i){var o=t.get("buttons");i?o=__.filter(o,function(t){return t!==e}):__.contains(o,e)||o.unshift(e),t.set("buttons",o),t.bindTo("container",this.get("map").getView(),"mapDiv"),this.buttonsBar.buttons_changed()},show:function(){this.buttonsBar.show()},hide:function(){this.buttonsBar.hide()},highlightRepositionButton:function(){this.repositionButton.set("type","primary")},dimRepositionButton:function(){this.repositionButton.set("type","secondary")},highlightLevelsButton:function(){ddd.select(".ll_tool-tip").empty()||ddd.select(".ll_tool-tip").remove();var t=this.get("map").getView().searchController.get("levelSelector").get("badges"),e=0,i=this;__.map(t,function(t,o){i.get("map").get("allOrdinals")[o]!==i.get("map").get("allOrdinals")[i.levelSelector.get("floorId")]&&(e+=t.rawCount)}),e>0&&(ddd.select(".ll_buttons-bar").append("div").attr("class","ll_tool-tip"),ddd.select(".ll_tool-tip").append("span").attr("class","ll_tool-tip-number").text(e),ddd.select(".ll_tool-tip").append("span").attr("class","ll_tool-tip-text").text("search results on other levels"),this.levelsButton.set("type","primary"))},dimLevelsButton:function(){ddd.select(".ll_tool-tip").remove(),this.levelsButton.set("type","secondary")},highlightNavigateButton:function(){this.navigateButton.set("type","primary")},dimNavigateButton:function(){this.navigateButton.set("type","secondary")},getClassName:function(){return"locuslabs.maps.BasicButtonsBar"},selectorBadges_changed:function(){var t=this.get("selectorBadges");this.levelSelector.bindTo("selectorBadges",this,"selectorBadges"),this.levelSelector.set("badges",t)},floorId_changed:function(){},_createLevelSelector:function(){var t=this.get("map");this.levelSelector=new core.maps.LevelSelector({venue:this.get("venue"),basicButtonsBar:this}),this.levelSelector.bindTo("container",t.getView(),"mapDiv"),this.levelSelector.bindTo("floorId",t,"floorId"),this.bindTo("floorId",t,"floorId"),this.levelSelector.bindTo("buildingId",t,"buildingId")},_createNavigationPopup:function(){var t=$$(this.get("map").getView().get("mapDiv"));this.navigationPopup=new core.maps.NavStartEnd({container:t,venue:this.get("venue"),map:this.get("map")}),this.navigationPopup.bindTo("poiLabels",this.get("map"),"poiLabels"),this.navigationPopup.bindTo("relevantPOIs",this.get("map"),"relevantPOIs");var e=this;this.navigationPopup.addListener("navigate",function(t){e.navigateButton.set("type","primary"),core.maps.event.trigger(e,"navigate",t)}),this.navigationPopup.addListener("close",function(){null===document.querySelector(".ll_poi-box")&&e.get("map").getView().showAllWidgets()})},_createButtonsBar:function(){this.levelsButton=new Button({icon:"levels",type:"secondary"}),this.navigateButton=new Button({icon:"navigation",type:"secondary"}),this.repositionButton=new Button({icon:"reposition",type:"secondary"});var t=this;this.levelsButton.addListener("click",function(){core.maps.event.trigger(t,"showLevelSelector"),t.levelSelector.show()}),this.navigateButton.addListener("click",function(){core.maps.event.trigger(t,"showDirectionsView")}),this.repositionButton.addListener("click",function(){core.maps.event.trigger(t,"userClickedMyLocation")}),this.buttonsBar=new ButtonsBar({position:"right-bottom",orientation:"vertical",buttons:[this.navigateButton,this.levelsButton]}),this._isLocationServiceAvailable()&&this.modifyButtonsBar(this.buttonsBar,this.repositionButton,!1),this.buttonsBar.bindTo("container",this.get("map").getView(),"mapDiv")},_isLocationServiceAvailable:function(){var t,e=this.get("map").get("venue").getPositioningSupported(),i=locuslabs.config.positioningSupported;return t=__.isEmpty(e)?!__.isEmpty(this.get("venue").getBeaconRegions()&&__.contains(i,"Beacons")):!__.isEmpty(__.intersection(e,i))}});
},{"../../../../locuslabs-core":47,"./button":580,"./buttonsBar":581,"d3":604,"jquery":606,"underscore":608}],579:[function(require,module,exports){
var core=require("../../../../locuslabs-core"),ddd=require("d3");module.exports=core.Base.subclass("BottomBar",{constructor:function(t){this.callParent(),this.buttons=[],this.mapDiv=t,ddd.select(t).append("div").classed("ll_bottom-bar",!0)},replaceButton:function(t,o){this.buttons.length&&(this.buttons[t]=o,this._placeButtons())},addButtons:function(t){this.buttons=this.buttons.concat(t),this._placeButtons()},removeButtons:function(){this.buttons=[],this._placeButtons()},show:function(){ddd.select(".ll_bottom-bar").transition().duration(500).style("height","49px"),ddd.select("#ll_logo").transition().duration(500).style("bottom","58px")},hide:function(){ddd.select(".ll_bottom-bar").transition().duration(500).style("height","0px"),ddd.select("#ll_logo").transition().duration(500).style("bottom","8px")},_sortButtons:function(t){t.sort(function(t,o){return t.index-o.index})},_placeButtons:function(){function t(t){t.transition()}var o=ddd.select(".ll_bottom-bar"),n=this.buttons,e=o.selectAll(".ll_bottom-bar-item").data(n,function(t){return t.icon});e.exit().remove(),e.call(t);var i=e.enter().append("div").classed("ll_bottom-bar-item",!0).attr("index",function(t){return t.index}).on("click",function(t,o){t.callback(o)});this._sortButtons(e),i.append("img").attr("src",function(t){return t.icon}).attr("class","ll_bottom-bar-item-icon"),i.append("div").text(function(t){return t.text}).attr("class","ll_bottom-bar-item-text"),i.call(t)}});
},{"../../../../locuslabs-core":47,"d3":604}],580:[function(require,module,exports){
var core=require("../../../../locuslabs-core"),MVCObject=core.maps.MVCObject;module.exports=MVCObject.subclass("Button",{constructor:function(t){this.callParent(t),this.el=$("<button>"),this.set("icon",t.icon),this.set("type",t.type),this.set("container",t.container),this.set("uuid",core.uuid())},show:function(){this._attachEvents(),this.get("container").append(this._render().el)},getClassName:function(){return"locuslabs.maps.Button"},icon_changed:function(){this._render()},type_changed:function(){this._render()},_createIcon:function(){var t=$("<i>");t.addClass("ll_icon ll_button-icon");var e=this.get("icon");return e&&t.addClass("ll_icon-"+e),t},_render:function(){var t=this._createIcon();this.el.html("").removeClass().addClass("ll_button ll_button-"+this.get("icon"));var e=this.get("type");return e&&this.el.addClass("ll_button-"+e),this.el.append(t),this},_attachEvents:function(){this.el.off("click");var t=this;this.el.on("click",function(){core.maps.event.trigger(t,"click")})},_destroy:function(){this.detachEvents(),this.el.remove()}});
},{"../../../../locuslabs-core":47}],581:[function(require,module,exports){
var core=require("../../../../locuslabs-core"),MVCObject=core.maps.MVCObject,$$=require("jquery");module.exports=MVCObject.subclass("ButtonsBar",{constructor:function(t){this.callParent(t),this.el=$$("<div>"),this.set("buttons",t.buttons),this.set("position",t.position),this.set("orientation",t.orientation),this.set("uuid",core.uuid()),this._rendered=!1},show:function(){this._rendered?this.el.show():($$(this.get("container")).append(this._render().el),this._rendered=!0)},hide:function(){this.el.hide()},getClassName:function(){return"locuslabs.maps.ButtonsBar"},position_changed:function(){this.el.attr("data-position",this.get("position"))},orientation_changed:function(){this.el.attr("data-orientation",this.get("orientation"))},buttons_changed:function(){this._render()},_render:function(){var t=this.get("buttons");return this.el.html(""),this.el.addClass("ll_buttons-bar"),t.forEach(function(t){return function(e){e.set("container",t.el),e.show()}}(this)),this}});
},{"../../../../locuslabs-core":47,"jquery":606}],582:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),MVCObject=core.maps.MVCObject,NavPoint=require("../../map-overlays/model/navpoint");module.exports=MVCObject.subclass("NavPointController",{constructor:function(t,i){this.set("mapView",t),this.set("positionManager",i),this.set("navPoint",new NavPoint),this.set("followMe",!1),this.set("shouldUpdateMapView",!0),this.bindTo("position",i,"position"),this.bindTo("center",t,"center"),this.bindTo("radius",t,"radius")},clear:function(){this.unbind("position"),this.unbind("center"),this.unbind("radius"),this.get("navPoint").setFloor(null)},turnFollowModeOn:function(){this.set("followMe",!0)},turnFollowModeOff:function(){this.set("followMe",!1)},isFollowing:function(){return this.get("followMe")},position_changed:function(){this.updateNavPoint(),this.get("shouldUpdateMapView")&&this.updateMapView()},shouldUpdateMapViewOnUserPositionChange:function(t){this.set("shouldUpdateMapView",t)},center_changed:function(){if(this.isFollowing()){var t=this.get("position"),i=this.get("center");if(!t||!i)return;var o;o=i instanceof core.maps.Position?i.getLatLng():i instanceof core.maps.LatLng?i:i.latLng;var e=t.latLng.distance(o);e>5&&this.turnFollowModeOff()}},radius_changed:function(t){this.isFollowing()&&this.get("radius")>45&&this.turnFollowModeOff()},updateMapView:function(){var t=this.get("position");if(t&&this.isFollowing()){var i=this.get("mapView");i.getMap().setCenterPosition(t),this.get("radius")>45&&i.getMap().setRadius(35)}},updateNavPoint:function(){var t=this.get("navPoint"),i=this.get("position");if(i){if(i.floorId){var o=this.get("mapView").getFloorView(i.floorId);t.setFloor(o)}i.errorRadius&&t.setErrorRadius(i.errorRadius),i.heading&&t.setHeading(i.heading),i.latLng&&t.setPosition(i.latLng)}else t.setFloor(null)}});
},{"../../../../../locuslabs-core":47,"../../map-overlays/model/navpoint":592}],583:[function(require,module,exports){
var core=require("../../../../locuslabs-core"),MVCObject=core.maps.MVCObject,$$=require("jquery"),ddd=require("d3"),__=require("underscore");module.exports=MVCObject.subclass("FlightStatus",{constructor:function(t){this.callParent(t),this.el=$$("<div></div>"),this.set("map",t.map),this.set("mapDiv",t.mapDiv),this.set("venue",t.venue),this.set("flight",t.flight),this.set("flightType",t.flightType),this.set("position",t.position),this.set("level",t.level),this.set("poi",t.poi),this.set("uuid",locuslabs.uuid())},getClassName:function(){return"locuslabs.maps.FlightStatus"},navigateToPoi:function(){core.maps.event.trigger(this,"navigateToPoi")},attachEvents:function(){var t=this;$$(".ll_flight-card-status .ll_section .ll_button-bar .ll_button").on("click",function(){t.navigateToPoi()}),this.mc=new Hammer.Manager(document.querySelector("#flight-card-status")),this.mc.add(new Hammer.Pan({threshold:2})),this.mc.add(new Hammer.Tap({threshold:2}));var l,i,e;this.mc.on("tap",function(l){document.querySelector("#flight-card-status .ll_head").contains(l.target)&&t.close()}),this.mc.on("panstart",function(i){var e=t.get("mapDiv").offsetTop;t.setClientRectangles(),l=i.center.y-e});var a,s;this.mc.on("pandown",function(l){var i=t.get("mapDiv").offsetTop;ddd.select("#flight-card-status").style("top",l.center.y-i+"px"),ddd.select("#locuslabs-zoom-container").style("height",l.center.y-i+"px")}),this.mc.on("panup",function(l){var i=t.get("mapDiv").offsetTop;s=t.get("mapDiv").getBoundingClientRect(),l.center.y-i>s.top&&(ddd.select("#flight-card-status").style("top",l.center.y-i+"px"),ddd.select("#locuslabs-zoom-container").style("height",l.center.y-i+"px"))}),this.mc.on("panend",function(r){var n=t.get("mapDiv").offsetTop;if(a=document.querySelector("#flight-card-status").getBoundingClientRect(),s=t.get("mapDiv").getBoundingClientRect(),i=r.center.y-n,e=i-l,e>=0&&r.distance>20||a.top>s.height)t.close();else{var d=s.height,h=a.height,c=d-h;ddd.select(".ll_flight-card-status").style("top",c+"px"),ddd.select("#locuslabs-zoom-container").style("height",c+"px")}})},detachEvents:function(){$$(".ll_flight-card-status .ll_trigger").off("click"),this.mc.off("panstart"),this.mc.off("panend"),this.mc.off("panup"),this.mc.off("pandown")},show:function(){this.setArrivalGate(this.getFlight().arrivalGate),this.setDepartureGate(this.getFlight().departureGate),this.setOperatingFlightCode(this.getFlight().operatingFlightCode),this.setArrivalTimes(this.getFlight().arrivalTimes),this.setDepartureTimes(this.getFlight().departureTimes),this.render(),this.attachEvents()},hide:function(){var t=this.get("mapDiv").getBoundingClientRect().height;ddd.select(".ll_flight-card-status").transition().duration(300).style("top",t+"px").remove(),ddd.select("#locuslabs-zoom-container").style("height","100%")},render:function(){this.flightStatusCardView()},setClientRectangles:function(){this.set("screenClientRect",document.querySelector("#flight-card-status").getBoundingClientRect()),this.set("cardViewClientRect",this.get("mapDiv").getBoundingClientRect())},close:function(){this.detachEvents(),this.hide(),core.maps.event.trigger(this,"close")},flightStatusCardView:function(){this.flightStatusCardSet(),this.flightStatusCardScaffold(),this.flightStatusCardInjectIndices(),this.flightStatusCardInjectContent(),this.flightStatusCardInjectImagery(),this.flightStatusCardReveal()},flightStatusCardSet:function(){var t=this;this.d3Append(this.get("mapDiv"),"div","ll_card ll_flight-card-status"),ddd.select(".ll_flight-card-status").attr("id","flight-card-status"),__(3).times(function(){t.d3Append(".ll_card.ll_flight-card-status","div","ll_section")})},flightStatusCardReveal:function(){var t=this.get("mapDiv").getBoundingClientRect().height,l=document.querySelector(".ll_flight-card-status").getBoundingClientRect().height,i=t-l;ddd.select(".ll_flight-card-status").style("top",t+"px"),ddd.select(".ll_flight-card-status").transition().duration(300).ease("linear").style("top",i+"px"),ddd.select("#locuslabs-zoom-container").transition().duration(300).ease("linear").style("height",i+"px"),ddd.select(".ll_flight-card-status .ll_trigger").classed("enabled",!0)},flightStatusCardScaffold:function(){var t=this;this.d3Append(".ll_flight-card-status .ll_section:nth-child(1)","div","ll_head"),this.d3Append(".ll_flight-card-status .ll_head","i","ll_flight-type ll_icon ll_badge"),this.d3Append(".ll_flight-card-status .ll_head","div","ll_content"),this.d3Append(".ll_flight-card-status .ll_head .ll_content","div","ll_header"),this.d3Append(".ll_flight-card-status .ll_head .ll_content","div","ll_list"),__(3).times(function(l){t.d3Append(".ll_flight-card-status .ll_list","div","ll_list-item"),t.d3Append(".ll_flight-card-status .ll_list .ll_list-item:nth-child("+(l+1)+")","i","ll_icon"),t.d3Append(".ll_flight-card-status .ll_list .ll_list-item:nth-child("+(l+1)+")","span","ll_list-text")}),this.d3Append(".ll_flight-card-status .ll_head","i","ll_trigger ll_icon ll_icon-next"),this.d3Append(".ll_flight-card-status .ll_section:nth-child(2)","div","ll_button-bar"),__(1).times(function(l){t.d3Append(".ll_flight-card-status .ll_button-bar","div","ll_button")}),__(1).times(function(l){t.d3Append(".ll_flight-card-status .ll_button-bar .ll_button:nth-child("+(l+1)+")","i","ll_icon"),t.d3Append(".ll_flight-card-status .ll_button-bar .ll_button:nth-child("+(l+1)+")","span","ll_button-text")}),this.d3Append(".ll_flight-card-status .ll_section:nth-child(3)","div","ll_operating-airline-logo"),this.d3Append(".ll_flight-card-status .ll_section:nth-child(3)","div","ll_body"),this.d3Append(".ll_flight-card-status .ll_body","div","ll_header"),this.d3Append(".ll_flight-card-status .ll_body","div","ll_current-airport"),this.d3Append(".ll_flight-card-status .ll_body","div","ll_connecting-airport"),this.d3Append(".ll_flight-card-status .ll_body .ll_current-airport","div","ll_flight-number"),this.d3Append(".ll_flight-card-status .ll_body .ll_current-airport","div","ll_current-airport-name"),this.d3Append(".ll_flight-card-status .ll_body .ll_current-airport","div","ll_current-airport-primary-time"),this.d3Append(".ll_flight-card-status .ll_body .ll_current-airport","div","ll_current-airport-secondary-time"),this.d3Append(".ll_flight-card-status .ll_body .ll_connecting-airport","div","ll_connecting-airport-name"),this.d3Append(".ll_flight-card-status .ll_body .ll_connecting-airport","div","ll_connecting-airport-primary-time"),this.d3Append(".ll_flight-card-status .ll_body .ll_connecting-airport","div","ll_connecting-airport-secondary-time"),this.d3Append(".ll_flight-card-status .ll_body .ll_connecting-airport","div","ll_connecting-airport-gate"),this.d3Append(".ll_flight-card-status .ll_body .ll_connecting-airport-gate","span","ll_data-context"),this.d3Append(".ll_flight-card-status .ll_body .ll_connecting-airport-gate","span","ll_data-info"),"arrival"===this.getFlightType()?(this.d3Append(".ll_flight-card-status .ll_body .ll_current-airport","div","ll_baggage-claim"),this.d3Append(".ll_flight-card-status .ll_body .ll_current-airport .ll_baggage-claim","span","ll_data-context"),this.d3Append(".ll_flight-card-status .ll_body .ll_current-airport .ll_baggage-claim","span","ll_data-info")):(this.d3Append(".ll_flight-card-status .ll_body .ll_connecting-airport","div","ll_baggage-claim"),this.d3Append(".ll_flight-card-status .ll_body .ll_connecting-airport .ll_baggage-claim","span","ll_data-context"),this.d3Append(".ll_flight-card-status .ll_body .ll_connecting-airport .ll_baggage-claim","span","ll_data-info"))},flightStatusCardInjectIndices:function(){this.d3Index(".ll_flight-card-status .ll_list .ll_list-item"),this.d3Index(".ll_flight-card-status .ll_button-bar .ll_button"),this.d3Index(".ll_flight-card-status .ll_body .ll_current-airport div"),this.d3Index(".ll_flight-card-status .ll_body .ll_connecting-airport div")},flightStatusCardInjectContent:function(){moment.locale("en",{meridiem:function(t){return t<12?"a":"p"}}),"arrival"==this.getFlightType()?(__.isString(this.getArrivalGate().gate)&&this.d3Text(".ll_flight-card-status .ll_head .ll_header","Gate "+this.get("poi").name),this.d3Text(".ll_flight-card-status .ll_list .ll_list-item:nth-child(1) .ll_list-text",this.get("poi").terminal),this.d3Text(".ll_flight-card-status .ll_list .ll_list-item:nth-child(2) .ll_list-text",this.get("level")),__.isObject(this.get("position"))&&this.get("position").isAfterSecurity===!0&&this.d3Text(".ll_flight-card-status .ll_list .ll_list-item:nth-child(3) .ll_list-text","Inside Security"),__.isObject(this.get("position"))&&this.get("position").isAfterSecurity===!1&&this.d3Text(".ll_flight-card-status .ll_list .ll_list-item:nth-child(3) .ll_list-text","Before Security"),this.d3Text(".ll_flight-card-status .ll_button-bar .ll_button:nth-child(1) .ll_button-text","Directions"),this.d3Text(".ll_flight-card-status .ll_body .ll_header","My Arrival Gate"),(__.isString(this.getOperatingFlightCode().number)||__.isEmpty(this.getOperatingFlightCode().airline.name))&&this.d3Text(".ll_flight-card-status .ll_body .ll_current-airport .ll_flight-number",this.getOperatingFlightCode().airline.name+" Flight "+this.getOperatingFlightCode().number),(__.isString(this.getArrivalGate().airportCode)||__.isEmpty(this.getArrivalGate().airportName))&&this.d3Text(".ll_flight-card-status .ll_body .ll_current-airport-name",this.getArrivalGate().airportName+" ("+this.getArrivalGate().airportCode.toUpperCase()+")"),__.isString(this.getArrivalTimes().scheduled)&&this.d3Text(".ll_flight-card-status .ll_body .ll_current-airport-primary-time","Sched. "+this.getFlightType()+" - "+moment(new Date(this.getArrivalTimes().scheduled)).format("h:mma")),__.isString(this.getArrivalTimes().scheduled)&&this.d3Text(".ll_flight-card-status .ll_body .ll_current-airport-secondary-time","Est. "+this.getFlightType()+" - "+moment(new Date(this.getArrivalTimes().scheduled)).format("h:mma")),(__.isString(this.getDepartureGate().airportCode)||__.isEmpty(this.getDepartureGate().airportName))&&this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-name",this.getDepartureGate().airportName+" ("+this.getDepartureGate().airportCode.toUpperCase()+")"),__.isString(this.getDepartureTimes().scheduled)&&this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-primary-time","Sched. Departure - "+moment(new Date(this.getDepartureTimes().scheduled)).format("h:mma")),__.isString(this.getDepartureTimes().actual)&&this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-secondary-time","Actual Departure - "+moment(new Date(this.getDepartureTimes().actual)).format("h:mma")),this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-gate .ll_data-context","Departed - "),__.isString(this.getDepartureGate().gate)&&this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-gate .ll_data-info","Gate "+this.getDepartureGate().gate),__.isString(this.getArrivalGate().baggageClaim)&&(this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport .ll_baggage-claim .ll_data-context","Bag Claim - "),this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport .ll_baggage-claim .ll_data-info",this.getArrivalGate().baggageClaim))):"departure"==this.getFlightType()&&(__.isString(this.getDepartureGate().gate)&&this.d3Text(".ll_flight-card-status .ll_head .ll_header",this.get("poi").name),this.d3Text(".ll_flight-card-status .ll_list .ll_list-item:nth-child(1) .ll_list-text",this.get("poi").terminal),this.d3Text(".ll_flight-card-status .ll_list .ll_list-item:nth-child(2) .ll_list-text",this.get("level")),__.isObject(this.get("position"))&&this.get("position").isAfterSecurity===!0&&this.d3Text(".ll_flight-card-status .ll_list .ll_list-item:nth-child(3) .ll_list-text","Inside Security"),__.isObject(this.get("position"))&&this.get("position").isAfterSecurity===!1&&this.d3Text(".ll_flight-card-status .ll_list .ll_list-item:nth-child(3) .ll_list-text","Before Security"),this.d3Text(".ll_flight-card-status .ll_button-bar .ll_button:nth-child(1) .ll_button-text","Directions"),this.d3Text(".ll_flight-card-status .ll_body .ll_header","My Departure Gate"),(__.isString(this.getOperatingFlightCode().number)||__.isEmpty(this.getOperatingFlightCode().airline.name))&&this.d3Text(".ll_flight-card-status .ll_body .ll_current-airport .ll_flight-number",this.getOperatingFlightCode().airline.name+" Flight "+this.getOperatingFlightCode().number),(__.isString(this.getDepartureGate().airportCode)||__.isEmpty(this.getDepartureGate().airportName))&&this.d3Text(".ll_flight-card-status .ll_body .ll_current-airport-name",this.getDepartureGate().airportName+" ("+this.getDepartureGate().airportCode.toUpperCase()+")"),__.isString(this.getDepartureTimes().scheduled)&&this.d3Text(".ll_flight-card-status .ll_body .ll_current-airport-primary-time","Sched. "+this.getFlightType()+" - "+moment(new Date(this.getDepartureTimes().scheduled)).format("h:mma")),__.isString(this.getDepartureTimes().scheduled)&&this.d3Text(".ll_flight-card-status .ll_body .ll_current-airport-secondary-time","Est. "+this.getFlightType()+" - "+moment(new Date(this.getDepartureTimes().scheduled)).format("h:mma")),(__.isString(this.getArrivalGate().airportCode)||__.isEmpty(this.getArrivalGate().airportName))&&this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-name",this.getArrivalGate().airportName+" ("+this.getArrivalGate().airportCode.toUpperCase()+")"),__.isString(this.getArrivalTimes().scheduled)&&this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-primary-time","Sched. Arrival - "+moment(new Date(this.getArrivalTimes().scheduled)).format("h:mma")),__.isString(this.getArrivalTimes().estimated)&&this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-secondary-time","Est. Arrival - "+moment(new Date(this.getArrivalTimes().estimated)).format("h:mma")),this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-gate .ll_data-context","Arrival - "),__.isString(this.getArrivalGate().gate)&&this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport-gate .ll_data-info","Gate "+this.getArrivalGate().gate),__.isString(this.getArrivalGate().baggageClaim)&&(this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport .ll_baggage-claim .ll_data-context","Bag Claim - "),this.d3Text(".ll_flight-card-status .ll_body .ll_connecting-airport .ll_baggage-claim .ll_data-info",this.getArrivalGate().baggageClaim)))},flightStatusCardInjectImagery:function(){this.d3Icon(".ll_flight-card-status .ll_button-bar .ll_button:nth-child(1) .ll_icon","ll_icon-navigation"),"departure"==this.getFlightType()?this.d3Icon(".ll_flight-card-status .ll_head .ll_flight-type","ll_icon-departure"):"arrival"==this.getFlightType()&&this.d3Icon(".ll_flight-card-status .ll_head .ll_flight-type","ll_icon-arrival"),this.d3Icon(".ll_flight-card-status .ll_list .ll_list-item:nth-child(1) .ll_icon","ll_icon-place"),this.d3Icon(".ll_flight-card-status .ll_list .ll_list-item:nth-child(2) .ll_icon","ll_icon-levels"),this.d3Icon(".ll_flight-card-status .ll_list .ll_list-item:nth-child(3) .ll_icon","ll_icon-security"),this.d3Image(".ll_flight-card-status .ll_section:nth-child(3) .ll_operating-airline-logo",this.getOperatingFlightCode().airline.smallIconUrl)},d3Append:function(t,l,i){ddd.select(t).append(l).attr("class",i)},d3Index:function(t){ddd.selectAll(t).attr("data-index",function(t,l){return l})},d3Text:function(t,l){ddd.select(t).text(l)},d3Icon:function(t,l){ddd.select(t).classed(l,!0)},d3Image:function(t,l){ddd.select(t).style("background-image","url("+l+")","important")},getFlight:function(){return this.get("flight")},getFlightType:function(){return this.get("flightType")},getFlightStatusPoi:function(){return this.get("poi")},getArrivalGate:function(){return this.get("arrivalGate")},setArrivalGate:function(t){this.set("arrivalGate",t)},getDepartureGate:function(){return this.get("departureGate")},setDepartureGate:function(t){this.set("departureGate",t)},getOperatingFlightCode:function(){return this.get("operatingFlightCode")},setOperatingFlightCode:function(t){this.set("operatingFlightCode",t)},getDepartureTimes:function(){return this.get("departureTimes")},setDepartureTimes:function(t){this.set("departureTimes",t)},getArrivalTimes:function(){return this.get("arrivalTimes")},setArrivalTimes:function(t){this.set("arrivalTimes",t)}});
},{"../../../../locuslabs-core":47,"d3":604,"jquery":606,"underscore":608}],584:[function(require,module,exports){
var core=require("../../../../locuslabs-core"),MVCObject=core.maps.MVCObject,$$=require("jquery"),ddd=require("d3"),__=require("underscore");module.exports=MVCObject.subclass("LevelSelector",{constructor:function(e){this.callParent(e),this.set("uuid",core.uuid()),this.set("venue",e.venue),this.set("basicButtonsBar",e.basicButtonsBar),this.el=$$('<div class="ll_level-selector"></div>'),this.el.append('<div class="ll_level-selector-title-region"><div>')},show:function(){var e=this.get("container");this.set("visibility",!0),$$(e).append(this._render().el),this.el.addClass("ll_level-selector-in")},hasMultipleFloors:function(){return this._currentBuilding().listFloors().length>1},getClassName:function(){return"locuslabs.maps.LevelSelector"},badges_changed:function(){this._render()},venue_changed:function(){this._render()},floorId_changed:function(){var e=this.get("badges"),t=0,l=this;__.map(e,function(e,i){i!==l.get("floorId")&&(t+=e.rawCount)}),0===t?ddd.select(".ll_tool-tip").empty()||this.get("basicButtonsBar").dimLevelsButton():this.get("basicButtonsBar").highlightLevelsButton();var i=this.get("floorId");if(i&&this._currentBuilding()){if(!this._isFloorInCurrentBuilding(i)){var s=this.get("venue").findStructureForFloorId(i).get("id");this.set("buildingId",s,!0),this._cachedBuilding=null}this._render()}},buildingId_changed:function(){this._cachedBuilding=null;var e=this.get("floorId");if(e&&this._currentBuilding()){var t=this.get("venue").findStructureForFloorId(e),l=this._currentBuilding(),i=t.get("levels")[e].ordinal,s=__.filter(l.get("levels"),function(e){return e.ordinal===i}),n=s.length?s[0].id:null;this.set("floorId",n,!0),this._render()}},_currentBuilding:function(){return this._cachedBuilding||(this._cachedBuilding=this.get("venue").loadBuilding(this.get("buildingId"))),this._cachedBuilding},_isFloorInCurrentBuilding:function(e){var t=this.get("venue").findStructureForFloorId(e);return t.get("id")==this.get("buildingId")},_renderTitle:function(){var e=$$("<h1>");return e.html(""),e.addClass("ll_level-selector-title"),e.append('<i class="ll_icon ll_icon-levels"></i>'),e.append(this.get("venue").get("airportCode").toUpperCase()+" Levels"),e},_renderLevel:function(e){var t=$$('<li class="ll_level-selector-item" data-id="'+e.floorId+'">'),l=$$('<span class="ll_level-selector-item-title">Level '+e.floor+"</span>"),i=$$('<span class="ll_level-selector-item-badge"></span>'),s=$$('<span class="ll_level-selector-item-details"></span>'),n=$$('<i class="ll_icon ll_icon-check ll_level-selector-item-icon"></i> '),r=e.details,o=this.get("badges");if(e.floorId===this.get("floorId")&&t.addClass("ll_level-selector-item--is-active"),s.html(r),t.append(n),t.append(l),o&&o[e.floorId]){var d=o[e.floorId];i.addClass("ll_level-selector-item-badge-"+d.type),i.html(d.text),t.append(i)}return t.append(s),t.addClass("ll_level-selector-item"),t},_renderList:function(){var e=$$("<ul>");e.addClass("ll_level-selector-list");var t=this._currentBuilding();if(t){var l=this;__.each(this.get("venue").buildings[this.get("venue").listBuildings()[0].buildingId].listFloors(),function(t){e.append(l._renderLevel(t))})}return e},_attachEvents:function(){var e=this;this.el.off("click"),this.el.on("click",".ll_level-selector-item",function(t){t.preventDefault();var l=$$(t.currentTarget).data("id");e.set("floorId",l),e._close()}),this.el.on("click",function(t){var l=$$(t.target),i="ll_level-selector-body";l.hasClass(i)||0!==l.parents("."+i).length||e._close()})},_detachEvents:function(){this.el.off("click")},_render:function(){if(this.el){var e=$$('<div class="ll_level-selector-body">');e.append(this._renderTitle()),e.append(this._renderList()),this.el.html("").append(e),this._attachEvents()}return this},_close:function(){this.set("visibility",!1),this.el.removeClass("ll_level-selector-in");var e=this;setTimeout(function(){e._detachEvents(),e.el.remove()},500)}});
},{"../../../../locuslabs-core":47,"d3":604,"jquery":606,"underscore":608}],585:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),MVCObject=core.maps.MVCObject;module.exports=MVCObject.subclass("NavigationSeg",{constructor:function(t){this.callParent(t),this.set("uuid",core.uuid()),this.setValues(t)},hasStops:function(){var t=this.get("stops");return t&&t.length>0},isBus:function(){return this.isType("bus")},isTransportation:function(){return this.isType("bus")||this.isType("train")},isWalk:function(){return this.isType("walk")},isSecureCheckpoint:function(){return this.isType("security checkpoint")},addStop:function(){var t=+this.get("stops")||0;this.set("stops",t+1)},addTime:function(t){this.set("time",+this.get("time")+t)},isType:function(t){var e=this.get("type");return!!e&&e.toLowerCase()===t},getDirection:function(){var t=this.get("levelDifference");return t>0?"up":0===t?"flat":"down"},getTimeString:function(){var t=this.get("time");return t<1?"< 1 minutes":1===Math.floor(t)?Math.floor(t)+" minute":Math.floor(t)+" minutes"},getName:function(){return this.get("name")},getIcon:function(){return this.get("icon")},getDescription:function(){var t=this.getDirection();return this.isSecureCheckpoint()?this.getTimeString()+" through checkpoint to":this.hasStops()?"Ride "+this.get("type").toLowerCase()+" "+this.get("stops")+" stop(s) ("+Math.floor(time)+"-"+Math.ceil(time)+" minutes)":this.isTransportation()?"Ride "+this.get("type").toLowerCase()+" "+this.getTimeString()+" to":this.isWalk()?"Walk "+this.getTimeString()+" to":"flat"===t?"Take "+this.get("type").toLowerCase()+" to":"Take "+this.get("type").toLowerCase()+" "+t+" to"},getClassName:function(){return"locuslabs.maps.NavigationSegment"}});
},{"../../../../../locuslabs-core":47}],586:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),__=require("underscore"),CircleView=require("../view/circleView"),Circle=core.maps.MVCObject.subclass("locuslabs.maps.Circle",{constructor:function(e){var t=__.defaults(e||{},Circle.defaults);t.uuid||(t.uuid=core.uuid()),this._manageView=t.manageView,this._manageView&&(this._view=new CircleView,this._view.setCircle(this)),this.setOptions(t)},toString:function(e){return this.get("position")?"position: "+this.get("position").toString()+" radius: "+this.getRadius():"lat: "+this.getCenter().lat()+" lng: "+this.getCenter().lng()+" radius: "+this.getRadius()},getCenter:function(){return this.deprecated({method:"getCenter"}),this.get("center")},getRadius:function(){return this.get("radius")},getVisible:function(){return this.get("visible")},set:function(e,t){"center"==e&&this.deprecated({method:"set( center )"}),"floor"==e&&this.deprecated({method:"set( floor )"}),"position"==e&&(t instanceof core.maps.Position||t instanceof core.maps.LatLng||(t=t.buildingId?new core.maps.Position(t):new core.maps.LatLng(t))),this.callParent(e,t)},setCenter:function(e){this.deprecated({method:"setCenter"}),this.set("center",e)},setPosition:function(e){this.set("position",e)},setMap:function(e){this.set("map",e)},setFloor:function(e){this.deprecated({method:"setFloor"}),this.set("floor",e)},setOptions:function(e){this.setValues(e)},setRadius:function(e){this.set("radius",e)},setVisible:function(e){this.set("visible",e)},getBounds:function(){console.error("locuslabs.maps.Circle.getBounds not supported")},getDraggable:function(){console.error("locuslabs.maps.Circle.getDraggable not supported")},getEditable:function(){console.error("locuslabs.maps.Circle.getEditable not supported")},setDraggable:function(){console.error("locuslabs.maps.Circle.setDraggable not supported")},setEditable:function(){console.error("locuslabs.maps.Circle.setEditable not supported")},static:{newInstance:function(e,t){var i={};t&&t.length&&(i=t[0]),__.defaults(i,{manageView:!1}),!i.position||i.position instanceof core.maps.Position||(i.position=new core.maps.Position(i.position));var s=new Circle(i);return s.set("uuid",e),s},defaults:{clickable:!0,visible:!0,manageView:!0,zIndex:0}}});module.exports=Circle;
},{"../../../../../locuslabs-core":47,"../view/circleView":596,"underscore":608}],587:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),__=require("underscore"),CurvedPath=core.maps.MVCObject.subclass("CurvedPath",{constructor:function(e){e||(e={}),e.uuid||(e.uuid=core.uuid()),this.setValues(e),this.set("array",new core.maps.MVCArray)},clear:function(){this.get("array").clear()},forEach:function(e){this.get("array").forEach(e)},push:function(e){this.get("array").push(e)},serialize:function(){var e=[];return this.get("array").forEach(function(r){var a={};a.start=r.start.serialize(),a.out=r.out.serialize(),a.in=r.in.serialize(),a.end=r.end.serialize(),e.push(a)}),{__locuslabs_serialized_object__:!0,className:"locuslabs.maps.CurvedPath",data:e}},getClassName:function(){return"locuslabs.maps.CurvedPath"},static:{deserialize:function(e){var r=new CurvedPath;return __.each(e,function(e){var a={};a.start=core.deserialize(e.start),a.out=core.deserialize(e.out),a.in=core.deserialize(e.in),a.end=core.deserialize(e.end),r.push(a)}),r},newInstance:function(e){return new CurvedPath({uuid:e})}}});module.exports=CurvedPath;
},{"../../../../../locuslabs-core":47,"underscore":608}],588:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),__=require("underscore"),InfoWindowView=require("../view/infowindowView"),InfoWindow=core.maps.MVCObject.subclass("InfoWindow",{constructor:function(t){t=__.defaults(t||{},InfoWindow.defaults),window&&(window.InfoWindow=InfoWindow),this._isOpen=!1,this._manageView=t.manageView,this._manageView&&(this._view=new InfoWindowView,this._view.setInfoWindow(this)),this.setOptions(t)},toString:function(){return this.get("content")},getAnchorHeight:function(){return this.get("anchorHeight")},getArrowPosition:function(){return this.get("arrowPosition")},getArrowSize:function(){return this.get("arrowSize")},getBackgroundColor:function(){return this.get("backgroundColor")},getBorderColor:function(){return this.get("borderColor")},getBorderRadius:function(){return this.get("borderRadius")},getBorderWidth:function(){return this.get("borderWidth")},getContent:function(){return this.get("content")},getMap:function(){return this.get("map")},getMaxWidth:function(){return this.get("maxWidth")},getMaxHeight:function(){return this.get("maxHeight")},getMinWidth:function(){return this.get("minWidth")},getMinHeight:function(){return this.get("minHeight")},getPadding:function(){return this.get("padding")},getPosition:function(){return this.get("position")},getZIndex:function(){return this.get("zIndex")},setOptions:function(t){this.setValues(t)},setAnchorHeight:function(t){return this.set("anchorHeight",t)},setArrowPosition:function(t){this.set("arrowPosition",t)},setArrowSize:function(t){this.set("arrowSize",t)},setBackgroundColor:function(t){return this.set("backgroundColor",t)},setBorderColor:function(t){return this.set("borderColor",t)},setBorderRadius:function(t){return this.set("borderRadius",t)},setBorderWidth:function(t){this.set("borderWidth",t)},setContent:function(t){return this.set("content",t)},setMap:function(t){return this.set("map",t)},setMaxWidth:function(t){return this.set("maxWidth",t)},setMaxHeight:function(t){return this.set("maxHeight",t)},setMinWidth:function(t){return this.set("minWidth",t)},setMinHeight:function(t){return this.set("minHeight",t)},setPadding:function(t){return this.set("padding",t)},setPosition:function(t){return this.set("position",t)},setZIndex:function(t){return this.set("zIndex",t)},isOpen:function(){if(this._manageView)return this._view.isOpen()},close:function(){this._manageView&&this._view.close()},open:function(t,i){this._manageView&&(t||i?this._view.open(t,i):this._view.open())},static:{defaults:{anchorHeight:34,arrowPosition:50,arrowSize:15,borderWidth:1,borderColor:"#ccc",borderRadius:10,backgroundColor:"#fff",manageView:!0,minWidth:50,padding:10,zIndex:100}}});module.exports=InfoWindow;
},{"../../../../../locuslabs-core":47,"../view/infowindowView":597,"underscore":608}],589:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),__=require("underscore"),MarkerView=require("../view/markerView"),Marker=core.maps.MVCObject.subclass("Marker",{constructor:function(t){var e=__.defaults(t||{},Marker.defaults);e.uuid||(e.uuid=core.uuid()),this._manageView=e.manageView,this._manageView&&(this._view=new MarkerView,this._view.setMarker(this)),this.setOptions(e)},set:function(t,e){if("position"==t){e instanceof core.maps.LatLng&&this.deprecated({method:"set(position, latLng)"});const i=e instanceof core.maps.Position||e instanceof core.maps.LatLng;if(!i){const n=e.venueId||e.buildingId||e.floorId||e.latLng;e=n?new core.maps.Position(e):new core.maps.LatLng(e)}}this.callParent(t,e)},getAnimation:function(){return this.get("animation")},getClickable:function(){return this.get("clickable")},getCursor:function(){return this.get("cursor")},getDraggable:function(){return this.get("draggable")},getIcon:function(){return this.get("icon")},getMap:function(){return this.get("map")},getOpacity:function(){return this.get("opacity")},getPosition:function(){return this.get("position")},getShadow:function(){return this.get("shadow")},getShape:function(){return this.get("shape")},getTitle:function(){return this.get("title")},getVisible:function(){return this.get("visible")},getZIndex:function(){return this.get("zIndex")},getView:function(){return this._manageView?this._view:null},setAnimation:function(t){return this.set("animation",t)},setClickable:function(t){return this.set("clickable",t)},setCursor:function(t){return this.set("cursor",t)},setDraggable:function(t){return this.set("draggable",t)},setFlat:function(t){return this.set("flat",t)},setFloor:function(t){return this.deprecated({method:"setFloor"}),this.set("floor",t)},setMap:function(t){return this.set("map",t)},setOpacity:function(t){return this.set("opacity",t)},setOptions:function(t){this.setValues(t)},setPosition:function(t){return t instanceof core.maps.LatLng&&this.deprecated({method:"setPosition(latLng)"}),this.set("position",t)},setShadow:function(t){return this.set("shadow",t)},setShape:function(t){return this.set("shape",t)},setTitle:function(t){return this.set("title",t)},setVisible:function(t){return this.set("visible",t)},setZIndex:function(t){return this.set("zIndex",t)},floor_changed:function(){this.deprecated({method:"floor_changed"}),this._manageView&&this._view.setFloorView(this.get("floor"))},toString:function(){var t="no position",e=this.getPosition();if(e){var i=e instanceof core.maps.Position?e.getLatLng():e;t="lat: "+i.lat()+" lng: "+i.lng()}const n=this.get("icon")?JSON.stringify(this.get("icon")):"no icon";return"position "+t+" icon: "+n},_debugDescription:function(){return this.toString()},static:{defaults:{clickable:!0,crossOnDrag:!0,draggable:!1,raiseOnDrag:!0,visible:!0,opacity:1,manageView:!0,zIndex:0},newInstance:function(t,e){var i={};e&&e.length&&(i=e[0]),i.symbol&&(i.icon=i.symbol),__.defaults(i,{manageView:!1}),!i.position||i.position instanceof core.maps.Position||(i.position=new core.maps.Position(i.position));var n=new Marker(i);return n.set("uuid",t),n}}});module.exports=Marker;
},{"../../../../../locuslabs-core":47,"../view/markerView":598,"underscore":608}],590:[function(require,module,exports){
var Polyline=require("./polyline"),__=require("underscore"),NavLineView=require("../view/navLineView"),NavLine=Polyline.subclass("NavLine",{constructor:function(e){var t=__.defaults(e||{},NavLine.navline_defaults);this._manageView=t.manageView,this.callParent(t),this._manageView&&(this.setView(new NavLineView),this.getView().setNavLine(this)),this.setOptions(t)},setNumberOfSymbols:function(e){this.set("symbolCount",e)},getNumberOfSymbols:function(){return this.get("symbolCount")},setIntervalTime:function(e){e<100?this.set("intervalTime",100):this.set("intervalTime",e)},getIntervalTime:function(){return this.get("intervalTime")},strokeColor_changed:function(){this.setIcons([{offset:"0%",repeat:"10%",icon:{fillColor:this.get("strokeColor"),strokeColor:this.get("strokeColor"),path:"m-1,1 l2,-1 l-2,-1 l0,2z"}}])},static:{navline_defaults:{manageView:!0,strokeWeight:5,strokeColor:"#F00",icons:[{offset:"0%",repeat:"10%",icon:{fillColor:"blue",strokeColor:"blue",path:"m-1,1 l2,-1 l-2,-1 l0,2z"}}],zIndex:-10,intervalTime:250,symbolCount:10},newInstance:function(e,t){var i={};t&&t.length&&(i=t[0]),__.defaults(i,{manageView:!1});var n=new NavLine(i);return n.set("uuid",e),n}}});module.exports=NavLine;
},{"../view/navLineView":599,"./polyline":595,"underscore":608}],591:[function(require,module,exports){
var Polycurve=require("./polycurve"),__=require("underscore"),NavCurveView=require("../view/navcurveView"),NavCurve=Polycurve.subclass("NavCurve",{constructor:function(e){var t=__.defaults(e||{},NavCurve.defaults);this._manageView=t.manageView,this.callParent(t),this._manageView&&(this.setView(new NavCurveView),this.getView().setNavCurve(this)),this.setOptions(t)},setNumberOfSymbols:function(e){this.set("symbolCount",e)},getNumberOfSymbols:function(){return this.get("symbolCount")},setIntervalTime:function(e){e<100?this.set("intervalTime",100):this.set("intervalTime",e)},getIntervalTime:function(){return this.get("intervalTime")},static:{defaults:{manageView:!0,strokeWeight:5,strokeColor:"green",icons:[{offset:"0%",repeat:"10%",icon:{fillColor:"green",strokeColor:"green",path:"m-1,1 l2,-1 l-2,-1 l0,2z"}}],zIndex:-10,intervalTime:250,symbolCount:10},newInstance:function(e,t){var r={};t&&t.length&&(r=t[0]),__.defaults(r,{manageView:!1});var i=new NavCurve(r);return i.set("uuid",e),i}}});module.exports=NavCurve;
},{"../view/navcurveView":600,"./polycurve":594,"underscore":608}],592:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),__=require("underscore"),NavPointView=require("../view/navpointView"),NavPoint=core.maps.MVCObject.subclass("NavPoint",{constructor:function(t){var e=__.defaults(t||{},NavPoint.defaults);e.uuid||(e.uuid=core.uuid()),this._manageView=e.manageView,this._manageView&&(this._view=new NavPointView,this._view.setNavPoint(this)),this.setOptions(e)},toString:function(){return"lat: "+this.get("position").lat()+" lng: "+this.get("position").lng()},getPosition:function(){return this.get("position")},getHeading:function(){return this.get("heading")},getErrorRadius:function(){return this.get("errorRadius")},setFloor:function(t){this.deprecated({method:"setFloor"}),this.set("floor",t)},setOptions:function(t){this.setValues(t)},setPosition:function(t){t instanceof core.maps.LatLng&&this.deprecated({method:"setPosition(latLng)"}),this.set("position",t)},setHeading:function(t){this.set("heading",t)},setErrorRadius:function(t){this.set("errorRadius",t)},floor_changed:function(){this.deprecated({method:"floor_changed"}),this._manageView&&this._view.setFloorView(this.get("floor"))},errorRadius_changed:function(){this.get("errorRadius")<1&&this.set("errorRadius",1)},zIndex_changed:function(){this.set("markerZIndex",this.get("zIndex")+1)},position_changed:function(t){core.maps.Utilities.isNullOrUndefined(t)||this.set("heading",this._computeHeading(t,this.get("position")))},_computeHeading:function(t,e){var i=null;i=t.latLng?t.latLng:t instanceof core.maps.Position?t.getLatLng():t;var n=null;return n=e.latLng?e.latLng:e instanceof core.maps.Position?e.getLatLng():e,core.maps.Utilities.angleBetweenLatLngs(i,n)},static:{defaults:{maxRadius:20,minRadius:10,pulseDuration:1e3,pulseInterval:5e3,transitionTime:2e3,manageView:!0,fillColor:"rgb(58,77,157)",maxFillOpacity:.35,minFillOpacity:0,zIndex:200},newInstance:function(t,e){var i={};e&&e.length&&(i=e[0]),__.defaults(i,{manageView:!1});var n=new NavPoint(i);return n.set("uuid",t),n}}});module.exports=NavPoint;
},{"../../../../../locuslabs-core":47,"../view/navpointView":601,"underscore":608}],593:[function(require,module,exports){
var CurvedPath=require("./curvedpath"),core=require("../../../../../locuslabs-core"),__=require("underscore"),Path=CurvedPath.subclass("Path",{constructor:function(t){this.callParent(t)},push:function(t){this.get("array").push({start:t,out:t,in:t,end:t})},toPoints:function(t){return this.get("array").collect(function(r){return t.fromLatLng(r.start)}).join(" ")},serialize:function(){var t=[];return this.get("array").forEach(function(r){t.push(r.start.serialize())}),{__locuslabs_serialized_object__:!0,className:"locuslabs.maps.Path",data:t}},toString:function(){var t=[];return this.get("array").forEach(function(r){t.push(r.start.lat()+"|"+r.start.lng())}),"locuslabs.maps.Path: "+t.join(" ")},getClassName:function(){return"locuslabs.maps.Path"},static:{deserialize:function(t){var r=new Path;return __.each(t,function(t){r.push(core.deserialize(t))}),r},newInstance:function(t){return new Path({uuid:t})}}});module.exports=Path;
},{"../../../../../locuslabs-core":47,"./curvedpath":587,"underscore":608}],594:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),__=require("underscore"),PolycurveView=require("../view/polycurveView"),Polycurve=core.maps.MVCObject.subclass("Polycurve",{constructor:function(e){var t=__.defaults(e||{},Polycurve.defaults);this._manageView=t.manageView,this.callParent(t),this._manageView&&(this.setView(new PolycurveView),this.getView().setPolyline(this)),this.setOptions(t)},getClickable:function(){return this.get("clickable")},getDraggable:function(){return this.get("draggable")},getEditable:function(){return this.get("editable")},getCurvedPath:function(){return this.get("path")},getView:function(){return this._view},getVisible:function(){return this.get("visible")},getIcons:function(){return this.get("icons")},setDraggable:function(e){this.set("draggable",e)},setClickable:function(e){this.set("clickable",e)},setIcons:function(e){this.set("icons",e)},setEditable:function(e){this.set("editable",e)},setFloor:function(e){this.set("floor",e)},setOptions:function(e){this.setValues(e)},setCurvedPath:function(e){this.set("path",e)},setView:function(e){this._view=e},setVisible:function(e){this.set("visible",e)},floor_changed:function(){if(this._manageView){if(!this.get("floor"))return void this.getView().setFloorView(null);this.getView().setFloorView(this.get("floor"))}},static:{defaults:{clickable:!0,draggable:!1,editable:!1,geodesic:!1,visible:!0,manageView:!0,zIndex:0},newInstance:function(e,t){var i={};t&&t.length&&(i=t[0]),__.defaults(i,{manageView:!1});var s=new Polycurve(i);return s.set("uuid",e),s}}});module.exports=Polycurve;
},{"../../../../../locuslabs-core":47,"../view/polycurveView":602,"underscore":608}],595:[function(require,module,exports){
var Polycurve=require("./polycurve"),PolycurveView=require("../view/polycurveView"),__=require("underscore"),Polyline=Polycurve.subclass("Polyline",{constructor:function(e){var t=__.defaults(e||{},Polycurve.defaults);this._manageView=t.manageView,this.callParent(t),this._manageView&&(this.setView(new PolycurveView),this.getView().setPolyline(this)),this.setOptions(t)},getPath:function(){return this.get("path")},setPath:function(e){this.set("path",e)},static:{newInstance:function(e,t){var i={};t&&t.length&&(i=t[0]),__.defaults(i,{manageView:!1});var n=new Polyline(i);return n.set("uuid",e),n}}});module.exports=Polyline;
},{"../view/polycurveView":602,"./polycurve":594,"underscore":608}],596:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),$$=require("jquery"),__=require("underscore"),ddd=require("d3"),CircleView=core.maps.MVCObject.subclass("locuslabs.maps.CircleView",{constructor:function(t){t||(t=core.uuid()),this.set("uuid",t)},getCircle:function(){return this.get("circle")},getFloorView:function(){return this.deprecated({method:"getFloorView"}),this.get("floorView")},getMapView:function(){return this.get("mapView")},setCircle:function(t){this.set("circle",t)},setFloorView:function(t){return this.deprecated({method:"setFloorView"}),this.set("floorView",t)},setMapView:function(t){this.set("mapView",t)},circle_changed:function(){if(this._circle&&(ddd.select(this._circle).remove(),this._circle=null),this.getCircle()){var t=this;this.getCircle().addListener("position_changed",function(){t.set("position",t.getCircle().get("position"))}),this.getCircle().addListener("map_changed",function(){t._updateMap()}),this.getCircle().addListener("floor_changed",function(){t.set("floorView",t.getCircle().get("floor"))}),this.getCircle().addListener("center_changed",function(){t._generatePosition()}),this.getCircle().addListener("clickable_changed",function(){t._updateClickable()}),this.getCircle().addListener("radius_changed",function(){t._updateRadius()}),this.getCircle().addListener("fillColor_changed",function(){t._updateFillColor()}),this.getCircle().addListener("fillOpacity_changed",function(){t._updateFillOpacity()}),this.getCircle().addListener("strokeColor_changed",function(){t._updateStrokeColor()}),this.getCircle().addListener("strokeOpacity_changed",function(){t._updateStrokeOpacity()}),this.getCircle().addListener("strokeWeight_changed",function(){t._updateStrokeWeight()}),this.getCircle().addListener("visible_changed",function(){t._updateVisible()}),this.getCircle().addListener("zIndex_changed",function(){t._updateZIndex()}),this._updateMap(),this._updatePosition(),this._updateAll()}},floorView_changed:function(){this.deprecated({method:"floorView_changed"});var t=this.get("floorView");t?this.setMapView(t.getMapView()):this.setMapView(null),this._generatePosition()},mapView_changed:function(){this._updateCircle()},position_changed:function(t){this._updatePosition(t)},_updateMap:function(){var t=this.getCircle().get("map");return t?void this.set("mapView",t.getView()):void this.set("mapView",null)},_generatePosition:function(){if(!this.getCircle())return void this.set("position",null);var t=this.getCircle().get("center");if(!t)return void this.set("position",null);var e=this.get("floorView");return e?void this.set("position",core.maps.Utilities.generatePosition(e,t)):void this.set("position",null)},_updateCoordinates:function(){if(this._circle&&this.getMapView()){var t=this.get("position"),e=this.getMapView().fromLatLng(t.latLng);e&&($$(this._circle).attr("cx",e[0]),$$(this._circle).attr("cy",e[1]))}},_updatePosition:function(t){var e=this.get("position");t&&e&&t.getFloorId()==e.getFloorId()||this._updateCircle(),this._updateCoordinates()},_updateClickable:function(){if(this._circle&&this.getMapView()){var t=this,e="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup";__.each(e.split(" "),function(e){var i=null;t.getCircle().get("clickable")&&(i=function(){var i=t.getMapView().generateMouseEvent(ddd,{target:t._circle});core.maps.event.trigger(t.getCircle(),e,i)}),ddd.select(t._circle).on(e,i)})}},_updateFillColor:function(){this._circle&&this.getMapView()&&$$(this._circle).attr("fill",this.getCircle().get("fillColor"))},_updateFillOpacity:function(){this._circle&&this.getMapView()&&$$(this._circle).attr("fill-opacity",this.getCircle().get("fillOpacity"))},_updateCircle:function(){try{this._circle&&(ddd.select(this._circle).remove(),this._circle=null);var t=this.getCircle();if(!t)return;var e=this.get("position");if(!e)return;if(!this.getMapView())return;var i=this;if(!this.getMapView().isReady())return void core.maps.event.addListenerOnce(this.getMapView(),"ready",function(){i._updateCircle()});var r=this.getMapView().getObjectGroupForPosition(e);this._circle=ddd.select(r).append("svg:circle").attr("id",this.getUUID())[0][0],this._updateAll()}catch(t){core.log.error("_updateCircle : "+t)}},_updateRadius:function(){if(this._circle){var t=this.getCircle().get("radius"),e=this.getMapView().fromMeters(t);$$(this._circle).attr("r",e)}},_updateStrokeColor:function(){this._circle&&$$(this._circle).attr("stroke",this.getCircle().get("strokeColor"))},_updateStrokeOpacity:function(){this._circle&&$$(this._circle).attr("stroke-opacity",this.getCircle().get("strokeOpacity"))},_updateStrokeWeight:function(){this._circle&&$$(this._circle).attr("stroke-width",this.getCircle().get("strokeWeight"))},_updateVisible:function(){this._circle&&(this.getCircle().get("visible")?$$(this._circle).attr("visibility",""):$$(this._circle).attr("visibility","hidden"))},_updateZIndex:function(){if(this._circle&&this.getCircle().get("zIndex")!=$$(this._circle).attr("z-index")){$$(this._circle).attr("z-index",this.getCircle().get("zIndex"));var t=this.get("position"),e=this.getMapView().getObjectGroupForPosition(t);this.getMapView().sortObjectGroup(e)}},_updateAll:function(){this.getCircle()&&(this._updateCoordinates(),this._updateClickable(),this._updateRadius(),this._updateFillColor(),this._updateFillOpacity(),this._updateStrokeColor(),this._updateStrokeOpacity(),this._updateStrokeWeight(),this._updateVisible(),this._updateZIndex())},static:{newInstance:function(t){return new CircleView(t)}}});module.exports=CircleView;
},{"../../../../../locuslabs-core":47,"d3":604,"jquery":606,"underscore":608}],597:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),$$=require("jquery"),ddd=require("d3"),InfoWindowView=core.maps.MVCObject.subclass("InfoWindowView",{constructor:function(t){this.set("uuid",t)},getFloorView:function(){return this.get("floorView")},getMapView:function(){return this.getFloorView().get("mapView")},getInfoWindow:function(){return this.get("infoWindow")},setFloorView:function(t){if(this.get("floorView")!=t)return this.set("floorView",t)},floorView_changed:function(){this._updateFloorView()},setInfoWindow:function(t){return this.set("infoWindow",t)},infoWindow_changed:function(){var t=this;this.getInfoWindow().addListener("anchorHeight_changed",function(){t._updateArrow()}),this.getInfoWindow().addListener("arrowPosition_changed",function(){t._updateArrow()}),this.getInfoWindow().addListener("arrowSize_changed",function(){t._updateArrow()}),this.getInfoWindow().addListener("backgroundColor_changed",function(){t._updateBox()}),this.getInfoWindow().addListener("borderColor_changed",function(){t._updateBox()}),this.getInfoWindow().addListener("borderRadius_changed",function(){t._updateBox()}),this.getInfoWindow().addListener("borderWidth_changed",function(){t._updateBox()}),this.getInfoWindow().addListener("content_changed",function(){t._updateContent()}),this.getInfoWindow().addListener("maxWidth_changed",function(){t._updateBox()}),this.getInfoWindow().addListener("maxHeight_changed",function(){t._updateBox()}),this.getInfoWindow().addListener("minWidth_changed",function(){t._updateBox()}),this.getInfoWindow().addListener("minHeight_changed",function(){t._updateBox()}),this.getInfoWindow().addListener("padding_changed",function(){t._updateBox()}),this.getInfoWindow().addListener("position_changed",function(){t._updatePosition()}),this.getInfoWindow().addListener("zIndex_changed",function(){t._updateZIndex()}),this._buildDom(),this.get("floorView")&&(this._infoWindow&&(ddd.select(this._infoWindow).remove(),this._infoWindow=null),this._updateFloorView())},isOpen:function(){return this._isOpen},close:function(){this._infoWindow&&$$(this._infoWindow).attr("visibility","hidden"),this._isOpen=!1},open:function(t,i){t&&this.setFloorView(t),i&&(this.set("anchor",i),this.getInfoWindow().bindTo("position",i,"position")),$$(this._infoWindow).attr("visibility","visible"),this._isOpen=!0,this._updateAll()},_buildDom:function(){this._box&&(ddd.select(this._box).remove(),this._box=null);var t=this,i=this._box=document.createElement("div");i.style.position="absolute";var e=this._close=document.createElement("img");e.style.position="absolute",e.style.width="14px",e.style.height="14px",e.style.border=0,e.style.cursor="pointer",e.src="images/close.png",locuslabs.maps.event.addDomListener(e,"click",function(){t.close(),locuslabs.maps.event.trigger(t,"closeclick")});var o=this._contentContainer=document.createElement("div");o.style.overflowX="auto",o.style.overflowY="auto",o.style.cursor="default",o.style.clear="both",o.style.position="relative";var n=this._content=document.createElement("div");o.appendChild(n);var d=this._arrow=document.createElement("div");d.style.position="relative";var s=this._arrowOuter=document.createElement("div"),r=this._arrowInner=document.createElement("div");s.style.position=r.style.position="absolute",s.style.left=r.style.left="50%",s.style.height=r.style.height="0",s.style.width=r.style.width="0",s.style.marginLeft="0",s.style.borderWidth="0",s.style.borderBottomWidth=0,d.appendChild(s),d.appendChild(r),i.appendChild(o),i.appendChild(d),i.appendChild(e),locuslabs.maps.isWebkit&&(i.style.position="fixed"),this._infoWindow&&$$(this._foreignObjectBody).append(i)},_makeInfoWindowObject:function(t){this._infoWindow=ddd.select(t).append("svg:svg")[0][0],$$(this._infoWindow).attr("id",this.getUUID()),$$(this._infoWindow).attr("overflow","hidden"),$$(this._infoWindow).attr("opacity",1),this._isOpen||$$(this._infoWindow).attr("visibility","hidden"),this._isOpen=!1,this._foreignObject=ddd.select(this._infoWindow).append("foreignObject")[0][0],this._foreignObjectBody=ddd.select(this._foreignObject).append("xhtml:body")[0][0],$$(this._foreignObjectBody).append(this._box),$$(this._infoWindow).attr("x","1px"),$$(this._infoWindow).attr("y","1px"),$$(this._infoWindow).attr("width","1px"),$$(this._infoWindow).attr("height","1px"),$$(this._foreignObject).attr("width","1px"),$$(this._foreignObject).attr("height","1px")},_htmlToDocumentFragment:function(t){t=t.replace(/^\s*([\S\s]*)\b\s*$/,"$1");var i=document.createElement("div");if(i.innerHTML=t,1==i.childNodes.length)return i.removeChild(i.firstChild);for(var e=document.createDocumentFragment();i.firstChild;)e.appendChild(i.firstChild);return e},_removeChildren:function(t){if(t)for(var i;i=t.firstChild;)t.removeChild(i)},_imageLoaded:function(){this._updateContent()},_getElementSize:function(t,i,e){var o=document.createElement("div");o.style.display="inline",o.style.position="absolute",o.style.visibility="hidden","string"==typeof t?o.innerHTML=t:o.appendChild(t.cloneNode(!0)),document.body.appendChild(o);var n=new locuslabs.maps.Size(o.offsetWidth,o.offsetHeight);return i&&n.width>i&&(o.style.width=""+i+"px",n=new locuslabs.maps.Size(o.offsetWidth,o.offsetHeight)),e&&n.height>e&&(o.style.height=""+e+"px",n=new locuslabs.maps.Size(o.offsetWidth,o.offsetHeight)),document.body.removeChild(o),n},_figureOutSize:function(){var t=this.getInfoWindow(),i=t.get("arrowSize"),e=2*i,o=window.innerWidth-e,n=window.innerHeight-e-t.get("anchorHeight"),d=t.get("minWidth")||0,s=t.get("minHeight")||0,r=t.get("maxWidth")||0,h=t.get("maxHeight")||0;r=Math.min(o,r),h=Math.min(n,h);var a=t.get("content");if("string"==typeof a&&(a=this._htmlToDocumentFragment(a)),a){var l=this._getElementSize(a,r,h);d=Math.max(d,l.width),s=Math.max(s,l.height)}r&&(d=Math.min(d,r)),h&&(s=Math.min(s,h)),d=Math.max(d,2*i),d=Math.min(d,o),s=Math.min(s,n),this._contentContainer.style.width=""+d+"px",this._contentContainer.style.height=""+s+"px"},_figureOutCloseButtonPosition:function(){var t=this.getInfoWindow().get("borderWidth"),i=2,e=2;e+=t,i+=t;var o=this._contentContainer;o&&o.clientHeight<o.scrollHeight&&(i+=15),this._close.style.right=""+i+"px",this._close.style.top=""+e+"px"},_updateArrow:function(){var t=this.getInfoWindow().get("arrowPosition"),i=this.getInfoWindow().get("borderWidth"),e=this.getInfoWindow().get("arrowSize"),o=""+e+"px",n=""+Math.max(0,e-i)+"px",d=this._arrowOuter,s=this._arrowInner;d.style.left=s.style.left=t+"%",this._arrow.style.marginTop=""+-i+"px",d.style.borderTopWidth=o,s.style.borderTopWidth=n,d.style.borderLeftWidth=o,s.style.borderLeftWidth=n,d.style.borderRightWidth=o,s.style.borderRightWidth=n,d.style.marginLeft=""+-e+"px",s.style.marginLeft=""+-(e-i)+"px",0==i?d.style.display="none":d.style.display="",this._updatingAll||this._updateBox()},_updateBox:function(){if(this._infoWindow){this._figureOutSize(),this._figureOutCloseButtonPosition();var t=this.getInfoWindow().get("backgroundColor"),i=this.getInfoWindow().get("borderColor"),e=this.getInfoWindow().get("borderRadius"),o=this.getInfoWindow().get("borderWidth"),n=this._contentContainer,d=this.getInfoWindow().get("padding"),s=this._arrowInner,r=this._arrowOuter;n.style.backgroundColor=t,n.style.borderColor=i,n.style.borderStyle=r.style.borderStyle=s.style.borderStyle="solid",n.style.borderRadius=n.style.MozBorderRadius=n.style.webkitBorderRadius=""+e+"px",n.style.borderWidth=""+o+"px",n.style.padding=""+d+"px",s.style.borderColor=t+" transparent transparent",r.style.borderColor=i+" transparent transparent",this._updatingAll||this._updatePosition()}},_updateContent:function(){if(this._infoWindow&&this._content){this._removeChildren(this._content);var t=this.getInfoWindow().get("content");if(t){"string"==typeof t&&(t=this._htmlToDocumentFragment(t)),this._content.appendChild(t);for(var i,e=this,o=this._content.getElementsByTagName("img"),n=0;i=o[n];n++)$$(i).load(function(){e._imageLoaded()}).error(function(){e._imageLoaded()})}this._updatingAll||this._updateBox()}},_updateFloorView:function(){if(this.getFloorView()){this._infoWindow&&(ddd.select(this._infoWindow).remove(),this._infoWindow=null);var t=this.getFloorView().getObjectGroup();this._makeInfoWindowObject(t),this._updateAll()}},_updatePosition:function(){if(this._infoWindow){var t=this.getMapView().fromLatLng(this.getInfoWindow().get("position")),i=this.getInfoWindow().get("anchorHeight"),e=this.getInfoWindow().get("arrowSize"),o=this.getInfoWindow().get("arrowPosition")/100,n=this._contentContainer.offsetWidth,d=this._box.offsetHeight+e,s=t[1]-(d+e+i),r=t[0]-n*o;$$(this._infoWindow).attr("x",""+r+"px"),$$(this._infoWindow).attr("y",""+s+"px"),$$(this._infoWindow).attr("width",""+n+"px"),$$(this._infoWindow).attr("height",""+d+"px"),$$(this._foreignObject).attr("width",""+n+"px"),$$(this._foreignObject).attr("height",""+d+"px")}},_updateZIndex:function(){this._infoWindow&&($$(this._infoWindow).attr("z-index",this.getInfoWindow().get("zIndex")),$$(this._close).attr("z-index",this.getInfoWindow().get("zIndex")+1),this.getFloorView().sortObjects())},_updateAll:function(){this._updatingAll=!0,this._updateArrow(),this._updateContent(),this._updateBox(),this._updatePosition(),this._updateZIndex(),this._updatingAll=!1}});module.exports=InfoWindowView;
},{"../../../../../locuslabs-core":47,"d3":604,"jquery":606}],598:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),__=require("underscore"),ddd=require("d3"),$$=require("jquery"),MarkerView=core.maps.MVCObject.subclass("MarkerView",{constructor:function(e){this.callParent({}),this.set("uuid",e||core.uuid())},getFloorView:function(){return this.deprecated({method:"getFloorView"}),this.get("floorView")},getMap:function(){return this.getMarker().get("map")},getPosition:function(){return this.getMarker().get("position")},getMarker:function(){return this.get("marker")},setFloorView:function(e){this.deprecated({method:"setFloorView"}),this.set("floorView",e)},setMarker:function(e){this.set("marker",e)},marker_changed:function(){this._svgMarker&&(ddd.select(this._svgMarker).remove(),this._svgMarker=null),this.getMarker().addListener("clickable_changed",this._updateClickable.bind(this)),this.getMarker().addListener("draggable_changed",this._updateDraggable.bind(this)),this.getMarker().addListener("icon_changed",this._updateIcon.bind(this)),this.getMarker().addListener("opacity_changed",this._updateOpacity.bind(this)),this.getMarker().addListener("position_changed",this._updatePosition.bind(this)),this.getMarker().addListener("map_changed",this._updateMap.bind(this)),this.getMarker().addListener("visible_changed",this._updateVisible.bind(this)),this.getMarker().addListener("zIndex_changed",this._updateZIndex.bind(this)),this._updateAll()},floorView_changed:function(){this.deprecated({method:"floorView_changed"}),this._updateMapView()},_icon:function(e){return"string"===$$.type(e)?{url:e}:$$.isPlainObject(e)&&e.url?e:$$.isPlainObject(e)&&e.path?e:null},_processIcon:function(e){const t=this._computeMapView();if(t){const r=t.getImageDiv(),i=ddd.select(r).select(_.sprintf('[src="%s"]',e.url)).node(),a=0!=_().GetIEVersion()&&_().GetIEVersion()<12?i.width:i.naturalWidth,s=0!=_().GetIEVersion()&&_().GetIEVersion()<12?i.height:i.naturalHeight,n=e.origin||new core.maps.Point(0,0),o=t.markerInflator(),d=e.rotation||0,g=d-t.get("heading"),c=this.getMarker().get("maxScale"),h=this.getMarker().get("minScale");var u=o;c&&u<1/c&&(u=1/c),h&&u>1/h&&(u=1/h);var p=e.size||new core.maps.Size(a-n.x,s-n.y);p.width>a-n.x&&(p.width=a-n.x),p.height>s-n.y&&(p.height=s-n.y);const l=p.width,v=p.height,k=e.scaledSize||p;var M=k.width/u,f=k.height/u;"images/pin-plane-takeoff.svg"!=e.url&&"images/pin-plane-landing.svg"!=e.url||(M*=.5,f*=.5);const m=e.anchor?e.anchor.x/u:M/2,w=e.anchor?e.anchor.y/u:f;this._svgMarkerIcon=this._svgMarkerIcon||ddd.select(this._anchor).append("svg:image").node();const b=M/l,V=f/v;ddd.select(this._svgMarker).attr("overflow","visible"),ddd.select(this._anchor).attr("overflow","visible").attr("x",-m).attr("y",-w).attr("width",M).attr("height",f),ddd.select(this._svgMarkerIcon).attr("xlink:href",e.url).attr("preserveAspectRatio","none").attr("x",-n.x*b+"px").attr("y",-n.y*V+"px").attr("width",a*b+"px").attr("height",s*V+"px").attr("transform",_.sprintf("rotate(%.2f %.2f %.2f)",g,m,w))}},_processSymbol:function(e){var t=e.anchor,r=e.fillColor,i=e.fillOpacity,a=e.path,s=e.rotation,n=e.scale,o=e.strokeColor,d=e.strokeOpacity,g=e.strokeWeight;t||(t=new core.maps.Point(0,0)),r||(r="black"),i||(i=0),s||(s=0),n||(n=1),o||(o="black"),d||(d=1),g||(g=n),this._svgMarkerIcon||(this._svgMarkerIcon=ddd.select(this._anchor).append("svg:svg")[0][0],this._svgMarkerPath=ddd.select(this._svgMarkerIcon).append("svg:path")[0][0]),$$(this._anchor).attr("overflow","visible").attr("x",t.x).attr("y",t.y),$$(this._svgMarkerPath).attr("d",a);var c=[this._svgMarker.getBoundingClientRect().width,this._svgMarker.getBoundingClientRect().height],h="rotate("+s+" "+c[0]*n/2+" "+c[1]*n/2+") scale("+n+")";$$(this._svgMarkerIcon).attr("fill",r).attr("fill-opacity",i).attr("overflow","visible").attr("transform",h).attr("stroke",o).attr("stroke-opacity",d).attr("stroke-width",g)},_updateClickable:function(){if(this._svgMarker&&this.getMarker().get("clickable")){var e=this,t=["click","dblclick"];__.each(t,function(t){e._debug("click","Marker click event registered: %s",t),ddd.select(e._svgMarker).on(t,function(){if(e._debug("click","Marker clicked: %s",t),ddd.event.defaultPrevented)return void e._debug("click","Marker click event ignored: %s",t);var r=ddd.mouse(e._computeMapView().getSvg()),i=e._computeMapView().toLatLng(r);e._debug("click","Marker click event: %s %s",t,i),core.maps.event.trigger(e.getMarker(),t,new core.maps.MouseEvent(i)),core.maps.event.trigger(e,t,new core.maps.MouseEvent(i))})})}},_updateDraggable:function(){if(this._svgMarker){if(this._debug("marker","MarkerView._updateDraggable: "+this.getMarker().get("draggable")),!this.getMarker().get("draggable"))return void ddd.behavior.drag().on("dragstart",null).on("drag",null).on("dragend",null);var e=this,t=function(t){ddd.event.sourceEvent.stopPropagation();var r=ddd.mouse(e._computeMapView()._getContainer()),i=[Number($$(e._svgMarker).attr("x")),Number($$(e._svgMarker).attr("y"))];e.dragOffset=[r[0]-i[0],r[1]-i[1]];var a=e._computeMapView().generateMouseEvent(ddd,{target:e._svgMarker});core.maps.event.trigger(e.getMarker(),"dragstart",a),core.maps.event.trigger(e,"dragstart",a)},r=function(t){ddd.event.sourceEvent.stopPropagation();var r=e._computeMapView().generateMouseEvent(ddd,{target:e._svgMarker});e.getMarker().set("position",r),core.maps.event.trigger(e.getMarker(),"drag",r),core.maps.event.trigger(e,"drag",r)},i=function(t){ddd.event.sourceEvent.stopPropagation();var r=e._computeMapView().generateMouseEvent(ddd,{target:e._svgMarker});core.maps.event.trigger(e.getMarker(),"dragend",r),core.maps.event.trigger(e,"dragend",r)},a=ddd.behavior.drag().on("dragstart",t).on("drag",r).on("dragend",i);ddd.select(this._svgMarker).call(a)}},_updateIcon:function(){if(this._svgMarker){var e=this.getMarker().get("icon");if(e){var t=this._icon(e);if(t){var r=this;if(t.url){var i=$$(this._computeMapView().getImageDiv()).find('[src="'+t.url+'"]'),a='<img src="'+t.url+'" />';0===i.length&&$$(this._computeMapView().getImageDiv()).append($$(a)),$$(a).load(function(){r._processIcon(t)}).error(function(){r._processIcon(t)})}else t.path?this._processSymbol(t):this._svgMarkerIcon&&ddd.select(this._svgMarkerIcon).remove()}}}},computeObjectGroup:function(){return this._isPositionALatLng()?this.getFloorView().getObjectGroup():this._computeMapView().getObjectGroupForPosition(this.getPosition())},_updateMap:function(){this._updateMapView()},_updateMapView:function(){if(this._svgMarker&&(ddd.select(this._svgMarker).remove(),this._svgMarker=null,this._svgMarkerIcon=null),this._computeMapView()&&(!this._isPositionALatLng()||this.getFloorView())){var e=this;if(this._computeMapView().addListener("scale_changed",function(){e._updateIcon()}),this._computeMapView().addListener("heading_changed",function(){e._updateIcon()}),this.getPosition()){var t=this.computeObjectGroup();const r=ddd.select(t).append("svg:svg").attr("id",this.getUUID()).attr("overlay-type","marker");this._anchor=r.append("svg:svg").attr("overlay-type","marker-anchor").node(),this._svgMarker=r.node()}this._updateAll()}},_updateOpacity:function(){this._svgMarker&&$$(this._svgMarker).attr("opacity",this.getMarker().get("opacity"))},_updatePosition:function(){var e=this.getPosition();if(e){if(!this._isPositionALatLng()&&this._svgMarker){const t=ddd.select(this._svgMarker);t.datum().floorId!=e.getFloorId()&&(t.remove(),this._svgMarker=null)}if(this._svgMarker||this._updateMapView(),this._svgMarker){var r=this._computeMapView().fromLatLng(this._isPositionALatLng()?e:e.latLng);$$(this._svgMarker).attr("x",r[0]),$$(this._svgMarker).attr("y",r[1])}}},_updateZIndex:function(){this._svgMarker&&this.getMarker().get("zIndex")!=$$(this._svgMarker).attr("z-index")&&($$(this._svgMarker).attr("z-index",this.getMarker().get("zIndex")),this._computeMapView().sortObjectGroup(this.computeObjectGroup()))},_updateVisible:function(){this._svgMarker&&(this.getMarker().get("visible")?$$(this._svgMarker).attr("visibility",""):$$(this._svgMarker).attr("visibility","hidden"))},_updateAll:function(){this._updateClickable(),this._updateDraggable(),this._updateIcon(!1),this._updateOpacity(),this._updatePosition(),this._updateZIndex(),this._updateVisible()},_computeMapView:function(){return this._isPositionALatLng()?this.getFloorView()?this.getFloorView().get("mapView"):null:this.getMap()?this.getMap().getView():null},_isPositionALatLng:function(){return this.getPosition()?this.getPosition()instanceof core.maps.LatLng:!!this.getFloorView()},static:{newInstance:function(e){var t=new MarkerView;return t.set("uuid",e),t}}});module.exports=MarkerView;
},{"../../../../../locuslabs-core":47,"d3":604,"jquery":606,"underscore":608}],599:[function(require,module,exports){
var PolycurveView=require("./polycurveView"),core=require("../../../../../locuslabs-core"),NavLineView=PolycurveView.subclass("NavLineView",{constructor:function(i){this.callParent(i),this.animation=null},polyline_changed:function(){var i=this;this.getPolyline().addListener("intervalTime_changed",function(){core.maps.AnimationController.removeAnimation(i.animation),i.animation=new core.maps.Animation(i,"_animate",i.getNavLine().get("intervalTime")),core.maps.AnimationController.addAnimation(i.animation)}),this.callParent(),this.animation=new core.maps.Animation(this,"_animate",this.getNavLine().get("intervalTime")),core.maps.AnimationController.addAnimation(this.animation)},getNavLine:function(){return this.getPolyline()},setNavLine:function(i){this.setPolyline(i)},floorView_changed:function(){this.callParent(),this.getFloorView()||(core.maps.AnimationController.removeAnimation(this.animation),this.animation=null,this.offset=0)},_animate:function(){this.offset||(this.offset=0);var i=Math.floor(100/this.get("polyline").get("symbolCount")),t=this.getNavLine().get("icons");t[0].offset=this.offset+"%",t[0].repeat=i+"%",this._updateIcons(),this.offset+=1,this.offset>=i&&(this.offset=0)},static:{newInstance:function(i){return new NavLineView(i)}}});module.exports=NavLineView;
},{"../../../../../locuslabs-core":47,"./polycurveView":602}],600:[function(require,module,exports){
var PolycurveView=require("./polycurveView"),core=require("../../../../../locuslabs-core"),NavCurveView=PolycurveView.subclass("NavCurveView",{constructor:function(t){this.callParent(t),this.animation=null},polyline_changed:function(){var t=this;this.getPolyline().addListener("intervalTime_changed",function(){core.maps.AnimationController.removeAnimation(t.animation),t.animation=new core.maps.Animation(t,"_animate",t.getNavCurve().get("intervalTime")),core.maps.AnimationController.addAnimation(t.animation)}),this.callParent(),this.animation=new core.maps.Animation(this,"_animate",this.getNavCurve().get("intervalTime")),core.maps.AnimationController.addAnimation(this.animation)},getNavCurve:function(){return this.getPolyline()},setNavCurve:function(t){this.setPolyline(t)},floorView_changed:function(){this.callParent(),this.getFloorView()||(core.maps.AnimationController.removeAnimation(this.animation),this.animation=null,this.offset=0)},_animate:function(){this.offset||(this.offset=0);var t=Math.floor(100/this.get("polyline").get("symbolCount")),e=this.getNavCurve().get("icons");e[0].offset=this.offset+"%",e[0].repeat=t+"%",this._updateIcons(),this.offset+=1,this.offset>=t&&(this.offset=0)},static:{newInstance:function(t){return new NavCurveView(t)}}});module.exports=NavCurveView;
},{"../../../../../locuslabs-core":47,"./polycurveView":602}],601:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),$$=require("jquery"),__=require("underscore"),Circle=require("../model/circle"),CircleView=require("./circleView"),Marker=require("../model/marker"),MarkerView=require("./markerView"),NavPointView=core.maps.MVCObject.subclass("NavPointView",{constructor:function(i){this.set("uuid",i)},getFloorView:function(){return this.deprecated({method:"getFloorView"}),this.get("floorView")},getNavPoint:function(){return this.get("navPoint")},setFloorView:function(i){return this.deprecated({method:"setFloorView"}),this.set("floorView",i)},setNavPoint:function(i){this.set("navPoint",i)},navPoint_changed:function(){var i=this;this.getNavPoint().addListener("position_changed",function(){i._updatePosition()}),this.getNavPoint().addListener("heading_changed",function(){i._updateHeading()}),this.getNavPoint().addListener("errorRadius_changed",function(){i._updateErrorRadius()}),this._updateAll()},floorView_changed:function(){this.deprecated({method:"floorView_changed"}),this._updateFloorView()},_updateBaseCircle:function(){this._circle||(this._circle=new Circle({manageView:!0}),this._circle.bindTo("radius",this.getNavPoint(),"minRadius"),this._circle.bindTo("fillOpacity",this.getNavPoint(),"maxFillOpacity"),this._circle.bindTo("fillColor",this.getNavPoint(),"fillColor"),this._circle.bindTo("zIndex",this.getNavPoint(),"zIndex")),this._circleView||(this._circleView=new CircleView,this._circleView.bindTo("floorView",this,"floorView"),this._circleView.setCircle(this._circle)),this._marker||(this._marker=new Marker({manageView:!1}),core.maps.Utilities.isNullOrUndefined(this.getNavPoint().get("heading"))?this._marker.set("icon",NavPointView.NON_HEADING_ICON):this._marker.set("icon",NavPointView.HEADING_ICON),this._marker.bindTo("position",this._circle,"center"),this._marker.bindTo("zIndex",this.getNavPoint(),"markerZIndex")),this._markerView||(this._markerView=new MarkerView,this._markerView.setMarker(this._marker),this._markerView.bindTo("floorView",this,"floorView"))},_updateFloorView:function(){return this.getFloorView()?(this._startPulsing(),void this._updateAll()):void this._stopPulsing()},_updatePosition:function(){if(this._circle)if(this._circle.getCenter()){this._transitionDiv?this._transitionDiv.stop():this._transitionDiv=$$("<div></div>"),this._transitionDiv.css("opacity",0);var i=this._circle.getCenter(),t=this;this._transitionDiv.animate({opacity:1},{easing:"linear",step:function(e,n){var r=t.getNavPoint().get("position"),s=i.lat()-r.lat(),o=i.lng()-r.lng(),a=s*e,l=o*e,c=i.lat()-a,h=i.lng()-l,u=new core.maps.LatLng(c,h);t._circle.setCenter(u)},duration:this.getNavPoint().get("transitionTime"),complete:function(){t._transitionDiv=null}})}else this._circle.setCenter(this.getNavPoint().get("position"))},_updateHeading:function(){if(!this._marker||!this.getFloorView())return void this._updateBaseCircle();if(!core.maps.Utilities.isNullOrUndefined(this.getNavPoint().get("heading"))){var i=__.clone(NavPointView.HEADING_ICON);i.rotation=this.getNavPoint().get("heading")+this.getFloorView().getMapView().get("heading"),this._marker.set("icon",i)}},_updateErrorRadius:function(){if(this.getFloorView()){var i=this.getFloorView().getMapView(),t=this.getNavPoint().get("errorRadius"),e=i.fromMeters(t);this.getNavPoint().set("minRadius",i.toMeters(.75*e)),this.getNavPoint().set("maxRadius",i.toMeters(1.25*e))}},_emitPulse:function(){if(this._circle){var i=$$("<div></div>"),t=new Circle({manageView:!1});t.bindTo("fillColor",this.getNavPoint(),"fillColor"),t.bindTo("center",this._circle,"center"),t.bindTo("zIndex",this.getNavPoint(),"zIndex"),t.set("radius",this.getNavPoint().get("minRadius")),t.set("fillOpacity",this.getNavPoint().get("maxFillOpacity"));var e=new CircleView;e.set("circle",t),e.set("floorView",this.get("floorView")),i.css("opacity",0);var n=this;i.animate({opacity:1},{easing:"linear",step:function(i,e){var r=n.getNavPoint().get("minRadius")+(n.getNavPoint().get("maxRadius")-n.getNavPoint().get("minRadius"))*i,s=n.getNavPoint().get("maxFillOpacity")-(n.getNavPoint().get("maxFillOpacity")-n.getNavPoint().get("minFillOpacity"))*i;t.set("radius",r),t.set("fillOpacity",s)},duration:this.getNavPoint().get("pulseDuration"),complete:function(){e.setFloorView(null),i.remove()}})}},_startPulsing:function(){if(!this._pulseInterval&&this.getNavPoint().get("pulseInterval")&&this.getFloorView()){var i=this;this._pulseInterval=setInterval(function(){i._emitPulse()},this.getNavPoint().get("pulseInterval"))}},_stopPulsing:function(){this._pulseInterval&&(clearInterval(this._pulseInterval),this._pulseInterval=null)},_updatePulsing:function(){this._stopPulsing(),this._startPulsing()},_updateAll:function(){this._updateBaseCircle(),this._updatePosition(),this._updatePulsing()},static:{NON_HEADING_ICON:{url:"images/bluedot.svg",anchor:{x:16,y:16},rotation:0},HEADING_ICON:{url:"images/bluedot-arrow.svg",anchor:{x:13,y:14.58},rotation:0},newInstance:function(i){var t=new NavPointView;return t.set("uuid",i),t}}});module.exports=NavPointView;
},{"../../../../../locuslabs-core":47,"../model/circle":586,"../model/marker":589,"./circleView":596,"./markerView":598,"jquery":606,"underscore":608}],602:[function(require,module,exports){
var core=require("../../../../../locuslabs-core"),__=require("underscore"),CurvedPath=require("../model/curvedpath"),ddd=require("d3"),$$=require("jquery"),PolycurveView=core.maps.MVCObject.subclass("PolycurveView",{constructor:function(e){this.callParent(e)},polyline_changed:function(){this._polylineGroup&&this.remove();var e=this;this.getPolyline().addListener("clickable_changed",function(){e._updateClickable()}),this.getPolyline().addListener("icons_changed",function(){e._updateIcons()}),this.getPolyline().addListener("path_changed",function(){e._updatePath()}),this.getPolyline().addListener("strokeColor_changed",function(){e._updateStrokeColor()}),this.getPolyline().addListener("strokeWeight_changed",function(){e._updateStrokeWeight(),e._updateIcons()}),this.getPolyline().addListener("strokeOpacity_changed",function(){e._updateStrokeOpacity()}),this.getPolyline().addListener("zIndex_changed",function(){e._updateZIndex()}),this._updateAll()},floorView_changed:function(){this._updateFloor()},getFloorView:function(){return this.get("floorView")},getPolyline:function(){return this.get("polyline")},setFloorView:function(e){return this.set("floorView",e)},setPolyline:function(e){this.set("polyline",e)},_updateFloor:function(){if(!this.getFloorView())return void this.remove();this._polylineGroup&&this.remove();var e=this;if(!this.getFloorView().getMapView().isReady())return void core.maps.event.addListenerOnce(this.getFloorView().getMapView(),"ready",function(){e._updateFloor()});var t=this.getFloorView().getObjectGroup();this._polylineGroup=ddd.select(t).append("svg:svg").attr("id",this.getUUID())[0][0],this._polyline=ddd.select(this._polylineGroup).append("svg:path").attr("id",this.getUUID())[0][0],this._updateAll()},_updatePath:function(){if(this._polylineGroup){var e=this.getPolyline(),t=e.get("path"),i=PolycurveView._toPathObject(t);if(i){var o="M",r=this,n=0;i.forEach(function(e){0==n&&(o+=r.getFloorView().getMapView().fromLatLng(e.start)+" "),o+="C",o+=r.getFloorView().getMapView().fromLatLng(e.out)+" ",o+=r.getFloorView().getMapView().fromLatLng(e.in)+" ",o+=r.getFloorView().getMapView().fromLatLng(e.end)+" ",n++}),$$(this._polyline).attr("d",o),$$(this._polyline).attr("fill","none"),$$(this._polyline).attr("stroke-linejoin","round"),$$(this._polyline).attr("stroke-linecap","round"),this.getPolyline().get("icons")&&this._updateIcons()}}},_getLinePoints:function(){var e=this.getPolyline().get("path"),t=PolycurveView._toPathObject(e);if(!t)return[];var i=[],o=this;return t.forEach(function(e){for(var t=core.maps.Utilities.getCurvePoints([o.getFloorView().getMapView().fromLatLng(e.start),o.getFloorView().getMapView().fromLatLng(e.out),o.getFloorView().getMapView().fromLatLng(e.in),o.getFloorView().getMapView().fromLatLng(e.end)]),r=0;r<t.length;r++){var n=t[r][0],l=t[r][1];i.push(new core.maps.Point(n,l))}}),i},_processIcon:function(e,t){var i=ddd.select(e).append("svg:path").attr("id",core.uuid())[0][0];$$(i).attr("d",t.path).attr("fill",t.fillColor).attr("fill-opacity",t.fillOpacity).attr("overflow","visible").attr("transform","scale("+t.scale+") rotate("+t.rotation+","+t.anchor.x/t.scale+","+t.anchor.y/t.scale+")").attr("stroke",t.strokeColor).attr("stroke-opacity",t.strokeOpacity).attr("stroke-width",t.strokeWeight)},_updateStrokeColor:function(){this._polyline&&$$(this._polyline).attr("stroke",this.getPolyline().get("strokeColor"))},_updateStrokeOpacity:function(){this._polyline&&$$(this._polyline).attr("stroke-opacity",this.getPolyline().get("strokeOpacity"))},_updateStrokeWeight:function(){this._polyline&&$$(this._polyline).attr("stroke-width",this.getPolyline().get("strokeWeight"))},_updateZIndex:function(){this._polylineGroup&&($$(this._polylineGroup).attr("z-index",this.getPolyline().get("zIndex")),this.getFloorView().sortObjects())},_updateClickable:function(){if(this._polyline&&this.getPolyline().get("clickable")){var e=this,t=["click","dblclick"];__.each(t,function(t){ddd.select(e._polyline).on(t,function(){if(!ddd.event.defaultPrevented){var i=ddd.mouse(e.getFloorView().getMapView().getSvg()),o=e.getFloorView().getMapView().toLatLng(i);core.maps.event.trigger(e.getPolyline(),t,new core.maps.MouseEvent(o)),core.maps.event.trigger(e,t,new core.maps.MouseEvent(o))}})})}},_updateAll:function(){this._updateClickable(),this._updatePath(),this._updateStrokeColor(),this._updateStrokeOpacity(),this._updateStrokeWeight(),this._updateZIndex(),this._updateIcons()},remove:function(){ddd.select(this._polylineGroup).remove(),this._polylineGroup=null,this._polyline=null},removeAllIcons:function(){this._polylineIcons&&(__.each(this._polylineIcons,function(e){ddd.select(e).remove()}),this._polylineIcons=null)},_updateIcons:function(){if(this._polyline&&this.getPolyline().get("icons")){this.removeAllIcons(),this._polylineIcons=[];var e=this,t=this.getPolyline().get("icons"),i=this._getLinePoints(),o=core.maps.Utilities.calculateLineDistance(i);__.each(t,function(t){var r=t.icon.scale?t.icon.scale:e.getPolyline().get("strokeWeight")?e.getPolyline().get("strokeWeight"):1;o*=r;var n=0;n=core.maps.Utilities.isAPercentage(t.offset)?core.maps.Utilities.getNumberValue(t.offset)/100*o:core.maps.Utilities.isInMeters(t.offset)?e.getFloorView().getMapView().fromMeters(core.maps.Utilities.getNumberValue(t.offset)):core.maps.Utilities.getNumberValue(t.offset);var l=0;l=core.maps.Utilities.isAPercentage(t.repeat)?core.maps.Utilities.getNumberValue(t.repeat)/100*o:core.maps.Utilities.isInMeters(t.repeat)?e.getFloorView().getMapView().fromMeters(core.maps.Utilities.getNumberValue(t.repeat)):core.maps.Utilities.getNumberValue(t.repeat),l<PolycurveView.MIN_DIS_SYMBOLS&&(n=Math.round(PolycurveView.MIN_DIS_SYMBOLS*(core.maps.Utilities.getNumberValue(t.offset)/core.maps.Utilities.getNumberValue(t.repeat))),l=PolycurveView.MIN_DIS_SYMBOLS);var a=ddd.select(e._polylineGroup).append("svg:svg").attr("id",core.uuid())[0][0];e._polylineIcons.push(a);var s=core.maps.Utilities.findPoints(i,n,l);__.each(s,function(i){var o=0;o=t.fixedRotation?t.icon.rotation:i.angle;var n={};n.anchor=t.icon.anchor?t.icon.anchor:i,n.fillColor=t.icon.fillColor?t.icon.fillColor:"black",n.fillOpacity=t.icon.fillOpacity?t.icon.fillOpacity:1,n.rotation=o,n.scale=r,n.strokeColor=t.icon.strokeColor?t.icon.strokeColor:"black",n.strokeOpacity=t.icon.strokeOpacity?t.icon.strokeOpacity:1,n.strokeWeight=t.icon.strokeWeight?t.icon.strokeWeight:1,n.path="M"+i.getX()/n.scale+" "+i.getY()/n.scale+" "+t.icon.path,e._processIcon(a,n)})})}},static:{FORWARD_ARROW:"m-2,0 l-3,5 l10,-5 l-10,-5 l3,5z",BACKWARD_ARROW:"m2,0 l3,5 l-10,-5 l10,-5 l-3,5z",MIN_DIS_SYMBOLS:30,newInstance:function(e){return new PolycurveView(e)},_toPathObject:function(e){if(!e)return null;if(e.clear)return e;if(__.isArray(e)){var t=new CurvedPath;return __.each(e,function(e){if(e.bearing)t.push({start:e,out:e,in:e,end:e});else if(e.start)t.push(e);else if(e.lat){var i=new core.maps.LatLng(e.lat,e.lng);t.push({start:i,out:i,in:i,end:i})}}),t}return null}}});module.exports=PolycurveView;
},{"../../../../../locuslabs-core":47,"../model/curvedpath":587,"d3":604,"jquery":606,"underscore":608}],603:[function(require,module,exports){
var $$=require("jquery"),ddd=require("d3"),core=require("../../../../../locuslabs-core"),PolycurveView=require("./polycurveView"),PolylineView=PolycurveView.subclass("PolylineView",{constructor:function(e){this.callParent(),e||(e=core.uuid()),this.set("uuid",e)},_updateFloor:function(){if(!this.getFloorView())return void this.remove();this._polylineGroup&&this.remove();var e=this;if(!this.getFloorView().getMapView().isReady())return void core.maps.event.addListenerOnce(this.getFloorView().getMapView(),"ready",function(){e._updateFloor()});var t=this.getFloorView().getObjectGroup();this._polylineGroup=ddd.select(t).append("svg:svg").attr("id",this.getUUID())[0][0],this._polyline=ddd.select(this._polylineGroup).append("svg:polyline").attr("id",this.getUUID())[0][0],this._updateAll()},_updatePath:function(){if(this._polylineGroup){var e=this.getPolyline().get("path");e&&($$(this._polyline).attr("points",e.toPoints(this.getFloorView().getMapView())),$$(this._polyline).attr("fill","none"),$$(this._polyline).attr("stroke-linejoin","round"),$$(this._polyline).attr("stroke-linecap","round"),this.getPolyline().get("icons")&&this._updateIcons())}},_getLinePoints:function(){var e=this.getPolyline().get("path"),t=PolylineView._toMVCArray(e);if(!t)return[];var i=[],r=this;t.forEach(function(e){i.push(r.getFloorView().getMapView().fromLatLng(e))});for(var o=[],n=0;n<i.length;n++)o.push(new core.maps.Point(i[n][0],i[n][1]));return o},static:{FORWARD_ARROW:"m-2,0 l-3,5 l10,-5 l-10,-5 l3,5z",BACKWARD_ARROW:"m2,0 l3,5 l-10,-5 l10,-5 l-3,5z",MIN_DIS_SYMBOLS:30,newInstance:function(e){return new PolylineView(e)},_toMVCArray:function(e){if(!e)return null;if(e instanceof core.maps.MVCArray)return e;if($$.isArray(e)){var t=new core.maps.MVCArray;return $$.each(e,function(e,i){i.bearing?t.push(i):t.push(new core.maps.LatLng(i.lat,i.lng))}),t}return null}}});module.exports=PolylineView;
},{"../../../../../locuslabs-core":47,"./polycurveView":602,"d3":604,"jquery":606}],604:[function(require,module,exports){
!function(){function n(n){return n&&(n.ownerDocument||n.document||n).documentElement}function t(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}function e(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function r(n){return null===n?NaN:+n}function i(n){return!isNaN(n)}function u(n){return{left:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)<0?r=u+1:i=u}return r},right:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)>0?i=u:r=u+1}return r}}}function o(n){return n.length}function a(n){for(var t=1;n*t%1;)t*=10;return t}function l(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function c(){this._=Object.create(null)}function f(n){return(n+="")===Mo||n[0]===xo?xo+n:n}function s(n){return(n+="")[0]===xo?n.slice(1):n}function h(n){return f(n)in this._}function p(n){return(n=f(n))in this._&&delete this._[n]}function g(){var n=[];for(var t in this._)n.push(s(t));return n}function v(){var n=0;for(var t in this._)++n;return n}function d(){for(var n in this._)return!1;return!0}function y(){this._=Object.create(null)}function m(n){return n}function M(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function x(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=bo.length;e<r;++e){var i=bo[e]+t;if(i in n)return i}}function b(){}function _(){}function w(n){function t(){for(var t,r=e,i=-1,u=r.length;++i<u;)(t=r[i].on)&&t.apply(this,arguments);return n}var e=[],r=new c;return t.on=function(t,i){var u,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,u=e.indexOf(o)).concat(e.slice(u+1)),r.remove(t)),i&&e.push(r.set(t,{on:i})),n)},t}function S(){ao.event.preventDefault()}function k(){for(var n,t=ao.event;n=t.sourceEvent;)t=n;return t}function N(n){for(var t=new _,e=0,r=arguments.length;++e<r;)t[arguments[e]]=w(t);return t.of=function(e,r){return function(i){try{var u=i.sourceEvent=ao.event;i.target=n,ao.event=i,t[i.type].apply(e,r)}finally{ao.event=u}}},t}function E(n){return wo(n,Eo),n}function A(n){return"function"==typeof n?n:function(){return So(n,this)}}function C(n){return"function"==typeof n?n:function(){return ko(n,this)}}function z(n,t){function e(){this.removeAttribute(n)}function r(){this.removeAttributeNS(n.space,n.local)}function i(){this.setAttribute(n,t)}function u(){this.setAttributeNS(n.space,n.local,t)}function o(){var e=t.apply(this,arguments);null==e?this.removeAttribute(n):this.setAttribute(n,e)}function a(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}return n=ao.ns.qualify(n),null==t?n.local?r:e:"function"==typeof t?n.local?a:o:n.local?u:i}function L(n){return n.trim().replace(/\s+/g," ")}function q(n){return new RegExp("(?:^|\\s+)"+ao.requote(n)+"(?:\\s+|$)","g")}function T(n){return(n+"").trim().split(/^|\s+/)}function R(n,t){function e(){for(var e=-1;++e<i;)n[e](this,t)}function r(){for(var e=-1,r=t.apply(this,arguments);++e<i;)n[e](this,r)}n=T(n).map(D);var i=n.length;return"function"==typeof t?r:e}function D(n){var t=q(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||e.setAttribute("class",L(i+" "+n))):e.setAttribute("class",L(i.replace(t," ")))}}function P(n,t,e){function r(){this.style.removeProperty(n)}function i(){this.style.setProperty(n,t,e)}function u(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}return null==t?r:"function"==typeof t?u:i}function j(n,t){function e(){delete this[n]}function r(){this[n]=t}function i(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}return null==t?e:"function"==typeof t?i:r}function U(n){function t(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function e(){return this.ownerDocument.createElementNS(n.space,n.local)}return"function"==typeof n?n:(n=ao.ns.qualify(n)).local?e:t}function F(){var n=this.parentNode;n&&n.removeChild(this)}function H(n){return{__data__:n}}function O(n){return function(){return No(this,n)}}function I(n){return arguments.length||(n=e),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function Y(n,t){for(var e=0,r=n.length;e<r;e++)for(var i,u=n[e],o=0,a=u.length;o<a;o++)(i=u[o])&&t(i,o,e);return n}function Z(n){return wo(n,Co),n}function V(n){var t,e;return function(r,i,u){var o,a=n[u].update,l=a.length;for(u!=e&&(e=u,t=0),i>=t&&(t=i+1);!(o=a[t])&&++t<l;);return o}}function X(n,t,e){function r(){var t=this[o];t&&(this.removeEventListener(n,t,t.$),delete this[o])}function i(){var i=l(t,co(arguments));r.call(this),this.addEventListener(n,this[o]=i,i.$=e),i._=t}function u(){var t,e=new RegExp("^__on([^.]+)"+ao.requote(n)+"$");for(var r in this)if(t=r.match(e)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}var o="__on"+n,a=n.indexOf("."),l=$;a>0&&(n=n.slice(0,a));var c=zo.get(n);return c&&(n=c,l=B),a?t?i:r:t?b:u}function $(n,t){return function(e){var r=ao.event;ao.event=e,t[0]=this.__data__;try{n.apply(this,t)}finally{ao.event=r}}}function B(n,t){var e=$(n,t);return function(n){var t=this,r=n.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||e.call(t,n)}}function W(e){var r=".dragsuppress-"+ ++qo,i="click"+r,u=ao.select(t(e)).on("touchmove"+r,S).on("dragstart"+r,S).on("selectstart"+r,S);if(null==Lo&&(Lo=!("onselectstart"in e)&&x(e.style,"userSelect")),Lo){var o=n(e).style,a=o[Lo];o[Lo]="none"}return function(n){if(u.on(r,null),Lo&&(o[Lo]=a),n){var t=function(){u.on(i,null)};u.on(i,function(){S(),t()},!0),setTimeout(t,0)}}}function J(n,e){e.changedTouches&&(e=e.changedTouches[0]);var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();if(To<0){var u=t(n);if(u.scrollX||u.scrollY){r=ao.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();To=!(o.f||o.e),r.remove()}}return To?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}function G(){return ao.event.changedTouches[0].identifier}function K(n){return n>0?1:n<0?-1:0}function Q(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nn(n){return n>1?0:n<-1?Po:Math.acos(n)}function tn(n){return n>1?Fo:n<-1?-Fo:Math.asin(n)}function en(n){return((n=Math.exp(n))-1/n)/2}function rn(n){return((n=Math.exp(n))+1/n)/2}function un(n){return((n=Math.exp(2*n))-1)/(n+1)}function on(n){return(n=Math.sin(n/2))*n}function an(){}function ln(n,t,e){return this instanceof ln?(this.h=+n,this.s=+t,void(this.l=+e)):arguments.length<2?n instanceof ln?new ln(n.h,n.s,n.l):_n(""+n,wn,ln):new ln(n,t,e)}function cn(n,t,e){function r(n){return n>360?n-=360:n<0&&(n+=360),n<60?u+(o-u)*n/60:n<180?o:n<240?u+(o-u)*(240-n)/60:u}function i(n){return Math.round(255*r(n))}var u,o;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:t>1?1:t,e=e<0?0:e>1?1:e,o=e<=.5?e*(1+t):e+t-e*t,u=2*e-o,new mn(i(n+120),i(n),i(n-120))}function fn(n,t,e){return this instanceof fn?(this.h=+n,this.c=+t,void(this.l=+e)):arguments.length<2?n instanceof fn?new fn(n.h,n.c,n.l):n instanceof hn?gn(n.l,n.a,n.b):gn((n=Sn((n=ao.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new fn(n,t,e)}function sn(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new hn(e,Math.cos(n*=Ho)*t,Math.sin(n)*t)}function hn(n,t,e){return this instanceof hn?(this.l=+n,this.a=+t,void(this.b=+e)):arguments.length<2?n instanceof hn?new hn(n.l,n.a,n.b):n instanceof fn?sn(n.h,n.c,n.l):Sn((n=mn(n)).r,n.g,n.b):new hn(n,t,e)}function pn(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return i=vn(i)*Go,r=vn(r)*Ko,u=vn(u)*Qo,new mn(yn(3.2404542*i-1.5371385*r-.4985314*u),yn(-.969266*i+1.8760108*r+.041556*u),yn(.0556434*i-.2040259*r+1.0572252*u))}function gn(n,t,e){return n>0?new fn(Math.atan2(e,t)*Oo,Math.sqrt(t*t+e*e),n):new fn(NaN,NaN,n)}function vn(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function dn(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function yn(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function mn(n,t,e){return this instanceof mn?(this.r=~~n,this.g=~~t,void(this.b=~~e)):arguments.length<2?n instanceof mn?new mn(n.r,n.g,n.b):_n(""+n,mn,cn):new mn(n,t,e)}function Mn(n){return new mn(n>>16,n>>8&255,255&n)}function xn(n){return Mn(n)+""}function bn(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function _n(n,t,e){var r,i,u,o=0,a=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(Nn(i[0]),Nn(i[1]),Nn(i[2]))}return(u=ea.get(n))?t(u.r,u.g,u.b):(null==n||"#"!==n.charAt(0)||isNaN(u=parseInt(n.slice(1),16))||(4===n.length?(o=(3840&u)>>4,o=o>>4|o,a=240&u,a=a>>4|a,l=15&u,l=l<<4|l):7===n.length&&(o=(16711680&u)>>16,a=(65280&u)>>8,l=255&u)),t(o,a,l))}function wn(n,t,e){var r,i,u=Math.min(n/=255,t/=255,e/=255),o=Math.max(n,t,e),a=o-u,l=(o+u)/2;return a?(i=l<.5?a/(o+u):a/(2-o-u),r=n==o?(t-e)/a+(t<e?6:0):t==o?(e-n)/a+2:(n-t)/a+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new ln(r,i,l)}function Sn(n,t,e){n=kn(n),t=kn(t),e=kn(e);var r=dn((.4124564*n+.3575761*t+.1804375*e)/Go),i=dn((.2126729*n+.7151522*t+.072175*e)/Ko),u=dn((.0193339*n+.119192*t+.9503041*e)/Qo);return hn(116*i-16,500*(r-i),200*(i-u))}function kn(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Nn(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function En(n){return"function"==typeof n?n:function(){return n}}function An(n){return function(t,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Cn(t,e,n,r)}}function Cn(n,t,e,r){function i(){var n,t=l.status;if(!t&&Ln(l)||t>=200&&t<300||304===t){try{n=e.call(u,l)}catch(n){return void o.error.call(u,n)}o.load.call(u,n)}else o.error.call(u,l)}var u={},o=ao.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(n)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(n){var t=ao.event;ao.event=n;try{o.progress.call(u,l)}finally{ao.event=t}},u.header=function(n,t){return n=(n+"").toLowerCase(),arguments.length<2?a[n]:(null==t?delete a[n]:a[n]=t+"",u)},u.mimeType=function(n){return arguments.length?(t=null==n?null:n+"",u):t},u.responseType=function(n){return arguments.length?(c=n,u):c},u.response=function(n){return e=n,u},["get","post"].forEach(function(n){u[n]=function(){return u.send.apply(u,[n].concat(co(arguments)))}}),u.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(e,n,!0),null==t||"accept"in a||(a.accept=t+",*/*"),l.setRequestHeader)for(var f in a)l.setRequestHeader(f,a[f]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=c&&(l.responseType=c),null!=i&&u.on("error",i).on("load",function(n){i(null,n)}),o.beforesend.call(u,l),l.send(null==r?null:r),u},u.abort=function(){return l.abort(),u},ao.rebind(u,o,"on"),null==r?u:u.get(zn(r))}function zn(n){return 1===n.length?function(t,e){n(null==t?e:null)}:n}function Ln(n){var t=n.responseType;return t&&"text"!==t?n.response:n.responseText}function qn(n,t,e){var r=arguments.length;r<2&&(t=0),r<3&&(e=Date.now());var i=e+t,u={c:n,t:i,n:null};return ia?ia.n=u:ra=u,ia=u,ua||(oa=clearTimeout(oa),ua=1,aa(Tn)),u}function Tn(){var n=Rn(),t=Dn()-n;t>24?(isFinite(t)&&(clearTimeout(oa),oa=setTimeout(Tn,t)),ua=0):(ua=1,aa(Tn))}function Rn(){for(var n=Date.now(),t=ra;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function Dn(){for(var n,t=ra,e=1/0;t;)t.c?(t.t<e&&(e=t.t),t=(n=t).n):t=n?n.n=t.n:ra=t.n;return ia=n,e}function Pn(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function jn(n,t){var e=Math.pow(10,3*mo(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function Un(n){var t=n.decimal,e=n.thousands,r=n.grouping,i=n.currency,u=r&&e?function(n,t){for(var i=n.length,u=[],o=0,a=r[0],l=0;i>0&&a>0&&(l+a+1>t&&(a=Math.max(1,t-l)),u.push(n.substring(i-=a,i+a)),!((l+=a+1)>t));)a=r[o=(o+1)%r.length];return u.reverse().join(e)}:m;return function(n){var e=ca.exec(n),r=e[1]||" ",o=e[2]||">",a=e[3]||"-",l=e[4]||"",c=e[5],f=+e[6],s=e[7],h=e[8],p=e[9],g=1,v="",d="",y=!1,m=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),p){case"n":s=!0,p="g";break;case"%":g=100,d="%",p="f";break;case"p":g=100,d="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+p.toLowerCase());case"c":m=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===l&&(v=i[0],d=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=fa.get(p)||Fn;var M=c&&s;return function(n){var e=d;if(y&&n%1)return"";var i=n<0||0===n&&1/n<0?(n=-n,"-"):"-"===a?"":a;if(g<0){var l=ao.formatPrefix(n,h);n=l.scale(n),e=l.symbol+d}else n*=g;n=p(n,h);var x,b,_=n.lastIndexOf(".");if(_<0){var w=m?n.lastIndexOf("e"):-1;w<0?(x=n,b=""):(x=n.substring(0,w),b=n.substring(w))}else x=n.substring(0,_),b=t+n.substring(_+1);!c&&s&&(x=u(x,1/0));var S=v.length+x.length+b.length+(M?0:i.length),k=S<f?new Array(S=f-S+1).join(r):"";return M&&(x=u(k+x,k.length?f-b.length:1/0)),i+=v,n=x+b,("<"===o?i+n+k:">"===o?k+i+n:"^"===o?k.substring(0,S>>=1)+i+n+k.substring(S):i+(M?n:k+n))+e}}}function Fn(n){return n+""}function Hn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function On(n,t,e){function r(t){var e=n(t),r=u(e,1);return t-e<r-t?e:r}function i(e){return t(e=n(new ha(e-1)),1),e}function u(n,e){return t(n=new ha(+n),e),n}function o(n,r,u){var o=i(n),a=[];if(u>1)for(;o<r;)e(o)%u||a.push(new Date(+o)),t(o,1);else for(;o<r;)a.push(new Date(+o)),t(o,1);return a}function a(n,t,e){try{ha=Hn;var r=new Hn;return r._=n,o(r,t,e)}finally{ha=Date}}n.floor=n,n.round=r,n.ceil=i,n.offset=u,n.range=o;var l=n.utc=In(n);return l.floor=l,l.round=In(r),l.ceil=In(i),l.offset=In(u),l.range=a,n}function In(n){return function(t,e){try{ha=Hn;var r=new Hn;return r._=t,n(r,e)._}finally{ha=Date}}}function Yn(n){function t(n){function t(t){for(var e,i,u,o=[],a=-1,l=0;++a<r;)37===n.charCodeAt(a)&&(o.push(n.slice(l,a)),null!=(i=ga[e=n.charAt(++a)])&&(e=n.charAt(++a)),(u=A[e])&&(e=u(t,null==i?"e"===e?" ":"0":i)),o.push(e),l=a+1);return o.push(n.slice(l,a)),o.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=e(r,n,t,0);if(i!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var u=null!=r.Z&&ha!==Hn,o=new(u?Hn:ha);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),u?o._:o},t.toString=function(){return n},t}function e(n,t,e,r){for(var i,u,o,a=0,l=t.length,c=e.length;a<l;){if(r>=c)return-1;if(i=t.charCodeAt(a++),37===i){if(o=t.charAt(a++),u=C[o in ga?t.charAt(a++):o],!u||(r=u(n,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){_.lastIndex=0;var r=_.exec(t.slice(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){x.lastIndex=0;var r=x.exec(t.slice(e));return r?(n.w=b.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){N.lastIndex=0;var r=N.exec(t.slice(e));return r?(n.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,e){S.lastIndex=0;var r=S.exec(t.slice(e));return r?(n.m=k.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,r){return e(n,A.c.toString(),t,r)}function l(n,t,r){return e(n,A.x.toString(),t,r)}function c(n,t,r){return e(n,A.X.toString(),t,r)}function f(n,t,e){var r=M.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var s=n.dateTime,h=n.date,p=n.time,g=n.periods,v=n.days,d=n.shortDays,y=n.months,m=n.shortMonths;t.utc=function(n){function e(n){try{ha=Hn;var t=new ha;return t._=n,r(t)}finally{ha=Date}}var r=t(n);return e.parse=function(n){try{ha=Hn;var t=r.parse(n);return t&&t._}finally{ha=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=ct;var M=ao.map(),x=Vn(v),b=Xn(v),_=Vn(d),w=Xn(d),S=Vn(y),k=Xn(y),N=Vn(m),E=Xn(m);g.forEach(function(n,t){M.set(n.toLowerCase(),t)});var A={a:function(n){return d[n.getDay()]},A:function(n){return v[n.getDay()]},b:function(n){return m[n.getMonth()]},B:function(n){return y[n.getMonth()]},c:t(s),d:function(n,t){return Zn(n.getDate(),t,2)},e:function(n,t){return Zn(n.getDate(),t,2)},H:function(n,t){return Zn(n.getHours(),t,2)},I:function(n,t){return Zn(n.getHours()%12||12,t,2)},j:function(n,t){return Zn(1+sa.dayOfYear(n),t,3)},L:function(n,t){return Zn(n.getMilliseconds(),t,3)},m:function(n,t){return Zn(n.getMonth()+1,t,2)},M:function(n,t){return Zn(n.getMinutes(),t,2)},p:function(n){return g[+(n.getHours()>=12)]},S:function(n,t){return Zn(n.getSeconds(),t,2)},U:function(n,t){return Zn(sa.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return Zn(sa.mondayOfYear(n),t,2)},x:t(h),X:t(p),y:function(n,t){return Zn(n.getFullYear()%100,t,2)},Y:function(n,t){return Zn(n.getFullYear()%1e4,t,4)},Z:at,"%":function(){return"%"}},C={a:r,A:i,b:u,B:o,c:a,d:tt,e:tt,H:rt,I:rt,j:et,L:ot,m:nt,M:it,p:f,S:ut,U:Bn,w:$n,W:Wn,x:l,X:c,y:Gn,Y:Jn,Z:Kn,"%":lt};return t}function Zn(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(t)+i:i)}function Vn(n){return new RegExp("^(?:"+n.map(ao.requote).join("|")+")","i")}function Xn(n){for(var t=new c,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function $n(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function Bn(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function Wn(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function Jn(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function Gn(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.y=Qn(+r[0]),e+r[0].length):-1}function Kn(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function Qn(n){return n+(n>68?1900:2e3)}function nt(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function tt(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function et(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function rt(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function it(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function ut(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function ot(n,t,e){va.lastIndex=0;var r=va.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function at(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=mo(t)/60|0,i=mo(t)%60;return e+Zn(r,"0",2)+Zn(i,"0",2)}function lt(n,t,e){da.lastIndex=0;var r=da.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function ct(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function ft(){}function st(n,t,e){var r=e.s=n+t,i=r-n,u=r-i;e.t=n-u+(t-i)}function ht(n,t){n&&xa.hasOwnProperty(n.type)&&xa[n.type](n,t)}function pt(n,t,e){var r,i=-1,u=n.length-e;for(t.lineStart();++i<u;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function gt(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)pt(n[e],t,1);t.polygonEnd()}function vt(){function n(n,t){n*=Ho,t=t*Ho/2+Po/4;var e=n-r,o=e>=0?1:-1,a=o*e,l=Math.cos(t),c=Math.sin(t),f=u*c,s=i*l+f*Math.cos(a),h=f*o*Math.sin(a);_a.add(Math.atan2(h,s)),r=n,i=l,u=c}var t,e,r,i,u;wa.point=function(o,a){wa.point=n,r=(t=o)*Ho,i=Math.cos(a=(e=a)*Ho/2+Po/4),u=Math.sin(a)},wa.lineEnd=function(){n(t,e)}}function dt(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function yt(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function mt(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Mt(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function xt(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function bt(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function _t(n){return[Math.atan2(n[1],n[0]),tn(n[2])]}function wt(n,t){return mo(n[0]-t[0])<Ro&&mo(n[1]-t[1])<Ro}function St(n,t){n*=Ho;var e=Math.cos(t*=Ho);kt(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function kt(n,t,e){++Sa,Na+=(n-Na)/Sa,Ea+=(t-Ea)/Sa,Aa+=(e-Aa)/Sa}function Nt(){function n(n,i){n*=Ho;var u=Math.cos(i*=Ho),o=u*Math.cos(n),a=u*Math.sin(n),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-r*a)*c+(c=r*o-t*l)*c+(c=t*a-e*o)*c),t*o+e*a+r*l);ka+=c,Ca+=c*(t+(t=o)),za+=c*(e+(e=a)),La+=c*(r+(r=l)),kt(t,e,r)}var t,e,r;Da.point=function(i,u){i*=Ho;var o=Math.cos(u*=Ho);t=o*Math.cos(i),e=o*Math.sin(i),r=Math.sin(u),Da.point=n,kt(t,e,r)}}function Et(){Da.point=St}function At(){function n(n,t){n*=Ho;var e=Math.cos(t*=Ho),o=e*Math.cos(n),a=e*Math.sin(n),l=Math.sin(t),c=i*l-u*a,f=u*o-r*l,s=r*a-i*o,h=Math.sqrt(c*c+f*f+s*s),p=r*o+i*a+u*l,g=h&&-nn(p)/h,v=Math.atan2(h,p);qa+=g*c,Ta+=g*f,Ra+=g*s,ka+=v,Ca+=v*(r+(r=o)),za+=v*(i+(i=a)),La+=v*(u+(u=l)),kt(r,i,u)}var t,e,r,i,u;Da.point=function(o,a){t=o,e=a,Da.point=n,o*=Ho;var l=Math.cos(a*=Ho);r=l*Math.cos(o),i=l*Math.sin(o),u=Math.sin(a),kt(r,i,u)},Da.lineEnd=function(){n(t,e),Da.lineEnd=Et,Da.point=St}}function Ct(n,t){function e(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),e}function zt(){return!0}function Lt(n,t,e,r,i){var u=[],o=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(wt(e,r)){i.lineStart();for(var a=0;a<t;++a)i.point((e=n[a])[0],e[1]);return void i.lineEnd()}var l=new Tt(e,n,null,!0),c=new Tt(e,null,l,!1);l.o=c,u.push(l),o.push(c),l=new Tt(r,n,null,!1),c=new Tt(r,null,l,!0),l.o=c,u.push(l),o.push(c)}}),o.sort(t),qt(u),qt(o),u.length){for(var a=0,l=e,c=o.length;a<c;++a)o[a].e=l=!l;for(var f,s,h=u[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(var a=0,c=f.length;a<c;++a)i.point((s=f[a])[0],s[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g){f=p.p.z;for(var a=f.length-1;a>=0;--a)i.point((s=f[a])[0],s[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,f=p.z,g=!g}while(!p.v);i.lineEnd()}}}function qt(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Tt(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Rt(n,t,e,r){return function(i,u){function o(t,e){var r=i(t,e);n(t=r[0],e=r[1])&&u.point(t,e)}function a(n,t){var e=i(n,t);d.point(e[0],e[1])}function l(){m.point=a,d.lineStart()}function c(){m.point=o,d.lineEnd()}function f(n,t){v.push([n,t]);var e=i(n,t);x.point(e[0],e[1])}function s(){x.lineStart(),v=[]}function h(){f(v[0][0],v[0][1]),x.lineEnd();var n,t=x.clean(),e=M.buffer(),r=e.length;if(v.pop(),g.push(v),v=null,r)if(1&t){n=e[0];var i,r=n.length-1,o=-1;if(r>0){for(b||(u.polygonStart(),b=!0),u.lineStart();++o<r;)u.point((i=n[o])[0],i[1]);u.lineEnd()}}else r>1&&2&t&&e.push(e.pop().concat(e.shift())),p.push(e.filter(Dt))}var p,g,v,d=t(u),y=i.invert(r[0],r[1]),m={point:o,lineStart:l,lineEnd:c,polygonStart:function(){m.point=f,m.lineStart=s,m.lineEnd=h,p=[],g=[]},polygonEnd:function(){m.point=o,m.lineStart=l,m.lineEnd=c,p=ao.merge(p);var n=Ot(y,g);p.length?(b||(u.polygonStart(),b=!0),Lt(p,jt,n,e,u)):n&&(b||(u.polygonStart(),b=!0),u.lineStart(),e(null,null,1,u),u.lineEnd()),b&&(u.polygonEnd(),b=!1),p=g=null},sphere:function(){u.polygonStart(),u.lineStart(),e(null,null,1,u),u.lineEnd(),u.polygonEnd()}},M=Pt(),x=t(M),b=!1;return m}}function Dt(n){return n.length>1}function Pt(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:b,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function jt(n,t){return((n=n.x)[0]<0?n[1]-Fo-Ro:Fo-n[1])-((t=t.x)[0]<0?t[1]-Fo-Ro:Fo-t[1])}function Ut(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(u,o){var a=u>0?Po:-Po,l=mo(u-e);mo(l-Po)<Ro?(n.point(e,r=(r+o)/2>0?Fo:-Fo),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),n.point(u,r),t=0):i!==a&&l>=Po&&(mo(e-i)<Ro&&(e-=i*Ro),mo(u-a)<Ro&&(u-=a*Ro),r=Ft(e,r,u,o),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(a,r),t=0),n.point(e=u,r=o),i=a},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}}function Ft(n,t,e,r){var i,u,o=Math.sin(n-e);return mo(o)>Ro?Math.atan((Math.sin(t)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(t))*Math.sin(n))/(i*u*o)):(t+r)/2}function Ht(n,t,e,r){var i;if(null==n)i=e*Fo,r.point(-Po,i),r.point(0,i),r.point(Po,i),r.point(Po,0),r.point(Po,-i),r.point(0,-i),r.point(-Po,-i),r.point(-Po,0),r.point(-Po,i);else if(mo(n[0]-t[0])>Ro){var u=n[0]<t[0]?Po:-Po;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])}function Ot(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,o=0;_a.reset();for(var a=0,l=t.length;a<l;++a){var c=t[a],f=c.length;if(f)for(var s=c[0],h=s[0],p=s[1]/2+Po/4,g=Math.sin(p),v=Math.cos(p),d=1;;){d===f&&(d=0),n=c[d];var y=n[0],m=n[1]/2+Po/4,M=Math.sin(m),x=Math.cos(m),b=y-h,_=b>=0?1:-1,w=_*b,S=w>Po,k=g*M;if(_a.add(Math.atan2(k*_*Math.sin(w),v*x+k*Math.cos(w))),u+=S?b+_*jo:b,S^h>=e^y>=e){var N=mt(dt(s),dt(n));bt(N);var E=mt(i,N);bt(E);var A=(S^b>=0?-1:1)*tn(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(o+=S^b>=0?1:-1)}if(!d++)break;h=y,g=M,v=x,s=n}}return(u<-Ro||u<Ro&&_a<0)^1&o}function It(n){function t(n,t){return Math.cos(n)*Math.cos(t)>u}function e(n){var e,u,l,c,f;return{lineStart:function(){c=l=!1,f=1},point:function(s,h){var p,g=[s,h],v=t(s,h),d=o?v?0:i(s,h):v?i(s+(s<0?Po:-Po),h):0;if(!e&&(c=l=v)&&n.lineStart(),v!==l&&(p=r(e,g),(wt(e,p)||wt(g,p))&&(g[0]+=Ro,g[1]+=Ro,v=t(g[0],g[1]))),v!==l)f=0,v?(n.lineStart(),p=r(g,e),n.point(p[0],p[1])):(p=r(e,g),n.point(p[0],p[1]),n.lineEnd()),e=p;else if(a&&e&&o^v){var y;d&u||!(y=r(g,e,!0))||(f=0,o?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!v||e&&wt(e,g)||n.point(g[0],g[1]),e=g,l=v,u=d},lineEnd:function(){l&&n.lineEnd(),e=null},clean:function(){return f|(c&&l)<<1}}}function r(n,t,e){var r=dt(n),i=dt(t),o=[1,0,0],a=mt(r,i),l=yt(a,a),c=a[0],f=l-c*c;if(!f)return!e&&n;var s=u*l/f,h=-u*c/f,p=mt(o,a),g=xt(o,s),v=xt(a,h);Mt(g,v);var d=p,y=yt(g,d),m=yt(d,d),M=y*y-m*(yt(g,g)-1);if(!(M<0)){var x=Math.sqrt(M),b=xt(d,(-y-x)/m);if(Mt(b,g),b=_t(b),!e)return b;var _,w=n[0],S=t[0],k=n[1],N=t[1];S<w&&(_=w,w=S,S=_);var E=S-w,A=mo(E-Po)<Ro,C=A||E<Ro;if(!A&&N<k&&(_=k,k=N,N=_),C?A?k+N>0^b[1]<(mo(b[0]-w)<Ro?k:N):k<=b[1]&&b[1]<=N:E>Po^(w<=b[0]&&b[0]<=S)){var z=xt(d,(-y+x)/m);return Mt(z,g),[b,_t(z)]}}}function i(t,e){var r=o?n:Po-n,i=0;return t<-r?i|=1:t>r&&(i|=2),e<-r?i|=4:e>r&&(i|=8),i}var u=Math.cos(n),o=u>0,a=mo(u)>Ro,l=ve(n,6*Ho);return Rt(t,e,l,o?[0,-n]:[-Po,n-Po])}function Yt(n,t,e,r){return function(i){var u,o=i.a,a=i.b,l=o.x,c=o.y,f=a.x,s=a.y,h=0,p=1,g=f-l,v=s-c;if(u=n-l,g||!(u>0)){if(u/=g,g<0){if(u<h)return;u<p&&(p=u)}else if(g>0){if(u>p)return;u>h&&(h=u)}if(u=e-l,g||!(u<0)){if(u/=g,g<0){if(u>p)return;u>h&&(h=u)}else if(g>0){if(u<h)return;u<p&&(p=u)}if(u=t-c,v||!(u>0)){if(u/=v,v<0){if(u<h)return;u<p&&(p=u)}else if(v>0){if(u>p)return;u>h&&(h=u)}if(u=r-c,v||!(u<0)){if(u/=v,v<0){if(u>p)return;u>h&&(h=u)}else if(v>0){if(u<h)return;u<p&&(p=u)}return h>0&&(i.a={x:l+h*g,y:c+h*v}),p<1&&(i.b={x:l+p*g,y:c+p*v}),i}}}}}}function Zt(n,t,e,r){function i(r,i){return mo(r[0]-n)<Ro?i>0?0:3:mo(r[0]-e)<Ro?i>0?2:1:mo(r[1]-t)<Ro?i>0?1:0:i>0?3:2}function u(n,t){return o(n.x,t.x)}function o(n,t){var e=i(n,1),r=i(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(a){function l(n){for(var t=0,e=d.length,r=n[1],i=0;i<e;++i)for(var u,o=1,a=d[i],l=a.length,c=a[0];o<l;++o)u=a[o],c[1]<=r?u[1]>r&&Q(c,u,n)>0&&++t:u[1]<=r&&Q(c,u,n)<0&&--t,c=u;return 0!==t}function c(u,a,l,c){var f=0,s=0;if(null==u||(f=i(u,l))!==(s=i(a,l))||o(u,a)<0^l>0){do c.point(0===f||3===f?n:e,f>1?r:t);while((f=(f+l+4)%4)!==s)}else c.point(a[0],a[1])}function f(i,u){return n<=i&&i<=e&&t<=u&&u<=r}function s(n,t){f(n,t)&&a.point(n,t)}function h(){C.point=g,d&&d.push(y=[]),S=!0,w=!1,b=_=NaN}function p(){v&&(g(m,M),x&&w&&E.rejoin(),v.push(E.buffer())),C.point=s,w&&a.lineEnd()}function g(n,t){n=Math.max(-ja,Math.min(ja,n)),t=Math.max(-ja,Math.min(ja,t));var e=f(n,t);if(d&&y.push([n,t]),S)m=n,M=t,x=e,S=!1,e&&(a.lineStart(),a.point(n,t));else if(e&&w)a.point(n,t);else{var r={a:{x:b,y:_},b:{x:n,y:t}};A(r)?(w||(a.lineStart(),a.point(r.a.x,r.a.y)),a.point(r.b.x,r.b.y),e||a.lineEnd(),k=!1):e&&(a.lineStart(),a.point(n,t),k=!1)}b=n,_=t,w=e}var v,d,y,m,M,x,b,_,w,S,k,N=a,E=Pt(),A=Yt(n,t,e,r),C={point:s,lineStart:h,lineEnd:p,polygonStart:function(){a=E,v=[],d=[],k=!0},polygonEnd:function(){a=N,v=ao.merge(v);var t=l([n,r]),e=k&&t,i=v.length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),c(null,null,1,a),a.lineEnd()),i&&Lt(v,u,t,c,a),a.polygonEnd()),v=d=y=null}};return C}}function Vt(n){var t=0,e=Po/3,r=ae(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*Po/180,e=n[1]*Po/180):[t/Po*180,e/Po*180]},i}function Xt(n,t){function e(n,t){var e=Math.sqrt(u-2*i*Math.sin(t))/i;return[e*Math.sin(n*=i),o-e*Math.cos(n)]}var r=Math.sin(n),i=(r+Math.sin(t))/2,u=1+r*(2*i-r),o=Math.sqrt(u)/i;return e.invert=function(n,t){var e=o-t;return[Math.atan2(n,e)/i,tn((u-(n*n+e*e)*i*i)/(2*i))]},e}function $t(){function n(n,t){Fa+=i*n-r*t,r=n,i=t}var t,e,r,i;Za.point=function(u,o){Za.point=n,t=r=u,e=i=o},Za.lineEnd=function(){n(t,e)}}function Bt(n,t){n<Ha&&(Ha=n),n>Ia&&(Ia=n),t<Oa&&(Oa=t),t>Ya&&(Ya=t)}function Wt(){function n(n,t){o.push("M",n,",",t,u)}function t(n,t){o.push("M",n,",",t),a.point=e}function e(n,t){o.push("L",n,",",t)}function r(){a.point=n}function i(){o.push("Z")}var u=Jt(4.5),o=[],a={point:n,lineStart:function(){a.point=t},lineEnd:r,polygonStart:function(){a.lineEnd=i},polygonEnd:function(){a.lineEnd=r,a.point=n},pointRadius:function(n){return u=Jt(n),a},result:function(){if(o.length){var n=o.join("");return o=[],n}}};return a}function Jt(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Gt(n,t){Na+=n,Ea+=t,++Aa}function Kt(){function n(n,r){var i=n-t,u=r-e,o=Math.sqrt(i*i+u*u);Ca+=o*(t+n)/2,za+=o*(e+r)/2,La+=o,Gt(t=n,e=r)}var t,e;Xa.point=function(r,i){Xa.point=n,Gt(t=r,e=i)}}function Qt(){Xa.point=Gt}function ne(){function n(n,t){var e=n-r,u=t-i,o=Math.sqrt(e*e+u*u);Ca+=o*(r+n)/2,za+=o*(i+t)/2,La+=o,o=i*n-r*t,qa+=o*(r+n),Ta+=o*(i+t),Ra+=3*o,Gt(r=n,i=t)}var t,e,r,i;Xa.point=function(u,o){Xa.point=n,Gt(t=r=u,e=i=o)},Xa.lineEnd=function(){n(t,e)}}function te(n){function t(t,e){n.moveTo(t+o,e),n.arc(t,e,o,0,jo)}function e(t,e){n.moveTo(t,e),a.point=r}function r(t,e){n.lineTo(t,e)}function i(){a.point=t}function u(){n.closePath()}var o=4.5,a={point:t,lineStart:function(){a.point=e},lineEnd:i,polygonStart:function(){a.lineEnd=u},polygonEnd:function(){a.lineEnd=i,a.point=t},pointRadius:function(n){return o=n,a},result:b};return a}function ee(n){function t(n){return(a?r:e)(n)}function e(t){return ue(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})}function r(t){function e(e,r){e=n(e,r),t.point(e[0],e[1])}function r(){M=NaN,S.point=u,t.lineStart()}function u(e,r){var u=dt([e,r]),o=n(e,r);i(M,x,m,b,_,w,M=o[0],x=o[1],m=e,b=u[0],_=u[1],w=u[2],a,t),t.point(M,x)}function o(){S.point=e,t.lineEnd()}function l(){r(),S.point=c,S.lineEnd=f}function c(n,t){
u(s=n,h=t),p=M,g=x,v=b,d=_,y=w,S.point=u}function f(){i(M,x,m,b,_,w,p,g,s,v,d,y,a,t),S.lineEnd=o,o()}var s,h,p,g,v,d,y,m,M,x,b,_,w,S={point:e,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=l},polygonEnd:function(){t.polygonEnd(),S.lineStart=r}};return S}function i(t,e,r,a,l,c,f,s,h,p,g,v,d,y){var m=f-t,M=s-e,x=m*m+M*M;if(x>4*u&&d--){var b=a+p,_=l+g,w=c+v,S=Math.sqrt(b*b+_*_+w*w),k=Math.asin(w/=S),N=mo(mo(w)-1)<Ro||mo(r-h)<Ro?(r+h)/2:Math.atan2(_,b),E=n(N,k),A=E[0],C=E[1],z=A-t,L=C-e,q=M*z-m*L;(q*q/x>u||mo((m*z+M*L)/x-.5)>.3||a*p+l*g+c*v<o)&&(i(t,e,r,a,l,c,A,C,N,b/=S,_/=S,w,d,y),y.point(A,C),i(A,C,N,b,_,w,f,s,h,p,g,v,d,y))}}var u=.5,o=Math.cos(30*Ho),a=16;return t.precision=function(n){return arguments.length?(a=(u=n*n)>0&&16,t):Math.sqrt(u)},t}function re(n){var t=ee(function(t,e){return n([t*Oo,e*Oo])});return function(n){return le(t(n))}}function ie(n){this.stream=n}function ue(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function oe(n){return ae(function(){return n})()}function ae(n){function t(n){return n=a(n[0]*Ho,n[1]*Ho),[n[0]*h+l,c-n[1]*h]}function e(n){return n=a.invert((n[0]-l)/h,(c-n[1])/h),n&&[n[0]*Oo,n[1]*Oo]}function r(){a=Ct(o=se(y,M,x),u);var n=u(v,d);return l=p-n[0]*h,c=g+n[1]*h,i()}function i(){return f&&(f.valid=!1,f=null),t}var u,o,a,l,c,f,s=ee(function(n,t){return n=u(n,t),[n[0]*h+l,c-n[1]*h]}),h=150,p=480,g=250,v=0,d=0,y=0,M=0,x=0,b=Pa,_=m,w=null,S=null;return t.stream=function(n){return f&&(f.valid=!1),f=le(b(o,s(_(n)))),f.valid=!0,f},t.clipAngle=function(n){return arguments.length?(b=null==n?(w=n,Pa):It((w=+n)*Ho),i()):w},t.clipExtent=function(n){return arguments.length?(S=n,_=n?Zt(n[0][0],n[0][1],n[1][0],n[1][1]):m,i()):S},t.scale=function(n){return arguments.length?(h=+n,r()):h},t.translate=function(n){return arguments.length?(p=+n[0],g=+n[1],r()):[p,g]},t.center=function(n){return arguments.length?(v=n[0]%360*Ho,d=n[1]%360*Ho,r()):[v*Oo,d*Oo]},t.rotate=function(n){return arguments.length?(y=n[0]%360*Ho,M=n[1]%360*Ho,x=n.length>2?n[2]%360*Ho:0,r()):[y*Oo,M*Oo,x*Oo]},ao.rebind(t,s,"precision"),function(){return u=n.apply(this,arguments),t.invert=u.invert&&e,r()}}function le(n){return ue(n,function(t,e){n.point(t*Ho,e*Ho)})}function ce(n,t){return[n,t]}function fe(n,t){return[n>Po?n-jo:n<-Po?n+jo:n,t]}function se(n,t,e){return n?t||e?Ct(pe(n),ge(t,e)):pe(n):t||e?ge(t,e):fe}function he(n){return function(t,e){return t+=n,[t>Po?t-jo:t<-Po?t+jo:t,e]}}function pe(n){var t=he(n);return t.invert=he(-n),t}function ge(n,t){function e(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),f=c*r+a*i;return[Math.atan2(l*u-f*o,a*r-c*i),tn(f*u+l*o)]}var r=Math.cos(n),i=Math.sin(n),u=Math.cos(t),o=Math.sin(t);return e.invert=function(n,t){var e=Math.cos(t),a=Math.cos(n)*e,l=Math.sin(n)*e,c=Math.sin(t),f=c*u-l*o;return[Math.atan2(l*u+c*o,a*r+f*i),tn(f*r-a*i)]},e}function ve(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,o,a){var l=o*t;null!=i?(i=de(e,i),u=de(e,u),(o>0?i<u:i>u)&&(i+=o*jo)):(i=n+o*jo,u=n-.5*l);for(var c,f=i;o>0?f>u:f<u;f-=l)a.point((c=_t([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function de(n,t){var e=dt(t);e[0]-=n,bt(e);var r=nn(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-Ro)%(2*Math.PI)}function ye(n,t,e){var r=ao.range(n,t-Ro,e).concat(t);return function(n){return r.map(function(t){return[n,t]})}}function me(n,t,e){var r=ao.range(n,t-Ro,e).concat(t);return function(n){return r.map(function(t){return[t,n]})}}function Me(n){return n.source}function xe(n){return n.target}function be(n,t,e,r){var i=Math.cos(t),u=Math.sin(t),o=Math.cos(r),a=Math.sin(r),l=i*Math.cos(n),c=i*Math.sin(n),f=o*Math.cos(e),s=o*Math.sin(e),h=2*Math.asin(Math.sqrt(on(r-t)+i*o*on(e-n))),p=1/Math.sin(h),g=h?function(n){var t=Math.sin(n*=h)*p,e=Math.sin(h-n)*p,r=e*l+t*f,i=e*c+t*s,o=e*u+t*a;return[Math.atan2(i,r)*Oo,Math.atan2(o,Math.sqrt(r*r+i*i))*Oo]}:function(){return[n*Oo,t*Oo]};return g.distance=h,g}function _e(){function n(n,i){var u=Math.sin(i*=Ho),o=Math.cos(i),a=mo((n*=Ho)-t),l=Math.cos(a);$a+=Math.atan2(Math.sqrt((a=o*Math.sin(a))*a+(a=r*u-e*o*l)*a),e*u+r*o*l),t=n,e=u,r=o}var t,e,r;Ba.point=function(i,u){t=i*Ho,e=Math.sin(u*=Ho),r=Math.cos(u),Ba.point=n},Ba.lineEnd=function(){Ba.point=Ba.lineEnd=b}}function we(n,t){function e(t,e){var r=Math.cos(t),i=Math.cos(e),u=n(r*i);return[u*i*Math.sin(t),u*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i),o=Math.cos(i);return[Math.atan2(n*u,r*o),Math.asin(r&&e*u/r)]},e}function Se(n,t){function e(n,t){o>0?t<-Fo+Ro&&(t=-Fo+Ro):t>Fo-Ro&&(t=Fo-Ro);var e=o/Math.pow(i(t),u);return[e*Math.sin(u*n),o-e*Math.cos(u*n)]}var r=Math.cos(n),i=function(n){return Math.tan(Po/4+n/2)},u=n===t?Math.sin(n):Math.log(r/Math.cos(t))/Math.log(i(t)/i(n)),o=r*Math.pow(i(n),u)/u;return u?(e.invert=function(n,t){var e=o-t,r=K(u)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/u,2*Math.atan(Math.pow(o/r,1/u))-Fo]},e):Ne}function ke(n,t){function e(n,t){var e=u-t;return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}var r=Math.cos(n),i=n===t?Math.sin(n):(r-Math.cos(t))/(t-n),u=r/i+n;return mo(i)<Ro?ce:(e.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/i,u-K(i)*Math.sqrt(n*n+e*e)]},e)}function Ne(n,t){return[n,Math.log(Math.tan(Po/4+t/2))]}function Ee(n){var t,e=oe(n),r=e.scale,i=e.translate,u=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=i.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var o=u.apply(e,arguments);if(o===e){if(t=null==n){var a=Po*r(),l=i();u([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else t&&(o=null);return o},e.clipExtent(null)}function Ae(n,t){return[Math.log(Math.tan(Po/4+t/2)),-n]}function Ce(n){return n[0]}function ze(n){return n[1]}function Le(n){for(var t=n.length,e=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Q(n[e[r-2]],n[e[r-1]],n[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function qe(n,t){return n[0]-t[0]||n[1]-t[1]}function Te(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function Re(n,t,e,r){var i=n[0],u=e[0],o=t[0]-i,a=r[0]-u,l=n[1],c=e[1],f=t[1]-l,s=r[1]-c,h=(a*(l-c)-s*(i-u))/(s*o-a*f);return[i+h*o,l+h*f]}function De(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}function Pe(){rr(this),this.edge=this.site=this.circle=null}function je(n){var t=ol.pop()||new Pe;return t.site=n,t}function Ue(n){Be(n),rl.remove(n),ol.push(n),rr(n)}function Fe(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,o=n.N,a=[n];Ue(n);for(var l=u;l.circle&&mo(e-l.circle.x)<Ro&&mo(r-l.circle.cy)<Ro;)u=l.P,a.unshift(l),Ue(l),l=u;a.unshift(l),Be(l);for(var c=o;c.circle&&mo(e-c.circle.x)<Ro&&mo(r-c.circle.cy)<Ro;)o=c.N,a.push(c),Ue(c),c=o;a.push(c),Be(c);var f,s=a.length;for(f=1;f<s;++f)c=a[f],l=a[f-1],nr(c.edge,l.site,c.site,i);l=a[0],c=a[s-1],c.edge=Ke(l.site,c.site,null,i),$e(l),$e(c)}function He(n){for(var t,e,r,i,u=n.x,o=n.y,a=rl._;a;)if(r=Oe(a,o)-u,r>Ro)a=a.L;else{if(i=u-Ie(a,o),!(i>Ro)){r>-Ro?(t=a.P,e=a):i>-Ro?(t=a,e=a.N):t=e=a;break}if(!a.R){t=a;break}a=a.R}var l=je(n);if(rl.insert(t,l),t||e){if(t===e)return Be(t),e=je(t.site),rl.insert(l,e),l.edge=e.edge=Ke(t.site,l.site),$e(t),void $e(e);if(!e)return void(l.edge=Ke(t.site,l.site));Be(t),Be(e);var c=t.site,f=c.x,s=c.y,h=n.x-f,p=n.y-s,g=e.site,v=g.x-f,d=g.y-s,y=2*(h*d-p*v),m=h*h+p*p,M=v*v+d*d,x={x:(d*m-p*M)/y+f,y:(h*M-v*m)/y+s};nr(e.edge,c,g,x),l.edge=Ke(c,n,null,x),e.edge=Ke(n,g,null,x),$e(t),$e(e)}}function Oe(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var o=n.P;if(!o)return-(1/0);e=o.site;var a=e.x,l=e.y,c=l-t;if(!c)return a;var f=a-r,s=1/u-1/c,h=f/c;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*c)-l+c/2+i-u/2)))/s+r:(r+a)/2}function Ie(n,t){var e=n.N;if(e)return Oe(e,t);var r=n.site;return r.y===t?r.x:1/0}function Ye(n){this.site=n,this.edges=[]}function Ze(n){for(var t,e,r,i,u,o,a,l,c,f,s=n[0][0],h=n[1][0],p=n[0][1],g=n[1][1],v=el,d=v.length;d--;)if(u=v[d],u&&u.prepare())for(a=u.edges,l=a.length,o=0;o<l;)f=a[o].end(),r=f.x,i=f.y,c=a[++o%l].start(),t=c.x,e=c.y,(mo(r-t)>Ro||mo(i-e)>Ro)&&(a.splice(o,0,new tr(Qe(u.site,f,mo(r-s)<Ro&&g-i>Ro?{x:s,y:mo(t-s)<Ro?e:g}:mo(i-g)<Ro&&h-r>Ro?{x:mo(e-g)<Ro?t:h,y:g}:mo(r-h)<Ro&&i-p>Ro?{x:h,y:mo(t-h)<Ro?e:p}:mo(i-p)<Ro&&r-s>Ro?{x:mo(e-p)<Ro?t:s,y:p}:null),u.site,null)),++l)}function Ve(n,t){return t.angle-n.angle}function Xe(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function $e(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,u=e.site;if(r!==u){var o=i.x,a=i.y,l=r.x-o,c=r.y-a,f=u.x-o,s=u.y-a,h=2*(l*s-c*f);if(!(h>=-Do)){var p=l*l+c*c,g=f*f+s*s,v=(s*p-c*g)/h,d=(l*g-f*p)/h,s=d+a,y=al.pop()||new Xe;y.arc=n,y.site=i,y.x=v+o,y.y=s+Math.sqrt(v*v+d*d),y.cy=s,n.circle=y;for(var m=null,M=ul._;M;)if(y.y<M.y||y.y===M.y&&y.x<=M.x){if(!M.L){m=M.P;break}M=M.L}else{if(!M.R){m=M;break}M=M.R}ul.insert(m,y),m||(il=y)}}}}function Be(n){var t=n.circle;t&&(t.P||(il=t.N),ul.remove(t),al.push(t),rr(t),n.circle=null)}function We(n){for(var t,e=tl,r=Yt(n[0][0],n[0][1],n[1][0],n[1][1]),i=e.length;i--;)t=e[i],(!Je(t,n)||!r(t)||mo(t.a.x-t.b.x)<Ro&&mo(t.a.y-t.b.y)<Ro)&&(t.a=t.b=null,e.splice(i,1))}function Je(n,t){var e=n.b;if(e)return!0;var r,i,u=n.a,o=t[0][0],a=t[1][0],l=t[0][1],c=t[1][1],f=n.l,s=n.r,h=f.x,p=f.y,g=s.x,v=s.y,d=(h+g)/2,y=(p+v)/2;if(v===p){if(d<o||d>=a)return;if(h>g){if(u){if(u.y>=c)return}else u={x:d,y:l};e={x:d,y:c}}else{if(u){if(u.y<l)return}else u={x:d,y:c};e={x:d,y:l}}}else if(r=(h-g)/(v-p),i=y-r*d,r<-1||r>1)if(h>g){if(u){if(u.y>=c)return}else u={x:(l-i)/r,y:l};e={x:(c-i)/r,y:c}}else{if(u){if(u.y<l)return}else u={x:(c-i)/r,y:c};e={x:(l-i)/r,y:l}}else if(p<v){if(u){if(u.x>=a)return}else u={x:o,y:r*o+i};e={x:a,y:r*a+i}}else{if(u){if(u.x<o)return}else u={x:a,y:r*a+i};e={x:o,y:r*o+i}}return n.a=u,n.b=e,!0}function Ge(n,t){this.l=n,this.r=t,this.a=this.b=null}function Ke(n,t,e,r){var i=new Ge(n,t);return tl.push(i),e&&nr(i,n,t,e),r&&nr(i,t,n,r),el[n.i].edges.push(new tr(i,n,t)),el[t.i].edges.push(new tr(i,t,n)),i}function Qe(n,t,e){var r=new Ge(n,null);return r.a=t,r.b=e,tl.push(r),r}function nr(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function tr(n,t,e){var r=n.a,i=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function er(){this._=null}function rr(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function ir(n,t){var e=t,r=t.R,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ur(n,t){var e=t,r=t.L,i=e.U;i?i.L===e?i.L=r:i.R=r:n._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function or(n){for(;n.L;)n=n.L;return n}function ar(n,t){var e,r,i,u=n.sort(lr).pop();for(tl=[],el=new Array(n.length),rl=new er,ul=new er;;)if(i=il,u&&(!i||u.y<i.y||u.y===i.y&&u.x<i.x))u.x===e&&u.y===r||(el[u.i]=new Ye(u),He(u),e=u.x,r=u.y),u=n.pop();else{if(!i)break;Fe(i.arc)}t&&(We(t),Ze(t));var o={cells:el,edges:tl};return rl=ul=tl=el=null,o}function lr(n,t){return t.y-n.y||t.x-n.x}function cr(n,t,e){return(n.x-e.x)*(t.y-n.y)-(n.x-t.x)*(e.y-n.y)}function fr(n){return n.x}function sr(n){return n.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pr(n,t,e,r,i,u){if(!n(t,e,r,i,u)){var o=.5*(e+i),a=.5*(r+u),l=t.nodes;l[0]&&pr(n,l[0],e,r,o,a),l[1]&&pr(n,l[1],o,r,i,a),l[2]&&pr(n,l[2],e,a,o,u),l[3]&&pr(n,l[3],o,a,i,u)}}function gr(n,t,e,r,i,u,o){var a,l=1/0;return function n(c,f,s,h,p){if(!(f>u||s>o||h<r||p<i)){if(g=c.point){var g,v=t-c.x,d=e-c.y,y=v*v+d*d;if(y<l){var m=Math.sqrt(l=y);r=t-m,i=e-m,u=t+m,o=e+m,a=g}}for(var M=c.nodes,x=.5*(f+h),b=.5*(s+p),_=t>=x,w=e>=b,S=w<<1|_,k=S+4;S<k;++S)if(c=M[3&S])switch(3&S){case 0:n(c,f,s,x,b);break;case 1:n(c,x,s,h,b);break;case 2:n(c,f,b,x,p);break;case 3:n(c,x,b,h,p)}}}(n,r,i,u,o),a}function vr(n,t){n=ao.rgb(n),t=ao.rgb(t);var e=n.r,r=n.g,i=n.b,u=t.r-e,o=t.g-r,a=t.b-i;return function(n){return"#"+bn(Math.round(e+u*n))+bn(Math.round(r+o*n))+bn(Math.round(i+a*n))}}function dr(n,t){var e,r={},i={};for(e in n)e in t?r[e]=Mr(n[e],t[e]):i[e]=n[e];for(e in t)e in n||(i[e]=t[e]);return function(n){for(e in r)i[e]=r[e](n);return i}}function yr(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function mr(n,t){var e,r,i,u=cl.lastIndex=fl.lastIndex=0,o=-1,a=[],l=[];for(n+="",t+="";(e=cl.exec(n))&&(r=fl.exec(t));)(i=r.index)>u&&(i=t.slice(u,i),a[o]?a[o]+=i:a[++o]=i),(e=e[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:yr(e,r)})),u=fl.lastIndex;return u<t.length&&(i=t.slice(u),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?(t=l[0].x,function(n){return t(n)+""}):function(){return t}:(t=l.length,function(n){for(var e,r=0;r<t;++r)a[(e=l[r]).i]=e.x(n);return a.join("")})}function Mr(n,t){for(var e,r=ao.interpolators.length;--r>=0&&!(e=ao.interpolators[r](n,t)););return e}function xr(n,t){var e,r=[],i=[],u=n.length,o=t.length,a=Math.min(n.length,t.length);for(e=0;e<a;++e)r.push(Mr(n[e],t[e]));for(;e<u;++e)i[e]=n[e];for(;e<o;++e)i[e]=t[e];return function(n){for(e=0;e<a;++e)i[e]=r[e](n);return i}}function br(n){return function(t){return t<=0?0:t>=1?1:n(t)}}function _r(n){return function(t){return 1-n(1-t)}}function wr(n){return function(t){return.5*(t<.5?n(2*t):2-n(2-2*t))}}function Sr(n){return n*n}function kr(n){return n*n*n}function Nr(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)}function Er(n){return function(t){return Math.pow(t,n)}}function Ar(n){return 1-Math.cos(n*Fo)}function Cr(n){return Math.pow(2,10*(n-1))}function zr(n){return 1-Math.sqrt(1-n*n)}function Lr(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/jo*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*jo/t)}}function qr(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}}function Tr(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function Rr(n,t){n=ao.hcl(n),t=ao.hcl(t);var e=n.h,r=n.c,i=n.l,u=t.h-e,o=t.c-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return sn(e+u*n,r+o*n,i+a*n)+""}}function Dr(n,t){n=ao.hsl(n),t=ao.hsl(t);var e=n.h,r=n.s,i=n.l,u=t.h-e,o=t.s-r,a=t.l-i;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(u)?(u=0,e=isNaN(e)?t.h:e):u>180?u-=360:u<-180&&(u+=360),function(n){return cn(e+u*n,r+o*n,i+a*n)+""}}function Pr(n,t){n=ao.lab(n),t=ao.lab(t);var e=n.l,r=n.a,i=n.b,u=t.l-e,o=t.a-r,a=t.b-i;return function(n){return pn(e+u*n,r+o*n,i+a*n)+""}}function jr(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function Ur(n){var t=[n.a,n.b],e=[n.c,n.d],r=Hr(t),i=Fr(t,e),u=Hr(Or(e,t,-i))||0;t[0]*e[1]<e[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-e[0],e[1]))*Oo,this.translate=[n.e,n.f],this.scale=[r,u],this.skew=u?Math.atan2(i,u)*Oo:0}function Fr(n,t){return n[0]*t[0]+n[1]*t[1]}function Hr(n){var t=Math.sqrt(Fr(n,n));return t&&(n[0]/=t,n[1]/=t),t}function Or(n,t,e){return n[0]+=e*t[0],n[1]+=e*t[1],n}function Ir(n){return n.length?n.pop()+",":""}function Yr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push("translate(",null,",",null,")");r.push({i:i-4,x:yr(n[0],t[0])},{i:i-2,x:yr(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}function Zr(n,t,e,r){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),r.push({i:e.push(Ir(e)+"rotate(",null,")")-2,x:yr(n,t)})):t&&e.push(Ir(e)+"rotate("+t+")")}function Vr(n,t,e,r){n!==t?r.push({i:e.push(Ir(e)+"skewX(",null,")")-2,x:yr(n,t)}):t&&e.push(Ir(e)+"skewX("+t+")")}function Xr(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push(Ir(e)+"scale(",null,",",null,")");r.push({i:i-4,x:yr(n[0],t[0])},{i:i-2,x:yr(n[1],t[1])})}else 1===t[0]&&1===t[1]||e.push(Ir(e)+"scale("+t+")")}function $r(n,t){var e=[],r=[];return n=ao.transform(n),t=ao.transform(t),Yr(n.translate,t.translate,e,r),Zr(n.rotate,t.rotate,e,r),Vr(n.skew,t.skew,e,r),Xr(n.scale,t.scale,e,r),n=t=null,function(n){for(var t,i=-1,u=r.length;++i<u;)e[(t=r[i]).i]=t.x(n);return e.join("")}}function Br(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function Wr(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function Jr(n){for(var t=n.source,e=n.target,r=Kr(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}function Gr(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function Kr(n,t){if(n===t)return n;for(var e=Gr(n),r=Gr(t),i=e.pop(),u=r.pop(),o=null;i===u;)o=i,i=e.pop(),u=r.pop();return o}function Qr(n){n.fixed|=2}function ni(n){n.fixed&=-7}function ti(n){n.fixed|=4,n.px=n.x,n.py=n.y}function ei(n){n.fixed&=-5}function ri(n,t,e){var r=0,i=0;if(n.charge=0,!n.leaf)for(var u,o=n.nodes,a=o.length,l=-1;++l<a;)u=o[l],null!=u&&(ri(u,t,e),n.charge+=u.charge,r+=u.charge*u.cx,i+=u.charge*u.cy);if(n.point){n.leaf||(n.point.x+=Math.random()-.5,n.point.y+=Math.random()-.5);var c=t*e[n.point.index];n.charge+=n.pointCharge=c,r+=c*n.point.x,i+=c*n.point.y}n.cx=r/n.charge,n.cy=i/n.charge}function ii(n,t){return ao.rebind(n,t,"sort","children","value"),n.nodes=n,n.links=fi,n}function ui(n,t){for(var e=[n];null!=(n=e.pop());)if(t(n),(i=n.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function oi(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(u=n.children)&&(i=u.length))for(var i,u,o=-1;++o<i;)e.push(u[o]);for(;null!=(n=r.pop());)t(n)}function ai(n){return n.children}function li(n){return n.value}function ci(n,t){return t.value-n.value}function fi(n){return ao.merge(n.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}function si(n){return n.x}function hi(n){return n.y}function pi(n,t,e){n.y0=t,n.y=e}function gi(n){return ao.range(n.length)}function vi(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function di(n){for(var t,e=1,r=0,i=n[0][1],u=n.length;e<u;++e)(t=n[e][1])>i&&(r=e,i=t);return r}function yi(n){return n.reduce(mi,0)}function mi(n,t){return n+t[1]}function Mi(n,t){return xi(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function xi(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function bi(n){return[ao.min(n),ao.max(n)]}function _i(n,t){return n.value-t.value}function wi(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function Si(n,t){n._pack_next=t,t._pack_prev=n}function ki(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return.999*i*i>e*e+r*r}function Ni(n){function t(n){f=Math.min(n.x-n.r,f),s=Math.max(n.x+n.r,s),h=Math.min(n.y-n.r,h),p=Math.max(n.y+n.r,p)}if((e=n.children)&&(c=e.length)){var e,r,i,u,o,a,l,c,f=1/0,s=-(1/0),h=1/0,p=-(1/0);if(e.forEach(Ei),r=e[0],r.x=-r.r,r.y=0,t(r),c>1&&(i=e[1],i.x=i.r,i.y=0,t(i),c>2))for(u=e[2],zi(r,i,u),t(u),wi(r,u),r._pack_prev=u,wi(u,i),i=r._pack_next,o=3;o<c;o++){zi(r,i,u=e[o]);var g=0,v=1,d=1;for(a=i._pack_next;a!==i;a=a._pack_next,v++)if(ki(a,u)){g=1;break}if(1==g)for(l=r._pack_prev;l!==a._pack_prev&&!ki(l,u);l=l._pack_prev,d++);g?(v<d||v==d&&i.r<r.r?Si(r,i=a):Si(r=l,i),o--):(wi(r,u),i=u,t(u))}var y=(f+s)/2,m=(h+p)/2,M=0;for(o=0;o<c;o++)u=e[o],u.x-=y,u.y-=m,M=Math.max(M,u.r+Math.sqrt(u.x*u.x+u.y*u.y));n.r=M,e.forEach(Ai)}}function Ei(n){n._pack_next=n._pack_prev=n}function Ai(n){delete n._pack_next,delete n._pack_prev}function Ci(n,t,e,r){var i=n.children;if(n.x=t+=r*n.x,n.y=e+=r*n.y,n.r*=r,i)for(var u=-1,o=i.length;++u<o;)Ci(i[u],t,e,r)}function zi(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var o=t.r+e.r,a=i*i+u*u;o*=o,r*=r;var l=.5+(r-o)/(2*a),c=Math.sqrt(Math.max(0,2*o*(r+a)-(r-=a)*r-o*o))/(2*a);e.x=n.x+l*i+c*u,e.y=n.y+l*u-c*i}else e.x=n.x+r,e.y=n.y}function Li(n,t){return n.parent==t.parent?1:2}function qi(n){var t=n.children;return t.length?t[0]:n.t}function Ti(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function Ri(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}function Di(n){for(var t,e=0,r=0,i=n.children,u=i.length;--u>=0;)t=i[u],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}function Pi(n,t,e){return n.a.parent===t.parent?n.a:e}function ji(n){return 1+ao.max(n,function(n){return n.y})}function Ui(n){return n.reduce(function(n,t){return n+t.x},0)/n.length}function Fi(n){var t=n.children;return t&&t.length?Fi(t[0]):n}function Hi(n){var t,e=n.children;return e&&(t=e.length)?Hi(e[t-1]):n}function Oi(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function Ii(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return i<0&&(e+=i/2,i=0),u<0&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function Yi(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]}function Zi(n){return n.rangeExtent?n.rangeExtent():Yi(n.range())}function Vi(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function Xi(n,t){var e,r=0,i=n.length-1,u=n[r],o=n[i];return o<u&&(e=r,r=i,i=e,e=u,u=o,o=e),n[r]=t.floor(u),n[i]=t.ceil(o),n}function $i(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:bl}function Bi(n,t,e,r){var i=[],u=[],o=0,a=Math.min(n.length,t.length)-1;for(n[a]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<=a;)i.push(e(n[o-1],n[o])),u.push(r(t[o-1],t[o]));return function(t){var e=ao.bisect(n,t,1,a)-1;return u[e](i[e](t))}}function Wi(n,t,e,r){function i(){var i=Math.min(n.length,t.length)>2?Bi:Vi,l=r?Wr:Br;return o=i(n,t,l,e),a=i(t,n,l,Mr),u}function u(n){return o(n)}var o,a;return u.invert=function(n){return a(n)},u.domain=function(t){return arguments.length?(n=t.map(Number),i()):n},u.range=function(n){return arguments.length?(t=n,i()):t},u.rangeRound=function(n){return u.range(n).interpolate(jr)},u.clamp=function(n){return arguments.length?(r=n,i()):r},u.interpolate=function(n){return arguments.length?(e=n,i()):e},u.ticks=function(t){return Qi(n,t)},u.tickFormat=function(t,e){return nu(n,t,e)},u.nice=function(t){return Gi(n,t),i()},u.copy=function(){return Wi(n,t,e,r)},i()}function Ji(n,t){return ao.rebind(n,t,"range","rangeRound","interpolate","clamp")}function Gi(n,t){return Xi(n,$i(Ki(n,t)[2])),Xi(n,$i(Ki(n,t)[2])),n}function Ki(n,t){null==t&&(t=10);var e=Yi(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function Qi(n,t){return ao.range.apply(ao,Ki(n,t))}function nu(n,t,e){var r=Ki(n,t);if(e){var i=ca.exec(e);if(i.shift(),"s"===i[8]){var u=ao.formatPrefix(Math.max(mo(r[0]),mo(r[1])));return i[7]||(i[7]="."+tu(u.scale(r[2]))),i[8]="f",e=ao.format(i.join("")),function(n){return e(u.scale(n))+u.symbol}}i[7]||(i[7]="."+eu(i[8],r)),e=i.join("")}else e=",."+tu(r[2])+"f";return ao.format(e)}function tu(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function eu(n,t){var e=tu(t[2]);return n in _l?Math.abs(e-tu(Math.max(mo(t[0]),mo(t[1]))))+ +("e"!==n):e-2*("%"===n)}function ru(n,t,e,r){function i(n){return(e?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(t)}function u(n){return e?Math.pow(t,n):-Math.pow(t,-n)}function o(t){return n(i(t))}return o.invert=function(t){return u(n.invert(t))},o.domain=function(t){return arguments.length?(e=t[0]>=0,n.domain((r=t.map(Number)).map(i)),o):r},o.base=function(e){return arguments.length?(t=+e,n.domain(r.map(i)),o):t},o.nice=function(){var t=Xi(r.map(i),e?Math:Sl);return n.domain(t),r=t.map(u),o},o.ticks=function(){var n=Yi(r),o=[],a=n[0],l=n[1],c=Math.floor(i(a)),f=Math.ceil(i(l)),s=t%1?2:t;if(isFinite(f-c)){if(e){for(;c<f;c++)for(var h=1;h<s;h++)o.push(u(c)*h);o.push(u(c))}else for(o.push(u(c));c++<f;)for(var h=s-1;h>0;h--)o.push(u(c)*h);for(c=0;o[c]<a;c++);for(f=o.length;o[f-1]>l;f--);o=o.slice(c,f)}return o},o.tickFormat=function(n,e){if(!arguments.length)return wl;arguments.length<2?e=wl:"function"!=typeof e&&(e=ao.format(e));var r=Math.max(1,t*n/o.ticks().length);return function(n){var o=n/u(Math.round(i(n)));return o*t<t-.5&&(o*=t),o<=r?e(n):""}},o.copy=function(){return ru(n.copy(),t,e,r)},Ji(o,n)}function iu(n,t,e){function r(t){return n(i(t))}var i=uu(t),u=uu(1/t);return r.invert=function(t){return u(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain((e=t.map(Number)).map(i)),r):e},r.ticks=function(n){return Qi(e,n)},r.tickFormat=function(n,t){return nu(e,n,t)},r.nice=function(n){return r.domain(Gi(e,n))},r.exponent=function(o){return arguments.length?(i=uu(t=o),u=uu(1/t),n.domain(e.map(i)),r):t},r.copy=function(){return iu(n.copy(),t,e)},Ji(r,n)}function uu(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function ou(n,t){function e(e){return u[((i.get(e)||("range"===t.t?i.set(e,n.push(e)):NaN))-1)%u.length]}function r(t,e){return ao.range(n.length).map(function(n){return t+e*n})}var i,u,o;return e.domain=function(r){if(!arguments.length)return n;n=[],i=new c;for(var u,o=-1,a=r.length;++o<a;)i.has(u=r[o])||i.set(u,n.push(u));return e[t.t].apply(e,t.a)},e.range=function(n){return arguments.length?(u=n,o=0,t={t:"range",a:arguments},e):u},e.rangePoints=function(i,a){arguments.length<2&&(a=0);var l=i[0],c=i[1],f=n.length<2?(l=(l+c)/2,0):(c-l)/(n.length-1+a);return u=r(l+f*a/2,f),o=0,t={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(i,a){arguments.length<2&&(a=0);var l=i[0],c=i[1],f=n.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(n.length-1+a)|0;return u=r(l+Math.round(f*a/2+(c-l-(n.length-1+a)*f)/2),f),o=0,t={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=(s-f)/(n.length-a+2*l);return u=r(f+h*l,h),c&&u.reverse(),o=h*(1-a),t={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var c=i[1]<i[0],f=i[c-0],s=i[1-c],h=Math.floor((s-f)/(n.length-a+2*l));return u=r(f+Math.round((s-f-(n.length-a)*h)/2),h),c&&u.reverse(),o=Math.round(h*(1-a)),t={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return o},e.rangeExtent=function(){return Yi(t.a[0])},e.copy=function(){return ou(n,t)},e.domain(n)}function au(n,t){function u(){var e=0,r=t.length;for(a=[];++e<r;)a[e-1]=ao.quantile(n,e/r);return o}function o(n){if(!isNaN(n=+n))return t[ao.bisect(a,n)]}var a;return o.domain=function(t){return arguments.length?(n=t.map(r).filter(i).sort(e),u()):n},o.range=function(n){return arguments.length?(t=n,u()):t},o.quantiles=function(){return a},o.invertExtent=function(e){return e=t.indexOf(e),e<0?[NaN,NaN]:[e>0?a[e-1]:n[0],e<a.length?a[e]:n[n.length-1]]},o.copy=function(){return au(n,t)},u()}function lu(n,t,e){function r(t){return e[Math.max(0,Math.min(o,Math.floor(u*(t-n))))]}function i(){return u=e.length/(t-n),o=e.length-1,r}var u,o;return r.domain=function(e){return arguments.length?(n=+e[0],t=+e[e.length-1],i()):[n,t]},r.range=function(n){return arguments.length?(e=n,i()):e},r.invertExtent=function(t){return t=e.indexOf(t),t=t<0?NaN:t/u+n,[t,t+1/u]},r.copy=function(){return lu(n,t,e)},i()}function cu(n,t){function e(e){if(e<=e)return t[ao.bisect(n,e)]}return e.domain=function(t){return arguments.length?(n=t,e):n},e.range=function(n){return arguments.length?(t=n,e):t},e.invertExtent=function(e){return e=t.indexOf(e),[n[e-1],n[e]]},e.copy=function(){return cu(n,t)},e}function fu(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Qi(n,t)},t.tickFormat=function(t,e){return nu(n,t,e)},t.copy=function(){return fu(n)},t}function su(){return 0}function hu(n){return n.innerRadius}function pu(n){return n.outerRadius}function gu(n){return n.startAngle}function vu(n){return n.endAngle}function du(n){return n&&n.padAngle}function yu(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function mu(n,t,e,r,i){var u=n[0]-t[0],o=n[1]-t[1],a=(i?r:-r)/Math.sqrt(u*u+o*o),l=a*o,c=-a*u,f=n[0]+l,s=n[1]+c,h=t[0]+l,p=t[1]+c,g=(f+h)/2,v=(s+p)/2,d=h-f,y=p-s,m=d*d+y*y,M=e-r,x=f*p-h*s,b=(y<0?-1:1)*Math.sqrt(Math.max(0,M*M*m-x*x)),_=(x*y-d*b)/m,w=(-x*d-y*b)/m,S=(x*y+d*b)/m,k=(-x*d+y*b)/m,N=_-g,E=w-v,A=S-g,C=k-v;return N*N+E*E>A*A+C*C&&(_=S,w=k),[[_-l,w-c],[_*e/M,w*e/M]]}function Mu(n){function t(t){function o(){c.push("M",u(n(f),a))}for(var l,c=[],f=[],s=-1,h=t.length,p=En(e),g=En(r);++s<h;)i.call(this,l=t[s],s)?f.push([+p.call(this,l,s),+g.call(this,l,s)]):f.length&&(o(),f=[]);return f.length&&o(),c.length?c.join(""):null}var e=Ce,r=ze,i=zt,u=xu,o=u.key,a=.7;return t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t.defined=function(n){return arguments.length?(i=n,t):i},t.interpolate=function(n){return arguments.length?(o="function"==typeof n?u=n:(u=zl.get(n)||xu).key,t):o},t.tension=function(n){return arguments.length?(a=n,t):a},t}function xu(n){return n.length>1?n.join("L"):n+"Z"}function bu(n){return n.join("L")+"Z"}function _u(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function wu(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function Su(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function ku(n,t){return n.length<4?xu(n):n[1]+Au(n.slice(1,-1),Cu(n,t))}function Nu(n,t){return n.length<3?bu(n):n[0]+Au((n.push(n[0]),n),Cu([n[n.length-2]].concat(n,[n[1]]),t))}function Eu(n,t){return n.length<3?xu(n):n[0]+Au(n,Cu(n,t))}function Au(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return xu(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],o=t[0],a=o,l=1;if(e&&(r+="Q"+(u[0]-2*o[0]/3)+","+(u[1]-2*o[1]/3)+","+u[0]+","+u[1],i=n[1],l=2),t.length>1){a=t[1],u=n[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1];for(var c=2;c<t.length;c++,l++)u=n[l],a=t[c],r+="S"+(u[0]-a[0])+","+(u[1]-a[1])+","+u[0]+","+u[1]}if(e){var f=n[l];r+="Q"+(u[0]+2*a[0]/3)+","+(u[1]+2*a[1]/3)+","+f[0]+","+f[1]}return r}function Cu(n,t){for(var e,r=[],i=(1-t)/2,u=n[0],o=n[1],a=1,l=n.length;++a<l;)e=u,u=o,o=n[a],r.push([i*(o[0]-e[0]),i*(o[1]-e[1])]);return r}function zu(n){if(n.length<3)return xu(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],o=[i,i,i,(r=n[1])[0]],a=[u,u,u,r[1]],l=[i,",",u,"L",Ru(Tl,o),",",Ru(Tl,a)];for(n.push(n[e-1]);++t<=e;)r=n[t],o.shift(),o.push(r[0]),a.shift(),a.push(r[1]),Du(l,o,a);return n.pop(),l.push("L",r),l.join("")}function Lu(n){if(n.length<4)return xu(n);for(var t,e=[],r=-1,i=n.length,u=[0],o=[0];++r<3;)t=n[r],u.push(t[0]),o.push(t[1]);for(e.push(Ru(Tl,u)+","+Ru(Tl,o)),--r;++r<i;)t=n[r],u.shift(),u.push(t[0]),o.shift(),o.push(t[1]),Du(e,u,o);return e.join("")}function qu(n){for(var t,e,r=-1,i=n.length,u=i+4,o=[],a=[];++r<4;)e=n[r%i],o.push(e[0]),a.push(e[1]);for(t=[Ru(Tl,o),",",Ru(Tl,a)],--r;++r<u;)e=n[r%i],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Du(t,o,a);return t.join("")}function Tu(n,t){var e=n.length-1;if(e)for(var r,i,u=n[0][0],o=n[0][1],a=n[e][0]-u,l=n[e][1]-o,c=-1;++c<=e;)r=n[c],i=c/e,r[0]=t*r[0]+(1-t)*(u+i*a),r[1]=t*r[1]+(1-t)*(o+i*l);return zu(n)}function Ru(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}function Du(n,t,e){n.push("C",Ru(Ll,t),",",Ru(Ll,e),",",Ru(ql,t),",",Ru(ql,e),",",Ru(Tl,t),",",Ru(Tl,e))}function Pu(n,t){return(t[1]-n[1])/(t[0]-n[0])}function ju(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],o=r[0]=Pu(i,u);++t<e;)r[t]=(o+(o=Pu(i=u,u=n[t+1])))/2;return r[t]=o,r}function Uu(n){for(var t,e,r,i,u=[],o=ju(n),a=-1,l=n.length-1;++a<l;)t=Pu(n[a],n[a+1]),mo(t)<Ro?o[a]=o[a+1]=0:(e=o[a]/t,r=o[a+1]/t,i=e*e+r*r,i>9&&(i=3*t/Math.sqrt(i),o[a]=i*e,o[a+1]=i*r));for(a=-1;++a<=l;)i=(n[Math.min(l,a+1)][0]-n[Math.max(0,a-1)][0])/(6*(1+o[a]*o[a])),u.push([i||0,o[a]*i||0]);return u}function Fu(n){return n.length<3?xu(n):n[0]+Au(n,Uu(n))}function Hu(n){for(var t,e,r,i=-1,u=n.length;++i<u;)t=n[i],e=t[0],r=t[1]-Fo,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function Ou(n){function t(t){function l(){v.push("M",a(n(y),s),f,c(n(d.reverse()),s),"Z")}for(var h,p,g,v=[],d=[],y=[],m=-1,M=t.length,x=En(e),b=En(i),_=e===r?function(){return p;
}:En(r),w=i===u?function(){return g}:En(u);++m<M;)o.call(this,h=t[m],m)?(d.push([p=+x.call(this,h,m),g=+b.call(this,h,m)]),y.push([+_.call(this,h,m),+w.call(this,h,m)])):d.length&&(l(),d=[],y=[]);return d.length&&l(),v.length?v.join(""):null}var e=Ce,r=Ce,i=0,u=ze,o=zt,a=xu,l=a.key,c=a,f="L",s=.7;return t.x=function(n){return arguments.length?(e=r=n,t):r},t.x0=function(n){return arguments.length?(e=n,t):e},t.x1=function(n){return arguments.length?(r=n,t):r},t.y=function(n){return arguments.length?(i=u=n,t):u},t.y0=function(n){return arguments.length?(i=n,t):i},t.y1=function(n){return arguments.length?(u=n,t):u},t.defined=function(n){return arguments.length?(o=n,t):o},t.interpolate=function(n){return arguments.length?(l="function"==typeof n?a=n:(a=zl.get(n)||xu).key,c=a.reverse||a,f=a.closed?"M":"L",t):l},t.tension=function(n){return arguments.length?(s=n,t):s},t}function Iu(n){return n.radius}function Yu(n){return[n.x,n.y]}function Zu(n){return function(){var t=n.apply(this,arguments),e=t[0],r=t[1]-Fo;return[e*Math.cos(r),e*Math.sin(r)]}}function Vu(){return 64}function Xu(){return"circle"}function $u(n){var t=Math.sqrt(n/Po);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Bu(n){return function(){var t,e,r;(t=this[n])&&(r=t[e=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[e]:delete this[n],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Wu(n,t,e){return wo(n,Hl),n.namespace=t,n.id=e,n}function Ju(n,t,e,r){var i=n.id,u=n.namespace;return Y(n,"function"==typeof e?function(n,o,a){n[u][i].tween.set(t,r(e.call(n,n.__data__,o,a)))}:(e=r(e),function(n){n[u][i].tween.set(t,e)}))}function Gu(n){return null==n&&(n=""),function(){this.textContent=n}}function Ku(n){return null==n?"__transition__":"__transition_"+n+"__"}function Qu(n,t,e,r,i){function u(n){var t=v.delay;return f.t=t+l,t<=n?o(n-t):void(f.c=o)}function o(e){var i=g.active,u=g[i];u&&(u.timer.c=null,u.timer.t=NaN,--g.count,delete g[i],u.event&&u.event.interrupt.call(n,n.__data__,u.index));for(var o in g)if(+o<r){var c=g[o];c.timer.c=null,c.timer.t=NaN,--g.count,delete g[o]}f.c=a,qn(function(){return f.c&&a(e||1)&&(f.c=null,f.t=NaN),1},0,l),g.active=r,v.event&&v.event.start.call(n,n.__data__,t),p=[],v.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&p.push(r)}),h=v.ease,s=v.duration}function a(i){for(var u=i/s,o=h(u),a=p.length;a>0;)p[--a].call(n,o);if(u>=1)return v.event&&v.event.end.call(n,n.__data__,t),--g.count?delete g[r]:delete n[e],1}var l,f,s,h,p,g=n[e]||(n[e]={active:0,count:0}),v=g[r];v||(l=i.time,f=qn(u,0,l),v=g[r]={tween:new c,time:l,timer:f,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++g.count)}function no(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function to(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}function eo(n){return n.toISOString()}function ro(n,t,e){function r(t){return n(t)}function i(n,e){var r=n[1]-n[0],i=r/e,u=ao.bisect(Wl,i);return u==Wl.length?[t.year,Ki(n.map(function(n){return n/31536e6}),e)[2]]:u?t[i/Wl[u-1]<Wl[u]/i?u-1:u]:[Kl,Ki(n,e)[2]]}return r.invert=function(t){return io(n.invert(t))},r.domain=function(t){return arguments.length?(n.domain(t),r):n.domain().map(io)},r.nice=function(n,t){function e(e){return!isNaN(e)&&!n.range(e,io(+e+1),t).length}var u=r.domain(),o=Yi(u),a=null==n?i(o,10):"number"==typeof n&&i(o,n);return a&&(n=a[0],t=a[1]),r.domain(Xi(u,t>1?{floor:function(t){for(;e(t=n.floor(t));)t=io(t-1);return t},ceil:function(t){for(;e(t=n.ceil(t));)t=io(+t+1);return t}}:n))},r.ticks=function(n,t){var e=Yi(r.domain()),u=null==n?i(e,10):"number"==typeof n?i(e,n):!n.range&&[{range:n},t];return u&&(n=u[0],t=u[1]),n.range(e[0],io(+e[1]+1),t<1?1:t)},r.tickFormat=function(){return e},r.copy=function(){return ro(n.copy(),t,e)},Ji(r,n)}function io(n){return new Date(n)}function uo(n){return JSON.parse(n.responseText)}function oo(n){var t=fo.createRange();return t.selectNode(fo.body),t.createContextualFragment(n.responseText)}var ao={version:"3.5.13"},lo=[].slice,co=function(n){return lo.call(n)},fo=this.document;if(fo)try{co(fo.documentElement.childNodes)[0].nodeType}catch(n){co=function(n){for(var t=n.length,e=new Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),fo)try{fo.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var so=this.Element.prototype,ho=so.setAttribute,po=so.setAttributeNS,go=this.CSSStyleDeclaration.prototype,vo=go.setProperty;so.setAttribute=function(n,t){ho.call(this,n,t+"")},so.setAttributeNS=function(n,t,e){po.call(this,n,t,e+"")},go.setProperty=function(n,t,e){vo.call(this,n,t+"",e)}}ao.ascending=e,ao.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},ao.min=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&e>r&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&e>r&&(e=r)}return e},ao.max=function(n,t){var e,r,i=-1,u=n.length;if(1===arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&r>e&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&r>e&&(e=r)}return e},ao.extent=function(n,t){var e,r,i,u=-1,o=n.length;if(1===arguments.length){for(;++u<o;)if(null!=(r=n[u])&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=n[u])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++u<o;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=i=r;break}for(;++u<o;)null!=(r=t.call(n,n[u],u))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]},ao.sum=function(n,t){var e,r=0,u=n.length,o=-1;if(1===arguments.length)for(;++o<u;)i(e=+n[o])&&(r+=e);else for(;++o<u;)i(e=+t.call(n,n[o],o))&&(r+=e);return r},ao.mean=function(n,t){var e,u=0,o=n.length,a=-1,l=o;if(1===arguments.length)for(;++a<o;)i(e=r(n[a]))?u+=e:--l;else for(;++a<o;)i(e=r(t.call(n,n[a],a)))?u+=e:--l;if(l)return u/l},ao.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},ao.median=function(n,t){var u,o=[],a=n.length,l=-1;if(1===arguments.length)for(;++l<a;)i(u=r(n[l]))&&o.push(u);else for(;++l<a;)i(u=r(t.call(n,n[l],l)))&&o.push(u);if(o.length)return ao.quantile(o.sort(e),.5)},ao.variance=function(n,t){var e,u,o=n.length,a=0,l=0,c=-1,f=0;if(1===arguments.length)for(;++c<o;)i(e=r(n[c]))&&(u=e-a,a+=u/++f,l+=u*(e-a));else for(;++c<o;)i(e=r(t.call(n,n[c],c)))&&(u=e-a,a+=u/++f,l+=u*(e-a));if(f>1)return l/(f-1)},ao.deviation=function(){var n=ao.variance.apply(this,arguments);return n?Math.sqrt(n):n};var yo=u(e);ao.bisectLeft=yo.left,ao.bisect=ao.bisectRight=yo.right,ao.bisector=function(n){return u(1===n.length?function(t,r){return e(n(t),r)}:n)},ao.shuffle=function(n,t,e){(u=arguments.length)<3&&(e=n.length,u<2&&(t=0));for(var r,i,u=e-t;u;)i=Math.random()*u--|0,r=n[u+t],n[u+t]=n[i+t],n[i+t]=r;return n},ao.permute=function(n,t){for(var e=t.length,r=new Array(e);e--;)r[e]=n[t[e]];return r},ao.pairs=function(n){for(var t,e=0,r=n.length-1,i=n[0],u=new Array(r<0?0:r);e<r;)u[e]=[t=i,i=n[++e]];return u},ao.zip=function(){if(!(r=arguments.length))return[];for(var n=-1,t=ao.min(arguments,o),e=new Array(t);++n<t;)for(var r,i=-1,u=e[n]=new Array(r);++i<r;)u[i]=arguments[i][n];return e},ao.transpose=function(n){return ao.zip.apply(ao,n)},ao.keys=function(n){var t=[];for(var e in n)t.push(e);return t},ao.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},ao.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},ao.merge=function(n){for(var t,e,r,i=n.length,u=-1,o=0;++u<i;)o+=n[u].length;for(e=new Array(o);--i>=0;)for(r=n[i],t=r.length;--t>=0;)e[--o]=r[t];return e};var mo=Math.abs;ao.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e===1/0)throw new Error("infinite range");var r,i=[],u=a(mo(e)),o=-1;if(n*=u,t*=u,e*=u,e<0)for(;(r=n+e*++o)>t;)i.push(r/u);else for(;(r=n+e*++o)<t;)i.push(r/u);return i},ao.map=function(n,t){var e=new c;if(n instanceof c)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,i=-1,u=n.length;if(1===arguments.length)for(;++i<u;)e.set(i,n[i]);else for(;++i<u;)e.set(t.call(n,r=n[i],i),r)}else for(var o in n)e.set(o,n[o]);return e};var Mo="__proto__",xo="\0";l(c,{has:h,get:function(n){return this._[f(n)]},set:function(n,t){return this._[f(n)]=t},remove:p,keys:g,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:s(t),value:this._[t]});return n},size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t),this._[t])}}),ao.nest=function(){function n(t,o,a){if(a>=u.length)return r?r.call(i,o):e?o.sort(e):o;for(var l,f,s,h,p=-1,g=o.length,v=u[a++],d=new c;++p<g;)(h=d.get(l=v(f=o[p])))?h.push(f):d.set(l,[f]);return t?(f=t(),s=function(e,r){f.set(e,n(t,r,a))}):(f={},s=function(e,r){f[e]=n(t,r,a)}),d.forEach(s),f}function t(n,e){if(e>=u.length)return n;var r=[],i=o[e++];return n.forEach(function(n,i){r.push({key:n,values:t(i,e)})}),i?r.sort(function(n,t){return i(n.key,t.key)}):r}var e,r,i={},u=[],o=[];return i.map=function(t,e){return n(e,t,0)},i.entries=function(e){return t(n(ao.map,e,0),0)},i.key=function(n){return u.push(n),i},i.sortKeys=function(n){return o[u.length-1]=n,i},i.sortValues=function(n){return e=n,i},i.rollup=function(n){return r=n,i},i},ao.set=function(n){var t=new y;if(n)for(var e=0,r=n.length;e<r;++e)t.add(n[e]);return t},l(y,{has:h,add:function(n){return this._[f(n+="")]=!0,n},remove:p,values:g,size:v,empty:d,forEach:function(n){for(var t in this._)n.call(this,s(t))}}),ao.behavior={},ao.rebind=function(n,t){for(var e,r=1,i=arguments.length;++r<i;)n[e=arguments[r]]=M(n,t,t[e]);return n};var bo=["webkit","ms","moz","Moz","o","O"];ao.dispatch=function(){for(var n=new _,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=w(n);return n},_.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2===arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},ao.event=null,ao.requote=function(n){return n.replace(_o,"\\$&")};var _o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,wo={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]},So=function(n,t){return t.querySelector(n)},ko=function(n,t){return t.querySelectorAll(n)},No=function(n,t){var e=n.matches||n[x(n,"matchesSelector")];return(No=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(So=function(n,t){return Sizzle(n,t)[0]||null},ko=Sizzle,No=Sizzle.matchesSelector),ao.selection=function(){return ao.select(fo.documentElement)};var Eo=ao.selection.prototype=[];Eo.select=function(n){var t,e,r,i,u=[];n=A(n);for(var o=-1,a=this.length;++o<a;){u.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(t.push(e=n.call(i,i.__data__,l,o)),e&&"__data__"in i&&(e.__data__=i.__data__)):t.push(null)}return E(u)},Eo.selectAll=function(n){var t,e,r=[];n=C(n);for(var i=-1,u=this.length;++i<u;)for(var o=this[i],a=-1,l=o.length;++a<l;)(e=o[a])&&(r.push(t=co(n.call(e,e.__data__,a,i))),t.parentNode=e);return E(r)};var Ao={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ao.ns={prefix:Ao,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),Ao.hasOwnProperty(e)?{space:Ao[e],local:n}:n}},Eo.attr=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node();return n=ao.ns.qualify(n),n.local?e.getAttributeNS(n.space,n.local):e.getAttribute(n)}for(t in n)this.each(z(t,n[t]));return this}return this.each(z(n,t))},Eo.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=T(n)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!q(n[i]).test(t))return!1;return!0}for(t in n)this.each(R(t,n[t]));return this}return this.each(R(n,t))},Eo.style=function(n,e,r){var i=arguments.length;if(i<3){if("string"!=typeof n){i<2&&(e="");for(r in n)this.each(P(r,n[r],e));return this}if(i<2){var u=this.node();return t(u).getComputedStyle(u,null).getPropertyValue(n)}r=""}return this.each(P(n,e,r))},Eo.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(j(t,n[t]));return this}return this.each(j(n,t))},Eo.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},Eo.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},Eo.append=function(n){return n=U(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},Eo.insert=function(n,t){return n=U(n),t=A(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},Eo.remove=function(){return this.each(F)},Eo.data=function(n,t){function e(n,e){var r,i,u,o=n.length,s=e.length,h=Math.min(o,s),p=new Array(s),g=new Array(s),v=new Array(o);if(t){var d,y=new c,m=new Array(o);for(r=-1;++r<o;)(i=n[r])&&(y.has(d=t.call(i,i.__data__,r))?v[r]=i:y.set(d,i),m[r]=d);for(r=-1;++r<s;)(i=y.get(d=t.call(e,u=e[r],r)))?i!==!0&&(p[r]=i,i.__data__=u):g[r]=H(u),y.set(d,!0);for(r=-1;++r<o;)r in m&&y.get(m[r])!==!0&&(v[r]=n[r])}else{for(r=-1;++r<h;)i=n[r],u=e[r],i?(i.__data__=u,p[r]=i):g[r]=H(u);for(;r<s;++r)g[r]=H(e[r]);for(;r<o;++r)v[r]=n[r]}g.update=p,g.parentNode=p.parentNode=v.parentNode=n.parentNode,a.push(g),l.push(p),f.push(v)}var r,i,u=-1,o=this.length;if(!arguments.length){for(n=new Array(o=(r=this[0]).length);++u<o;)(i=r[u])&&(n[u]=i.__data__);return n}var a=Z([]),l=E([]),f=E([]);if("function"==typeof n)for(;++u<o;)e(r=this[u],n.call(r,r.parentNode.__data__,u));else for(;++u<o;)e(r=this[u],n);return l.enter=function(){return a},l.exit=function(){return f},l},Eo.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},Eo.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var a=0,l=e.length;a<l;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return E(i)},Eo.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},Eo.sort=function(n){n=I.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},Eo.each=function(n){return Y(this,function(t,e,r){n.call(t,t.__data__,e,r)})},Eo.call=function(n){var t=co(arguments);return n.apply(t[0]=this,t),this},Eo.empty=function(){return!this.node()},Eo.node=function(){for(var n=0,t=this.length;n<t;n++)for(var e=this[n],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}return null},Eo.size=function(){var n=0;return Y(this,function(){++n}),n};var Co=[];ao.selection.enter=Z,ao.selection.enter.prototype=Co,Co.append=Eo.append,Co.empty=Eo.empty,Co.node=Eo.node,Co.call=Eo.call,Co.size=Eo.size,Co.select=function(n){for(var t,e,r,i,u,o=[],a=-1,l=this.length;++a<l;){r=(i=this[a]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,f=i.length;++c<f;)(u=i[c])?(t.push(r[c]=e=n.call(i.parentNode,u.__data__,c,a)),e.__data__=u.__data__):t.push(null)}return E(o)},Co.insert=function(n,t){return arguments.length<2&&(t=V(this)),Eo.insert.call(this,n,t)},ao.select=function(t){var e;return"string"==typeof t?(e=[So(t,fo)],e.parentNode=fo.documentElement):(e=[t],e.parentNode=n(t)),E([e])},ao.selectAll=function(n){var t;return"string"==typeof n?(t=co(ko(n,fo)),t.parentNode=fo.documentElement):(t=co(n),t.parentNode=null),E([t])},Eo.on=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){r<2&&(t=!1);for(e in n)this.each(X(e,n[e],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(X(n,t,e))};var zo=ao.map({mouseenter:"mouseover",mouseleave:"mouseout"});fo&&zo.forEach(function(n){"on"+n in fo&&zo.remove(n)});var Lo,qo=0;ao.mouse=function(n){return J(n,k())};var To=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ao.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=k().changedTouches),t)for(var r,i=0,u=t.length;i<u;++i)if((r=t[i]).identifier===e)return J(n,r)},ao.behavior.drag=function(){function n(){this.on("mousedown.drag",u).on("touchstart.drag",o)}function e(n,t,e,u,o){return function(){function a(){var n,e,r=t(h,v);r&&(n=r[0]-M[0],e=r[1]-M[1],g|=n|e,M=r,p({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:n,dy:e}))}function l(){t(h,v)&&(y.on(u+d,null).on(o+d,null),m(g),p({type:"dragend"}))}var c,f=this,s=ao.event.target,h=f.parentNode,p=r.of(f,arguments),g=0,v=n(),d=".drag"+(null==v?"":"-"+v),y=ao.select(e(s)).on(u+d,a).on(o+d,l),m=W(s),M=t(h,v);i?(c=i.apply(f,arguments),c=[c.x-M[0],c.y-M[1]]):c=[0,0],p({type:"dragstart"})}}var r=N(n,"drag","dragstart","dragend"),i=null,u=e(b,ao.mouse,t,"mousemove","mouseup"),o=e(G,ao.touch,m,"touchmove","touchend");return n.origin=function(t){return arguments.length?(i=t,n):i},ao.rebind(n,r,"on")},ao.touches=function(n,t){return arguments.length<2&&(t=k().touches),t?co(t).map(function(t){var e=J(n,t);return e.identifier=t.identifier,e}):[]};var Ro=1e-6,Do=Ro*Ro,Po=Math.PI,jo=2*Po,Uo=jo-Ro,Fo=Po/2,Ho=Po/180,Oo=180/Po,Io=Math.SQRT2,Yo=2,Zo=4;ao.interpolateZoom=function(n,t){var e,r,i=n[0],u=n[1],o=n[2],a=t[0],l=t[1],c=t[2],f=a-i,s=l-u,h=f*f+s*s;if(h<Do)r=Math.log(c/o)/Io,e=function(n){return[i+n*f,u+n*s,o*Math.exp(Io*n*r)]};else{var p=Math.sqrt(h),g=(c*c-o*o+Zo*h)/(2*o*Yo*p),v=(c*c-o*o-Zo*h)/(2*c*Yo*p),d=Math.log(Math.sqrt(g*g+1)-g),y=Math.log(Math.sqrt(v*v+1)-v);r=(y-d)/Io,e=function(n){var t=n*r,e=rn(d),a=o/(Yo*p)*(e*un(Io*t+d)-en(d));return[i+a*f,u+a*s,o*e/rn(Io*t+d)]}}return e.duration=1e3*r,e},ao.behavior.zoom=function(){function n(n){n.on(L,s).on(Xo+".zoom",p).on("dblclick.zoom",g).on(R,h)}function e(n){return[(n[0]-k.x)/k.k,(n[1]-k.y)/k.k]}function r(n){return[n[0]*k.k+k.x,n[1]*k.k+k.y]}function i(n){k.k=Math.max(A[0],Math.min(A[1],n))}function u(n,t){t=r(t),k.x+=n[0]-t[0],k.y+=n[1]-t[1]}function o(t,e,r,o){t.__chart__={x:k.x,y:k.y,k:k.k},i(Math.pow(2,o)),u(d=e,r),t=ao.select(t),C>0&&(t=t.transition().duration(C)),t.call(n.event)}function a(){b&&b.domain(x.range().map(function(n){return(n-k.x)/k.k}).map(x.invert)),w&&w.domain(_.range().map(function(n){return(n-k.y)/k.k}).map(_.invert))}function l(n){z++||n({type:"zoomstart"})}function c(n){a(),n({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function f(n){--z||(n({type:"zoomend"}),d=null)}function s(){function n(){a=1,u(ao.mouse(i),h),c(o)}function r(){s.on(q,null).on(T,null),p(a),f(o)}var i=this,o=D.of(i,arguments),a=0,s=ao.select(t(i)).on(q,n).on(T,r),h=e(ao.mouse(i)),p=W(i);Fl.call(i),l(o)}function h(){function n(){var n=ao.touches(g);return p=k.k,n.forEach(function(n){n.identifier in d&&(d[n.identifier]=e(n))}),n}function t(){var t=ao.event.target;ao.select(t).on(x,r).on(b,a),_.push(t);for(var e=ao.event.changedTouches,i=0,u=e.length;i<u;++i)d[e[i].identifier]=null;var l=n(),c=Date.now();if(1===l.length){if(c-M<500){var f=l[0];o(g,f,d[f.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),S()}M=c}else if(l.length>1){var f=l[0],s=l[1],h=f[0]-s[0],p=f[1]-s[1];y=h*h+p*p}}function r(){var n,t,e,r,o=ao.touches(g);Fl.call(g);for(var a=0,l=o.length;a<l;++a,r=null)if(e=o[a],r=d[e.identifier]){if(t)break;n=e,t=r}if(r){var f=(f=e[0]-n[0])*f+(f=e[1]-n[1])*f,s=y&&Math.sqrt(f/y);n=[(n[0]+e[0])/2,(n[1]+e[1])/2],t=[(t[0]+r[0])/2,(t[1]+r[1])/2],i(s*p)}M=null,u(n,t),c(v)}function a(){if(ao.event.touches.length){for(var t=ao.event.changedTouches,e=0,r=t.length;e<r;++e)delete d[t[e].identifier];for(var i in d)return void n()}ao.selectAll(_).on(m,null),w.on(L,s).on(R,h),N(),f(v)}var p,g=this,v=D.of(g,arguments),d={},y=0,m=".zoom-"+ao.event.changedTouches[0].identifier,x="touchmove"+m,b="touchend"+m,_=[],w=ao.select(g),N=W(g);t(),l(v),w.on(L,null).on(R,t)}function p(){var n=D.of(this,arguments);m?clearTimeout(m):(Fl.call(this),v=e(d=y||ao.mouse(this)),l(n)),m=setTimeout(function(){m=null,f(n)},50),S(),i(Math.pow(2,.002*Vo())*k.k),u(d,v),c(n)}function g(){var n=ao.mouse(this),t=Math.log(k.k)/Math.LN2;o(this,n,e(n),ao.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}var v,d,y,m,M,x,b,_,w,k={x:0,y:0,k:1},E=[960,500],A=$o,C=250,z=0,L="mousedown.zoom",q="mousemove.zoom",T="mouseup.zoom",R="touchstart.zoom",D=N(n,"zoomstart","zoom","zoomend");return Xo||(Xo="onwheel"in fo?(Vo=function(){return-ao.event.deltaY*(ao.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fo?(Vo=function(){return ao.event.wheelDelta},"mousewheel"):(Vo=function(){return-ao.event.detail},"MozMousePixelScroll")),n.event=function(n){n.each(function(){var n=D.of(this,arguments),t=k;jl?ao.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},l(n)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],i=d?d[0]:e/2,u=d?d[1]:r/2,o=ao.interpolateZoom([(i-k.x)/k.k,(u-k.y)/k.k,e/k.k],[(i-t.x)/t.k,(u-t.y)/t.k,e/t.k]);return function(t){var r=o(t),a=e/r[2];this.__chart__=k={x:i-r[0]*a,y:u-r[1]*a,k:a},c(n)}}).each("interrupt.zoom",function(){f(n)}).each("end.zoom",function(){f(n)}):(this.__chart__=k,l(n),c(n),f(n))})},n.translate=function(t){return arguments.length?(k={x:+t[0],y:+t[1],k:k.k},a(),n):[k.x,k.y]},n.scale=function(t){return arguments.length?(k={x:k.x,y:k.y,k:null},i(+t),a(),n):k.k},n.scaleExtent=function(t){return arguments.length?(A=null==t?$o:[+t[0],+t[1]],n):A},n.center=function(t){return arguments.length?(y=t&&[+t[0],+t[1]],n):y},n.size=function(t){return arguments.length?(E=t&&[+t[0],+t[1]],n):E},n.duration=function(t){return arguments.length?(C=+t,n):C},n.x=function(t){return arguments.length?(b=t,x=t.copy(),k={x:0,y:0,k:1},n):b},n.y=function(t){return arguments.length?(w=t,_=t.copy(),k={x:0,y:0,k:1},n):w},ao.rebind(n,D,"on")};var Vo,Xo,$o=[0,1/0];ao.color=an,an.prototype.toString=function(){return this.rgb()+""},ao.hsl=ln;var Bo=ln.prototype=new an;Bo.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,this.l/n)},Bo.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new ln(this.h,this.s,n*this.l)},Bo.rgb=function(){return cn(this.h,this.s,this.l)},ao.hcl=fn;var Wo=fn.prototype=new an;Wo.brighter=function(n){return new fn(this.h,this.c,Math.min(100,this.l+Jo*(arguments.length?n:1)))},Wo.darker=function(n){return new fn(this.h,this.c,Math.max(0,this.l-Jo*(arguments.length?n:1)))},Wo.rgb=function(){return sn(this.h,this.c,this.l).rgb()},ao.lab=hn;var Jo=18,Go=.95047,Ko=1,Qo=1.08883,na=hn.prototype=new an;na.brighter=function(n){return new hn(Math.min(100,this.l+Jo*(arguments.length?n:1)),this.a,this.b)},na.darker=function(n){return new hn(Math.max(0,this.l-Jo*(arguments.length?n:1)),this.a,this.b)},na.rgb=function(){return pn(this.l,this.a,this.b)},ao.rgb=mn;var ta=mn.prototype=new an;ta.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,i=30;return t||e||r?(t&&t<i&&(t=i),e&&e<i&&(e=i),r&&r<i&&(r=i),new mn(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new mn(i,i,i)},ta.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new mn(n*this.r,n*this.g,n*this.b)},ta.hsl=function(){return wn(this.r,this.g,this.b)},ta.toString=function(){return"#"+bn(this.r)+bn(this.g)+bn(this.b)};var ea=ao.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ea.forEach(function(n,t){ea.set(n,Mn(t))}),ao.functor=En,ao.xhr=An(m),ao.dsv=function(n,t){function e(n,e,u){arguments.length<3&&(u=e,e=null);var o=Cn(n,t,null==e?r:i(e),u);return o.row=function(n){return arguments.length?o.response(null==(e=n)?r:i(n)):e},o}function r(n){return e.parse(n.responseText)}function i(n){return function(t){return e.parse(t.responseText,n)}}function u(t){return t.map(o).join(n)}function o(n){return a.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}var a=new RegExp('["'+n+"\n]"),l=n.charCodeAt(0);return e.parse=function(n,t){var r;return e.parseRows(n,function(n,e){if(r)return r(n,e-1);var i=new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");r=t?function(n,e){return t(i(n),e)}:i})},e.parseRows=function(n,t){function e(){if(f>=c)return o;if(i)return i=!1,u;var t=f;if(34===n.charCodeAt(t)){for(var e=t;e++<c;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}f=e+2;var r=n.charCodeAt(e+1);return 13===r?(i=!0,10===n.charCodeAt(e+2)&&++f):10===r&&(i=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;f<c;){var r=n.charCodeAt(f++),a=1;if(10===r)i=!0;else if(13===r)i=!0,10===n.charCodeAt(f)&&(++f,++a);else if(r!==l)continue;return n.slice(t,f-a)}return n.slice(t)}for(var r,i,u={},o={},a=[],c=n.length,f=0,s=0;(r=e())!==o;){for(var h=[];r!==u&&r!==o;)h.push(r),r=e();t&&null==(h=t(h,s++))||a.push(h)}return a},e.format=function(t){if(Array.isArray(t[0]))return e.formatRows(t);var r=new y,i=[];return t.forEach(function(n){for(var t in n)r.has(t)||i.push(r.add(t))}),[i.map(o).join(n)].concat(t.map(function(t){return i.map(function(n){return o(t[n])}).join(n)})).join("\n")},e.formatRows=function(n){return n.map(u).join("\n")},e},ao.csv=ao.dsv(",","text/csv"),ao.tsv=ao.dsv("\t","text/tab-separated-values");var ra,ia,ua,oa,aa=this[x(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};ao.timer=function(){qn.apply(this,arguments)},ao.timer.flush=function(){Rn(),Dn()},ao.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var la=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(jn);ao.formatPrefix=function(n,t){var e=0;return(n=+n)&&(n<0&&(n*=-1),t&&(n=ao.round(n,Pn(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),la[8+e/3]};var ca=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fa=ao.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=ao.round(n,Pn(n,t))).toFixed(Math.max(0,Math.min(20,Pn(n*(1+1e-15),t))))}}),sa=ao.time={},ha=Date;Hn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){pa.setUTCDate.apply(this._,arguments)},setDay:function(){pa.setUTCDay.apply(this._,arguments)},setFullYear:function(){pa.setUTCFullYear.apply(this._,arguments)},setHours:function(){pa.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){pa.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){pa.setUTCMinutes.apply(this._,arguments)},setMonth:function(){pa.setUTCMonth.apply(this._,arguments)},setSeconds:function(){pa.setUTCSeconds.apply(this._,arguments)},setTime:function(){pa.setTime.apply(this._,arguments)}};var pa=Date.prototype;sa.year=On(function(n){return n=sa.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),sa.years=sa.year.range,sa.years.utc=sa.year.utc.range,sa.day=On(function(n){var t=new ha(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),sa.days=sa.day.range,sa.days.utc=sa.day.utc.range,sa.dayOfYear=function(n){var t=sa.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=sa[n]=On(function(n){return(n=sa.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=sa.year(n).getDay();return Math.floor((sa.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});sa[n+"s"]=e.range,sa[n+"s"].utc=e.utc.range,sa[n+"OfYear"]=function(n){var e=sa.year(n).getDay();return Math.floor((sa.dayOfYear(n)+(e+t)%7)/7)}}),sa.week=sa.sunday,sa.weeks=sa.sunday.range,sa.weeks.utc=sa.sunday.utc.range,sa.weekOfYear=sa.sundayOfYear;var ga={"-":"",_:" ",0:"0"},va=/^\s*\d+/,da=/^%/;ao.locale=function(n){return{numberFormat:Un(n),timeFormat:Yn(n)}};var ya=ao.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ao.format=ya.numberFormat,ao.geo={},ft.prototype={s:0,t:0,add:function(n){st(n,this.t,ma),st(ma.s,this.s,this),this.s?this.t+=ma.t:this.s=ma.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ma=new ft;ao.geo.stream=function(n,t){n&&Ma.hasOwnProperty(n.type)?Ma[n.type](n,t):ht(n,t)};var Ma={Feature:function(n,t){ht(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)ht(e[r].geometry,t)}},xa={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){pt(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)pt(e[r],t,0)},Polygon:function(n,t){gt(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)gt(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)ht(e[r],t)}};ao.geo.area=function(n){return ba=0,ao.geo.stream(n,wa),ba};var ba,_a=new ft,wa={sphere:function(){ba+=4*Po},point:b,lineStart:b,lineEnd:b,polygonStart:function(){_a.reset(),wa.lineStart=vt},polygonEnd:function(){var n=2*_a;ba+=n<0?4*Po+n:n,wa.lineStart=wa.lineEnd=wa.point=b}};ao.geo.bounds=function(){function n(n,t){M.push(x=[f=n,h=n]),t<s&&(s=t),t>p&&(p=t)}function t(t,e){var r=dt([t*Ho,e*Ho]);if(y){var i=mt(y,r),u=[i[1],-i[0],0],o=mt(u,i);bt(o),o=_t(o);var l=t-g,c=l>0?1:-1,v=o[0]*Oo*c,d=mo(l)>180;if(d^(c*g<v&&v<c*t)){var m=o[1]*Oo;m>p&&(p=m)}else if(v=(v+360)%360-180,d^(c*g<v&&v<c*t)){var m=-o[1]*Oo;m<s&&(s=m)}else e<s&&(s=e),e>p&&(p=e);d?t<g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t):h>=f?(t<f&&(f=t),t>h&&(h=t)):t>g?a(f,t)>a(f,h)&&(h=t):a(t,h)>a(f,h)&&(f=t)}else n(t,e);y=r,g=t}function e(){b.point=t}function r(){x[0]=f,x[1]=h,b.point=n,y=null}function i(n,e){if(y){var r=n-g;m+=mo(r)>180?r+(r>0?360:-360):r}else v=n,d=e;wa.point(n,e),t(n,e)}function u(){wa.lineStart()}function o(){i(v,d),wa.lineEnd(),mo(m)>Ro&&(f=-(h=180)),x[0]=f,x[1]=h,y=null}function a(n,t){return(t-=n)<0?t+360:t}function l(n,t){return n[0]-t[0]}function c(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var f,s,h,p,g,v,d,y,m,M,x,b={point:n,lineStart:e,lineEnd:r,polygonStart:function(){b.point=i,b.lineStart=u,b.lineEnd=o,m=0,wa.polygonStart()},polygonEnd:function(){wa.polygonEnd(),b.point=n,b.lineStart=e,b.lineEnd=r,_a<0?(f=-(h=180),s=-(p=90)):m>Ro?p=90:m<-Ro&&(s=-90),x[0]=f,x[1]=h}};return function(n){p=h=-(f=s=1/0),M=[],ao.geo.stream(n,b);var t=M.length;if(t){M.sort(l);for(var e,r=1,i=M[0],u=[i];r<t;++r)e=M[r],c(e[0],i)||c(e[1],i)?(a(i[0],e[1])>a(i[0],i[1])&&(i[1]=e[1]),a(e[0],i[1])>a(i[0],i[1])&&(i[0]=e[0])):u.push(i=e);for(var o,e,g=-(1/0),t=u.length-1,r=0,i=u[t];r<=t;i=e,++r)e=u[r],(o=a(i[1],e[0]))>g&&(g=o,f=e[0],h=i[1])}return M=x=null,f===1/0||s===1/0?[[NaN,NaN],[NaN,NaN]]:[[f,s],[h,p]]}}(),ao.geo.centroid=function(n){Sa=ka=Na=Ea=Aa=Ca=za=La=qa=Ta=Ra=0,ao.geo.stream(n,Da);var t=qa,e=Ta,r=Ra,i=t*t+e*e+r*r;return i<Do&&(t=Ca,e=za,r=La,ka<Ro&&(t=Na,e=Ea,r=Aa),i=t*t+e*e+r*r,i<Do)?[NaN,NaN]:[Math.atan2(e,t)*Oo,tn(r/Math.sqrt(i))*Oo]};var Sa,ka,Na,Ea,Aa,Ca,za,La,qa,Ta,Ra,Da={sphere:b,point:St,lineStart:Nt,lineEnd:Et,polygonStart:function(){Da.lineStart=At},polygonEnd:function(){Da.lineStart=Nt}},Pa=Rt(zt,Ut,Ht,[-Po,-Po/2]),ja=1e9;ao.geo.clipExtent=function(){var n,t,e,r,i,u,o={stream:function(n){return i&&(i.valid=!1),i=u(n),i.valid=!0,i},extent:function(a){return arguments.length?(u=Zt(n=+a[0][0],t=+a[0][1],e=+a[1][0],r=+a[1][1]),i&&(i.valid=!1,i=null),o):[[n,t],[e,r]]}};return o.extent([[0,0],[960,500]])},(ao.geo.conicEqualArea=function(){return Vt(Xt)}).raw=Xt,ao.geo.albers=function(){return ao.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ao.geo.albersUsa=function(){function n(n){var u=n[0],o=n[1];return t=null,e(u,o),t||(r(u,o),t)||i(u,o),t}var t,e,r,i,u=ao.geo.albers(),o=ao.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ao.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(n,e){t=[n,e]}};return n.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?a:u).invert(n)},n.stream=function(n){var t=u.stream(n),e=o.stream(n),r=a.stream(n);return{point:function(n,i){t.point(n,i),e.point(n,i),r.point(n,i)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},n.precision=function(t){return arguments.length?(u.precision(t),o.precision(t),a.precision(t),n):u.precision()},n.scale=function(t){return arguments.length?(u.scale(t),o.scale(.35*t),a.scale(t),n.translate(u.translate())):u.scale()},n.translate=function(t){if(!arguments.length)return u.translate();var c=u.scale(),f=+t[0],s=+t[1];return e=u.translate(t).clipExtent([[f-.455*c,s-.238*c],[f+.455*c,s+.238*c]]).stream(l).point,r=o.translate([f-.307*c,s+.201*c]).clipExtent([[f-.425*c+Ro,s+.12*c+Ro],[f-.214*c-Ro,s+.234*c-Ro]]).stream(l).point,i=a.translate([f-.205*c,s+.212*c]).clipExtent([[f-.214*c+Ro,s+.166*c+Ro],[f-.115*c-Ro,s+.234*c-Ro]]).stream(l).point,n},n.scale(1070)};var Ua,Fa,Ha,Oa,Ia,Ya,Za={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Fa=0,Za.lineStart=$t},polygonEnd:function(){Za.lineStart=Za.lineEnd=Za.point=b,Ua+=mo(Fa/2)}},Va={point:Bt,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Xa={point:Gt,lineStart:Kt,lineEnd:Qt,polygonStart:function(){Xa.lineStart=ne},polygonEnd:function(){Xa.point=Gt,Xa.lineStart=Kt,Xa.lineEnd=Qt}};ao.geo.path=function(){function n(n){return n&&("function"==typeof a&&u.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=i(u)),ao.geo.stream(n,o)),u.result()}function t(){return o=null,n}var e,r,i,u,o,a=4.5;return n.area=function(n){return Ua=0,ao.geo.stream(n,i(Za)),Ua},n.centroid=function(n){return Na=Ea=Aa=Ca=za=La=qa=Ta=Ra=0,ao.geo.stream(n,i(Xa)),Ra?[qa/Ra,Ta/Ra]:La?[Ca/La,za/La]:Aa?[Na/Aa,Ea/Aa]:[NaN,NaN]},n.bounds=function(n){return Ia=Ya=-(Ha=Oa=1/0),ao.geo.stream(n,i(Va)),[[Ha,Oa],[Ia,Ya]]},n.projection=function(n){return arguments.length?(i=(e=n)?n.stream||re(n):m,t()):e},n.context=function(n){return arguments.length?(u=null==(r=n)?new Wt:new te(n),"function"!=typeof a&&u.pointRadius(a),t()):r},n.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(u.pointRadius(+t),+t),n):a},n.projection(ao.geo.albersUsa()).context(null)},ao.geo.transform=function(n){return{stream:function(t){var e=new ie(t);for(var r in n)e[r]=n[r];return e}}},ie.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ao.geo.projection=oe,ao.geo.projectionMutator=ae,(ao.geo.equirectangular=function(){return oe(ce)}).raw=ce.invert=ce,ao.geo.rotation=function(n){function t(t){return t=n(t[0]*Ho,t[1]*Ho),t[0]*=Oo,t[1]*=Oo,t}return n=se(n[0]%360*Ho,n[1]*Ho,n.length>2?n[2]*Ho:0),t.invert=function(t){return t=n.invert(t[0]*Ho,t[1]*Ho),t[0]*=Oo,t[1]*=Oo,t},t},fe.invert=ce,ao.geo.circle=function(){function n(){var n="function"==typeof r?r.apply(this,arguments):r,t=se(-n[0]*Ho,-n[1]*Ho,0).invert,i=[];return e(null,null,1,{point:function(n,e){i.push(n=t(n,e)),n[0]*=Oo,n[1]*=Oo}}),{type:"Polygon",coordinates:[i]}}var t,e,r=[0,0],i=6;return n.origin=function(t){return arguments.length?(r=t,n):r},n.angle=function(r){return arguments.length?(e=ve((t=+r)*Ho,i*Ho),n):t},n.precision=function(r){return arguments.length?(e=ve(t*Ho,(i=+r)*Ho),n):i},n.angle(90)},ao.geo.distance=function(n,t){var e,r=(t[0]-n[0])*Ho,i=n[1]*Ho,u=t[1]*Ho,o=Math.sin(r),a=Math.cos(r),l=Math.sin(i),c=Math.cos(i),f=Math.sin(u),s=Math.cos(u);return Math.atan2(Math.sqrt((e=s*o)*e+(e=c*f-l*s*a)*e),l*f+c*s*a)},ao.geo.graticule=function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return ao.range(Math.ceil(u/d)*d,i,d).map(h).concat(ao.range(Math.ceil(c/y)*y,l,y).map(p)).concat(ao.range(Math.ceil(r/g)*g,e,g).filter(function(n){return mo(n%d)>Ro}).map(f)).concat(ao.range(Math.ceil(a/v)*v,o,v).filter(function(n){return mo(n%y)>Ro}).map(s))}var e,r,i,u,o,a,l,c,f,s,h,p,g=10,v=g,d=90,y=360,m=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[h(u).concat(p(l).slice(1),h(i).reverse().slice(1),p(c).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.majorExtent(t).minorExtent(t):n.minorExtent()},n.majorExtent=function(t){return arguments.length?(u=+t[0][0],i=+t[1][0],c=+t[0][1],l=+t[1][1],u>i&&(t=u,u=i,i=t),c>l&&(t=c,c=l,l=t),n.precision(m)):[[u,c],[i,l]]},n.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],r>e&&(t=r,r=e,e=t),a>o&&(t=a,a=o,o=t),n.precision(m)):[[r,a],[e,o]]},n.step=function(t){return arguments.length?n.majorStep(t).minorStep(t):n.minorStep()},n.majorStep=function(t){return arguments.length?(d=+t[0],y=+t[1],n):[d,y]},n.minorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],n):[g,v]},n.precision=function(t){return arguments.length?(m=+t,f=ye(a,o,90),s=me(r,e,m),h=ye(c,l,90),p=me(u,i,m),n):m},n.majorExtent([[-180,-90+Ro],[180,90-Ro]]).minorExtent([[-180,-80-Ro],[180,80+Ro]])},ao.geo.greatArc=function(){function n(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||i.apply(this,arguments)]}}var t,e,r=Me,i=xe;return n.distance=function(){return ao.geo.distance(t||r.apply(this,arguments),e||i.apply(this,arguments))},n.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,n):r},n.target=function(t){return arguments.length?(i=t,e="function"==typeof t?null:t,n):i},n.precision=function(){return arguments.length?n:0},n},ao.geo.interpolate=function(n,t){return be(n[0]*Ho,n[1]*Ho,t[0]*Ho,t[1]*Ho)},ao.geo.length=function(n){return $a=0,ao.geo.stream(n,Ba),$a};var $a,Ba={sphere:b,point:b,lineStart:_e,lineEnd:b,polygonStart:b,polygonEnd:b},Wa=we(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(ao.geo.azimuthalEqualArea=function(){return oe(Wa)}).raw=Wa;var Ja=we(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},m);(ao.geo.azimuthalEquidistant=function(){return oe(Ja)}).raw=Ja,(ao.geo.conicConformal=function(){return Vt(Se)}).raw=Se,(ao.geo.conicEquidistant=function(){return Vt(ke)}).raw=ke;var Ga=we(function(n){return 1/n},Math.atan);(ao.geo.gnomonic=function(){return oe(Ga)}).raw=Ga,Ne.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-Fo]},(ao.geo.mercator=function(){return Ee(Ne)}).raw=Ne;var Ka=we(function(){return 1},Math.asin);(ao.geo.orthographic=function(){return oe(Ka)}).raw=Ka;var Qa=we(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});(ao.geo.stereographic=function(){return oe(Qa)}).raw=Qa,Ae.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-Fo]},(ao.geo.transverseMercator=function(){var n=Ee(Ae),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):(n=e(),[n[0],n[1],n[2]-90])},e([0,0,90])}).raw=Ae,ao.geom={},ao.geom.hull=function(n){function t(n){if(n.length<3)return[];var t,i=En(e),u=En(r),o=n.length,a=[],l=[];for(t=0;t<o;t++)a.push([+i.call(this,n[t],t),+u.call(this,n[t],t),t]);for(a.sort(qe),t=0;t<o;t++)l.push([a[t][0],-a[t][1]]);var c=Le(a),f=Le(l),s=f[0]===c[0],h=f[f.length-1]===c[c.length-1],p=[];for(t=c.length-1;t>=0;--t)p.push(n[a[c[t]][2]]);for(t=+s;t<f.length-h;++t)p.push(n[a[f[t]][2]]);return p}var e=Ce,r=ze;return arguments.length?t(n):(t.x=function(n){return arguments.length?(e=n,t):e},t.y=function(n){return arguments.length?(r=n,t):r},t)},ao.geom.polygon=function(n){return wo(n,nl),n};var nl=ao.geom.polygon.prototype=[];nl.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return.5*i},nl.centroid=function(n){var t,e,r=-1,i=this.length,u=0,o=0,a=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++r<i;)t=a,a=this[r],e=t[0]*a[1]-a[0]*t[1],u+=(t[0]+a[0])*e,o+=(t[1]+a[1])*e;return[u*n,o*n]},nl.clip=function(n){for(var t,e,r,i,u,o,a=De(n),l=-1,c=this.length-De(this),f=this[c-1];++l<c;){for(t=n.slice(),n.length=0,i=this[l],u=t[(r=t.length-a)-1],e=-1;++e<r;)o=t[e],Te(o,f,i)?(Te(u,f,i)||n.push(Re(u,o,f,i)),n.push(o)):Te(u,f,i)&&n.push(Re(u,o,f,i)),u=o;a&&n.push(n[0]),f=i}return n};var tl,el,rl,il,ul,ol=[],al=[];Ye.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)n=t[e].edge,n.b&&n.a||t.splice(e,1);return t.sort(Ve),t.length},tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},er.prototype={insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=or(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(ir(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ur(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(ur(this,e),n=e,e=n.U),e.C=!1,r.C=!0,ir(this,r))),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,i=n.U,u=n.L,o=n.R;if(e=u?o?or(o):u:o,i?i.L===n?i.L=e:i.R=e:this._=e,u&&o?(r=e.C,e.C=n.C,e.L=u,u.U=e,e!==o?(i=e.U,e.U=n.U,n=e.R,i.L=n,e.R=o,o.U=e):(e.U=i,i=e,n=e.R)):(r=n.C,n=e),n&&(n.U=i),!r){if(n&&n.C)return void(n.C=!1);do{if(n===this._)break;if(n===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,ir(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ur(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,ir(this,i),n=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ur(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,ir(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ur(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C);n&&(n.C=!1)}}},ao.geom.voronoi=function(n){function t(n){var t=new Array(n.length),r=a[0][0],i=a[0][1],u=a[1][0],o=a[1][1];return ar(e(n),a).cells.forEach(function(e,a){var l=e.edges,c=e.site,f=t[a]=l.length?l.map(function(n){var t=n.start();return[t.x,t.y]}):c.x>=r&&c.x<=u&&c.y>=i&&c.y<=o?[[r,o],[u,o],[u,i],[r,i]]:[];f.point=n[a]}),t}function e(n){return n.map(function(n,t){return{x:Math.round(u(n,t)/Ro)*Ro,y:Math.round(o(n,t)/Ro)*Ro,i:t}})}var r=Ce,i=ze,u=r,o=i,a=ll;return n?t(n):(t.links=function(n){return ar(e(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},t.triangles=function(n){var t=[];return ar(e(n)).cells.forEach(function(e,r){for(var i,u,o=e.site,a=e.edges.sort(Ve),l=-1,c=a.length,f=a[c-1].edge,s=f.l===o?f.r:f.l;++l<c;)i=f,u=s,f=a[l].edge,s=f.l===o?f.r:f.l,r<u.i&&r<s.i&&cr(o,u,s)<0&&t.push([n[r],n[u.i],n[s.i]])}),t},t.x=function(n){return arguments.length?(u=En(r=n),t):r},t.y=function(n){return arguments.length?(o=En(i=n),t):i},t.clipExtent=function(n){return arguments.length?(a=null==n?ll:n,t):a===ll?null:a},t.size=function(n){return arguments.length?t.clipExtent(n&&[[0,0],n]):a===ll?null:a&&a[1]},t)};var ll=[[-1e6,-1e6],[1e6,1e6]];ao.geom.delaunay=function(n){return ao.geom.voronoi().triangles(n)},ao.geom.quadtree=function(n,t,e,r,i){function u(n){function u(n,t,e,r,i,u,o,a){if(!isNaN(e)&&!isNaN(r))if(n.leaf){var l=n.x,f=n.y;if(null!=l)if(mo(l-e)+mo(f-r)<.01)c(n,t,e,r,i,u,o,a);else{var s=n.point;n.x=n.y=n.point=null,c(n,s,l,f,i,u,o,a),c(n,t,e,r,i,u,o,a)}else n.x=e,n.y=r,n.point=t}else c(n,t,e,r,i,u,o,a)}function c(n,t,e,r,i,o,a,l){var c=.5*(i+a),f=.5*(o+l),s=e>=c,h=r>=f,p=h<<1|s;n.leaf=!1,n=n.nodes[p]||(n.nodes[p]=hr()),s?i=c:a=c,h?o=f:l=f,u(n,t,e,r,i,o,a,l)}var f,s,h,p,g,v,d,y,m,M=En(a),x=En(l);if(null!=t)v=t,d=e,y=r,m=i;else if(y=m=-(v=d=1/0),s=[],h=[],g=n.length,o)for(p=0;p<g;++p)f=n[p],f.x<v&&(v=f.x),f.y<d&&(d=f.y),f.x>y&&(y=f.x),f.y>m&&(m=f.y),s.push(f.x),h.push(f.y);else for(p=0;p<g;++p){var b=+M(f=n[p],p),_=+x(f,p);b<v&&(v=b),_<d&&(d=_),b>y&&(y=b),_>m&&(m=_),s.push(b),h.push(_)}var w=y-v,S=m-d;w>S?m=d+w:y=v+S;var k=hr();if(k.add=function(n){u(k,n,+M(n,++p),+x(n,p),v,d,y,m)},k.visit=function(n){pr(n,k,v,d,y,m)},k.find=function(n){return gr(k,n[0],n[1],v,d,y,m)},p=-1,null==t){for(;++p<g;)u(k,n[p],s[p],h[p],v,d,y,m);--p}else n.forEach(k.add);return s=h=n=f=null,k}var o,a=Ce,l=ze;return(o=arguments.length)?(a=fr,l=sr,3===o&&(i=e,r=t,e=t=0),u(n)):(u.x=function(n){return arguments.length?(a=n,u):a},u.y=function(n){return arguments.length?(l=n,u):l},u.extent=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),u):null==t?null:[[t,e],[r,i]]},u.size=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=e=0,r=+n[0],i=+n[1]),u):null==t?null:[r-t,i-e]},u)},ao.interpolateRgb=vr,ao.interpolateObject=dr,ao.interpolateNumber=yr,ao.interpolateString=mr;var cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fl=new RegExp(cl.source,"g");ao.interpolate=Mr,ao.interpolators=[function(n,t){var e=typeof t;return("string"===e?ea.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?vr:mr:t instanceof an?vr:Array.isArray(t)?xr:"object"===e&&isNaN(t)?dr:yr)(n,t)}],ao.interpolateArray=xr;var sl=function(){return m},hl=ao.map({linear:sl,poly:Er,quad:function(){return Sr},cubic:function(){return kr},sin:function(){return Ar},exp:function(){return Cr},circle:function(){return zr},elastic:Lr,back:qr,bounce:function(){return Tr}}),pl=ao.map({in:m,out:_r,"in-out":wr,"out-in":function(n){return wr(_r(n))}});ao.ease=function(n){var t=n.indexOf("-"),e=t>=0?n.slice(0,t):n,r=t>=0?n.slice(t+1):"in";return e=hl.get(e)||sl,r=pl.get(r)||m,br(r(e.apply(null,lo.call(arguments,1))))},ao.interpolateHcl=Rr,ao.interpolateHsl=Dr,ao.interpolateLab=Pr,ao.interpolateRound=jr,ao.transform=function(n){var t=fo.createElementNS(ao.ns.prefix.svg,"g");return(ao.transform=function(n){if(null!=n){t.setAttribute("transform",n);var e=t.transform.baseVal.consolidate()}return new Ur(e?e.matrix:gl)})(n)},Ur.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};ao.interpolateTransform=$r,ao.layout={},ao.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(Jr(n[e]));return t}},ao.layout.chord=function(){function n(){var n,c,s,h,p,g={},v=[],d=ao.range(u),y=[];for(e=[],r=[],n=0,h=-1;++h<u;){for(c=0,p=-1;++p<u;)c+=i[h][p];v.push(c),y.push(ao.range(u)),n+=c}for(o&&d.sort(function(n,t){return o(v[n],v[t])}),a&&y.forEach(function(n,t){n.sort(function(n,e){return a(i[t][n],i[t][e])})}),n=(jo-f*u)/n,c=0,h=-1;++h<u;){for(s=c,p=-1;++p<u;){var m=d[h],M=y[m][p],x=i[m][M],b=c,_=c+=x*n;g[m+"-"+M]={index:m,subindex:M,startAngle:b,endAngle:_,value:x}}r[m]={index:m,startAngle:s,endAngle:c,value:v[m]},c+=f}for(h=-1;++h<u;)for(p=h-1;++p<u;){var w=g[h+"-"+p],S=g[p+"-"+h];(w.value||S.value)&&e.push(w.value<S.value?{source:S,target:w}:{source:w,target:S})}l&&t()}function t(){e.sort(function(n,t){return l((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}var e,r,i,u,o,a,l,c={},f=0;return c.matrix=function(n){return arguments.length?(u=(i=n)&&i.length,e=r=null,c):i},c.padding=function(n){return arguments.length?(f=n,e=r=null,c):f},c.sortGroups=function(n){return arguments.length?(o=n,e=r=null,c):o},c.sortSubgroups=function(n){return arguments.length?(a=n,e=null,c):a},c.sortChords=function(n){return arguments.length?(l=n,e&&t(),c):l},c.chords=function(){return e||n(),e},c.groups=function(){return r||n(),r},c},ao.layout.force=function(){function n(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,o=t.cy-n.y,a=i-e,l=u*u+o*o;if(a*a/y<l){if(l<v){var c=t.charge/l;n.px-=u*c,n.py-=o*c}return!0}if(t.point&&l&&l<v){var c=t.pointCharge/l;n.px-=u*c,n.py-=o*c}}return!t.charge}}function t(n){n.px=ao.event.x,n.py=ao.event.y,l.resume()}var e,r,i,u,o,a,l={},c=ao.dispatch("start","tick","end"),f=[1,1],s=.9,h=vl,p=dl,g=-30,v=yl,d=.1,y=.64,M=[],x=[];return l.tick=function(){if((i*=.99)<.005)return e=null,c.end({type:"end",alpha:i=0}),!0;var t,r,l,h,p,v,y,m,b,_=M.length,w=x.length;for(r=0;r<w;++r)l=x[r],h=l.source,p=l.target,m=p.x-h.x,b=p.y-h.y,(v=m*m+b*b)&&(v=i*o[r]*((v=Math.sqrt(v))-u[r])/v,m*=v,b*=v,p.x-=m*(y=h.weight+p.weight?h.weight/(h.weight+p.weight):.5),p.y-=b*y,h.x+=m*(y=1-y),h.y+=b*y);if((y=i*d)&&(m=f[0]/2,b=f[1]/2,r=-1,y))for(;++r<_;)l=M[r],l.x+=(m-l.x)*y,l.y+=(b-l.y)*y;if(g)for(ri(t=ao.geom.quadtree(M),i,a),r=-1;++r<_;)(l=M[r]).fixed||t.visit(n(l));for(r=-1;++r<_;)l=M[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*s,l.y-=(l.py-(l.py=l.y))*s);c.tick({type:"tick",alpha:i})},l.nodes=function(n){return arguments.length?(M=n,l):M},l.links=function(n){return arguments.length?(x=n,l):x},l.size=function(n){return arguments.length?(f=n,l):f},l.linkDistance=function(n){return arguments.length?(h="function"==typeof n?n:+n,l):h},l.distance=l.linkDistance,l.linkStrength=function(n){return arguments.length?(p="function"==typeof n?n:+n,l):p},l.friction=function(n){return arguments.length?(s=+n,l):s},l.charge=function(n){return arguments.length?(g="function"==typeof n?n:+n,l):g},l.chargeDistance=function(n){return arguments.length?(v=n*n,l):Math.sqrt(v)},l.gravity=function(n){return arguments.length?(d=+n,l):d},l.theta=function(n){return arguments.length?(y=n*n,l):Math.sqrt(y)},l.alpha=function(n){return arguments.length?(n=+n,i?n>0?i=n:(e.c=null,e.t=NaN,e=null,c.end({type:"end",alpha:i=0})):n>0&&(c.start({type:"start",alpha:i=n}),e=qn(l.tick)),l):i},l.start=function(){function n(n,r){if(!e){for(e=new Array(i),l=0;l<i;++l)e[l]=[];for(l=0;l<c;++l){var u=x[l];e[u.source.index].push(u.target),e[u.target.index].push(u.source)}}for(var o,a=e[t],l=-1,f=a.length;++l<f;)if(!isNaN(o=a[l][n]))return o;return Math.random()*r}var t,e,r,i=M.length,c=x.length,s=f[0],v=f[1];for(t=0;t<i;++t)(r=M[t]).index=t,r.weight=0;for(t=0;t<c;++t)r=x[t],"number"==typeof r.source&&(r.source=M[r.source]),"number"==typeof r.target&&(r.target=M[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<i;++t)r=M[t],isNaN(r.x)&&(r.x=n("x",s)),isNaN(r.y)&&(r.y=n("y",v)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(u=[],"function"==typeof h)for(t=0;t<c;++t)u[t]=+h.call(this,x[t],t);else for(t=0;t<c;++t)u[t]=h;if(o=[],"function"==typeof p)for(t=0;t<c;++t)o[t]=+p.call(this,x[t],t);else for(t=0;t<c;++t)o[t]=p;if(a=[],"function"==typeof g)for(t=0;t<i;++t)a[t]=+g.call(this,M[t],t);else for(t=0;t<i;++t)a[t]=g;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=ao.behavior.drag().origin(m).on("dragstart.force",Qr).on("drag.force",t).on("dragend.force",ni)),arguments.length?void this.on("mouseover.force",ti).on("mouseout.force",ei).call(r):r},ao.rebind(l,c,"on")};var vl=20,dl=1,yl=1/0;ao.layout.hierarchy=function(){function n(i){var u,o=[i],a=[];for(i.depth=0;null!=(u=o.pop());)if(a.push(u),(c=e.call(n,u,u.depth))&&(l=c.length)){for(var l,c,f;--l>=0;)o.push(f=c[l]),f.parent=u,f.depth=u.depth+1;r&&(u.value=0),u.children=c}else r&&(u.value=+r.call(n,u,u.depth)||0),delete u.children;return oi(i,function(n){var e,i;t&&(e=n.children)&&e.sort(t),r&&(i=n.parent)&&(i.value+=n.value)}),a}var t=ci,e=ai,r=li;return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&&(ui(t,function(n){n.children&&(n.value=0)}),oi(t,function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},n},ao.layout.partition=function(){function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(o=u.length)){var o,a,l,c=-1;for(r=t.value?r/t.value:0;++c<o;)n(a=u[c],e,l=a.value*r,i),e+=l}}function t(n){var e=n.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,t(e[u]));return 1+r}function e(e,u){var o=r.call(this,e,u);return n(o[0],0,i[0],i[1]/t(o[0])),o}var r=ao.layout.hierarchy(),i=[1,1];return e.size=function(n){return arguments.length?(i=n,e):i},ii(e,r)},ao.layout.pie=function(){function n(o){var a,l=o.length,c=o.map(function(e,r){return+t.call(n,e,r)}),f=+("function"==typeof r?r.apply(this,arguments):r),s=("function"==typeof i?i.apply(this,arguments):i)-f,h=Math.min(Math.abs(s)/l,+("function"==typeof u?u.apply(this,arguments):u)),p=h*(s<0?-1:1),g=ao.sum(c),v=g?(s-l*p)/g:0,d=ao.range(l),y=[];return null!=e&&d.sort(e===ml?function(n,t){return c[t]-c[n]}:function(n,t){return e(o[n],o[t])}),d.forEach(function(n){y[n]={data:o[n],value:a=c[n],startAngle:f,endAngle:f+=a*v+p,padAngle:h}}),y}var t=Number,e=ml,r=0,i=jo,u=0;return n.value=function(e){return arguments.length?(t=e,n):t},n.sort=function(t){return arguments.length?(e=t,n):e},n.startAngle=function(t){return arguments.length?(r=t,n):r},n.endAngle=function(t){return arguments.length?(i=t,n):i},n.padAngle=function(t){return arguments.length?(u=t,n):u},n};var ml={};ao.layout.stack=function(){function n(a,l){if(!(h=a.length))return a;var c=a.map(function(e,r){return t.call(n,e,r)}),f=c.map(function(t){return t.map(function(t,e){return[u.call(n,t,e),o.call(n,t,e)]})}),s=e.call(n,f,l);c=ao.permute(c,s),f=ao.permute(f,s);var h,p,g,v,d=r.call(n,f,l),y=c[0].length;for(g=0;g<y;++g)for(i.call(n,c[0][g],v=d[g],f[0][g][1]),p=1;p<h;++p)i.call(n,c[p][g],v+=f[p-1][g][1],f[p][g][1]);return a}var t=m,e=gi,r=vi,i=pi,u=si,o=hi;return n.values=function(e){return arguments.length?(t=e,n):t},n.order=function(t){return arguments.length?(e="function"==typeof t?t:Ml.get(t)||gi,n):e},n.offset=function(t){return arguments.length?(r="function"==typeof t?t:xl.get(t)||vi,n):r},n.x=function(t){return arguments.length?(u=t,n):u},n.y=function(t){return arguments.length?(o=t,n):o},n.out=function(t){return arguments.length?(i=t,n):i},n};var Ml=ao.map({"inside-out":function(n){var t,e,r=n.length,i=n.map(di),u=n.map(yi),o=ao.range(r).sort(function(n,t){return i[n]-i[t]}),a=0,l=0,c=[],f=[];for(t=0;t<r;++t)e=o[t],a<l?(a+=u[e],c.push(e)):(l+=u[e],f.push(e));return f.reverse().concat(c)},reverse:function(n){return ao.range(n.length).reverse()},default:gi}),xl=ao.map({silhouette:function(n){var t,e,r,i=n.length,u=n[0].length,o=[],a=0,l=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];r>a&&(a=r),o.push(r)}for(e=0;e<u;++e)l[e]=(a-o[e])/2;return l},wiggle:function(n){var t,e,r,i,u,o,a,l,c,f=n.length,s=n[0],h=s.length,p=[];for(p[0]=l=c=0,e=1;e<h;++e){for(t=0,i=0;t<f;++t)i+=n[t][e][1];for(t=0,u=0,a=s[e][0]-s[e-1][0];t<f;++t){for(r=0,o=(n[t][e][1]-n[t][e-1][1])/(2*a);r<t;++r)o+=(n[r][e][1]-n[r][e-1][1])/a;u+=o*n[t][e][1]}p[e]=l-=i?u/i*a:0,l<c&&(c=l)}for(e=0;e<h;++e)p[e]-=c;return p},expand:function(n){var t,e,r,i=n.length,u=n[0].length,o=1/i,a=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];if(r)for(t=0;t<i;t++)n[t][e][1]/=r;else for(t=0;t<i;t++)n[t][e][1]=o}for(e=0;e<u;++e)a[e]=0;return a},zero:vi});ao.layout.histogram=function(){function n(n,u){for(var o,a,l=[],c=n.map(e,this),f=r.call(this,c,u),s=i.call(this,f,c,u),u=-1,h=c.length,p=s.length-1,g=t?1:1/h;++u<p;)o=l[u]=[],o.dx=s[u+1]-(o.x=s[u]),o.y=0;if(p>0)for(u=-1;++u<h;)a=c[u],a>=f[0]&&a<=f[1]&&(o=l[ao.bisect(s,a,1,p)-1],o.y+=g,o.push(n[u]));return l}var t=!0,e=Number,r=bi,i=Mi;return n.value=function(t){return arguments.length?(e=t,n):e},n.range=function(t){return arguments.length?(r=En(t),n):r},n.bins=function(t){return arguments.length?(i="number"==typeof t?function(n){return xi(n,t)}:En(t),n):i},n.frequency=function(e){return arguments.length?(t=!!e,n):t},n},ao.layout.pack=function(){function n(n,u){var o=e.call(this,n,u),a=o[0],l=i[0],c=i[1],f=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(a.x=a.y=0,oi(a,function(n){n.r=+f(n.value)}),oi(a,Ni),r){var s=r*(t?1:Math.max(2*a.r/l,2*a.r/c))/2;oi(a,function(n){n.r+=s}),oi(a,Ni),oi(a,function(n){n.r-=s})}return Ci(a,l/2,c/2,t?1:1/Math.max(2*a.r/l,2*a.r/c)),o}var t,e=ao.layout.hierarchy().sort(_i),r=0,i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},n.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,n):t},n.padding=function(t){return arguments.length?(r=+t,n):r},ii(n,e)},ao.layout.tree=function(){function n(n,i){var f=o.call(this,n,i),s=f[0],h=t(s);if(oi(h,e),h.parent.m=-h.z,ui(h,r),c)ui(s,u);else{var p=s,g=s,v=s;ui(s,function(n){n.x<p.x&&(p=n),n.x>g.x&&(g=n),n.depth>v.depth&&(v=n)});var d=a(p,g)/2-p.x,y=l[0]/(g.x+a(g,p)/2+d),m=l[1]/(v.depth||1);ui(s,function(n){n.x=(n.x+d)*y,n.y=n.depth*m})}return f}function t(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var i,u=t.children,o=0,a=u.length;o<a;++o)r.push((u[o]=i={_:u[o],parent:t,children:(i=u[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return e.children[0]}function e(n){var t=n.children,e=n.parent.children,r=n.i?e[n.i-1]:null;if(t.length){Di(n);var u=(t[0].z+t[t.length-1].z)/2;r?(n.z=r.z+a(n._,r._),n.m=n.z-u):n.z=u}else r&&(n.z=r.z+a(n._,r._));n.parent.A=i(n,r,n.parent.A||e[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function i(n,t,e){if(t){for(var r,i=n,u=n,o=t,l=i.parent.children[0],c=i.m,f=u.m,s=o.m,h=l.m;o=Ti(o),i=qi(i),o&&i;)l=qi(l),u=Ti(u),u.a=n,r=o.z+s-i.z-c+a(o._,i._),r>0&&(Ri(Pi(o,n,e),n,r),c+=r,f+=r),s+=o.m,c+=i.m,h+=l.m,f+=u.m;o&&!Ti(u)&&(u.t=o,u.m+=s-f),i&&!qi(l)&&(l.t=i,l.m+=c-h,e=n)}return e}function u(n){n.x*=l[0],n.y=n.depth*l[1]}var o=ao.layout.hierarchy().sort(null).value(null),a=Li,l=[1,1],c=null;return n.separation=function(t){return arguments.length?(a=t,n):a},n.size=function(t){return arguments.length?(c=null==(l=t)?u:null,n):c?null:l},n.nodeSize=function(t){return arguments.length?(c=null==(l=t)?null:u,n):c?l:null},ii(n,o)},ao.layout.cluster=function(){function n(n,u){var o,a=t.call(this,n,u),l=a[0],c=0;oi(l,function(n){var t=n.children;t&&t.length?(n.x=Ui(t),n.y=ji(t)):(n.x=o?c+=e(n,o):0,n.y=0,o=n)});var f=Fi(l),s=Hi(l),h=f.x-e(f,s)/2,p=s.x+e(s,f)/2;return oi(l,i?function(n){n.x=(n.x-l.x)*r[0],n.y=(l.y-n.y)*r[1]}:function(n){n.x=(n.x-h)/(p-h)*r[0],n.y=(1-(l.y?n.y/l.y:1))*r[1]}),a}var t=ao.layout.hierarchy().sort(null).value(null),e=Li,r=[1,1],i=!1;return n.separation=function(t){return arguments.length?(e=t,n):e},n.size=function(t){return arguments.length?(i=null==(r=t),n):i?null:r},n.nodeSize=function(t){return arguments.length?(i=null!=(r=t),n):i?r:null},ii(n,t)},ao.layout.treemap=function(){function n(n,t){for(var e,r,i=-1,u=n.length;++i<u;)r=(e=n[i]).value*(t<0?0:t),e.area=isNaN(r)||r<=0?0:r}function t(e){var u=e.children;if(u&&u.length){var o,a,l,c=s(e),f=[],h=u.slice(),g=1/0,v="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(n(h,c.dx*c.dy/e.value),f.area=0;(l=h.length)>0;)f.push(o=h[l-1]),f.area+=o.area,"squarify"!==p||(a=r(f,v))<=g?(h.pop(),g=a):(f.area-=f.pop().area,i(f,v,c,!1),v=Math.min(c.dx,c.dy),f.length=f.area=0,g=1/0);f.length&&(i(f,v,c,!0),f.length=f.area=0),u.forEach(t)}}function e(t){var r=t.children;if(r&&r.length){var u,o=s(t),a=r.slice(),l=[];for(n(a,o.dx*o.dy/t.value),l.area=0;u=a.pop();)l.push(u),l.area+=u.area,null!=u.z&&(i(l,u.z?o.dx:o.dy,o,!a.length),l.length=l.area=0);r.forEach(e)}}function r(n,t){for(var e,r=n.area,i=0,u=1/0,o=-1,a=n.length;++o<a;)(e=n[o].area)&&(e<u&&(u=e),e>i&&(i=e));return r*=r,t*=t,r?Math.max(t*i*g/r,r/(t*u*g)):1/0}function i(n,t,e,r){var i,u=-1,o=n.length,a=e.x,c=e.y,f=t?l(n.area/t):0;
if(t==e.dx){for((r||f>e.dy)&&(f=e.dy);++u<o;)i=n[u],i.x=a,i.y=c,i.dy=f,a+=i.dx=Math.min(e.x+e.dx-a,f?l(i.area/f):0);i.z=!0,i.dx+=e.x+e.dx-a,e.y+=f,e.dy-=f}else{for((r||f>e.dx)&&(f=e.dx);++u<o;)i=n[u],i.x=a,i.y=c,i.dx=f,c+=i.dy=Math.min(e.y+e.dy-c,f?l(i.area/f):0);i.z=!1,i.dy+=e.y+e.dy-c,e.x+=f,e.dx-=f}}function u(r){var i=o||a(r),u=i[0];return u.x=u.y=0,u.value?(u.dx=c[0],u.dy=c[1]):u.dx=u.dy=0,o&&a.revalue(u),n([u],u.dx*u.dy/u.value),(o?e:t)(u),h&&(o=i),i}var o,a=ao.layout.hierarchy(),l=Math.round,c=[1,1],f=null,s=Oi,h=!1,p="squarify",g=.5*(1+Math.sqrt(5));return u.size=function(n){return arguments.length?(c=n,u):c},u.padding=function(n){function t(t){var e=n.call(u,t,t.depth);return null==e?Oi(t):Ii(t,"number"==typeof e?[e,e,e,e]:e)}function e(t){return Ii(t,n)}if(!arguments.length)return f;var r;return s=null==(f=n)?Oi:"function"==(r=typeof n)?t:"number"===r?(n=[n,n,n,n],e):e,u},u.round=function(n){return arguments.length?(l=n?Math.round:Number,u):l!=Number},u.sticky=function(n){return arguments.length?(h=n,o=null,u):h},u.ratio=function(n){return arguments.length?(g=n,u):g},u.mode=function(n){return arguments.length?(p=n+"",u):p},ii(u,a)},ao.random={normal:function(n,t){var e=arguments.length;return e<2&&(t=1),e<1&&(n=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=ao.random.normal.apply(ao,arguments);return function(){return Math.exp(n())}},bates:function(n){var t=ao.random.irwinHall(n);return function(){return t()/n}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},ao.scale={};var bl={floor:m,ceil:m};ao.scale.linear=function(){return Wi([0,1],[0,1],Mr,!1)};var _l={s:1,g:1,p:1,r:1,e:1};ao.scale.log=function(){return ru(ao.scale.linear().domain([0,1]),10,!0,[1,10])};var wl=ao.format(".0e"),Sl={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};ao.scale.pow=function(){return iu(ao.scale.linear(),1,[0,1])},ao.scale.sqrt=function(){return ao.scale.pow().exponent(.5)},ao.scale.ordinal=function(){return ou([],{t:"range",a:[[]]})},ao.scale.category10=function(){return ao.scale.ordinal().range(kl)},ao.scale.category20=function(){return ao.scale.ordinal().range(Nl)},ao.scale.category20b=function(){return ao.scale.ordinal().range(El)},ao.scale.category20c=function(){return ao.scale.ordinal().range(Al)};var kl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xn),Nl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xn),El=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xn),Al=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xn);ao.scale.quantile=function(){return au([],[])},ao.scale.quantize=function(){return lu(0,1,[0,1])},ao.scale.threshold=function(){return cu([.5],[0,1])},ao.scale.identity=function(){return fu([0,1])},ao.svg={},ao.svg.arc=function(){function n(){var n=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),f=o.apply(this,arguments)-Fo,s=a.apply(this,arguments)-Fo,h=Math.abs(s-f),p=f>s?0:1;if(c<n&&(g=c,c=n,n=g),h>=Uo)return t(c,p)+(n?t(n,1-p):"")+"Z";var g,v,d,y,m,M,x,b,_,w,S,k,N=0,E=0,A=[];if((y=(+l.apply(this,arguments)||0)/2)&&(d=u===Cl?Math.sqrt(n*n+c*c):+u.apply(this,arguments),p||(E*=-1),c&&(E=tn(d/c*Math.sin(y))),n&&(N=tn(d/n*Math.sin(y)))),c){m=c*Math.cos(f+E),M=c*Math.sin(f+E),x=c*Math.cos(s-E),b=c*Math.sin(s-E);var C=Math.abs(s-f-2*E)<=Po?0:1;if(E&&yu(m,M,x,b)===p^C){var z=(f+s)/2;m=c*Math.cos(z),M=c*Math.sin(z),x=b=null}}else m=M=0;if(n){_=n*Math.cos(s-N),w=n*Math.sin(s-N),S=n*Math.cos(f+N),k=n*Math.sin(f+N);var L=Math.abs(f-s+2*N)<=Po?0:1;if(N&&yu(_,w,S,k)===1-p^L){var q=(f+s)/2;_=n*Math.cos(q),w=n*Math.sin(q),S=k=null}}else _=w=0;if(h>Ro&&(g=Math.min(Math.abs(c-n)/2,+i.apply(this,arguments)))>.001){v=n<c^p?0:1;var T=g,R=g;if(h<Po){var D=null==S?[_,w]:null==x?[m,M]:Re([m,M],[S,k],[x,b],[_,w]),P=m-D[0],j=M-D[1],U=x-D[0],F=b-D[1],H=1/Math.sin(Math.acos((P*U+j*F)/(Math.sqrt(P*P+j*j)*Math.sqrt(U*U+F*F)))/2),O=Math.sqrt(D[0]*D[0]+D[1]*D[1]);R=Math.min(g,(n-O)/(H-1)),T=Math.min(g,(c-O)/(H+1))}if(null!=x){var I=mu(null==S?[_,w]:[S,k],[m,M],c,T,p),Y=mu([x,b],[_,w],c,T,p);g===T?A.push("M",I[0],"A",T,",",T," 0 0,",v," ",I[1],"A",c,",",c," 0 ",1-p^yu(I[1][0],I[1][1],Y[1][0],Y[1][1]),",",p," ",Y[1],"A",T,",",T," 0 0,",v," ",Y[0]):A.push("M",I[0],"A",T,",",T," 0 1,",v," ",Y[0])}else A.push("M",m,",",M);if(null!=S){var Z=mu([m,M],[S,k],n,-R,p),V=mu([_,w],null==x?[m,M]:[x,b],n,-R,p);g===R?A.push("L",V[0],"A",R,",",R," 0 0,",v," ",V[1],"A",n,",",n," 0 ",p^yu(V[1][0],V[1][1],Z[1][0],Z[1][1]),",",1-p," ",Z[1],"A",R,",",R," 0 0,",v," ",Z[0]):A.push("L",V[0],"A",R,",",R," 0 0,",v," ",Z[0])}else A.push("L",_,",",w)}else A.push("M",m,",",M),null!=x&&A.push("A",c,",",c," 0 ",C,",",p," ",x,",",b),A.push("L",_,",",w),null!=S&&A.push("A",n,",",n," 0 ",L,",",1-p," ",S,",",k);return A.push("Z"),A.join("")}function t(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}var e=hu,r=pu,i=su,u=Cl,o=gu,a=vu,l=du;return n.innerRadius=function(t){return arguments.length?(e=En(t),n):e},n.outerRadius=function(t){return arguments.length?(r=En(t),n):r},n.cornerRadius=function(t){return arguments.length?(i=En(t),n):i},n.padRadius=function(t){return arguments.length?(u=t==Cl?Cl:En(t),n):u},n.startAngle=function(t){return arguments.length?(o=En(t),n):o},n.endAngle=function(t){return arguments.length?(a=En(t),n):a},n.padAngle=function(t){return arguments.length?(l=En(t),n):l},n.centroid=function(){var n=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-Fo;return[Math.cos(t)*n,Math.sin(t)*n]},n};var Cl="auto";ao.svg.line=function(){return Mu(m)};var zl=ao.map({linear:xu,"linear-closed":bu,step:_u,"step-before":wu,"step-after":Su,basis:zu,"basis-open":Lu,"basis-closed":qu,bundle:Tu,cardinal:Eu,"cardinal-open":ku,"cardinal-closed":Nu,monotone:Fu});zl.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var Ll=[0,2/3,1/3,0],ql=[0,1/3,2/3,0],Tl=[0,1/6,2/3,1/6];ao.svg.line.radial=function(){var n=Mu(Hu);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},wu.reverse=Su,Su.reverse=wu,ao.svg.area=function(){return Ou(m)},ao.svg.area.radial=function(){var n=Ou(Hu);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},ao.svg.chord=function(){function n(n,a){var l=t(this,u,n,a),c=t(this,o,n,a);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(e(l,c)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,l.r,l.p0))+"Z"}function t(n,t,e,r){var i=t.call(n,e,r),u=a.call(n,i,r),o=l.call(n,i,r)-Fo,f=c.call(n,i,r)-Fo;return{r:u,a0:o,a1:f,p0:[u*Math.cos(o),u*Math.sin(o)],p1:[u*Math.cos(f),u*Math.sin(f)]}}function e(n,t){return n.a0==t.a0&&n.a1==t.a1}function r(n,t,e){return"A"+n+","+n+" 0 "+ +(e>Po)+",1 "+t}function i(n,t,e,r){return"Q 0,0 "+r}var u=Me,o=xe,a=Iu,l=gu,c=vu;return n.radius=function(t){return arguments.length?(a=En(t),n):a},n.source=function(t){return arguments.length?(u=En(t),n):u},n.target=function(t){return arguments.length?(o=En(t),n):o},n.startAngle=function(t){return arguments.length?(l=En(t),n):l},n.endAngle=function(t){return arguments.length?(c=En(t),n):c},n},ao.svg.diagonal=function(){function n(n,i){var u=t.call(this,n,i),o=e.call(this,n,i),a=(u.y+o.y)/2,l=[u,{x:u.x,y:a},{x:o.x,y:a},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=Me,e=xe,r=Yu;return n.source=function(e){return arguments.length?(t=En(e),n):t},n.target=function(t){return arguments.length?(e=En(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},ao.svg.diagonal.radial=function(){var n=ao.svg.diagonal(),t=Yu,e=n.projection;return n.projection=function(n){return arguments.length?e(Zu(t=n)):t},n},ao.svg.symbol=function(){function n(n,r){return(Rl.get(t.call(this,n,r))||$u)(e.call(this,n,r))}var t=Xu,e=Vu;return n.type=function(e){return arguments.length?(t=En(e),n):t},n.size=function(t){return arguments.length?(e=En(t),n):e},n};var Rl=ao.map({circle:$u,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*Pl)),e=t*Pl;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/Dl),e=t*Dl/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/Dl),e=t*Dl/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});ao.svg.symbolTypes=Rl.keys();var Dl=Math.sqrt(3),Pl=Math.tan(30*Ho);Eo.transition=function(n){for(var t,e,r=jl||++Ol,i=Ku(n),u=[],o=Ul||{time:Date.now(),ease:Nr,delay:0,duration:250},a=-1,l=this.length;++a<l;){u.push(t=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(e=c[f])&&Qu(e,f,i,r,o),t.push(e)}return Wu(u,i,r)},Eo.interrupt=function(n){return this.each(null==n?Fl:Bu(Ku(n)))};var jl,Ul,Fl=Bu(Ku()),Hl=[],Ol=0;Hl.call=Eo.call,Hl.empty=Eo.empty,Hl.node=Eo.node,Hl.size=Eo.size,ao.transition=function(n,t){return n&&n.transition?jl?n.transition(t):n:ao.selection().transition(n)},ao.transition.prototype=Hl,Hl.select=function(n){var t,e,r,i=this.id,u=this.namespace,o=[];n=A(n);for(var a=-1,l=this.length;++a<l;){o.push(t=[]);for(var c=this[a],f=-1,s=c.length;++f<s;)(r=c[f])&&(e=n.call(r,r.__data__,f,a))?("__data__"in r&&(e.__data__=r.__data__),Qu(e,f,u,i,r[u][i]),t.push(e)):t.push(null)}return Wu(o,u,i)},Hl.selectAll=function(n){var t,e,r,i,u,o=this.id,a=this.namespace,l=[];n=C(n);for(var c=-1,f=this.length;++c<f;)for(var s=this[c],h=-1,p=s.length;++h<p;)if(r=s[h]){u=r[a][o],e=n.call(r,r.__data__,h,c),l.push(t=[]);for(var g=-1,v=e.length;++g<v;)(i=e[g])&&Qu(i,g,a,o,u),t.push(i)}return Wu(l,a,o)},Hl.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=O(n));for(var u=0,o=this.length;u<o;u++){i.push(t=[]);for(var e=this[u],a=0,l=e.length;a<l;a++)(r=e[a])&&n.call(r,r.__data__,a,u)&&t.push(r)}return Wu(i,this.namespace,this.id)},Hl.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):Y(this,null==t?function(t){t[r][e].tween.remove(n)}:function(i){i[r][e].tween.set(n,t)})},Hl.attr=function(n,t){function e(){this.removeAttribute(a)}function r(){this.removeAttributeNS(a.space,a.local)}function i(n){return null==n?e:(n+="",function(){var t,e=this.getAttribute(a);return e!==n&&(t=o(e,n),function(n){this.setAttribute(a,t(n))})})}function u(n){return null==n?r:(n+="",function(){var t,e=this.getAttributeNS(a.space,a.local);return e!==n&&(t=o(e,n),function(n){this.setAttributeNS(a.space,a.local,t(n))})})}if(arguments.length<2){for(t in n)this.attr(t,n[t]);return this}var o="transform"==n?$r:Mr,a=ao.ns.qualify(n);return Ju(this,"attr."+n,t,a.local?u:i)},Hl.attrTween=function(n,t){function e(n,e){var r=t.call(this,n,e,this.getAttribute(i));return r&&function(n){this.setAttribute(i,r(n))}}function r(n,e){var r=t.call(this,n,e,this.getAttributeNS(i.space,i.local));return r&&function(n){this.setAttributeNS(i.space,i.local,r(n))}}var i=ao.ns.qualify(n);return this.tween("attr."+n,i.local?r:e)},Hl.style=function(n,e,r){function i(){this.style.removeProperty(n)}function u(e){return null==e?i:(e+="",function(){var i,u=t(this).getComputedStyle(this,null).getPropertyValue(n);return u!==e&&(i=Mr(u,e),function(t){this.style.setProperty(n,i(t),r)})})}var o=arguments.length;if(o<3){if("string"!=typeof n){o<2&&(e="");for(r in n)this.style(r,n[r],e);return this}r=""}return Ju(this,"style."+n,e,u)},Hl.styleTween=function(n,e,r){function i(i,u){var o=e.call(this,i,u,t(this).getComputedStyle(this,null).getPropertyValue(n));return o&&function(t){this.style.setProperty(n,o(t),r)}}return arguments.length<3&&(r=""),this.tween("style."+n,i)},Hl.text=function(n){return Ju(this,"text",n,Gu)},Hl.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Hl.ease=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].ease:("function"!=typeof n&&(n=ao.ease.apply(ao,arguments)),Y(this,function(r){r[e][t].ease=n}))},Hl.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:Y(this,"function"==typeof n?function(r,i,u){r[e][t].delay=+n.call(r,r.__data__,i,u)}:(n=+n,function(r){r[e][t].delay=n}))},Hl.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:Y(this,"function"==typeof n?function(r,i,u){r[e][t].duration=Math.max(1,n.call(r,r.__data__,i,u))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},Hl.each=function(n,t){var e=this.id,r=this.namespace;if(arguments.length<2){var i=Ul,u=jl;try{jl=e,Y(this,function(t,i,u){Ul=t[r][e],n.call(t,t.__data__,i,u)})}finally{Ul=i,jl=u}}else Y(this,function(i){var u=i[r][e];(u.event||(u.event=ao.dispatch("start","end","interrupt"))).on(n,t)});return this},Hl.transition=function(){for(var n,t,e,r,i=this.id,u=++Ol,o=this.namespace,a=[],l=0,c=this.length;l<c;l++){a.push(n=[]);for(var t=this[l],f=0,s=t.length;f<s;f++)(e=t[f])&&(r=e[o][i],Qu(e,f,o,u,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return Wu(a,o,u)},ao.svg.axis=function(){function n(n){n.each(function(){var n,c=ao.select(this),f=this.__chart__||e,s=this.__chart__=e.copy(),h=null==l?s.ticks?s.ticks.apply(s,a):s.domain():l,p=null==t?s.tickFormat?s.tickFormat.apply(s,a):m:t,g=c.selectAll(".tick").data(h,s),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Ro),d=ao.transition(g.exit()).style("opacity",Ro).remove(),y=ao.transition(g.order()).style("opacity",1),M=Math.max(i,0)+o,x=Zi(s),b=c.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ao.transition(b));v.append("line"),v.append("text");var w,S,k,N,E=v.select("line"),A=y.select("line"),C=g.select("text").text(p),z=v.select("text"),L=y.select("text"),q="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(n=no,w="x",k="y",S="x2",N="y2",C.attr("dy",q<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+q*u+"V0H"+x[1]+"V"+q*u)):(n=to,w="y",k="x",S="y2",N="x2",C.attr("dy",".32em").style("text-anchor",q<0?"end":"start"),_.attr("d","M"+q*u+","+x[0]+"H0V"+x[1]+"H"+q*u)),E.attr(N,q*i),z.attr(k,q*M),A.attr(S,0).attr(N,q*i),L.attr(w,0).attr(k,q*M),s.rangeBand){var T=s,R=T.rangeBand()/2;f=s=function(n){return T(n)+R}}else f.rangeBand?f=s:d.call(n,s,f);v.call(n,f,s),y.call(n,s,s)})}var t,e=ao.scale.linear(),r=Il,i=6,u=6,o=3,a=[10],l=null;return n.scale=function(t){return arguments.length?(e=t,n):e},n.orient=function(t){return arguments.length?(r=t in Yl?t+"":Il,n):r},n.ticks=function(){return arguments.length?(a=co(arguments),n):a},n.tickValues=function(t){return arguments.length?(l=t,n):l},n.tickFormat=function(e){return arguments.length?(t=e,n):t},n.tickSize=function(t){var e=arguments.length;return e?(i=+t,u=+arguments[e-1],n):i},n.innerTickSize=function(t){return arguments.length?(i=+t,n):i},n.outerTickSize=function(t){return arguments.length?(u=+t,n):u},n.tickPadding=function(t){return arguments.length?(o=+t,n):o},n.tickSubdivide=function(){return arguments.length&&n},n};var Il="bottom",Yl={top:1,right:1,bottom:1,left:1};ao.svg.brush=function(){function n(t){t.each(function(){var t=ao.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",u).on("touchstart.brush",u),o=t.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=t.selectAll(".resize").data(v,m);a.exit().remove(),a.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return Zl[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",n.empty()?"none":null);var l,s=ao.transition(t),h=ao.transition(o);c&&(l=Zi(c),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(s)),f&&(l=Zi(f),h.attr("y",l[0]).attr("height",l[1]-l[0]),i(s)),e(s)})}function e(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+s[+/e$/.test(n)]+","+h[+/^s/.test(n)]+")"})}function r(n){n.select(".extent").attr("x",s[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function i(n){n.select(".extent").attr("y",h[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function u(){function u(){32==ao.event.keyCode&&(C||(M=null,L[0]-=s[1],L[1]-=h[1],C=2),S())}function v(){32==ao.event.keyCode&&2==C&&(L[0]+=s[1],L[1]+=h[1],C=0,S())}function d(){var n=ao.mouse(b),t=!1;x&&(n[0]+=x[0],n[1]+=x[1]),C||(ao.event.altKey?(M||(M=[(s[0]+s[1])/2,(h[0]+h[1])/2]),L[0]=s[+(n[0]<M[0])],L[1]=h[+(n[1]<M[1])]):M=null),E&&y(n,c,0)&&(r(k),t=!0),A&&y(n,f,1)&&(i(k),t=!0),t&&(e(k),w({type:"brush",mode:C?"move":"resize"}))}function y(n,t,e){var r,i,u=Zi(t),l=u[0],c=u[1],f=L[e],v=e?h:s,d=v[1]-v[0];if(C&&(l-=f,c-=d+f),r=(e?g:p)?Math.max(l,Math.min(c,n[e])):n[e],C?i=(r+=f)+d:(M&&(f=Math.max(l,Math.min(c,2*M[e]-r))),f<r?(i=r,r=f):i=f),v[0]!=r||v[1]!=i)return e?a=null:o=null,v[0]=r,v[1]=i,!0}function m(){d(),k.style("pointer-events","all").selectAll(".resize").style("display",n.empty()?"none":null),ao.select("body").style("cursor",null),q.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),z(),w({type:"brushend"})}var M,x,b=this,_=ao.select(ao.event.target),w=l.of(b,arguments),k=ao.select(b),N=_.datum(),E=!/^(n|s)$/.test(N)&&c,A=!/^(e|w)$/.test(N)&&f,C=_.classed("extent"),z=W(b),L=ao.mouse(b),q=ao.select(t(b)).on("keydown.brush",u).on("keyup.brush",v);if(ao.event.changedTouches?q.on("touchmove.brush",d).on("touchend.brush",m):q.on("mousemove.brush",d).on("mouseup.brush",m),k.interrupt().selectAll("*").interrupt(),C)L[0]=s[0]-L[0],L[1]=h[0]-L[1];else if(N){var T=+/w$/.test(N),R=+/^n/.test(N);x=[s[1-T]-L[0],h[1-R]-L[1]],L[0]=s[T],L[1]=h[R]}else ao.event.altKey&&(M=L.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),ao.select("body").style("cursor",_.style("cursor")),w({type:"brushstart"}),d()}var o,a,l=N(n,"brushstart","brush","brushend"),c=null,f=null,s=[0,0],h=[0,0],p=!0,g=!0,v=Vl[0];return n.event=function(n){n.each(function(){var n=l.of(this,arguments),t={x:s,y:h,i:o,j:a},e=this.__chart__||t;this.__chart__=t,jl?ao.select(this).transition().each("start.brush",function(){o=e.i,a=e.j,s=e.x,h=e.y,n({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(s,t.x),r=xr(h,t.y);return o=a=null,function(i){s=t.x=e(i),h=t.y=r(i),n({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=t.i,a=t.j,n({type:"brush",mode:"resize"}),n({type:"brushend"})}):(n({type:"brushstart"}),n({type:"brush",mode:"resize"}),n({type:"brushend"}))})},n.x=function(t){return arguments.length?(c=t,v=Vl[!c<<1|!f],n):c},n.y=function(t){return arguments.length?(f=t,v=Vl[!c<<1|!f],n):f},n.clamp=function(t){return arguments.length?(c&&f?(p=!!t[0],g=!!t[1]):c?p=!!t:f&&(g=!!t),n):c&&f?[p,g]:c?p:f?g:null},n.extent=function(t){var e,r,i,u,l;return arguments.length?(c&&(e=t[0],r=t[1],f&&(e=e[0],r=r[0]),o=[e,r],c.invert&&(e=c(e),r=c(r)),r<e&&(l=e,e=r,r=l),e==s[0]&&r==s[1]||(s=[e,r])),f&&(i=t[0],u=t[1],c&&(i=i[1],u=u[1]),a=[i,u],f.invert&&(i=f(i),u=f(u)),u<i&&(l=i,i=u,u=l),i==h[0]&&u==h[1]||(h=[i,u])),n):(c&&(o?(e=o[0],r=o[1]):(e=s[0],r=s[1],c.invert&&(e=c.invert(e),r=c.invert(r)),r<e&&(l=e,e=r,r=l))),f&&(a?(i=a[0],u=a[1]):(i=h[0],u=h[1],f.invert&&(i=f.invert(i),u=f.invert(u)),u<i&&(l=i,i=u,u=l))),c&&f?[[e,i],[r,u]]:c?[e,r]:f&&[i,u])},n.clear=function(){return n.empty()||(s=[0,0],h=[0,0],o=a=null),n},n.empty=function(){return!!c&&s[0]==s[1]||!!f&&h[0]==h[1]},ao.rebind(n,l,"on")};var Zl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Xl=sa.format=ya.timeFormat,$l=Xl.utc,Bl=$l("%Y-%m-%dT%H:%M:%S.%LZ");Xl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eo:Bl,eo.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},eo.toString=Bl.toString,sa.second=On(function(n){return new ha(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),sa.seconds=sa.second.range,sa.seconds.utc=sa.second.utc.range,sa.minute=On(function(n){return new ha(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),sa.minutes=sa.minute.range,sa.minutes.utc=sa.minute.utc.range,sa.hour=On(function(n){var t=n.getTimezoneOffset()/60;return new ha(36e5*(Math.floor(n/36e5-t)+t))},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),sa.hours=sa.hour.range,sa.hours.utc=sa.hour.utc.range,sa.month=On(function(n){return n=sa.day(n),n.setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),sa.months=sa.month.range,sa.months.utc=sa.month.utc.range;var Wl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Jl=[[sa.second,1],[sa.second,5],[sa.second,15],[sa.second,30],[sa.minute,1],[sa.minute,5],[sa.minute,15],[sa.minute,30],[sa.hour,1],[sa.hour,3],[sa.hour,6],[sa.hour,12],[sa.day,1],[sa.day,2],[sa.week,1],[sa.month,1],[sa.month,3],[sa.year,1]],Gl=Xl.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",zt]]),Kl={range:function(n,t,e){return ao.range(Math.ceil(n/e)*e,+t,e).map(io)},floor:m,ceil:m};Jl.year=sa.year,sa.scale=function(){return ro(ao.scale.linear(),Jl,Gl)};var Ql=Jl.map(function(n){return[n[0].utc,n[1]]}),nc=$l.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",zt]]);Ql.year=sa.year.utc,sa.scale.utc=function(){return ro(ao.scale.linear(),Ql,nc)},ao.text=An(function(n){return n.responseText}),ao.json=function(n,t){return Cn(n,"application/json",uo,t)},ao.html=function(n,t){return Cn(n,"text/html",oo,t)},ao.xml=An(function(n){return n.responseXML}),"function"==typeof define&&define.amd?(this.d3=ao,define(ao)):"object"==typeof module&&module.exports?module.exports=ao:this.d3=ao}();
},{}],605:[function(require,module,exports){
!function(t,e,n,i){"use strict";function r(t,e,n){return setTimeout(u(t,n),e)}function s(t,e,n){return!!Array.isArray(t)&&(o(t,n[e],n),!0)}function o(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function a(e,n,i){var r="DEPRECATED METHOD: "+n+"\n"+i+" AT \n";return function(){var n=new Error("get-stack-trace"),i=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&&(t.console.warn||t.console.log);return s&&s.call(t.console,r,i),e.apply(this,arguments)}}function h(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&at(i,n)}function u(t,e){return function(){return t.apply(e,arguments)}}function c(t,e){return typeof t==ct?t.apply(e?e[0]||i:i,e):t}function l(t,e){return t===i?e:t}function p(t,e,n){o(m(e),function(e){t.addEventListener(e,n,!1)})}function f(t,e,n){o(m(e),function(e){t.removeEventListener(e,n,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function g(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function y(t,e,n){for(var i=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];g(r,o)<0&&i.push(t[s]),r[s]=o,s++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function E(t,e){for(var n,r,s=e[0].toUpperCase()+e.slice(1),o=0;o<ht.length;){if(n=ht[o],r=n?n+s:e,r in t)return r;o++}return i}function I(){return mt++}function A(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function _(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&n.handler(e)},this.init()}function w(t){var e,n=t.options.inputClass;return new(e=n?n:yt?F:Et?k:Tt?L:Y)(t,D)}function D(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,s=e&bt&&i-r===0,o=e&(Pt|Ct)&&i-r===0;n.isFirst=!!s,n.isFinal=!!o,s&&(t.session={}),n.eventType=e,b(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function b(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=C(e)),r>1&&!n.firstMultiple?n.firstMultiple=C(e):1===r&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,h=e.center=x(i);e.timeStamp=ft(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=M(a,h),e.distance=z(a,h),S(n,e),e.offsetDirection=O(e.deltaX,e.deltaY);var u=R(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=pt(u.x)>pt(u.y)?u.x:u.y,e.scale=o?X(o.pointers,i):1,e.rotation=o?N(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,P(n,e);var c=t.element;d(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function S(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==bt&&s.eventType!==Pt||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function P(t,e){var n,r,s,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=Ct&&(h>Dt||a.velocity===i)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,l=R(h,u,c);r=l.x,s=l.y,n=pt(l.x)>pt(l.y)?l.x:l.y,o=O(u,c),t.lastInterval=e}else n=a.velocity,r=a.velocityX,s=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=r,e.velocityY=s,e.direction=o}function C(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:lt(t.pointers[n].clientX),clientY:lt(t.pointers[n].clientY)},n++;return{timeStamp:ft(),pointers:e,center:x(e),deltaX:t.deltaX,deltaY:t.deltaY}}function x(t){var e=t.length;if(1===e)return{x:lt(t[0].clientX),y:lt(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:lt(n/e),y:lt(i/e)}}function R(t,e,n){return{x:e/t||0,y:n/t||0}}function O(t,e){return t===e?xt:pt(t)>=pt(e)?t<0?Rt:Ot:e<0?zt:Mt}function z(t,e,n){n||(n=Ft);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function M(t,e,n){n||(n=Ft);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function N(t,e){return M(e[1],e[0],Wt)+M(t[1],t[0],Wt)}function X(t,e){return z(e[0],e[1],Wt)/z(t[0],t[1],Wt)}function Y(){this.evEl=kt,this.evWin=Ht,this.allow=!0,this.pressed=!1,_.apply(this,arguments)}function F(){this.evEl=Vt,this.evWin=jt,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=Zt,this.evWin=Bt,this.started=!1,_.apply(this,arguments)}function q(t,e){var n=T(t.touches),i=T(t.changedTouches);return e&(Pt|Ct)&&(n=y(n.concat(i),"identifier",!0)),[n,i]}function k(){this.evTarget=Jt,this.targetIds={},_.apply(this,arguments)}function H(t,e){var n=T(t.touches),i=this.targetIds;if(e&(bt|St)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,o=T(t.changedTouches),a=[],h=this.target;if(s=n.filter(function(t){return d(t.target,h)}),e===bt)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&a.push(o[r]),e&(Pt|Ct)&&delete i[o[r].identifier],r++;return a.length?[y(s.concat(a),"identifier",!0),a]:void 0}function L(){_.apply(this,arguments);var t=u(this.handler,this);this.touch=new k(this.manager,t),this.mouse=new Y(this.manager,t)}function U(t,e){this.manager=t,this.set(e)}function V(t){if(v(t,ie))return ie;var e=v(t,re),n=v(t,se);return e&&n?ie:e||n?e?re:se:v(t,ne)?ne:ee}function j(t){this.options=at({},this.defaults,t||{}),this.id=I(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=oe,this.simultaneous={},this.requireFail=[]}function G(t){return t&le?"cancel":t&ue?"end":t&he?"move":t&ae?"start":""}function Z(t){return t==Mt?"down":t==zt?"up":t==Rt?"left":t==Ot?"right":""}function B(t,e){var n=e.manager;return n?n.get(t):t}function $(){j.apply(this,arguments)}function J(){$.apply(this,arguments),this.pX=null,this.pY=null}function K(){$.apply(this,arguments)}function Q(){j.apply(this,arguments),this._timer=null,this._input=null}function tt(){$.apply(this,arguments)}function et(){$.apply(this,arguments)}function nt(){j.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function it(t,e){return e=e||{},e.recognizers=l(e.recognizers,it.defaults.preset),new rt(t,e)}function rt(t,e){this.options=at({},it.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=w(this),this.touchAction=new U(this,this.options.touchAction),st(this,!0),o(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function st(t,e){var n=t.element;n.style&&o(t.options.cssProps,function(t,i){n.style[E(n.style,i)]=e?t:""})}function ot(t,n){var i=e.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}var at,ht=["","webkit","Moz","MS","ms","o"],ut=e.createElement("div"),ct="function",lt=Math.round,pt=Math.abs,ft=Date.now;at="function"!=typeof Object.assign?function(t){if(t===i||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==i&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s])}return e}:Object.assign;var dt=a(function(t,e,n){for(var r=Object.keys(e),s=0;s<r.length;)(!n||n&&t[r[s]]===i)&&(t[r[s]]=e[r[s]]),s++;return t},"extend","Use `assign`."),vt=a(function(t,e){return dt(t,e,!0)},"merge","Use `assign`."),mt=1,gt=/mobile|tablet|ip(ad|hone|od)|android/i,Tt="ontouchstart"in t,yt=E(t,"PointerEvent")!==i,Et=Tt&&gt.test(navigator.userAgent),It="touch",At="pen",_t="mouse",wt="kinect",Dt=25,bt=1,St=2,Pt=4,Ct=8,xt=1,Rt=2,Ot=4,zt=8,Mt=16,Nt=Rt|Ot,Xt=zt|Mt,Yt=Nt|Xt,Ft=["x","y"],Wt=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(A(this.element),this.evWin,this.domHandler)}};var qt={mousedown:bt,mousemove:St,mouseup:Pt},kt="mousedown",Ht="mousemove mouseup";h(Y,_,{handler:function(t){var e=qt[t.type];e&bt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=Pt),this.pressed&&this.allow&&(e&Pt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:_t,srcEvent:t}))}});var Lt={pointerdown:bt,pointermove:St,pointerup:Pt,pointercancel:Ct,pointerout:Ct},Ut={2:It,3:At,4:_t,5:wt},Vt="pointerdown",jt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Vt="MSPointerDown",jt="MSPointerMove MSPointerUp MSPointerCancel"),h(F,_,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Lt[i],s=Ut[t.pointerType]||t.pointerType,o=s==It,a=g(e,t.pointerId,"pointerId");r&bt&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):r&(Pt|Ct)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))}});var Gt={touchstart:bt,touchmove:St,touchend:Pt,touchcancel:Ct},Zt="touchstart",Bt="touchstart touchmove touchend touchcancel";h(W,_,{handler:function(t){var e=Gt[t.type];if(e===bt&&(this.started=!0),this.started){var n=q.call(this,t,e);e&(Pt|Ct)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:It,srcEvent:t})}}});var $t={touchstart:bt,touchmove:St,touchend:Pt,touchcancel:Ct},Jt="touchstart touchmove touchend touchcancel";h(k,_,{handler:function(t){var e=$t[t.type],n=H.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:It,srcEvent:t})}}),h(L,_,{handler:function(t,e,n){var i=n.pointerType==It,r=n.pointerType==_t;if(i)this.mouse.allow=!1;else if(r&&!this.mouse.allow)return;e&(Pt|Ct)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Kt=E(ut.style,"touchAction"),Qt=Kt!==i,te="compute",ee="auto",ne="manipulation",ie="none",re="pan-x",se="pan-y";U.prototype={set:function(t){t==te&&(t=this.compute()),Qt&&this.manager.element.style&&(this.manager.element.style[Kt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),V(t.join(" "))},preventDefaults:function(t){if(!Qt){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=v(i,ie),s=v(i,se),o=v(i,re);if(r){var a=1===t.pointers.length,h=t.distance<2,u=t.deltaTime<250;if(a&&h&&u)return}if(!o||!s)return r||s&&n&Nt||o&&n&Xt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var oe=1,ae=2,he=4,ue=8,ce=ue,le=16,pe=32;j.prototype={defaults:{},set:function(t){return at(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=B(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=B(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=B(t,this),g(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=B(t,this);var e=g(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i<ue&&e(n.options.event+G(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=ue&&e(n.options.event+G(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=pe)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(pe|oe)))return!1;t++}return!0},recognize:function(t){var e=at({},t);return c(this.options.enable,[this,e])?(this.state&(ce|le|pe)&&(this.state=oe),this.state=this.process(e),void(this.state&(ae|he|ue|le)&&this.tryEmit(e))):(this.reset(),void(this.state=pe))},process:function(t){},getTouchAction:function(){},reset:function(){}},h($,j,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(ae|he),r=this.attrTest(t);return i&&(n&Ct||!r)?e|le:i||r?n&Pt?e|ue:e&ae?e|he:ae:pe}}),h(J,$,{defaults:{event:"pan",threshold:10,pointers:1,direction:Yt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Nt&&e.push(se),t&Xt&&e.push(re),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&Nt?(r=0===s?xt:s<0?Rt:Ot,n=s!=this.pX,i=Math.abs(t.deltaX)):(r=0===o?xt:o<0?zt:Mt,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return $.prototype.attrTest.call(this,t)&&(this.state&ae||!(this.state&ae)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Z(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),h(K,$,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ie]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ae)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),h(Q,j,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ee]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(Pt|Ct)&&!s)this.reset();else if(t.eventType&bt)this.reset(),this._timer=r(function(){this.state=ce,this.tryEmit()},e.time,this);else if(t.eventType&Pt)return ce;return pe},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ce&&(t&&t.eventType&Pt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ft(),this.manager.emit(this.options.event,this._input)))}}),h(tt,$,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ie]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ae)}}),h(et,$,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Nt|Xt,pointers:1},getTouchAction:function(){return J.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Nt|Xt)?e=t.overallVelocity:n&Nt?e=t.overallVelocityX:n&Xt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&pt(e)>this.options.velocity&&t.eventType&Pt},emit:function(t){var e=Z(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(nt,j,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ne]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&bt&&0===this.count)return this.failTimeout();if(i&&s&&n){if(t.eventType!=Pt)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||z(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var h=this.count%e.taps;if(0===h)return this.hasRequireFailures()?(this._timer=r(function(){this.state=ce,this.tryEmit()},e.interval,this),ae):ce}return pe},failTimeout:function(){return this._timer=r(function(){this.state=pe},this.options.interval,this),pe},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ce&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),it.VERSION="2.0.6",it.defaults={domEvents:!1,touchAction:te,enable:!0,inputTarget:null,inputClass:null,preset:[[tt,{enable:!1}],[K,{enable:!1},["rotate"]],[et,{direction:Nt}],[J,{direction:Nt},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[Q]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var fe=1,de=2;rt.prototype={set:function(t){return at(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?de:fe},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ce)&&(r=e.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],e.stopped===de||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(ae|he|ue)&&(r=e.curRecognizer=n),s++}},get:function(t){if(t instanceof j)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=g(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){var n=this.handlers;return o(m(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return o(m(t),function(t){e?n[t]&&n[t].splice(g(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&ot(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&st(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},at(it,{INPUT_START:bt,INPUT_MOVE:St,INPUT_END:Pt,INPUT_CANCEL:Ct,STATE_POSSIBLE:oe,STATE_BEGAN:ae,STATE_CHANGED:he,STATE_ENDED:ue,STATE_RECOGNIZED:ce,STATE_CANCELLED:le,STATE_FAILED:pe,DIRECTION_NONE:xt,DIRECTION_LEFT:Rt,DIRECTION_RIGHT:Ot,DIRECTION_UP:zt,DIRECTION_DOWN:Mt,DIRECTION_HORIZONTAL:Nt,DIRECTION_VERTICAL:Xt,DIRECTION_ALL:Yt,Manager:rt,Input:_,TouchAction:U,TouchInput:k,MouseInput:Y,PointerEventInput:F,TouchMouseInput:L,SingleTouchInput:W,Recognizer:j,AttrRecognizer:$,Tap:nt,Pan:J,Swipe:et,Pinch:K,Rotate:tt,Press:Q,on:p,off:f,each:o,merge:vt,extend:dt,assign:at,inherit:h,bindFn:u,prefixed:E});var ve="undefined"!=typeof t?t:"undefined"!=typeof self?self:{};ve.Hammer=it,"function"==typeof define&&define.amd?define(function(){return it}):"undefined"!=typeof module&&module.exports?module.exports=it:t[n]=it}(window,document,"Hammer");
},{}],606:[function(require,module,exports){
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Z.type(e);return"function"!==n&&!Z.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function r(e,t,n){if(Z.isFunction(t))return Z.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return Z.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ae.test(t))return Z.filter(t,e,n);t=Z.filter(t,e)}return Z.grep(e,function(e){return U.call(t,e)>=0!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=he[e]={};return Z.each(e.match(de)||[],function(e,n){t[n]=!0}),t}function s(){J.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function u(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(be,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:xe.test(n)?Z.parseJSON(n):n)}catch(e){}ye.set(e,t,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function f(){try{return J.activeElement}catch(e){}}function p(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function d(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function h(e){var t=Pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n=0,r=e.length;n<r;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function m(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),s=ve.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)Z.event.add(t,i,l[i][n])}ye.hasData(e)&&(a=ye.access(e),u=Z.extend({},a),ye.set(t,u))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],n):n}function y(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ne.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function x(t,n){var r,i=Z(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function b(e){var t=J,n=$e[e];return n||(n=x(e,t),"none"!==n&&n||(We=(We||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),n=x(e,t),We.detach()),$e[e]=n),n}function w(e,t,n){var r,i,o,s,a=e.style;return n=n||_e(e),n&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||Z.contains(e.ownerDocument,e)||(s=Z.style(e,t)),Be.test(s)&&Ie.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function T(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ge.length;i--;)if(t=Ge[i]+n,t in e)return t;return r}function N(e,t,n){var r=Xe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=Z.css(e,n+Te[o],!0,i)),r?("content"===n&&(s-=Z.css(e,"padding"+Te[o],!0,i)),"margin"!==n&&(s-=Z.css(e,"border"+Te[o]+"Width",!0,i))):(s+=Z.css(e,"padding"+Te[o],!0,i),"padding"!==n&&(s+=Z.css(e,"border"+Te[o]+"Width",!0,i)));return s}function E(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=_e(e),s="border-box"===Z.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(i=w(e,t,o),(i<0||null==i)&&(i=e.style[t]),Be.test(i))return i;r=s&&(Q.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(s?"border":"content"),r,o)+"px"}function S(e,t){for(var n,r,i,o=[],s=0,a=e.length;s<a;s++)r=e[s],r.style&&(o[s]=ve.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ce(r)&&(o[s]=ve.access(r,"olddisplay",b(r.nodeName)))):(i=Ce(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(s=0;s<a;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function j(){return setTimeout(function(){Qe=void 0}),Qe=Z.now()}function A(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Te[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function L(e,t,n){for(var r,i=(nt[t]||[]).concat(nt["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function q(e,t,n){var r,i,o,s,a,u,l,c,f=this,p={},d=e.style,h=e.nodeType&&Ce(e),g=ve.get(e,"fxshow");n.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Z.css(e,"display"),c="none"===l?ve.get(e,"olddisplay")||b(e.nodeName):l,"inline"===c&&"none"===Z.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ke.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}p[r]=g&&g[r]||Z.style(e,r)}else l=void 0;if(Z.isEmptyObject(p))"inline"===("none"===l?b(e.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(h=g.hidden):g=ve.access(e,"fxshow",{}),o&&(g.hidden=!h),h?Z(e).show():f.done(function(){Z(e).hide()}),f.done(function(){var t;ve.remove(e,"fxshow");for(t in p)Z.style(e,t,p[t])});for(r in p)s=L(h?g[r]:0,r,f),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function H(e,t){var n,r,i,o,s;for(n in e)if(r=Z.camelCase(n),i=t[r],o=e[n],Z.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=Z.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,o=0,s=tt.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Qe||j(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;s<u;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),o<1&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Qe||j(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(H(c,l.opts.specialEasing);o<s;o++)if(r=tt[o].call(l,e,c,l.opts))return r;return Z.map(c,L,l),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(de)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function P(e,t,n,r){function i(a){var u;return o[a]=!0,Z.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=e===xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function R(e,t){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Z.extend(!0,e,r),e}function M(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function W(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||Nt.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function I(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],_=B.slice,z=B.concat,X=B.push,U=B.indexOf,V={},Y=V.toString,G=V.hasOwnProperty,Q={},J=e.document,K="2.1.4",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,re=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:K,constructor:Z,selector:"",length:0,toArray:function(){return _.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:_.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(_.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[t]=Z.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},Z.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===Z.type(e)&&!e.nodeType&&!Z.isWindow(e)&&!(e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[Y.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,s=e.length,a=n(e);if(r){if(a)for(;o<s&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(a)for(;o<s&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?Z.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:U.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,s=e.length,a=!n;o<s;o++)r=!t(e[o],o),r!==a&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,s=e.length,a=n(e),u=[];if(a)for(;o<s;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return z.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Z.isFunction(e))return r=_.call(arguments,2),i=function(){return e.apply(t||this,r.concat(_.call(arguments)))},i.guid=e.guid=e.guid||Z.guid++,i},now:Date.now,support:Q}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var ie=function(e){function t(e,t,n,r){var i,o,s,a,u,l,f,d,h,g;if((t?t.ownerDocument||t:$)!==q&&L(t),t=t||q,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!r&&O){if(11!==a&&(i=ye.exec(e)))if(s=i[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&M(t,o)&&o.id===s)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((s=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(s)),n}if(w.qsa&&(!F||!F.test(e))){if(d=f=W,h=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(l=k(e),(f=t.getAttribute("id"))?d=f.replace(be,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+p(l[u]);h=xe.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return K.apply(n,h.querySelectorAll(g)),n}catch(e){}finally{f||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=q.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function s(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function f(){}function p(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=B++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l=[I,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[W]||(t[W]={}),(a=u[r])&&a[0]===I&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=e(t,n,s))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),l&&t.push(a)));return s}function v(e,t,n,i,o,s){return i&&!i[W]&&(i=v(i)),o&&!o[W]&&(o=v(o,s)),r(function(r,s,a,u){var l,c,f,p=[],d=[],h=s.length,v=r||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?v:m(v,p,e,a,u),x=n?o||(r?e:h||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=m(x,d),i(l,[],a,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):p[c])>-1&&(r[l]=!(s[l]=f))}}else x=m(x===s?x.splice(h,x.length):x),o?o(null,s,x,u):K.apply(s,x)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],s=o||T.relative[" "],a=o?1:0,u=d(function(e){return e===t},s,!0),l=d(function(e){return ee(t,e)>-1},s,!0),c=[function(e,n,r){var i=!o&&(r||n!==D)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];a<i;a++)if(n=T.relative[e[a].type])c=[d(h(c),n)];else{if(n=T.filter[e[a].type].apply(null,e[a].matches),n[W]){for(r=++a;r<i&&!T.relative[e[r].type];r++);return v(a>1&&h(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ue,"$1"),n,a<r&&y(e.slice(a,r)),r<i&&y(e=e.slice(r)),r<i&&p(e))}c.push(n)}return h(c)}function x(e,n){var i=n.length>0,o=e.length>0,s=function(r,s,a,u,l){var c,f,p,d=0,h="0",g=r&&[],v=[],y=D,x=r||o&&T.find.TAG("*",l),b=I+=null==y?1:Math.random()||.1,w=x.length;for(l&&(D=s!==q&&s);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0;p=e[f++];)if(p(c,s,a)){u.push(c);break}l&&(I=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,v,s,a);if(r){if(d>0)for(;h--;)g[h]||v[h]||(v[h]=Q.call(u));v=m(v)}K.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(I=b,D=y),g};return i?r(s):s}var b,w,T,C,N,k,E,S,D,j,A,L,q,H,O,F,P,R,M,W="sizzle"+1*new Date,$=e.document,I=0,B=0,_=n(),z=n(),X=n(),U=function(e,t){return e===t&&(A=!0),0},V=1<<31,Y={}.hasOwnProperty,G=[],Q=G.pop,J=G.push,K=G.push,Z=G.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),fe=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),pe=new RegExp(se),de=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(G=Z.call($.childNodes),$.childNodes),G[$.childNodes.length].nodeType}catch(e){K={apply:G.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==q&&9===r.nodeType&&r.documentElement?(q=r,H=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),O=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return H.appendChild(e).id=W,!r.getElementsByName||!r.getElementsByName(W).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){if(O)return t.getElementsByClassName(e)},P=[],F=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){H.appendChild(e).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+W+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+W+"+*").length||F.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ve.test(R=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&i(function(e){w.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),P.push("!=",se)}),F=F.length&&new RegExp(F.join("|")),P=P.length&&new RegExp(P.join("|")),t=ve.test(H.compareDocumentPosition),M=t||ve.test(H.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===$&&M($,e)?-1:t===r||t.ownerDocument===$&&M($,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,o=e.parentNode,a=t.parentNode,u=[e],l=[t];if(!o||!a)return e===r?-1:t===r?1:o?-1:a?1:j?ee(j,e)-ee(j,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===$?-1:l[i]===$?1:0},r):q},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==q&&L(e),n=n.replace(fe,"='$1']"),w.matchesSelector&&O&&(!P||!P.test(n))&&(!F||!F.test(n)))try{var r=R.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,q,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==q&&L(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==q&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:w.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=_[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&_(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!u&&!a;if(m){if(o){for(;g;){for(f=t;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?m.firstChild:m.lastChild],s&&y){for(c=m[W]||(m[W]={}),l=c[e]||[],d=l[0]===I&&l[1],p=l[0]===I&&l[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(p=d=0)||h.pop();)if(1===f.nodeType&&++p&&f===t){c[e]=[I,d,p];break}}else if(y&&(l=(t[W]||(t[W]={}))[e])&&l[0]===I)p=l[1];else for(;(f=++d&&f&&f[g]||(p=d=0)||h.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++p||(y&&((f[W]||(f[W]={}))[e]=[I,p]),f!==t)););return p-=i,p===r||p%r===0&&p/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),s=i.length;s--;)r=ee(e,i[s]),e[r]=!(t[r]=i[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ue,"$1"));return i[W]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===H},focus:function(e){return e===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})T.pseudos[b]=u(b);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,k=t.tokenize=function(e,n){var r,i,o,s,a,u,l,c=z[e+" "];if(c)return n?0:c.slice(0);for(a=e,u=[],l=T.preFilter;a;){r&&!(i=le.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ce.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in T.filter)!(i=he[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?t.error(e):z(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=y(t[n]),o[W]?r.push(o):i.push(o);o=X(e,x(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,f=!r&&k(e=l.selector||e);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===t.nodeType&&O&&T.relative[o[1].type]){if(t=(T.find.ID(s.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(s=o[i],!T.relative[a=s.type]);)if((u=T.find[a])&&(r=u(s.matches[0].replace(we,Te),xe.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return K.apply(n,r),n;break}}return(l||E(e,f))(r,t,!O,n,xe.test(e)&&c(t.parentNode)||t),n},w.sortStable=W.split("").sort(U).join("")===W,w.detectDuplicates=!!A,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(q.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Z.find=ie,Z.expr=ie.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ie.uniqueSort,Z.text=ie.getText,Z.isXMLDoc=ie.isXML,Z.contains=ie.contains;var oe=Z.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Z.find.matchesSelector(r,e)?[r]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){
for(t=0;t<n;t++)if(Z.contains(i[t],this))return!0}));for(t=0;t<n;t++)Z.find(e,i[t],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&oe.test(e)?Z(e):e||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:le.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ue).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),se.test(n[1])&&Z.isPlainObject(t))for(n in t)Z.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=J.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof ue.ready?ue.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ce.prototype=Z.fn,ue=Z(J);var fe=/^(?:parents|prev(?:Until|All))/,pe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Z(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Z.fn.extend({has:function(e){var t=Z(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=oe.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(e){return e?"string"==typeof e?U.call(Z(e),this[0]):U.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(pe[e]||Z.unique(i),fe.test(e)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,he={};Z.Callbacks=function(e){e="string"==typeof e?he[e]||o(e):Z.extend({},e);var t,n,r,i,s,a,u=[],l=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&a<s;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):t?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function t(n){Z.each(n,function(n,r){var i=Z.type(r);"function"===i?e.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?s=u.length:t&&(i=n,c(t))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),r&&(n<=s&&s--,n<=a&&a--)}),this},has:function(e){return e?Z.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=t=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,t||f.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!u||n&&!l||(t=t||[],t=[e,t.slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,o){var s=Z.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=_.call(arguments),s=o.length,a=1!==s||e&&Z.isFunction(e.promise)?s:0,u=1===a?e:Z.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?_.call(arguments):i,r===t?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--a;return a||u.resolveWith(r,o),u.promise()}});var ge;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ge.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return ge||(ge=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1))),ge.promise(t)},Z.ready.promise();var me=Z.access=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===Z.type(n)){i=!0;for(a in n)Z.access(e,t,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Z(e),n)})),t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=a.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,Z.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,Z.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(void 0===t)this.cache[o]={};else{Z.isArray(t)?r=t.concat(t.map(Z.camelCase)):(i=Z.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new a,ye=new a,xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Z.extend({hasData:function(e){return ye.hasData(e)||ve.hasData(e)},data:function(e,t,n){return ye.access(e,t,n)},removeData:function(e,t){ye.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Z.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ye.set(this,e)}):me(this,function(t){var n,r=Z.camelCase(e);if(o&&void 0===t){if(n=ye.get(o,e),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,t),e.indexOf("-")!==-1&&void 0!==n&&ye.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ye.remove(this,e)})}}),Z.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ve.get(e,t),n&&(!r||Z.isArray(n)?r=ve.access(e,t,Z.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),o=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Z.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Z.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Z.queue(this[0],e):void 0===t?this:this.each(function(){var n=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Z.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=ve.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Te=["Top","Right","Bottom","Left"],Ce=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Ne=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Q.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Q.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ke="undefined";Q.focusinBubbles="onfocusin"in e;var Ee=/^key/,Se=/^(?:mouse|pointer|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,je=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ve.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return typeof Z!==ke&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(de)||[""],l=t.length;l--;)a=je.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d&&(f=Z.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Z.event.special[d]||{},c=Z.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,s)!==!1||e.addEventListener&&e.addEventListener(d,s,!1)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Z.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,m=ve.hasData(e)&&ve.get(e);if(m&&(u=m.events)){for(t=(t||"").match(de)||[""],l=t.length;l--;)if(a=je.exec(t[l])||[],d=g=a[1],h=(a[2]||"").split(".").sort(),d){for(f=Z.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||Z.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)Z.event.remove(e,d+t[l],n,r,!0);Z.isEmptyObject(u)&&(delete m.handle,ve.remove(e,"events"))}},trigger:function(t,n,r,i){var o,s,a,u,l,c,f,p=[r||J],d=G.call(t,"type")?t.type:t,h=G.call(t,"namespace")?t.namespace.split("."):[];if(s=a=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!De.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[Z.expando]?t:new Z.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Z.makeArray(n,[t]),f=Z.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Z.isWindow(r)){for(u=f.delegateType||d,De.test(u+d)||(s=s.parentNode);s;s=s.parentNode)p.push(s),a=s;a===(r.ownerDocument||J)&&p.push(a.defaultView||a.parentWindow||e)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(ve.get(s,"events")||{})[t.type]&&ve.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Z.acceptData(s)&&(t.result=c.apply(s,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Z.acceptData(r)||l&&Z.isFunction(r[d])&&!Z.isWindow(r)&&(a=r[l],a&&(r[l]=null),Z.event.triggered=d,r[d](),Z.event.triggered=void 0,a&&(r[l]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,n,r,i,o,s=[],a=_.call(arguments),u=(ve.get(this,"events")||{})[e.type]||[],l=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(s=Z.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;n<a;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Se.test(i)?this.mouseHooks:Ee.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new Z.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===f()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Z.nodeName(this,"input"))return this.click(),!1},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?l:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=l,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Z.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Q.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,t);i||r.addEventListener(e,n,!0),ve.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,t)-1;i?ve.access(r,t,i):(r.removeEventListener(e,n,!0),ve.remove(r,t))}}}),Z.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Z.event.trigger(e,t,n,!0)}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Le=/<([\w:]+)/,qe=/<|&#?\w+;/,He=/<(?:script|style|link)/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^$|\/(?:java|ecma)script/i,Pe=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Me.optgroup=Me.option,Me.tbody=Me.tfoot=Me.colgroup=Me.caption=Me.thead,Me.th=Me.td,Z.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=Z.contains(e.ownerDocument,e);if(!(Q.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(s=v(a),o=v(e),r=0,i=o.length;r<i;r++)y(o[r],s[r]);if(t)if(n)for(o=o||v(e),s=s||v(a),r=0,i=o.length;r<i;r++)m(o[r],s[r]);else m(e,a);return s=v(a,"script"),s.length>0&&g(s,!u&&v(e,"script")),a},buildFragment:function(e,t,n,r){for(var i,o,s,a,u,l,c=t.createDocumentFragment(),f=[],p=0,d=e.length;p<d;p++)if(i=e[p],i||0===i)if("object"===Z.type(i))Z.merge(f,i.nodeType?[i]:i);else if(qe.test(i)){for(o=o||c.appendChild(t.createElement("div")),s=(Le.exec(i)||["",""])[1].toLowerCase(),a=Me[s]||Me._default,o.innerHTML=a[1]+i.replace(Ae,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Z.merge(f,o.childNodes),o=c.firstChild,o.textContent=""}else f.push(t.createTextNode(i));for(c.textContent="",p=0;i=f[p++];)if((!r||Z.inArray(i,r)===-1)&&(u=Z.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)Fe.test(i.type||"")&&n.push(i);return c},cleanData:function(e){for(var t,n,r,i,o=Z.event.special,s=0;void 0!==(n=e[s]);s++){if(Z.acceptData(n)&&(i=n[ve.expando],i&&(t=ve.cache[i]))){if(t.events)for(r in t.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,t.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=p(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?Z.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||Z.cleanData(v(n)),n.parentNode&&(t&&Z.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!He.test(e)&&!Me[(Le.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Z.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=z.apply([],e);var n,r,i,o,s,a,u=0,l=this.length,c=this,f=l-1,p=e[0],g=Z.isFunction(p);if(g||l>1&&"string"==typeof p&&!Q.checkClone&&Oe.test(p))return this.each(function(n){var r=c.eq(n);g&&(e[0]=p.call(this,n,r.html())),r.domManip(e,t)});if(l&&(n=Z.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(v(n,"script"),d),o=i.length;u<l;u++)s=n,u!==f&&(s=Z.clone(s,!0,!0),o&&Z.merge(i,v(s,"script"))),t.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Z.map(i,h),u=0;u<o;u++)s=i[u],Fe.test(s.type||"")&&!ve.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var n,r=[],i=Z(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),Z(i[s])[t](n),X.apply(r,n.get());return this.pushStack(r)}});var We,$e={},Ie=/^margin/,Be=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),_e=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var t=e.getComputedStyle(s,null);n="1%"!==t.top,r="4px"===t.width,i.removeChild(o)}var n,r,i=J.documentElement,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Q.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),e.getComputedStyle&&Z.extend(Q,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,n=s.appendChild(J.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),i.removeChild(o),s.removeChild(n),t}}))}(),Z.swap=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i};var ze=/^(none|table(?!-c[ea]).+)/,Xe=new RegExp("^("+we+")(.*)$","i"),Ue=new RegExp("^([+-])=("+we+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Z.camelCase(t),u=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=C(u,a)),s=Z.cssHooks[t]||Z.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=Ue.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||Z.cssNumber[a]||(n+="px"),Q.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,s,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=C(e.style,a)),s=Z.cssHooks[t]||Z.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=w(e,t,r)),"normal"===i&&t in Ye&&(i=Ye[t]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){if(n)return ze.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ve,function(){return E(e,t,r)}):E(e,t,r)},set:function(e,n,r){var i=r&&_e(e);return N(e,n,r?k(e,t,r,"border-box"===Z.css(e,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=T(Q.reliableMarginRight,function(e,t){if(t)return Z.swap(e,{display:"inline-block"},w,[e,"marginRight"])}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Te[r]+t]=o[r]||o[r-2]||o[0];return i}},Ie.test(e)||(Z.cssHooks[e+t].set=N)}),Z.fn.extend({css:function(e,t){return me(this,function(e,t,n){var r,i,o={},s=0;if(Z.isArray(t)){for(r=_e(e),i=t.length;s<i;s++)o[t[s]]=Z.css(e,t[s],!1,r);return o}return void 0!==n?Z.style(e,t,n):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ce(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var e=D.propHooks[this.prop];return e&&e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.options.duration?this.pos=t=Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=D.prototype.init,Z.fx.step={};var Qe,Je,Ke=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[q],nt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Ze.exec(t),o=i&&i[3]||(Z.cssNumber[e]?"":"px"),s=(Z.cssNumber[e]||"px"!==o&&+r)&&Ze.exec(Z.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Z.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),o=Z.speed(t,n,r),s=function(){var t=O(this,Z.extend({},e),o);(i||ve.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Z.timers,s=ve.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&et.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Z.timers,s=r?r.length:0;for(n.finish=!0,Z.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));
for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,r,i)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,n=Z.timers;for(Qe=Z.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Z.fx.stop(),Qe=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Je||(Je=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Je),Je=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",Q.checkOn=""!==e.value,Q.optSelected=n.selected,t.disabled=!0,Q.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",Q.radioValue="t"===e.value}();var rt,it,ot=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return me(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===ke?Z.prop(e,t,n):(1===o&&Z.isXMLDoc(e)||(t=t.toLowerCase(),r=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?it:rt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=Z.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void Z.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(de);if(o&&1===e.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Q.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),it={set:function(e,t,n){return t===!1?Z.removeAttr(e,n):e.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Z.find.attr;ot[t]=function(e,t,r){var i,o;return r||(o=ot[t],ot[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ot[t]=o),i}});var st=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return me(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(e),o&&(t=Z.propFix[t]||t,i=Z.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||st.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Q.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,n,r,i,o,s,a="string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];u<l;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Z.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,r,i,o,s,a=0===arguments.length||"string"==typeof e&&e,u=0,l=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(de)||[];u<l;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(at," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=e?Z.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=Z(this),o=e.match(de)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else n!==ke&&"boolean"!==n||(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var ut=/\r/g;Z.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Z(this).val()):e,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ut,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(n=r[u],(n.selected||u===i)&&(Q.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=Z.makeArray(t),s=i.length;s--;)r=i[s],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){if(Z.isArray(t))return e.checked=Z.inArray(Z(e).val(),t)>=0}},Q.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var lt=Z.now(),ct=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+e),t};var ft=/#.*$/,pt=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,gt=/^(?:GET|HEAD)$/,mt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,yt={},xt={},bt="*/".concat("*"),wt=e.location.href,Tt=vt.exec(wt.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:ht.test(Tt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,Z.ajaxSettings),t):R(Z.ajaxSettings,e)},ajaxPrefilter:F(yt),ajaxTransport:F(xt),ajax:function(e,t){function n(e,t,n,s){var u,c,v,y,b,T=t;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(y=M(f,w,n)),y=W(f,y,w,u),u?(f.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Z.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(Z.etag[i]=b)),204===e||"HEAD"===f.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,u=!v)):(v=T,!e&&T||(T="error",e<0&&(e=0))),w.status=e,w.statusText=(t||T)+"",u?h.resolveWith(p,[c,T,w]):h.rejectWith(p,[w,T,v]),w.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?c:v]),g.fireWith(p,[w,T]),l&&(d.trigger("ajaxComplete",[w,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,a,u,l,c,f=Z.ajaxSetup({},t),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?Z(p):Z.event,h=Z.Deferred(),g=Z.Callbacks("once memory"),m=f.statusCode||{},v={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=dt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return x||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return r&&r.abort(t),n(0,t),this}};if(h.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,f.url=((e||f.url||wt)+"").replace(ft,"").replace(mt,Tt[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().match(de)||[""],null==f.crossDomain&&(u=vt.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Tt[1]&&u[2]===Tt[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Tt[3]||("http:"===Tt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),P(yt,f,t,w),2===x)return w;l=Z.event&&f.global,l&&0===Z.active++&&Z.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!gt.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(ct.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=pt.test(i)?i.replace(pt,"$1_="+lt++):i+(ct.test(i)?"&":"?")+"_="+lt++)),f.ifModified&&(Z.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&w.setRequestHeader("If-None-Match",Z.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+bt+"; q=0.01":""):f.accepts["*"]);for(c in f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(f.beforeSend.call(p,w,f)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](f[c]);if(r=P(xt,f,t,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{x=1,r.send(v,n)}catch(e){if(!(x<2))throw e;n(-1,e)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var Ct=/%20/g,Nt=/\[\]$/,kt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var n,r=[],i=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(Ct,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&St.test(this.nodeName)&&!Et.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Dt=0,jt={},At={0:200,1223:204},Lt=Z.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in jt)jt[e]()}),Q.cors=!!Lt&&"withCredentials"in Lt,Q.ajax=Lt=!!Lt,Z.ajaxTransport(function(e){var t;if(Q.cors||Lt&&!e.crossDomain)return{send:function(n,r){var i,o=e.xhr(),s=++Dt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete jt[s],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(At[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=jt[s]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var qt=[],Ht=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||Z.expando+"_"+lt++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(Ht.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ht,"$1"+i):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||Z.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,qt.push(i)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),Z.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var r=se.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var Ot=Z.fn.load;Z.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&Z.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?Z("<div>").append(Z.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Ft=e.document.documentElement;Z.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=Z.css(e,"position"),f=Z(e),p={};"static"===c&&(e.style.position="relative"),a=f.offset(),o=Z.css(e,"top"),u=Z.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(p.top=t.top-a.top+s),null!=t.left&&(p.left=t.left-a.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,Z.contains(t,r)?(typeof r.getBoundingClientRect!==ke&&(i=r.getBoundingClientRect()),n=I(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(r=e.offset()),r.top+=Z.css(e[0],"borderTopWidth",!0),r.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-Z.css(n,"marginTop",!0),left:t.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ft;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Ft})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;Z.fn[t]=function(i){return me(this,function(t,i,o){var s=I(t);return void 0===o?s?s[n]:t[i]:void(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o)},t,i,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=T(Q.pixelPosition,function(e,n){if(n)return n=w(e,t),Be.test(n)?Z(e).position()[t]+"px":n})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return me(this,function(t,n,r){var i;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?Z.css(t,n,s):Z.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Pt=e.jQuery,Rt=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Rt),t&&e.jQuery===Z&&(e.jQuery=Pt),Z},typeof t===ke&&(e.jQuery=e.$=Z),Z});
},{}],607:[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return $n.apply(null,arguments)}function e(t){$n=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)r(e,n)&&(t[n]=e[n]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function o(t,e,n,i){return Wt(t,e,n,i,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function d(t){return null==t._pf&&(t._pf=u()),t._pf}function h(t){if(null==t._isValid){var e=d(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function l(t){var e=o(NaN);return null!=t?a(d(e),t):d(e).userInvalidated=!0,e}function c(t){return void 0===t}function f(t,e){var n,i,s;if(c(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),c(e._i)||(t._i=e._i),c(e._f)||(t._f=e._f),c(e._l)||(t._l=e._l),c(e._strict)||(t._strict=e._strict),c(e._tzm)||(t._tzm=e._tzm),c(e._isUTC)||(t._isUTC=e._isUTC),c(e._offset)||(t._offset=e._offset),c(e._pf)||(t._pf=d(e)),c(e._locale)||(t._locale=e._locale),Jn.length>0)for(n in Jn)i=Jn[n],s=e[i],c(s)||(t[i]=s);return t}function m(e){f(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Bn===!1&&(Bn=!0,t.updateOffset(this),Bn=!1)}function _(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function y(t){return t<0?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=y(e)),n}function p(t,e,n){var i,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<s;i++)(n&&t[i]!==e[i]||!n&&g(t[i])!==g(e[i]))&&a++;return a+r}function v(){}function D(t){return t?t.toLowerCase().replace("_","-"):t}function M(t){for(var e,n,i,s,r=0;r<t.length;){for(s=D(t[r]).split("-"),e=s.length,n=D(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=Y(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&p(s,n,!0)>=e-1)break;e--}r++}return null}function Y(t){var e=null;if(!Qn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=qn._abbr,require("./locale/"+t),S(e)}catch(t){}return Qn[t]}function S(t,e){var n;return t&&(n=c(e)?k(t):w(t,e),n&&(qn=n)),qn._abbr}function w(t,e){return null!==e?(e.abbr=t,Qn[t]=Qn[t]||new v,Qn[t].set(e),S(t),Qn[t]):(delete Qn[t],null)}function k(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return qn;if(!n(t)){if(e=Y(t))return e;t=[t]}return M(t)}function T(t,e){var n=t.toLowerCase();Xn[n]=Xn[n+"s"]=Xn[e]=t}function b(t){return"string"==typeof t?Xn[t]||Xn[t.toLowerCase()]:void 0}function O(t){var e,n,i={};for(n in t)r(t,n)&&(e=b(n),e&&(i[e]=t[n]));return i}function W(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function x(e,n){return function(i){return null!=i?(G(this,e,i),t.updateOffset(this,n),this):U(this,e)}}function U(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function G(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function P(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=b(t),W(this[t]))return this[t](e);return this}function C(t,e,n){var i=""+Math.abs(t),s=e-i.length,r=t>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+i}function F(t,e,n,i){var s=i;"string"==typeof i&&(s=function(){return this[i]()}),t&&(ni[t]=s),e&&(ni[e[0]]=function(){return C(s.apply(this,arguments),e[1],e[2])}),n&&(ni[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function H(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,n,i=t.match(Kn);for(e=0,n=i.length;e<n;e++)ni[i[e]]?i[e]=ni[i[e]]:i[e]=H(i[e]);return function(s){var r="";for(e=0;e<n;e++)r+=i[e]instanceof Function?i[e].call(s,t):i[e];return r}}function L(t,e){return t.isValid()?(e=I(e,t.localeData()),ei[e]=ei[e]||V(e),ei[e](t)):t.localeData().invalidDate()}function I(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(ti.lastIndex=0;i>=0&&ti.test(t);)t=t.replace(ti,n),ti.lastIndex=0,i-=1;return t}function N(t,e,n){Di[t]=W(e)?e:function(t,i){return t&&n?n:e}}function A(t,e){return r(Di,t)?Di[t](e._strict,e._locale):new RegExp(R(t))}function R(t){return E(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,s){return e||n||i||s}))}function E(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=g(t)}),n=0;n<t.length;n++)Mi[t[n]]=i}function Z(t,e){z(t,function(t,n,i,s){i._w=i._w||{},e(t,i._w,i,s)})}function j(t,e,n){null!=e&&r(Mi,t)&&Mi[t](e,n._a,n,t)}function $(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function q(t,e){return n(this._months)?this._months[t.month()]:this._months[Ui.test(e)?"format":"standalone"][t.month()]}function J(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ui.test(e)?"format":"standalone"][t.month()]}function B(t,e,n){var i,s,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(s=o([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function Q(t,e){var n;return t.isValid()?"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),$(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t):t}function X(e){return null!=e?(Q(this,e),t.updateOffset(this,!0),this):U(this,"Month")}function K(){return $(this.year(),this.month())}function tt(t){return this._monthsParseExact?(r(this,"_monthsRegex")||nt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function et(t){return this._monthsParseExact?(r(this,"_monthsRegex")||nt.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function nt(){function t(t,e){return e.length-t.length}var e,n,i=[],s=[],r=[];for(e=0;e<12;e++)n=o([2e3,e]),i.push(this.monthsShort(n,"")),s.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),s.sort(t),r.sort(t),e=0;e<12;e++)i[e]=E(i[e]),s[e]=E(s[e]),r[e]=E(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")$","i")}function it(t){var e,n=t._a;return n&&d(t).overflow===-2&&(e=n[Si]<0||n[Si]>11?Si:n[wi]<1||n[wi]>$(n[Yi],n[Si])?wi:n[ki]<0||n[ki]>24||24===n[ki]&&(0!==n[Ti]||0!==n[bi]||0!==n[Oi])?ki:n[Ti]<0||n[Ti]>59?Ti:n[bi]<0||n[bi]>59?bi:n[Oi]<0||n[Oi]>999?Oi:-1,d(t)._overflowDayOfYear&&(e<Yi||e>wi)&&(e=wi),d(t)._overflowWeeks&&e===-1&&(e=Wi),d(t)._overflowWeekday&&e===-1&&(e=xi),d(t).overflow=e),t}function st(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function rt(t,e){var n=!0;return a(function(){return n&&(st(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function at(t,e){Hi[t]||(st(e),Hi[t]=!0)}function ot(t){var e,n,i,s,r,a,o=t._i,u=Vi.exec(o)||Li.exec(o);if(u){for(d(t).iso=!0,e=0,n=Ni.length;e<n;e++)if(Ni[e][1].exec(u[1])){s=Ni[e][0],i=Ni[e][2]!==!1;break}if(null==s)return void(t._isValid=!1);if(u[3]){for(e=0,n=Ai.length;e<n;e++)if(Ai[e][1].exec(u[3])){r=(u[2]||" ")+Ai[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(u[4]){if(!Ii.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=s+(r||"")+(a||""),Yt(t)}else t._isValid=!1}function ut(e){var n=Ri.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(ot(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function dt(t,e,n,i,s,r,a){var o=new Date(t,e,n,i,s,r,a);return t<100&&t>=0&&isFinite(o.getFullYear())&&o.setFullYear(t),o}function ht(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function lt(t){return ct(t)?366:365}function ct(t){return t%4===0&&t%100!==0||t%400===0}function ft(){return ct(this.year())}function mt(t,e,n){var i=7+e-n,s=(7+ht(t,0,i).getUTCDay()-e)%7;return-s+i-1}function _t(t,e,n,i,s){var r,a,o=(7+n-i)%7,u=mt(t,i,s),d=1+7*(e-1)+o+u;return d<=0?(r=t-1,a=lt(r)+d):d>lt(t)?(r=t+1,a=d-lt(t)):(r=t,a=d),{year:r,dayOfYear:a}}function yt(t,e,n){var i,s,r=mt(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?(s=t.year()-1,i=a+gt(s,e,n)):a>gt(t.year(),e,n)?(i=a-gt(t.year(),e,n),s=t.year()+1):(s=t.year(),i=a),{week:i,year:s}}function gt(t,e,n){var i=mt(t,e,n),s=mt(t+1,e,n);return(lt(t)-i+s)/7}function pt(t,e,n){return null!=t?t:null!=e?e:n}function vt(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Dt(t){var e,n,i,s,r=[];if(!t._d){for(i=vt(t),t._w&&null==t._a[wi]&&null==t._a[Si]&&Mt(t),t._dayOfYear&&(s=pt(t._a[Yi],i[Yi]),t._dayOfYear>lt(s)&&(d(t)._overflowDayOfYear=!0),n=ht(s,0,t._dayOfYear),t._a[Si]=n.getUTCMonth(),t._a[wi]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ki]&&0===t._a[Ti]&&0===t._a[bi]&&0===t._a[Oi]&&(t._nextDay=!0,t._a[ki]=0),t._d=(t._useUTC?ht:dt).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ki]=24)}}function Mt(t){var e,n,i,s,r,a,o,u;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,a=4,n=pt(e.GG,t._a[Yi],yt(xt(),1,4).year),i=pt(e.W,1),s=pt(e.E,1),(s<1||s>7)&&(u=!0)):(r=t._locale._week.dow,a=t._locale._week.doy,n=pt(e.gg,t._a[Yi],yt(xt(),r,a).year),i=pt(e.w,1),null!=e.d?(s=e.d,(s<0||s>6)&&(u=!0)):null!=e.e?(s=e.e+r,(e.e<0||e.e>6)&&(u=!0)):s=r),i<1||i>gt(n,r,a)?d(t)._overflowWeeks=!0:null!=u?d(t)._overflowWeekday=!0:(o=_t(n,i,s,r,a),t._a[Yi]=o.year,t._dayOfYear=o.dayOfYear)}function Yt(e){if(e._f===t.ISO_8601)return void ot(e);e._a=[],d(e).empty=!0;var n,i,s,r,a,o=""+e._i,u=o.length,h=0;for(s=I(e._f,e._locale).match(Kn)||[],n=0;n<s.length;n++)r=s[n],i=(o.match(A(r,e))||[])[0],i&&(a=o.substr(0,o.indexOf(i)),a.length>0&&d(e).unusedInput.push(a),o=o.slice(o.indexOf(i)+i.length),h+=i.length),ni[r]?(i?d(e).empty=!1:d(e).unusedTokens.push(r),j(r,i,e)):e._strict&&!i&&d(e).unusedTokens.push(r);d(e).charsLeftOver=u-h,o.length>0&&d(e).unusedInput.push(o),d(e).bigHour===!0&&e._a[ki]<=12&&e._a[ki]>0&&(d(e).bigHour=void 0),e._a[ki]=St(e._locale,e._a[ki],e._meridiem),Dt(e),it(e)}function St(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function wt(t){var e,n,i,s,r;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],Yt(e),h(e)&&(r+=d(e).charsLeftOver,r+=10*d(e).unusedTokens.length,d(e).score=r,(null==i||r<i)&&(i=r,n=e));a(t,n||e)}function kt(t){if(!t._d){var e=O(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Dt(t)}}function Tt(t){var e=new m(it(bt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function bt(t){var e=t._i,s=t._f;return t._locale=t._locale||k(t._l),null===e||void 0===s&&""===e?l({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),_(e)?new m(it(e)):(n(s)?wt(t):s?Yt(t):i(e)?t._d=e:Ot(t),h(t)||(t._d=null),t))}function Ot(e){var r=e._i;void 0===r?e._d=new Date(t.now()):i(r)?e._d=new Date(+r):"string"==typeof r?ut(e):n(r)?(e._a=s(r.slice(0),function(t){return parseInt(t,10)}),Dt(e)):"object"==typeof r?kt(e):"number"==typeof r?e._d=new Date(r):t.createFromInputFallback(e)}function Wt(t,e,n,i,s){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=s,r._l=n,r._i=t,r._f=e,r._strict=i,Tt(r)}function xt(t,e,n,i){return Wt(t,e,n,i,!1)}function Ut(t,e){var i,s;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return xt();for(i=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](i)||(i=e[s]);return i}function Gt(){var t=[].slice.call(arguments,0);return Ut("isBefore",t)}function Pt(){var t=[].slice.call(arguments,0);return Ut("isAfter",t)}function Ct(t){var e=O(t),n=e.year||0,i=e.quarter||0,s=e.month||0,r=e.week||0,a=e.day||0,o=e.hour||0,u=e.minute||0,d=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*d+6e4*u+36e5*o,this._days=+a+7*r,this._months=+s+3*i+12*n,this._data={},this._locale=k(),this._bubble()}function Ft(t){return t instanceof Ct}function Ht(t,e){F(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+C(~~(t/60),2)+e+C(~~t%60,2)})}function Vt(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],s=(i+"").match($i)||["-",0,0],r=+(60*s[1])+g(s[2]);return"+"===s[0]?r:-r}function Lt(e,n){var s,r;return n._isUTC?(s=n.clone(),r=(_(e)||i(e)?+e:+xt(e))-+s,s._d.setTime(+s._d+r),t.updateOffset(s,!1),s):xt(e).local()}function It(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Nt(e,n){var i,s=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Vt(gi,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=It(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!n||this._changeInProgress?ne(this,Qt(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?s:It(this):null!=e?this:NaN}function At(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Rt(t){return this.utcOffset(0,t)}function Et(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(It(this),"m")),this}function zt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Vt(yi,this._i)),this}function Zt(t){return!!this.isValid()&&(t=t?xt(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function jt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $t(){if(!c(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),t=bt(t),t._a){var e=t._isUTC?o(t._a):xt(t._a);this._isDSTShifted=this.isValid()&&p(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qt(){return!!this.isValid()&&!this._isUTC}function Jt(){return!!this.isValid()&&this._isUTC}function Bt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qt(t,e){var n,i,s,a=t,o=null;return Ft(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(o=qi.exec(t))?(n="-"===o[1]?-1:1,a={y:0,d:g(o[wi])*n,h:g(o[ki])*n,m:g(o[Ti])*n,s:g(o[bi])*n,ms:g(o[Oi])*n}):(o=Ji.exec(t))?(n="-"===o[1]?-1:1,a={y:Xt(o[2],n),M:Xt(o[3],n),d:Xt(o[4],n),h:Xt(o[5],n),m:Xt(o[6],n),s:Xt(o[7],n),w:Xt(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(s=te(xt(a.from),xt(a.to)),a={},a.ms=s.milliseconds,a.M=s.months),i=new Ct(a),Ft(t)&&r(t,"_locale")&&(i._locale=t._locale),i}function Xt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Kt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function te(t,e){var n;return t.isValid()&&e.isValid()?(e=Lt(e,t),t.isBefore(e)?n=Kt(t,e):(n=Kt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ee(t,e){return function(n,i){var s,r;return null===i||isNaN(+i)||(at(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,s=Qt(n,i),ne(this,s,t),this}}function ne(e,n,i,s){var r=n._milliseconds,a=n._days,o=n._months;e.isValid()&&(s=null==s||s,r&&e._d.setTime(+e._d+r*i),a&&G(e,"Date",U(e,"Date")+a*i),o&&Q(e,U(e,"Month")+o*i),s&&t.updateOffset(e,a||o))}function ie(t,e){var n=t||xt(),i=Lt(n,this).startOf("day"),s=this.diff(i,"days",!0),r=s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse",a=e&&(W(e[r])?e[r]():e[r]);return this.format(a||this.localeData().calendar(r,this,xt(n)))}function se(){return new m(this)}function re(t,e){var n=_(t)?t:xt(t);return!(!this.isValid()||!n.isValid())&&(e=b(c(e)?"millisecond":e),"millisecond"===e?+this>+n:+n<+this.clone().startOf(e))}function ae(t,e){var n=_(t)?t:xt(t);return!(!this.isValid()||!n.isValid())&&(e=b(c(e)?"millisecond":e),"millisecond"===e?+this<+n:+this.clone().endOf(e)<+n)}function oe(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ue(t,e){var n,i=_(t)?t:xt(t);return!(!this.isValid()||!i.isValid())&&(e=b(e||"millisecond"),"millisecond"===e?+this===+i:(n=+i,+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e)))}function de(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function he(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function le(t,e,n){var i,s,r,a;return this.isValid()?(i=Lt(t,this),i.isValid()?(s=6e4*(i.utcOffset()-this.utcOffset()),e=b(e),"year"===e||"month"===e||"quarter"===e?(a=ce(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(r=this-i,a="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-s)/864e5:"week"===e?(r-s)/6048e5:r),n?a:y(a)):NaN):NaN}function ce(t,e){var n,i,s=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(s,"months");return e-r<0?(n=t.clone().add(s-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(s+1,"months"),i=(e-r)/(n-r)),-(s+i)}function fe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function me(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?W(Date.prototype.toISOString)?this.toDate().toISOString():L(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function _e(e){var n=L(this,e||t.defaultFormat);return this.localeData().postformat(n)}function ye(t,e){return this.isValid()&&(_(t)&&t.isValid()||xt(t).isValid())?Qt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.from(xt(),t)}function pe(t,e){return this.isValid()&&(_(t)&&t.isValid()||xt(t).isValid())?Qt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ve(t){return this.to(xt(),t)}function De(t){var e;return void 0===t?this._locale._abbr:(e=k(t),null!=e&&(this._locale=e),this)}function Me(){return this._locale}function Ye(t){switch(t=b(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Se(t){return t=b(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function we(){return+this._d-6e4*(this._offset||0)}function ke(){return Math.floor(+this/1e3)}function Te(){return this._offset?new Date(+this):this._d}function be(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Oe(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function We(){return this.isValid()?this.toISOString():"null"}function xe(){return h(this)}function Ue(){return a({},d(this))}function Ge(){return d(this).overflow}function Pe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ce(t,e){F(0,[t,t.length],0,e)}function Fe(t){return Ie.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function He(t){return Ie.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ve(){return gt(this.year(),1,4)}function Le(){var t=this.localeData()._week;return gt(this.year(),t.dow,t.doy)}function Ie(t,e,n,i,s){var r;return null==t?yt(this,i,s).year:(r=gt(t,i,s),e>r&&(e=r),Ne.call(this,t,e,n,i,s))}function Ne(t,e,n,i,s){var r=_t(t,e,n,i,s),a=ht(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Ae(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Re(t){return yt(t,this._week.dow,this._week.doy).week}function Ee(){return this._week.dow}function ze(){return this._week.doy}function Ze(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function je(t){var e=yt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function $e(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function qe(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function Je(t){return this._weekdaysShort[t.day()]}function Be(t){return this._weekdaysMin[t.day()]}function Qe(t,e,n){var i,s,r;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(s=xt([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Xe(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=$e(t,this.localeData()),this.add(t-e,"d")):e}function Ke(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function tn(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function en(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function nn(){return this.hours()%12||12}function sn(t,e){F(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function rn(t,e){return e._meridiemParse}function an(t){return"p"===(t+"").toLowerCase().charAt(0)}function on(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function un(t,e){e[Oi]=g(1e3*("0."+t))}function dn(){return this._isUTC?"UTC":""}function hn(){return this._isUTC?"Coordinated Universal Time":""}function ln(t){return xt(1e3*t)}function cn(){return xt.apply(null,arguments).parseZone()}function fn(t,e,n){var i=this._calendar[t];return W(i)?i.call(e,n):i}function mn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function _n(){return this._invalidDate}function yn(t){return this._ordinal.replace("%d",t)}function gn(t){return t}function pn(t,e,n,i){var s=this._relativeTime[n];return W(s)?s(t,e,n,i):s.replace(/%d/i,t)}function vn(t,e){var n=this._relativeTime[t>0?"future":"past"];return W(n)?n(e):n.replace(/%s/i,e)}function Dn(t){var e,n;for(n in t)e=t[n],W(e)?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function Mn(t,e,n,i){var s=k(),r=o().set(i,e);return s[n](r,t)}function Yn(t,e,n,i,s){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Mn(t,e,n,s);var r,a=[];for(r=0;r<i;r++)a[r]=Mn(t,r,n,s);return a}function Sn(t,e){return Yn(t,e,"months",12,"month")}function wn(t,e){return Yn(t,e,"monthsShort",12,"month")}function kn(t,e){return Yn(t,e,"weekdays",7,"day")}function Tn(t,e){return Yn(t,e,"weekdaysShort",7,"day")}function bn(t,e){return Yn(t,e,"weekdaysMin",7,"day")}function On(){var t=this._data;return this._milliseconds=vs(this._milliseconds),this._days=vs(this._days),this._months=vs(this._months),t.milliseconds=vs(t.milliseconds),t.seconds=vs(t.seconds),t.minutes=vs(t.minutes),t.hours=vs(t.hours),t.months=vs(t.months),t.years=vs(t.years),this}function Wn(t,e,n,i){var s=Qt(e,n);return t._milliseconds+=i*s._milliseconds,t._days+=i*s._days,t._months+=i*s._months,t._bubble()}function xn(t,e){return Wn(this,t,e,1)}function Un(t,e){return Wn(this,t,e,-1)}function Gn(t){return t<0?Math.floor(t):Math.ceil(t)}function Pn(){var t,e,n,i,s,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*Gn(Fn(o)+a),a=0,o=0),u.milliseconds=r%1e3,t=y(r/1e3),u.seconds=t%60,e=y(t/60),u.minutes=e%60,n=y(e/60),u.hours=n%24,a+=y(n/24),s=y(Cn(a)),o+=s,a-=Gn(Fn(s)),i=y(o/12),o%=12,u.days=a,u.months=o,u.years=i,this}function Cn(t){return 4800*t/146097}function Fn(t){return 146097*t/4800}function Hn(t){var e,n,i=this._milliseconds;if(t=b(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Cn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Fn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function Vn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function Ln(t){return function(){return this.as(t)}}function In(t){return t=b(t),this[t+"s"]()}function Nn(t){return function(){return this._data[t]}}function An(){return y(this.days()/7)}function Rn(t,e,n,i,s){return s.relativeTime(e||1,!!n,t,i)}function En(t,e,n){var i=Qt(t).abs(),s=Fs(i.as("s")),r=Fs(i.as("m")),a=Fs(i.as("h")),o=Fs(i.as("d")),u=Fs(i.as("M")),d=Fs(i.as("y")),h=s<Hs.s&&["s",s]||r<=1&&["m"]||r<Hs.m&&["mm",r]||a<=1&&["h"]||a<Hs.h&&["hh",a]||o<=1&&["d"]||o<Hs.d&&["dd",o]||u<=1&&["M"]||u<Hs.M&&["MM",u]||d<=1&&["y"]||["yy",d];return h[2]=e,h[3]=+t>0,h[4]=n,Rn.apply(null,h)}function zn(t,e){return void 0!==Hs[t]&&(void 0===e?Hs[t]:(Hs[t]=e,!0))}function Zn(t){var e=this.localeData(),n=En(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function jn(){var t,e,n,i=Vs(this._milliseconds)/1e3,s=Vs(this._days),r=Vs(this._months);t=y(i/60),e=y(t/60),i%=60,t%=60,n=y(r/12),r%=12;var a=n,o=r,u=s,d=e,h=t,l=i,c=this.asSeconds();return c?(c<0?"-":"")+"P"+(a?a+"Y":"")+(o?o+"M":"")+(u?u+"D":"")+(d||h||l?"T":"")+(d?d+"H":"")+(h?h+"M":"")+(l?l+"S":""):"P0D"}var $n,qn,Jn=t.momentProperties=[],Bn=!1,Qn={},Xn={},Kn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ti=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ei={},ni={},ii=/\d/,si=/\d\d/,ri=/\d{3}/,ai=/\d{4}/,oi=/[+-]?\d{6}/,ui=/\d\d?/,di=/\d\d\d\d?/,hi=/\d\d\d\d\d\d?/,li=/\d{1,3}/,ci=/\d{1,4}/,fi=/[+-]?\d{1,6}/,mi=/\d+/,_i=/[+-]?\d+/,yi=/Z|[+-]\d\d:?\d\d/gi,gi=/Z|[+-]\d\d(?::?\d\d)?/gi,pi=/[+-]?\d+(\.\d{1,3})?/,vi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Di={},Mi={},Yi=0,Si=1,wi=2,ki=3,Ti=4,bi=5,Oi=6,Wi=7,xi=8;F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),F("MMMM",0,0,function(t){return this.localeData().months(this,t)}),T("month","M"),N("M",ui),N("MM",ui,si),N("MMM",function(t,e){return e.monthsShortRegex(t)}),N("MMMM",function(t,e){return e.monthsRegex(t)}),z(["M","MM"],function(t,e){e[Si]=g(t)-1}),z(["MMM","MMMM"],function(t,e,n,i){var s=n._locale.monthsParse(t,i,n._strict);null!=s?e[Si]=s:d(n).invalidMonth=t});var Ui=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Gi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Pi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ci=vi,Fi=vi,Hi={};t.suppressDeprecationWarnings=!1;var Vi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Li=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ii=/Z|[+-]\d\d(?::?\d\d)?/,Ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ri=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=rt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),F("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),T("year","y"),N("Y",_i),N("YY",ui,si),N("YYYY",ci,ai),N("YYYYY",fi,oi),N("YYYYYY",fi,oi),z(["YYYYY","YYYYYY"],Yi),z("YYYY",function(e,n){n[Yi]=2===e.length?t.parseTwoDigitYear(e):g(e)}),z("YY",function(e,n){n[Yi]=t.parseTwoDigitYear(e)}),z("Y",function(t,e){e[Yi]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var Ei=x("FullYear",!1);t.ISO_8601=function(){};var zi=rt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=xt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:l()}),Zi=rt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=xt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:l()}),ji=function(){return Date.now?Date.now():+new Date};Ht("Z",":"),Ht("ZZ",""),N("Z",gi),N("ZZ",gi),z(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Vt(gi,t)});var $i=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var qi=/(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ji=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
Qt.fn=Ct.prototype;var Bi=ee(1,"add"),Qi=ee(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Xi=rt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ce("gggg","weekYear"),Ce("ggggg","weekYear"),Ce("GGGG","isoWeekYear"),Ce("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),N("G",_i),N("g",_i),N("GG",ui,si),N("gg",ui,si),N("GGGG",ci,ai),N("gggg",ci,ai),N("GGGGG",fi,oi),N("ggggg",fi,oi),Z(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=g(t)}),Z(["gg","GG"],function(e,n,i,s){n[s]=t.parseTwoDigitYear(e)}),F("Q",0,"Qo","quarter"),T("quarter","Q"),N("Q",ii),z("Q",function(t,e){e[Si]=3*(g(t)-1)}),F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),N("w",ui),N("ww",ui,si),N("W",ui),N("WW",ui,si),Z(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=g(t)});var Ki={dow:0,doy:6};F("D",["DD",2],"Do","date"),T("date","D"),N("D",ui),N("DD",ui,si),N("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),z(["D","DD"],wi),z("Do",function(t,e){e[wi]=g(t.match(ui)[0],10)});var ts=x("Date",!0);F("d",0,"do","day"),F("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),F("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),F("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),N("d",ui),N("e",ui),N("E",ui),N("dd",vi),N("ddd",vi),N("dddd",vi),Z(["dd","ddd","dddd"],function(t,e,n,i){var s=n._locale.weekdaysParse(t,i,n._strict);null!=s?e.d=s:d(n).invalidWeekday=t}),Z(["d","e","E"],function(t,e,n,i){e[i]=g(t)});var es="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ns="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),is="Su_Mo_Tu_We_Th_Fr_Sa".split("_");F("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),N("DDD",li),N("DDDD",ri),z(["DDD","DDDD"],function(t,e,n){n._dayOfYear=g(t)}),F("H",["HH",2],0,"hour"),F("h",["hh",2],0,nn),F("hmm",0,0,function(){return""+nn.apply(this)+C(this.minutes(),2)}),F("hmmss",0,0,function(){return""+nn.apply(this)+C(this.minutes(),2)+C(this.seconds(),2)}),F("Hmm",0,0,function(){return""+this.hours()+C(this.minutes(),2)}),F("Hmmss",0,0,function(){return""+this.hours()+C(this.minutes(),2)+C(this.seconds(),2)}),sn("a",!0),sn("A",!1),T("hour","h"),N("a",rn),N("A",rn),N("H",ui),N("h",ui),N("HH",ui,si),N("hh",ui,si),N("hmm",di),N("hmmss",hi),N("Hmm",di),N("Hmmss",hi),z(["H","HH"],ki),z(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),z(["h","hh"],function(t,e,n){e[ki]=g(t),d(n).bigHour=!0}),z("hmm",function(t,e,n){var i=t.length-2;e[ki]=g(t.substr(0,i)),e[Ti]=g(t.substr(i)),d(n).bigHour=!0}),z("hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[ki]=g(t.substr(0,i)),e[Ti]=g(t.substr(i,2)),e[bi]=g(t.substr(s)),d(n).bigHour=!0}),z("Hmm",function(t,e,n){var i=t.length-2;e[ki]=g(t.substr(0,i)),e[Ti]=g(t.substr(i))}),z("Hmmss",function(t,e,n){var i=t.length-4,s=t.length-2;e[ki]=g(t.substr(0,i)),e[Ti]=g(t.substr(i,2)),e[bi]=g(t.substr(s))});var ss=/[ap]\.?m?\.?/i,rs=x("Hours",!0);F("m",["mm",2],0,"minute"),T("minute","m"),N("m",ui),N("mm",ui,si),z(["m","mm"],Ti);var as=x("Minutes",!1);F("s",["ss",2],0,"second"),T("second","s"),N("s",ui),N("ss",ui,si),z(["s","ss"],bi);var os=x("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return 10*this.millisecond()}),F(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),F(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),F(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),F(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),F(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),N("S",li,ii),N("SS",li,si),N("SSS",li,ri);var us;for(us="SSSS";us.length<=9;us+="S")N(us,mi);for(us="S";us.length<=9;us+="S")z(us,un);var ds=x("Milliseconds",!1);F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var hs=m.prototype;hs.add=Bi,hs.calendar=ie,hs.clone=se,hs.diff=le,hs.endOf=Se,hs.format=_e,hs.from=ye,hs.fromNow=ge,hs.to=pe,hs.toNow=ve,hs.get=P,hs.invalidAt=Ge,hs.isAfter=re,hs.isBefore=ae,hs.isBetween=oe,hs.isSame=ue,hs.isSameOrAfter=de,hs.isSameOrBefore=he,hs.isValid=xe,hs.lang=Xi,hs.locale=De,hs.localeData=Me,hs.max=Zi,hs.min=zi,hs.parsingFlags=Ue,hs.set=P,hs.startOf=Ye,hs.subtract=Qi,hs.toArray=be,hs.toObject=Oe,hs.toDate=Te,hs.toISOString=me,hs.toJSON=We,hs.toString=fe,hs.unix=ke,hs.valueOf=we,hs.creationData=Pe,hs.year=Ei,hs.isLeapYear=ft,hs.weekYear=Fe,hs.isoWeekYear=He,hs.quarter=hs.quarters=Ae,hs.month=X,hs.daysInMonth=K,hs.week=hs.weeks=Ze,hs.isoWeek=hs.isoWeeks=je,hs.weeksInYear=Le,hs.isoWeeksInYear=Ve,hs.date=ts,hs.day=hs.days=Xe,hs.weekday=Ke,hs.isoWeekday=tn,hs.dayOfYear=en,hs.hour=hs.hours=rs,hs.minute=hs.minutes=as,hs.second=hs.seconds=os,hs.millisecond=hs.milliseconds=ds,hs.utcOffset=Nt,hs.utc=Rt,hs.local=Et,hs.parseZone=zt,hs.hasAlignedHourOffset=Zt,hs.isDST=jt,hs.isDSTShifted=$t,hs.isLocal=qt,hs.isUtcOffset=Jt,hs.isUtc=Bt,hs.isUTC=Bt,hs.zoneAbbr=dn,hs.zoneName=hn,hs.dates=rt("dates accessor is deprecated. Use date instead.",ts),hs.months=rt("months accessor is deprecated. Use month instead",X),hs.years=rt("years accessor is deprecated. Use year instead",Ei),hs.zone=rt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",At);var ls=hs,cs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},fs={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ms="Invalid date",_s="%d",ys=/\d{1,2}/,gs={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ps=v.prototype;ps._calendar=cs,ps.calendar=fn,ps._longDateFormat=fs,ps.longDateFormat=mn,ps._invalidDate=ms,ps.invalidDate=_n,ps._ordinal=_s,ps.ordinal=yn,ps._ordinalParse=ys,ps.preparse=gn,ps.postformat=gn,ps._relativeTime=gs,ps.relativeTime=pn,ps.pastFuture=vn,ps.set=Dn,ps.months=q,ps._months=Gi,ps.monthsShort=J,ps._monthsShort=Pi,ps.monthsParse=B,ps._monthsRegex=Fi,ps.monthsRegex=et,ps._monthsShortRegex=Ci,ps.monthsShortRegex=tt,ps.week=Re,ps._week=Ki,ps.firstDayOfYear=ze,ps.firstDayOfWeek=Ee,ps.weekdays=qe,ps._weekdays=es,ps.weekdaysMin=Be,ps._weekdaysMin=is,ps.weekdaysShort=Je,ps._weekdaysShort=ns,ps.weekdaysParse=Qe,ps.isPM=an,ps._meridiemParse=ss,ps.meridiem=on,S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=rt("moment.lang is deprecated. Use moment.locale instead.",S),t.langData=rt("moment.langData is deprecated. Use moment.localeData instead.",k);var vs=Math.abs,Ds=Ln("ms"),Ms=Ln("s"),Ys=Ln("m"),Ss=Ln("h"),ws=Ln("d"),ks=Ln("w"),Ts=Ln("M"),bs=Ln("y"),Os=Nn("milliseconds"),Ws=Nn("seconds"),xs=Nn("minutes"),Us=Nn("hours"),Gs=Nn("days"),Ps=Nn("months"),Cs=Nn("years"),Fs=Math.round,Hs={s:45,m:45,h:22,d:26,M:11},Vs=Math.abs,Ls=Ct.prototype;Ls.abs=On,Ls.add=xn,Ls.subtract=Un,Ls.as=Hn,Ls.asMilliseconds=Ds,Ls.asSeconds=Ms,Ls.asMinutes=Ys,Ls.asHours=Ss,Ls.asDays=ws,Ls.asWeeks=ks,Ls.asMonths=Ts,Ls.asYears=bs,Ls.valueOf=Vn,Ls._bubble=Pn,Ls.get=In,Ls.milliseconds=Os,Ls.seconds=Ws,Ls.minutes=xs,Ls.hours=Us,Ls.days=Gs,Ls.weeks=An,Ls.months=Ps,Ls.years=Cs,Ls.humanize=Zn,Ls.toISOString=jn,Ls.toString=jn,Ls.toJSON=jn,Ls.locale=De,Ls.localeData=Me,Ls.toIsoString=rt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jn),Ls.lang=Xi,F("X",0,0,"unix"),F("x",0,0,"valueOf"),N("x",_i),N("X",pi),z("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),z("x",function(t,e,n){n._d=new Date(g(t))}),t.version="2.11.1",e(xt),t.fn=ls,t.min=Gt,t.max=Pt,t.now=ji,t.utc=o,t.unix=ln,t.months=Sn,t.isDate=i,t.locale=S,t.invalid=l,t.duration=Qt,t.isMoment=_,t.weekdays=kn,t.parseZone=cn,t.localeData=k,t.isDuration=Ft,t.monthsShort=wn,t.weekdaysMin=bn,t.defineLocale=w,t.weekdaysShort=Tn,t.normalizeUnits=b,t.relativeTimeThreshold=zn,t.prototype=ls;var Is=t;return Is});
},{}],608:[function(require,module,exports){
arguments[4][573][0].apply(exports,arguments)
},{"dup":573}],609:[function(require,module,exports){
!function(e,t){function n(){var e=g.elements;return"string"==typeof e?e.split(" "):e}function a(e){var t=f[e[u]];return t||(t={},h++,e[u]=h,f[h]=t),t}function r(e,n,r){return n||(n=t),l?n.createElement(e):(r||(r=a(n)),n=r.cache[e]?r.cache[e].cloneNode():d.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e),n.canHaveChildren&&!s.test(e)?r.frag.appendChild(n):n)}function c(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return g.shivMethods?r(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(g,t.frag)}function o(e){e||(e=t);var n=a(e);if(g.shivCSS&&!i&&!n.hasCSS){var r,o=e;r=o.createElement("p"),o=o.getElementsByTagName("head")[0]||o.documentElement,r.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",r=o.insertBefore(r.lastChild,o.firstChild),n.hasCSS=!!r}return l||c(e,n),e}var i,l,m=e.html5||{},s=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,u="_html5shiv",h=0,f={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",i="hidden"in e;var n;if(!(n=1==e.childNodes.length)){t.createElement("a");var a=t.createDocumentFragment();n="undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}l=n}catch(e){l=i=!0}}();var g={elements:m.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==m.shivCSS,supportsUnknownElements:l,shivMethods:!1!==m.shivMethods,type:"default",shivDocument:o,createElement:r,createDocumentFragment:function(e,r){if(e||(e=t),l)return e.createDocumentFragment();for(var r=r||a(e),c=r.frag.cloneNode(),o=0,i=n(),m=i.length;o<m;o++)c.createElement(i[o]);return c}};e.html5=g,o(t)}(this,document);
},{}],610:[function(require,module,exports){
!function(t,e){function i(e,i){var n,o,a,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,o=n.name,!(!e.href||!o||"map"!==n.nodeName.toLowerCase())&&(a=t("img[usemap=#"+o+"]")[0],!!a&&s(a))):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var s,n,o=t(this[0]);o.length&&o[0]!==document;){if(s=o.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,s){function n(e,i,s,n){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===s?["Left","Right"]:["Top","Bottom"],a=s.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+s]=function(i){return i===e?r["inner"+s].call(this):this.each(function(){t(this).css(a,n(this,i)+"px")})},t.fn["outer"+s]=function(e,i){return"number"!=typeof e?r["outer"+s].call(this,e):this.each(function(){t(this).css(a,n(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;s<n.length;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0||(e[s]=1,n=e[s]>0,e[s]=0,n)}})}(jQuery),function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(t){}n(e)},t.widget=function(e,i,s){var n,o,a,r,h={},l=e.split(".")[0];e=e.split(".")[1],n=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},o=t[l][e],a=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,o,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?void(h[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(h[e]=s)}),a.prototype=t.widget.extend(r,{widgetEventPrefix:o?r.widgetEventPrefix||e:e},h,{constructor:a,namespace:l,widgetName:e,widgetFullName:n}),o?(t.each(o._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;r<h;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(t.isPlainObject(o)?i[n]=t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):i[n]=o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):void 0):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;a<n.length-1;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var h=s.match(/^(\w+)\s*(.*)$/),l=h[1]+o.eventNamespace,c=h[2];c?n.delegate(c,l,r):i.bind(l,r)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})}(jQuery),function(t,e){var i=!1;t(document).mouseup(function(){i=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var s=this,n=1===e.which,o=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!o&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0))}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=n.children()[0];return t("body").append(n),i=a.offsetWidth,n.css("overflow","scroll"),s=a.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),o=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(y),x=(e.collision||"flip").split(" "),k={};return _=n(b),b[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=l.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),o=i(k.at,p,g),v.left+=o[0],v.top+=o[1],this.each(function(){var n,l,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),_=s(this,"marginTop"),D=u+f+s(this,"marginRight")+w.width,C=d+_+s(this,"marginBottom")+w.height,I=t.extend({},v),P=i(k.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?I.left-=u:"center"===e.my[0]&&(I.left-=u/2),"bottom"===e.my[1]?I.top-=d:"center"===e.my[1]&&(I.top-=d/2),I.left+=P[0],I.top+=P[1],t.support.offsetFractions||(I.left=h(I.left),I.top=h(I.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,s){t.ui.position[x[i]]&&t.ui.position[x[i]][s](I,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:D,collisionHeight:C,offset:[o[0]+P[0],o[1]+P[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(l=function(t){var i=m.left-I.left,s=i+p-u,n=m.top-I.top,o=n+g-d,h={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:I.left,top:I.top,width:u,height:d},horizontal:s<0?"left":i>0?"right":"center",vertical:o<0?"top":n>0?"bottom":"middle"};p<u&&r(i+s)<p&&(h.horizontal="center"),g<d&&r(n+o)<g&&(h.vertical="middle"),a(r(i),r(s))>a(r(n),r(o))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),c.offset(t.extend(I,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-o-n;e.collisionWidth>o?h>0&&l<=0?(i=t.left+h+e.collisionWidth-o-n,t.left+=h-i):l>0&&h<=0?t.left=n:h>l?t.left=n+o-e.collisionWidth:t.left=n:h>0?t.left+=h:l>0?t.left-=l:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-o-n;e.collisionHeight>o?h>0&&l<=0?(i=t.top+h+e.collisionHeight-o-n,t.top+=h-i):l>0&&h<=0?t.top=n:h>l?t.top=n+o-e.collisionHeight:t.top=n:h>0?t.top+=h:l>0?t.top-=l:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,a=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-a-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?(i=t.left+d+p+f+e.collisionWidth-a-o,(i<0||i<r(c))&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||r(s)<u)&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,a=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-a-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?(s=t.top+p+f+g+e.collisionHeight-a-o,t.top+p+f+g>c&&(s<0||s<r(c))&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,t.top+p+f+g>u&&(i>0||r(i)<u)&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,o,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)e.style[o]=s[o];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&n<11,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),!("original"===this.options.helper&&!t.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1)},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],void(s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,o,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=e.pageX,l=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,o=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var o=!1,a=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,
this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,o,a,r,h,l,c,u,d,p=t(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,_=i.offset.top,b=_+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,h=r+p.snapElements[u].width,l=p.snapElements[u].top,c=l+p.snapElements[u].height,v<r-g||m>h+g||b<l-g||_>c+g||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(l-b)<=g,n=Math.abs(c-_)<=g,o=Math.abs(r-v)<=g,a=Math.abs(h-m)<=g,s&&(i.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h}).left-p.margins.left)),d=s||n||o||a,"outer"!==f.snapMode&&(s=Math.abs(l-_)<=g,n=Math.abs(c-b)<=g,o=Math.abs(r-m)<=g,a=Math.abs(h-v)<=g,s&&(i.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||o||a||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||o||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})}(jQuery),function(t,e){function i(t,e,i){return t>e&&t<e+i}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];e<i.length;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return!(!s||(s.currentItem||s.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance))return n=!0,!1}),!n&&(!!this.accept.call(this.element[0],s.currentItem||s.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,e,s){if(!e.offset)return!1;var n,o,a=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,h=a+t.helperProportions.width,l=r+t.helperProportions.height,c=e.offset.left,u=e.offset.top,d=c+e.proportions().width,p=u+e.proportions().height;switch(s){case"fit":return c<=a&&h<=d&&u<=r&&l<=p;case"intersect":return c<a+t.helperProportions.width/2&&h-t.helperProportions.width/2<d&&u<r+t.helperProportions.height/2&&l-t.helperProportions.height/2<p;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,i(o,u,e.proportions().height)&&i(n,c,e.proportions().width);case"touch":return(r>=u&&r<=p||l>=u&&l<=p||r<u&&l>p)&&(a>=c&&a<=d||h>=c&&h<=d||a<c&&h>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<o.length;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;n<r.length;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=t.ui.intersect(e,this,this.options.tolerance),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),o.length&&(s=t.data(o[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t,e){function i(t){return parseInt(t,10)||0}function s(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)s=t.trim(e[i]),o="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var s,n,o,a=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=i(this.helper.css("left")),n=i(this.helper.css("top")),a.containment&&(s+=t(a.containment).scrollLeft()||0,n+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),h.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,s=this.helper,n={},o=this.originalMousePosition,a=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-o.left||0,d=e.pageY-o.top||0,p=this._change[a];return!!p&&(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==h&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1)},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,n,o,a,r=this.options;a={minWidth:s(r.minWidth)?r.minWidth:0,maxWidth:s(r.maxWidth)?r.maxWidth:1/0,minHeight:s(r.minHeight)?r.minHeight:0,maxHeight:s(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,i=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),n>a.minHeight&&(a.minHeight=n),i<a.maxWidth&&(a.maxWidth=i),o<a.maxHeight&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),s(t.left)&&(this.position.left=t.left),s(t.top)&&(this.position.top=t.top),s(t.height)&&(this.size.height=t.height),s(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return s(t.height)?t.width=t.height*this.aspectRatio:s(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=s(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=s(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=s(t.width)&&e.minWidth&&e.minWidth>t.width,r=s(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return a&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),a&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),o&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,o=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,s,n,o,a,r,h,l=t(this).data("ui-resizable"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=i(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-s[3],width:e.innerWidth()-s[1]},n=l.containerOffset,o=l.containerSize.height,a=l.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:a,h=t.ui.hasScroll(p)?p.scrollHeight:o,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,o,a=t(this).data("ui-resizable"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?h.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-u.left:a.offset.left-u.left)+a.sizeDiff.width),s=Math.abs((a._helper?a.offset.top-u.top:a.offset.top-h.top)+a.sizeDiff.height),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o&&(i-=Math.abs(a.parentData.left)),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),o={},a=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<p,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):(p-l>0?(e.size.height=p,e.position.top=o.top-u):(e.size.height=l,e.position.top=o.top+n.height-l),d-h>0?(e.size.width=d,e.position.left=o.left-c):(e.size.width=h,e.position.left=o.left+n.width-h))}})}(jQuery),function(t,e){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");if(n)return s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||i.right<o||i.top>h||i.bottom<a):"fit"===n.tolerance&&(l=i.left>o&&i.right<r&&i.top>a&&i.bottom<h),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),
i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t,e){function i(t,e,i){return t>e&&t<e+i}function s(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===t.axis||s(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return s=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),!!s&&(!(this.options.handle&&!i&&(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),!n))&&(this.currentItem=s,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===n||t.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&s+l<h,d="y"===this.options.axis||e+c>o&&e+c<a,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<h},_intersectsWithPointer:function(t){var e="x"===this.options.axis||i(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||i(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=e&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return!!n&&(this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(t){var e=i(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=i(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;s<l;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){i&&!s.forcePlaceholderSize||(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",e,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||s(this.currentItem),h=p?"left":"top",l=p?"width":"height",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(p&&!i(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height)||(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),Math.abs(u-c)<a&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?"up":"down")));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[g].element,!0),this._trigger("change",e,this._uiHash()),this.containers[g]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",e,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),s[0].style.width&&!i.forceHelperSize||s.width(this.currentItem.width()),s[0].style.height&&!i.forceHelperSize||s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)"auto"!==this._storedCSS[s]&&"static"!==this._storedCSS[s]||(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var i=0,s={},n={};s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,s=this.options,n=s.heightStyle,o=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i);this.active=this._findActive(s.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),s=i.attr("id"),n=i.next(),o=n.attr("id");s||(s=a+"-header-"+e,i.attr("id",s)),o||(o=a+"-panel-"+e,n.attr("id",o)),i.attr("aria-controls",o),n.attr("aria-labelledby",s)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(s.event),"fill"===n?(e=o.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n[0]===s[0],a=o&&i.collapsible,r=a?t():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:a?t():n,newPanel:r};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,l)===!1||(i.active=!a&&this.headers.index(n),this.active=o?t():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr("aria-selected","false"),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex");
}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(t,e,i){var o,a,r,h=this,l=0,c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){h._toggleComplete(i)};return"number"==typeof d&&(r=d),"string"==typeof d&&(a=d),a=a||d.easing||u.easing,r=r||d.duration||u.duration,e.length?t.length?(o=t.show().outerHeight(),e.animate(s,{duration:r,easing:a,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(n,{duration:r,easing:a,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?l+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(o-e.outerHeight()-l),l=0)}})):e.animate(s,r,a,p):t.animate(n,r,a,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t,e){t.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:s})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t,e){var i,s="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",o=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},a=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,o),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,n=this.options,r="checkbox"===this.type||"radio"===this.type,h=r?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===i&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||t(this).removeClass(h)}).bind("click"+this.eventNamespace,function(t){n.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];a(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!n.disabled&&(t(this).addClass("ui-state-active"),i=this,void e.document.one("mouseup",function(){i=null}))}).bind("mouseup"+this.eventNamespace,function(){return!n.disabled&&void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return!n.disabled&&void(e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(this.element.prop("disabled",!!e),void(e&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?a(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(n),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,o=s.primary&&s.secondary,a=[];s.primary||s.secondary?(this.options.text&&a.push("ui-button-text-icon"+(o?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(a.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))})}function n(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}t.extend(t.ui,{datepicker:{version:"1.10.4"}});var o,a="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return n(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,a,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),"focus"!==s&&"both"!==s||e.focus(this._showDatepicker),"button"!==s&&"both"!==s||(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,o,r){var h,l,c,u,d,p=this._dialogInst;return p||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],a,p)),n(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,a);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||s.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,s,o){var a,r,h,l,c=this._getInst(i);return 2===arguments.length&&"string"==typeof s?"defaults"===s?t.extend({},t.datepicker._defaults):c?"all"===s?t.extend({},c.settings):this._get(c,s):null:(a=s||{},"string"==typeof s&&(a={},a[s]=o),void(c&&(this._curInst===c&&this._hideDatepicker(),r=this._getDateDatepicker(i,!0),h=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),n(c.settings,a),null!==h&&a.dateFormat!==e&&a.minDate===e&&(c.settings.minDate=this._formatDate(c,h)),null!==l&&a.dateFormat!==e&&a.maxDate===e&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in a&&(a.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),c),this._autoSize(c),this._setDate(c,r),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,s,n=t.datepicker._getInst(e.target);if(t.datepicker._get(n,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||s<" "||!i||i.indexOf(s)>-1},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,s,o,a,r,h,l;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(i,"beforeShow"),o=s?s.apply(e,[e,i]):{},o!==!1&&(n(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),l):i.dpDiv[h||"show"](h?l:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,s=this._getNumberOfMonths(e),n=s[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,r=this._curInst;!r||e&&r!==t.data(e,a)||this._datepickerShowing&&(i=this._get(r,"showAnim"),s=this._get(r,"duration"),n=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),s,n):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===s)||t.datepicker._hideDatepicker();
}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,s){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var n,o,a,r,h=0,l=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,d=(s?s.dayNames:null)||this._defaults.dayNames,p=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,f=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,_=-1,b=!1,y=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},w=function(t){var e=y(t),s="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=new RegExp("^\\d{1,"+s+"}"),o=i.substring(h).match(n);if(!o)throw"Missing number at position "+h;return h+=o[0].length,parseInt(o[0],10)},x=function(e,s,n){var o=-1,a=t.map(y(e)?n:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var s=e[1];if(i.substr(h,s.length).toLowerCase()===s.toLowerCase())return o=e[0],h+=s.length,!1}),o!==-1)return o+1;throw"Unknown name at position "+h},k=function(){if(i.charAt(h)!==e.charAt(n))throw"Unexpected literal at position "+h;h++};for(n=0;n<e.length;n++)if(b)"'"!==e.charAt(n)||y("'")?k():b=!1;else switch(e.charAt(n)){case"d":v=w("d");break;case"D":x("D",u,d);break;case"o":_=w("o");break;case"m":m=w("m");break;case"M":m=x("M",p,f);break;case"y":g=w("y");break;case"@":r=new Date(w("@")),g=r.getFullYear(),m=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((w("!")-this._ticksTo1970)/1e4),g=r.getFullYear(),m=r.getMonth()+1,v=r.getDate();break;case"'":y("'")?k():b=!0;break;default:k()}if(h<i.length&&(a=i.substr(h),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(g===-1?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),_>-1)for(m=1,v=_;;){if(o=this._getDaysInMonth(g,m-1),v<=o)break;m++,v-=o}if(r=this._daylightSavingAdjust(new Date(g,m-1,v)),r.getFullYear()!==g||r.getMonth()+1!==m||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=s+1<t.length&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;s.length<i;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;s<t.length;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=e+1<t.length&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;e<t.length;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(t){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,n=s.getFullYear(),o=s.getMonth(),a=s.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=r.exec(i);h;){switch(h[2]||"d"){case"d":case"D":a+=parseInt(h[1],10);break;case"w":case"W":a+=7*parseInt(h[1],10);break;case"m":case"M":o+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(n,o));break;case"y":case"Y":n+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(n,o))}h=r.exec(i)}return new Date(n,o,a)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"===a.toString()?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,v,_,b,y,w,x,k,D,C,I,P,T,M,S,z,A,H,W,E,N,O,F,R,L=new Date,j=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),K=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),Q=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],$=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=G&&e<G?G:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-Q,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":K?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=q?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+Q,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":K?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?$:j,a=q?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",x=0;x<U[0];x++){for(k="",this.maxRows=4,D=0;D<U[1];D++){if(C=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),I=" ui-corner-all",P="",X){if(P+="<div class='ui-datepicker-group",U[1]>1)switch(D){case 0:P+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:P+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:P+=" ui-datepicker-group-middle",I=""}P+="'>"}for(P+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===x?Y?o:s:"")+(/all|right/.test(I)&&0===x?Y?s:o:"")+this._generateMonthYearHeader(t,Z,tt,G,J,x>0||D>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)M=(w+c)%7,T+="<th"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M]+"'>"+p[M]+"</span></th>";for(P+=T+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),z=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,A=Math.ceil((z+S)/7),H=X&&this.maxRows>A?this.maxRows:A,this.maxRows=H,W=this._daylightSavingAdjust(new Date(tt,Z,1-z)),E=0;E<H;E++){for(P+="<tr>",N=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(W)+"</td>":"",w=0;w<7;w++)O=m?m.apply(t.input?t.input[0]:null,[W]):[!0,""],F=W.getMonth()!==Z,R=F&&!_||!O[0]||G&&W<G||J&&W>J,N+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(W.getTime()===C.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===W.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+O[1]+(W.getTime()===$.getTime()?" "+this._currentClass:"")+(W.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+W.getMonth()+"' data-year='"+W.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+W.getDate()+"</span>":"<a class='ui-state-default"+(W.getTime()===j.getTime()?" ui-state-highlight":"")+(W.getTime()===$.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+W.getDate()+"</a>")+"</td>",W.setDate(W.getDate()+1),W=this._daylightSavingAdjust(W);P+=N+"</tr>"}Z++,Z>11&&(Z=0,tt++),P+="</tbody></table>"+(X?"</div>"+(U[0]>0&&D===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=P}y+=k}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!h||c>=s.getMonth())&&(!l||c<=n.getMonth())&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(_||(b+=y+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!o&&m&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&e<i?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.4"}(jQuery),function(t,e){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},s={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,s=this;if(this._isOpen&&this._trigger("beforeClose",e)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){s._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(n.focus(1),e.preventDefault()):(s.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},o={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){s.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){s.height=t(this).height(),s.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,o=!1,a={};t.each(e,function(t,e){n._setOption(t,e),t in i&&(o=!0),t in s&&(a[t]=e)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,e){var i,s,n=this.uiDialog;"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(s){e._allowInteraction(s)||(s.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,s=[],n=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(s=i.split?i.split(" "):[i[0],i[1]],1===s.length&&(s[1]=s[0]),t.each(["left","top"],function(t,e){+s[t]===s[t]&&(n[t]=s[t],s[t]=e)}),i={my:s[0]+(n[0]<0?n[0]:"+"+n[0])+" "+s[1]+(n[1]<0?n[1]:"+"+n[1]),at:s.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t,e){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,o,a,r,h=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:h=!1,n=this.previousFilter||"",o=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),o===n?a=!0:o=n+o,r=new RegExp("^"+i(o),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=a&&s.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):s,s.length||(o=String.fromCharCode(e.keyCode),r=new RegExp("^"+i(o),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.height(),n<0?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s-n<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t,e){var i=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;e<i;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r!==!1&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),s<0&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,o;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&i<s)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),o!==!1&&this.values(e,i))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;o<s.length;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;s<n;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=!this._animateOff&&r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=(h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())*100,c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(s-n)/(o-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var s,n,o,a,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),s=this._start(e,r),s===!1))return}switch(a=this.options.step,n=o=this.options.values&&this.options.values.length?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:o=this._valueMin();break;case t.ui.keyCode.END:o=this._valueMax();break;case t.ui.keyCode.PAGE_UP:o=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;o=this._trimAlignValue(n+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;o=this._trimAlignValue(n-a)}this._slide(e,r,o)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return this._start(e)!==!1&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return i===-1?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++n}function s(t){return t=t.cloneNode(!1),t.hash.length>1&&decodeURIComponent(t.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var n=0,o=/#.*$/;t.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,s=location.hash.substring(1);return null===e&&(s&&this.tabs.each(function(i,n){if(t(n).attr("aria-controls")===s)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&e!==-1||(e=!!this.tabs.length&&0)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=!i&&0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),s=this.tabs.index(i),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:n=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(s!==this.options.active&&s);default:return}e.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,n),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function s(){return e>n&&(e=0),e<0&&(e=n),e}for(var n=this.tabs.length-1;t.inArray(s(),this.options.disabled)!==-1;)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var o,a,r,h=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");s(n)?(o=n.hash,a=e.element.find(e._sanitizeSelector(o))):(r=e._tabId(l),o="#"+r,a=e.element.find(o),a.length||(a=e._createPanel(r),a.insertAfter(e.panels[i-1]||e.tablist)),a.attr("aria-live","polite")),a.length&&(e.panels=e.panels.add(a)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o.substring(1),"aria-labelledby":h}),a.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0);
},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||t.inArray(s,e)!==-1?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=!r&&this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;s!==!1&&(i===e?s=!1:(i=this._getIndex(i),s=t.isArray(s)?t.map(s,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(s!==!0){if(i===e)s=!0;else{if(i=this._getIndex(i),t.inArray(i,s)!==-1)return;s=t.isArray(s)?t.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(e,i){e=this._getIndex(e);var n=this,o=this.tabs.eq(e),a=o.find(".ui-tabs-anchor"),r=this._getPanelForTab(o),h={tab:o,panel:r};s(a[0])||(this.xhr=t.ajax(this._ajaxSettings(a,i,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),n._trigger("load",i,h)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);n!==-1&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")}var s=0;t.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=o),this._open(e,t,i)})}),void(i&&this._open(e,t,i)))},_open:function(i,s,n){function o(t){l.of=t,a.is(":hidden")||a.position(l)}var a,r,h,l=t.extend({},this.options.position);if(n){if(a=this._find(s),a.length)return void a.find(".ui-tooltip-content").html(n);s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),a=this._tooltip(s),e(s,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):a.position(t.extend({of:s},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(l.of),clearInterval(h))},t.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,s,r)}},close:function(e){var s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),i(n),o.stop(!0),this._hide(o,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+s++,n=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:s.max<t?s.max:t)}function s(e){var i=l(),s=i._rgba=[];return e=e.toLowerCase(),f(h,function(t,n){var o,a=n.re.exec(e),r=a&&n.parse(a),h=n.space||"rgba";if(r)return o=i[h](r),i[c[h].cache]=o[c[h].cache],s=i._rgba=o._rgba,!1}),s.length?("0,0,0,0"===s.join()&&t.extend(s,o.transparent),i):o[e]}function n(t,e,i){return i=(i+1)%1,6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&t.inArray(null,u[o].slice(0,3))<0&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):void 0},is:function(t){var e=l(t),i=!0,s=this;return f(c,function(t,n){var o,a=e[n.cache];return a&&(o=s[n.cache]||n.to&&n.to(s._rgba)||[],f(n.props,function(t,e){if(null!=a[e.idx])return i=a[e.idx]===o[e.idx]})),i}),i},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:u<=.5?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=s<=.5?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(t){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function s(e,i){var s,n,a={};for(s in i)n=i[s],e[s]!==n&&(o[s]||!t.fx.step[s]&&isNaN(parseFloat(n))||(a[s]=n));return a}var n=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var e=t(this);return{el:e,start:i(this)}}),o=function(){t.each(n,function(t,i){e[i]&&a[i+"Class"](e[i])})},o(),l=l.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(s,n,o,a,r){return"boolean"==typeof n||n===e?o?t.effects.animateClass.call(this,n?{add:s}:{remove:s},o,a,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:s},n,o,a)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.10.4",save:function(t,e){for(var s=0;s<e.length;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,s){var n,o;for(o=0;o<s.length;o++)null!==s[o]&&(n=t.data(i+s[o]),n===e&&(n=""),t.css(s[o],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(o)&&o.call(n[0]),t.isFunction(e)&&e()}var n=t(this),o=i.complete,r=i.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),s()):a.call(n[0],i,s)}var i=s.apply(this,arguments),n=i.mode,o=i.queue,a=t.effects.effect[i.effect];return t.fx.off||!a?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(t*-2+2)/2}})}()}(jQuery),function(t,e){var i=/up|down|vertical/,s=/up|left|vertical|horizontal/;t.effects.effect.blind=function(e,n){var o,a,r,h=t(this),l=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(h,e.mode||"hide"),u=e.direction||"up",d=i.test(u),p=d?"height":"width",f=d?"top":"left",g=s.test(u),m={},v="show"===c;h.parent().is(".ui-effects-wrapper")?t.effects.save(h.parent(),l):t.effects.save(h,l),h.show(),o=t.effects.createWrapper(h).css({overflow:"hidden"}),a=o[p](),r=parseFloat(o.css(f))||0,m[p]=v?a:0,g||(h.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?r:a+r),v&&(o.css(p,0),g||o.css(f,r+a)),o.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&h.hide(),t.effects.restore(h,l),t.effects.removeWrapper(h),n()}})}}(jQuery),function(t,e){t.effects.effect.bounce=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"effect"),l="hide"===h,c="show"===h,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||l?1:0),g=e.duration/f,m=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=a.queue(),y=b.length;for((c||l)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,_?2*-d:2*d).animate(o,g,m)),l&&(d/=Math.pow(2,p-1)),o={},o[v]=0,s=0;s<p;s++)n={},n[v]=(_?"-=":"+=")+d,a.animate(n,g,m).animate(o,g,m),d=l?2*d:d/2;l&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,a.animate(n,g,m)),a.queue(function(){l&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),a.dequeue()}}(jQuery),function(t,e){t.effects.effect.clip=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"hide"),l="show"===h,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(a,r),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n="IMG"===a[0].tagName?s:a,o=n[d](),l&&(n.css(d,0),n.css(p,o/2)),f[d]=l?o:0,f[p]=l?0:o/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t,e){t.effects.effect.drop=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(n,e.mode||"hide"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h?"pos":"neg",u={opacity:r?1:0};t.effects.save(n,o),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===c?-s:s),u[l]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t,e){t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),g||p.hide(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/u),b=[];for(o=0;o<u;o++)for(h=m.top+o*_,c=o-(u-1)/2,a=0;a<d;a++)r=m.left+a*v,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(g?l*v:0),top:h+(g?c*_:0),opacity:g?0:1}).animate({left:r+(g?0:l*v),top:h+(g?0:c*_),opacity:g?1:0},e.duration||500,e.easing,s)}}(jQuery),function(t,e){t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t,e){t.effects.effect.fold=function(e,i){var s,n,o=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"hide"),h="show"===r,l="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=h!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,a),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],u&&(c=parseInt(u[1],10)/100*n[l?0:1]),h&&s.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=h?n[0]:c,v[f[1]]=h?n[1]:0,s.animate(m,g,e.easing).animate(v,g,e.easing,function(){l&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()})}}(jQuery),function(t,e){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(s,e.mode||"show"),a={backgroundColor:s.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,n),i()}})}}(jQuery),function(t,e){t.effects.effect.pulsate=function(e,i){var s,n=t(this),o=t.effects.setMode(n,e.mode||"show"),a="show"===o,r="hide"===o,h=a||"hide"===o,l=2*(e.times||5)+(h?1:0),c=e.duration/l,u=0,d=n.queue(),p=d.length;for(!a&&n.is(":visible")||(n.css("opacity",0).show(),u=1),s=1;s<l;s++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),n.dequeue()}}(jQuery),function(t,e){t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),o="hide"===n,a=parseInt(e.percent,10)||150,r=a/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:o?a:100,from:o?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(e)},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),o=t.effects.setMode(s,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",h=e.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==o&&(n.origin=h||["middle","center"],n.restore=!0),n.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*c.y,width:l.width*c.x,outerHeight:l.outerHeight*c.y,outerWidth:l.outerWidth*c.x},n.fade&&("show"===o&&(n.from.opacity=0,n.to.opacity=1),"hide"===o&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.size=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=a.css("position"),_=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),s={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||b,a.to=e.from||s):(a.from=e.from||("show"===p?b:s),a.to=e.to||("hide"===p?b:s)),o={from:{y:a.from.height/s.height,x:a.from.width/s.width},to:{y:a.to.height/s.height,x:a.to.width/s.width}},"box"!==g&&"both"!==g||(o.from.y!==o.to.y&&(_=_.concat(u),a.from=t.effects.setTransition(a,u,o.from.y,a.from),a.to=t.effects.setTransition(a,u,o.to.y,a.to)),o.from.x!==o.to.x&&(_=_.concat(d),a.from=t.effects.setTransition(a,d,o.from.x,a.from),a.to=t.effects.setTransition(a,d,o.to.x,a.to))),"content"!==g&&"both"!==g||o.from.y!==o.to.y&&(_=_.concat(c).concat(l),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),t.effects.save(a,_),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(n=t.effects.getBaseline(m,s),a.from.top=(s.outerHeight-a.outerHeight())*n.y,a.from.left=(s.outerWidth-a.outerWidth())*n.x,a.to.top=(s.outerHeight-a.to.outerHeight)*n.y,a.to.left=(s.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),"content"!==g&&"both"!==g||(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),l=r.concat(u).concat(d),a.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,l),i.from={height:s.height*o.from.y,width:s.width*o.from.x,outerHeight:s.outerHeight*o.from.y,outerWidth:s.outerWidth*o.from.x},i.to={height:s.height*o.to.y,
width:s.width*o.to.x,outerHeight:s.height*o.to.y,outerWidth:s.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,u,o.from.y,i.from),i.to=t.effects.setTransition(i,u,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,l)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,_),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var s=parseInt(i,10),n=t?a.to.left:a.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t,e){t.effects.effect.shake=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",h=e.distance||20,l=e.times||3,c=2*l+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},g={},m={},v=n.queue(),_=v.length;for(t.effects.save(n,o),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+h,g[d]=(p?"+=":"-=")+2*h,m[d]=(p?"-=":"+=")+2*h,n.animate(f,u,e.easing),s=1;s<l;s++)n.animate(g,u,e.easing).animate(m,u,e.easing);n.animate(g,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),n.dequeue()}}(jQuery),function(t,e){t.effects.effect.slide=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(n,e.mode||"show"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u={};t.effects.save(n,o),n.show(),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,c?isNaN(s)?"-"+s:-s:s),u[l]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t,e){t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery);
},{}],611:[function(require,module,exports){
!function(x){x.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){var n=16*Math.random()|0,r="x"==x?n:3&n|8;return r.toString(16)})}}(jQuery);
},{}],612:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery.resize"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=h.call(arguments,1),u=0,r=0,d=0,f=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(d=s.detail*-1),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(r=s.wheelDeltaX*-1),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(r=d*-1,d=0),u=0===d?r:d,"deltaY"in s&&(d=s.deltaY*-1,u=d),"deltaX"in s&&(r=s.deltaX,0===d&&(u=r*-1)),0!==d||0!==r){if(1===s.deltaMode){var c=e.data(this,"mousewheel-line-height");u*=c,d*=c,r*=c}else if(2===s.deltaMode){var m=e.data(this,"mousewheel-page-height");u*=m,d*=m,r*=m}return f=Math.max(Math.abs(d),Math.abs(r)),(!l||f<l)&&(l=f,i(s,f)&&(l/=40)),i(s,f)&&(u/=40,r/=40,d/=40),u=Math[u>=1?"floor":"ceil"](u/l),r=Math[r>=1?"floor":"ceil"](r/l),d=Math[d>=1?"floor":"ceil"](d/l),t.deltaX=r,t.deltaY=d,t.deltaFactor=l,t.deltaMode=0,a.unshift(t,u,r,d),o&&clearTimeout(o),o=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function n(){l=null}function i(e,t){return r.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,l,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var u=s.length;u;)e.event.fixHooks[s[--u]]=e.event.mouseHooks;var r=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var n=a.length;n;)this.addEventListener(a[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",r.getLineHeight(this)),e.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
},{}],613:[function(require,module,exports){
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return e(t,n)}):"object"==typeof exports?e(t,require("jquery")):e(t,t.jQuery)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){for(var n=t.length;--n;)if(+t[n]!==+e[n])return!1;return!0}function i(t){var n={range:!0,animate:!0};return"boolean"==typeof t?n.animate=t:e.extend(n,t),n}function s(t,n,i,s,o,a,r,h,c){"array"===e.type(t)?this.elements=[+t[0],+t[2],+t[4],+t[1],+t[3],+t[5],0,0,1]:this.elements=[t,n,i,s,o,a,r||0,h||0,c||1]}function o(t,e,n){this.elements=[t,e,n]}function a(t,n){if(!(this instanceof a))return new a(t,n);1!==t.nodeType&&e.error("Panzoom called on non-Element node"),e.contains(u,t)||e.error("Panzoom element must be attached to the document");var i=e.data(t,l);if(i)return i;this.options=n=e.extend({},a.defaults,n),this.elem=t;var s=this.$elem=e(t);this.$set=n.$set&&n.$set.length?n.$set:s,this.$doc=e(t.ownerDocument||u),this.$parent=s.parent(),this.isSVG=v.test(t.namespaceURI)&&"svg"!==t.nodeName.toLowerCase(),this.panning=!1,this._buildTransform(),this._transform=!this.isSVG&&e.cssProps.transform.replace(g,"-$1").toLowerCase(),this._buildTransition(),this.resetDimensions();var o=e(),r=this;e.each(["$zoomIn","$zoomOut","$zoomRange","$reset"],function(t,e){r[e]=n[e]||o}),this.enable(),e.data(t,l,this)}var r="over out down up move enter leave cancel".split(" "),h=e.extend({},e.event.mouseHooks),c={};if(t.PointerEvent)e.each(r,function(t,n){e.event.fixHooks[c[n]="pointer"+n]=h});else{var m=h.props;h.props=m.concat(["touches","changedTouches","targetTouches","altKey","ctrlKey","metaKey","shiftKey"]),h.filter=function(t,e){var n,i=m.length;if(!e.pageX&&e.touches&&(n=e.touches[0]))for(;i--;)t[m[i]]=n[m[i]];return t},e.each(r,function(t,n){if(t<2)c[n]="mouse"+n;else{var i="touch"+("down"===n?"start":"up"===n?"end":n);e.event.fixHooks[i]=h,c[n]=i+" mouse"+n}})}e.pointertouch=c;var u=t.document,l="__pz__",f=Array.prototype.slice,d=!!t.PointerEvent,p=function(){var t=u.createElement("input");return t.setAttribute("oninput","return"),"function"==typeof t.oninput}(),g=/([A-Z])/g,v=/^http:[\w\.\/]+svg$/,b=/^inline/,_="(\\-?[\\d\\.e]+)",y="\\,?\\s*",$=new RegExp("^matrix\\("+_+y+_+y+_+y+_+y+_+y+_+"\\)$");return s.prototype={x:function(t){var e=t instanceof o,n=this.elements,i=t.elements;return e&&3===i.length?new o(n[0]*i[0]+n[1]*i[1]+n[2]*i[2],n[3]*i[0]+n[4]*i[1]+n[5]*i[2],n[6]*i[0]+n[7]*i[1]+n[8]*i[2]):i.length===n.length&&new s(n[0]*i[0]+n[1]*i[3]+n[2]*i[6],n[0]*i[1]+n[1]*i[4]+n[2]*i[7],n[0]*i[2]+n[1]*i[5]+n[2]*i[8],n[3]*i[0]+n[4]*i[3]+n[5]*i[6],n[3]*i[1]+n[4]*i[4]+n[5]*i[7],n[3]*i[2]+n[4]*i[5]+n[5]*i[8],n[6]*i[0]+n[7]*i[3]+n[8]*i[6],n[6]*i[1]+n[7]*i[4]+n[8]*i[7],n[6]*i[2]+n[7]*i[5]+n[8]*i[8])},inverse:function(){var t=1/this.determinant(),e=this.elements;return new s(t*(e[8]*e[4]-e[7]*e[5]),t*-(e[8]*e[1]-e[7]*e[2]),t*(e[5]*e[1]-e[4]*e[2]),t*-(e[8]*e[3]-e[6]*e[5]),t*(e[8]*e[0]-e[6]*e[2]),t*-(e[5]*e[0]-e[3]*e[2]),t*(e[7]*e[3]-e[6]*e[4]),t*-(e[7]*e[0]-e[6]*e[1]),t*(e[4]*e[0]-e[3]*e[1]))},determinant:function(){var t=this.elements;return t[0]*(t[8]*t[4]-t[7]*t[5])-t[3]*(t[8]*t[1]-t[7]*t[2])+t[6]*(t[5]*t[1]-t[4]*t[2])}},o.prototype.e=s.prototype.e=function(t){return this.elements[t]},a.rmatrix=$,a.events=e.pointertouch,a.defaults={eventNamespace:".panzoom",transition:!0,cursor:"move",disablePan:!1,disableZoom:!1,incrementIn:.9,incrementOut:.25,minScale:.4,maxScale:5,rangeStep:.5,duration:200,easing:"ease-in-out",contain:!1},a.prototype={constructor:a,instance:function(){return this},enable:function(){this._initStyle(),this._bind(),this.disabled=!1},disable:function(){this.disabled=!0,this._resetStyle(),this._unbind()},isDisabled:function(){return this.disabled},destroy:function(){this.disable(),e.removeData(this.elem,l)},resetDimensions:function(){var t=this.$parent;this.container={width:t.innerWidth(),height:t.innerHeight()};var n,i=t.offset(),s=this.elem,o=this.$elem;this.isSVG?(n=s.getBoundingClientRect(),n={left:n.left-i.left,top:n.top-i.top,width:n.width,height:n.height,margin:{left:0,top:0}}):n={left:e.css(s,"left",!0)||0,top:e.css(s,"top",!0)||0,width:o.innerWidth(),height:o.innerHeight(),margin:{top:e.css(s,"marginTop",!0)||0,left:e.css(s,"marginLeft",!0)||0}},n.widthBorder=e.css(s,"borderLeftWidth",!0)+e.css(s,"borderRightWidth",!0)||0,n.heightBorder=e.css(s,"borderTopWidth",!0)+e.css(s,"borderBottomWidth",!0)||0,this.dimensions=n},reset:function(t){t=i(t);var e=this.setMatrix(this._origTransform,t);t.silent||this._trigger("reset",e)},resetZoom:function(t){t=i(t);var e=this.getMatrix(this._origTransform);t.dValue=e[3],this.zoom(e[0],t)},resetPan:function(t){var e=this.getMatrix(this._origTransform);this.pan(e[4],e[5],i(t))},setTransform:function(t){for(var n=this.isSVG?"attr":"style",i=this.$set,s=i.length;s--;)e[n](i[s],"transform",t)},getTransform:function(t){var n=this.$set,i=n[0];return t?this.setTransform(t):t=e[this.isSVG?"attr":"style"](i,"transform"),"none"===t||$.test(t)||this.setTransform(t=e.css(i,"transform")),t||"none"},getMatrix:function(t){var e=$.exec(t||this.getTransform());return e&&e.shift(),e||[1,0,0,1,0,0]},setMatrix:function(t,n){if(!this.disabled){n||(n={}),"string"==typeof t&&(t=this.getMatrix(t));var i,s,o,a,r,h,c,m,u,l,f=+t[0],d=this.$parent,p="undefined"!=typeof n.contain?n.contain:this.options.contain;return p&&(i=this._checkDims(),s=this.container,u=i.width+i.widthBorder,l=i.height+i.heightBorder,o=(u*Math.abs(f)-s.width)/2,a=(l*Math.abs(f)-s.height)/2,c=i.left+i.margin.left,m=i.top+i.margin.top,"invert"===p?(r=u>s.width?u-s.width:0,h=l>s.height?l-s.height:0,o+=(s.width-u)/2,a+=(s.height-l)/2,t[4]=Math.max(Math.min(t[4],o-c),-o-c-r),t[5]=Math.max(Math.min(t[5],a-m),-a-m-h+i.heightBorder)):(a+=i.heightBorder/2,r=s.width>u?s.width-u:0,h=s.height>l?s.height-l:0,"center"===d.css("textAlign")&&b.test(e.css(this.elem,"display"))?r=0:o=a=0,t[4]=Math.min(Math.max(t[4],o-c),-o-c+r),t[5]=Math.min(Math.max(t[5],a-m),-a-m+h))),"skip"!==n.animate&&this.transition(!n.animate),n.range&&this.$zoomRange.val(f),this.setTransform("matrix("+t.join(",")+")"),n.silent||this._trigger("change",t),t}},isPanning:function(){return this.panning},transition:function(t){if(this._transition)for(var n=t||!this.options.transition?"none":this._transition,i=this.$set,s=i.length;s--;)e.style(i[s],"transition")!==n&&e.style(i[s],"transition",n)},pan:function(t,e,n){if(!this.options.disablePan){n||(n={});var i=n.matrix;i||(i=this.getMatrix()),n.relative&&(t+=+i[4],e+=+i[5]),i[4]=t,i[5]=e,this.setMatrix(i,n),n.silent||this._trigger("pan",i[4],i[5])}},zoom:function(t,n){"object"==typeof t?(n=t,t=null):n||(n={});var i=e.extend({},this.options,n);if(!i.disableZoom){var a=!1,r=i.matrix||this.getMatrix();"number"!=typeof t&&(t/r[0]>1?(t=+r[0]+i.incrementIn*(t?-1:1),a=!0):(t=+r[0]+i.incrementOut*(t?-1:1),a=!0)),t>i.maxScale?t=i.maxScale:t<i.minScale&&(t=i.minScale);var h=i.focal;if(h&&!i.disablePan){var c=this._checkDims(),m=h.clientX,u=h.clientY;this.isSVG||(m-=(c.width+c.widthBorder)/2,u-=(c.height+c.heightBorder)/2);var l=new o(m,u,1),f=new s(r),d=this.parentOffset||this.$parent.offset(),p=new s(1,0,d.left-this.$doc.scrollLeft(),0,1,d.top-this.$doc.scrollTop()),g=f.inverse().x(p.inverse().x(l)),v=t/r[0];f=f.x(new s([v,0,0,v,0,0])),l=p.x(f.x(g)),r[4]=+r[4]+(m-l.e(0)),r[5]=+r[5]+(u-l.e(1))}r[0]=t,r[3]="number"==typeof i.dValue?i.dValue:t,this.setMatrix(r,{animate:"boolean"==typeof i.animate?i.animate:a,range:!i.noSetRange}),i.silent||this._trigger("zoom",r[0],i)}},option:function(t,n){var i;if(!t)return e.extend({},this.options);if("string"==typeof t){if(1===arguments.length)return void 0!==this.options[t]?this.options[t]:null;i={},i[t]=n}else i=t;this._setOptions(i)},_setOptions:function(t){e.each(t,e.proxy(function(t,n){switch(t){case"disablePan":this._resetStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._unbind()}switch(this.options[t]=n,t){case"disablePan":this._initStyle();case"$zoomIn":case"$zoomOut":case"$zoomRange":case"$reset":this[t]=n;case"disableZoom":case"onStart":case"onChange":case"onZoom":case"onPan":case"onEnd":case"onReset":case"eventNamespace":this._bind();break;case"cursor":e.style(this.elem,"cursor",n);break;case"minScale":this.$zoomRange.attr("min",n);break;case"maxScale":this.$zoomRange.attr("max",n);break;case"rangeStep":this.$zoomRange.attr("step",n);break;case"startTransform":this._buildTransform();break;case"duration":case"easing":this._buildTransition();case"transition":this.transition();break;case"$set":n instanceof e&&n.length&&(this.$set=n,this._initStyle(),this._buildTransform())}},this))},_initStyle:function(){var t={"backface-visibility":"hidden","transform-origin":this.isSVG?"0 0":"50% 50%"};this.options.disablePan||(t.cursor=this.options.cursor),this.$set.css(t)},_resetStyle:function(){this.$elem.css({cursor:"",transition:""}),this.$parent.css({overflow:"",position:""})},_bind:function(){var t=this,n=this.options,i=n.eventNamespace,s=d?"pointerdown"+i:"touchstart"+i+" mousedown"+i,o=d?"pointerup"+i:"touchend"+i+" click"+i,r={},h=this.$reset,c=this.$zoomRange;if(e.each(["Start","Change","Zoom","Pan","End","Reset"],function(){var t=n["on"+this];e.isFunction(t)&&(r["panzoom"+this.toLowerCase()+i]=t)}),n.disablePan&&n.disableZoom||(r[s]=function(e){var i;("touchstart"===e.type?!(i=e.touches)||(1!==i.length||n.disablePan)&&2!==i.length:n.disablePan||1!==e.which)||t._startMove(e,i)}),this.$elem.on(r),h.length&&h.on(o,function(){t.reset()}),c.length&&c.attr({step:n.rangeStep===a.defaults.rangeStep&&c.attr("step")||n.rangeStep,min:n.minScale,max:n.maxScale}).prop({value:this.getMatrix()[0]}),!n.disableZoom){var m=this.$zoomIn,u=this.$zoomOut;m.length&&u.length&&(m.on(o,function(){t.zoom()}),u.on(o,function(){t.zoom(!0)})),c.length&&(r={},r[(d?"pointerdown":"mousedown")+i]=function(){t.transition(!0)},r[(p?"input":"change")+i]=function(){t.zoom(+this.value,{noSetRange:!0})},c.on(r))}},_unbind:function(){this.$elem.add(this.$zoomIn).add(this.$zoomOut).add(this.$reset).off(this.options.eventNamespace)},_buildTransform:function(){return this._origTransform=this.getTransform(this.options.startTransform)},_buildTransition:function(){if(this._transform){var t=this.options;this._transition=this._transform+" "+t.duration+"ms "+t.easing}},_checkDims:function(){var t=this.dimensions;return t.width&&t.height||this.resetDimensions(),this.dimensions},_getDistance:function(t){var e=t[0],n=t[1];return Math.sqrt(Math.pow(Math.abs(n.clientX-e.clientX),2)+Math.pow(Math.abs(n.clientY-e.clientY),2))},_getMiddle:function(t){var e=t[0],n=t[1];return{clientX:(n.clientX-e.clientX)/2+e.clientX,clientY:(n.clientY-e.clientY)/2+e.clientY}},_trigger:function(t){"string"==typeof t&&(t="panzoom"+t),this.$elem.triggerHandler(t,[this].concat(f.call(arguments,1)))},_startMove:function(t,i){var s,o,a,r,h,c,m,l,f=this,p=this.options,g=p.eventNamespace,v=this.getMatrix(),b=v.slice(0),_=+b[4],y=+b[5],$={matrix:v,animate:"skip"};d?(o="pointermove",a="pointerup"):"touchstart"===t.type?(o="touchmove",a="touchend"):(o="mousemove",a="mouseup"),o+=g,a+=g,this.transition(!0),this.panning=!0,this._trigger("start",t,i),i&&2===i.length?(r=this._getDistance(i),h=+v[0],c=this._getMiddle(i),s=function(t){t.preventDefault();var e=f._getMiddle(i=t.touches),n=f._getDistance(i)-r;n>0?f.zoom(n*(p.incrementIn/100)+h,{focal:e,matrix:v,animate:!1}):f.zoom(n*(p.incrementOut/100)+h,{focal:e,matrix:v,animate:!1}),f.pan(+v[4]+e.clientX-c.clientX,+v[5]+e.clientY-c.clientY,$),c=e}):(m=t.pageX,l=t.pageY,s=function(t){t.preventDefault(),f.pan(_+t.pageX-m,y+t.pageY-l,$)}),e(u).off(g).on(o,s).on(a,function(t){e(this).off(g),f.panning=!1,t.type="panzoomend",f._trigger(t,v,!n(v,b))})}},e.Panzoom=a,e.fn.panzoom=function(t){var n,i,s,o;return"string"==typeof t?(o=[],i=f.call(arguments,1),this.each(function(){n=e.data(this,l),n?"_"!==t.charAt(0)&&"function"==typeof(s=n[t])&&void 0!==(s=s.apply(n,i))&&o.push(s):o.push(void 0)}),o.length?1===o.length?o[0]:o:this):this.each(function(){new a(this,t)})},a});
},{"jquery":606}],614:[function(require,module,exports){
!function(e){function i(e){var i=e.__resizeTriggers__,t=i.firstElementChild,n=i.lastElementChild,r=t.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,r.style.width=t.offsetWidth+1+"px",r.style.height=t.offsetHeight+1+"px",t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight}function t(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height}function n(e){var n=this;i(this),this.__resizeRAF__&&c(this.__resizeRAF__),this.__resizeRAF__=_(function(){t(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach(function(i){i.call(n,e)}))})}function r(){if(!o){var e=(p?p:"")+".resize-triggers { "+(L?L:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),i.appendChild(t),o=!0}}var s=document.attachEvent,o=!1,a=e.fn.resize;if(e.fn.resize=function(e){return this.each(function(){this==window?a.call(jQuery(this),e):window.addResizeListener(this,e)})},e.fn.removeResize=function(e){return this.each(function(){window.removeResizeListener(this,e)})},!s){var _=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(i){return e(i)}}(),c=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(i){return e(i)}}(),d=!1,l="animation",h="",m="animationstart",f="Webkit Moz O ms".split(" "),g="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u="",z=document.createElement("fakeelement");if(void 0!==z.style.animationName&&(d=!0),d===!1)for(var w=0;w<f.length;w++)if(void 0!==z.style[f[w]+"AnimationName"]){u=f[w],l=u+"Animation",h="-"+u.toLowerCase()+"-",m=g[w],d=!0;break}var v="resizeanim",p="@"+h+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",L=h+"animation: 1ms "+v+"; "}window.addResizeListener=function(e,t){s?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),r(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),i(e),e.addEventListener("scroll",n,!0),m&&e.__resizeTriggers__.addEventListener(m,function(t){t.animationName==v&&i(e)})),e.__resizeListeners__.push(t))},window.removeResizeListener=function(e,i){s?e.detachEvent("onresize",i):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(i),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",n),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}(jQuery);
},{}],615:[function(require,module,exports){
!function(t,n){"use strict";function r(t){return t&&t.toLowerCase?t.toLowerCase():t}function e(t,n){for(var r=0,e=t.length;e>r;r++)if(t[r]==n)return!s;return s}var s=!1,i=null,o=parseFloat,a=Math.min,u=/(-?\d+\.?\d*)$/g,l=/(\d+\.?\d*)$/g,h=[],c=[],f=function(t){return"string"==typeof t},g=function(t,n){for(var r,e=t.length,s=e;s--;)r=e-s-1,n(t[r],r)},p=Array.prototype.indexOf||function(t){var n=this.length,r=Number(arguments[1])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in this&&this[r]===t)return r;return-1};t.tinysort={id:"TinySort",version:"1.5.6",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(){var t=function(t,n){h.push(t),c.push(n)};return t.indexOf=p,t}(),defaults:{order:"asc",attr:i,data:i,useVal:s,place:"start",returns:s,cases:s,forceStrings:s,ignoreDashes:s,sortFunction:i}},t.fn.extend({tinysort:function(){var d,v,y,b,F=this,S=[],w=[],m=[],A=[],$=0,x=[],M=[],D=function(t){g(h,function(n){n.call(n,t)})},T=function(t,n){return"string"==typeof n&&(t.cases||(n=r(n)),n=n.replace(/^\s*(.*?)\s*$/i,"$1")),n},k=function(t,n){var r=0;for(0!==$&&($=0);0===r&&b>$;){var e=A[$],i=e.oSettings,a=i.ignoreDashes?l:u;if(D(i),i.sortFunction)r=i.sortFunction(t,n);else if("rand"==i.order)r=Math.random()<.5?1:-1;else{var h=s,p=T(i,t.s[$]),d=T(i,n.s[$]);if(!i.forceStrings){var v=f(p)?p&&p.match(a):s,y=f(d)?d&&d.match(a):s;if(v&&y){var F=p.substr(0,p.length-v[0].length),S=d.substr(0,d.length-y[0].length);F==S&&(h=!s,p=o(v[0]),d=o(y[0]))}}r=e.iAsc*(d>p?-1:p>d?1:0)}g(c,function(t){r=t.call(t,h,p,d,r)}),0===r&&$++}return r};for(d=0,y=arguments.length;y>d;d++){var C=arguments[d];f(C)?x.push(C)-1>M.length&&(M.length=x.length-1):M.push(C)>x.length&&(x.length=M.length)}for(x.length>M.length&&(M.length=x.length),b=x.length,0===b&&(b=x.length=1,M.push({})),d=0,y=b;y>d;d++){var L=x[d],V=t.extend({},t.tinysort.defaults,M[d]),j=!(!L||""===L),O=j&&":"===L[0];A.push({sFind:L,oSettings:V,bFind:j,bAttr:!(V.attr===i||""===V.attr),bData:V.data!==i,bFilter:O,$Filter:O?F.filter(L):F,fnSort:V.sortFunction,iAsc:"asc"==V.order?1:-1})}return F.each(function(r,e){var s,i=t(e),o=i.parent().get(0),a=[];for(v=0;b>v;v++){var u=A[v],l=u.bFind?u.bFilter?u.$Filter.filter(e):i.find(u.sFind):i;a.push(u.bData?l.data(u.oSettings.data):u.bAttr?l.attr(u.oSettings.attr):u.oSettings.useVal?l.val():l.text()),s===n&&(s=l)}var h=p.call(m,o);0>h&&(h=m.push(o)-1,w[h]={s:[],n:[]}),s.length>0?w[h].s.push({s:a,e:i,n:r}):w[h].n.push({e:i,n:r})}),g(w,function(t){t.s.sort(k)}),g(w,function(t){var n=t.s,r=t.n,i=n.length,o=r.length,u=i+o,l=[],h=u,c=[0,0];switch(V.place){case"first":g(n,function(t){h=a(h,t.n)});break;case"org":g(n,function(t){l.push(t.n)});break;case"end":h=o;break;default:h=0}for(d=0;u>d;d++){var f=e(l,d)?!s:d>=h&&h+i>d,p=f?0:1,v=(f?n:r)[c[p]].e;v.parent().append(v),(f||!V.returns)&&S.push(v.get(0)),c[p]++}}),F.length=0,Array.prototype.push.apply(F,S),F}}),t.fn.TinySort=t.fn.Tinysort=t.fn.tsort=t.fn.tinysort}(jQuery);
},{}],616:[function(require,module,exports){
(function (Buffer){
function najax(e,t,r){function a(e){return function(){console.error('najax: method jqXHR."'+e+'" not implemented'),console.trace()}}function o(e){p.responseText=e.stack,_.isFunction(n.error)&&n.error(p,"error",e),s.reject(p,"error",e)}var s=new $.Deferred,n=_.extend({},defaults,parseOptions(e,t,r)),u=url.parse(n.url),d=0===u.protocol.indexOf("https"),i="";if(n.data&&n.processData&&"GET"===n.method)n.data=querystring.stringify(n.data);else if(n.data&&n.processData&&"string"!=typeof n.data&&"GET"!==n.method)switch(n.contentType){case"application/json":n.data=JSON.stringify(n.data);break;case"application/x-www-form-urlencoded":n.data=querystring.stringify(n.data);break;default:n.data=String(n.data)}if(n.data&&("GET"===n.method?u.search?u.search+="&"+n.data:u.search="?"+n.data:n.headers=_.extend({"Content-Type":n.contentType+";charset=utf-8","Content-Length":Buffer.byteLength(n.data)},n.headers)),t={host:u.hostname,path:u.pathname+(u.search||""),method:n.method,port:Number(u.port)||(d?443:80),headers:n.headers,rejectUnauthorized:n.rejectUnauthorized},u.auth?t.auth=u.auth:n.username&&n.password?t.auth=n.username+":"+n.password:n.auth&&(t.auth=n.auth),_.extend(t,_.pick(n,["auth","agent"])),n.getopts){var c=[d,t,n.data||!1,n.success||!1,n.error||!1];return c}var p={readyState:0,status:0,statusText:"error",setRequestHeader:a("setRequestHeader"),getAllResponseHeaders:a("getAllResponseHeaders"),statusCode:a("statusCode"),abort:a("abort")},h=(d?https:http).request(t,function(e){s.getResponseHeader=p.getResponseHeader=function(t){return e.headers[t.toLowerCase()]},e.on("data",function(e){i+=e}),e.on("end",function(){p.responseText=i;var r="application/json"==e.headers["content-type"];if("json"===n.dataType||"jsonp"===n.dataType||r)try{i=JSON.parse(i.replace(/[\cA-\cZ]/gi,""))}catch(e){return o(e)}var a=e.statusCode,u="success";204===a||"HEAD"===t.method?u="nocontent":304===a&&(u="notmodified");var d=a>=200&&a<300||304===a;p.readyState=a>0?4:0,p.status=a,d?(p.statusText=u,_.isFunction(n.success)&&n.success(i,u,p),s.resolve(i,u,p)):(u="error",_.isFunction(n.error)&&n.error(p,u,http.STATUS_CODES[a]),s.reject(p,u,http.STATUS_CODES[a]))})});return h.on("error",o),n.timeout&&n.timeout>0&&h.on("socket",function(e){e.setTimeout(n.timeout),e.on("timeout",function(){h.abort(),_.isFunction(n.error)&&n.error(p,"timeout"),s.reject(p,"timeout")})}),"GET"!==n.method&&n.data&&h.write(n.data,"utf-8"),h.end(),s.success=s.done,s.error=s.fail,s}var https=require("https"),http=require("http"),querystring=require("querystring"),url=require("url"),$=require("jquery-deferred"),_=require("lodash"),parseOptions=require("./parse-options"),defaults={method:"GET",rejectUnauthorized:!0,processData:!0,data:"",contentType:"application/x-www-form-urlencoded",headers:{}};najax.defaults=function(e){return _.extend(defaults,e)},_.each(["GET","POST","PUT","DELETE"],function(e){najax[e.toLowerCase()]=function(t,r,a){return najax(_.extend(parseOptions(t,r,a),{method:e}))}}),module.exports=najax;
}).call(this,require("buffer").Buffer)

},{"./parse-options":617,"buffer":5,"http":34,"https":10,"jquery-deferred":618,"lodash":622,"querystring":20,"url":40}],617:[function(require,module,exports){
var _=require("lodash");module.exports=function(e,s,t){var n={};return _.isString(e)?n.url=e:_.extend(n,e),_.isFunction(s)?n.success=s:(_.isFunction(t)&&(n.success=t),_.extend(n,s)),n.method=n.method||n.type,n};
},{"lodash":622}],618:[function(require,module,exports){
module.exports=require("./lib/jquery-deferred");
},{"./lib/jquery-deferred":621}],619:[function(require,module,exports){
function createOptions(e){var n=optionsCache[e]={};return jQuery.each(e.split(core_rspace),function(e,r){n[r]=!0}),n}var jQuery=module.exports=require("./jquery-core.js"),core_rspace=/\s+/,optionsCache={};jQuery.Callbacks=function(e){e="string"==typeof e?optionsCache[e]||createOptions(e):jQuery.extend({},e);var n,r,t,i,u,o,c=[],s=!e.once&&[],a=function(h){for(n=e.memory&&h,r=!0,o=i||0,i=0,u=c.length,t=!0;c&&o<u;o++)if(c[o].apply(h[0],h[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,c&&(s?s.length&&a(s.shift()):n?c=[]:f.disable())},f={add:function(){if(c){var r=c.length;!function n(r){jQuery.each(r,function(r,t){var i=jQuery.type(t);"function"===i?e.unique&&f.has(t)||c.push(t):t&&t.length&&"string"!==i&&n(t)})}(arguments),t?u=c.length:n&&(i=r,a(n))}return this},remove:function(){return c&&jQuery.each(arguments,function(e,n){for(var r;(r=jQuery.inArray(n,c,r))>-1;)c.splice(r,1),t&&(r<=u&&u--,r<=o&&o--)}),this},has:function(e){return jQuery.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=s=n=void 0,this},disabled:function(){return!c},lock:function(){return s=void 0,n||f.disable(),this},locked:function(){return!s},fireWith:function(e,n){return n=n||[],n=[e,n.slice?n.slice():n],!c||r&&!s||(t?s.push(n):a(n)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f};
},{"./jquery-core.js":620}],620:[function(require,module,exports){
function type(e){return null==e?String(e):class2type[toString.call(e)]||"object"}function isFunction(e){return"function"===jQuery.type(e)}function isArray(e){return"array"===jQuery.type(e)}function each(e,t,n){var r,i=0,o=e.length,c=void 0===o||isFunction(e);if(n)if(c){for(r in e)if(t.apply(e[r],n)===!1)break}else for(;i<o&&t.apply(e[i++],n)!==!1;);else if(c){for(r in e)if(t.call(e[r],r,e[r])===!1)break}else for(;i<o&&t.call(e[i],i,e[i++])!==!1;);return e}function isPlainObject(e){return!(!e||"object"!==jQuery.type(e))}function extend(){var e,t,n,r,i,o,c=arguments[0]||{},u=1,a=arguments.length,y=!1;for("boolean"==typeof c&&(y=c,c=arguments[1]||{},u=2),"object"==typeof c||jQuery.isFunction(c)||(c={}),a===u&&(c=this,--u);u<a;u++)if(null!=(e=arguments[u]))for(t in e)n=c[t],r=e[t],c!==r&&(y&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,o=n&&jQuery.isArray(n)?n:[]):o=n&&jQuery.isPlainObject(n)?n:{},c[t]=jQuery.extend(y,o,r)):void 0!==r&&(c[t]=r));return c}var jQuery=module.exports={type:type,isArray:isArray,isFunction:isFunction,isPlainObject:isPlainObject,each:each,extend:extend,noop:function(){}},toString=Object.prototype.toString,class2type={};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(function(e){class2type["[object "+e+"]"]=e.toLowerCase()});
},{}],621:[function(require,module,exports){
var jQuery=module.exports=require("./jquery-callbacks.js"),core_slice=Array.prototype.slice;jQuery.extend({Deferred:function(e){var r=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(r,function(r,i){var t=i[0],u=e[r];o[i[1]](jQuery.isFunction(u)?function(){var e=u.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[t+"With"](this===o?n:this,[e])}:n[t])}),e=null}).promise()},promise:function(e){return null!=e?jQuery.extend(e,i):i}},o={};return i.pipe=i.then,jQuery.each(r,function(e,t){var u=t[2],s=t[3];i[t[1]]=u.add,s&&u.add(function(){n=s},r[1^e][2].disable,r[2][2].lock),o[t[0]]=u.fire,o[t[0]+"With"]=u.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var r,n,i,o=0,t=core_slice.call(arguments),u=t.length,s=1!==u||e&&jQuery.isFunction(e.promise)?u:0,c=1===s?e:jQuery.Deferred(),l=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?core_slice.call(arguments):o,i===r?c.notifyWith(n,i):--s||c.resolveWith(n,i)}};if(u>1)for(r=new Array(u),n=new Array(u),i=new Array(u);o<u;o++)t[o]&&jQuery.isFunction(t[o].promise)?t[o].promise().done(l(o,i,t)).fail(c.reject).progress(l(o,n,r)):--s;return s||c.resolveWith(i,t),c.promise()}});
},{"./jquery-callbacks.js":619}],622:[function(require,module,exports){
(function (global){
(function(){function n(n,t){if(n!==t){var r=null===n,e=n===b,u=n===n,i=null===t,o=t===b,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(n<t&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return h(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function e(n){return"function"==typeof n||!1}function u(n){return null==n?"":n+""}function i(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function o(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function f(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function a(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=n(i[u],o[u]);if(c){if(u>=a)return c;var l=e[u];return c*("asc"===l||l===!0?1:-1)}}return t.index-r.index}function c(n){return qn[n]}function l(n){return Mn[n]}function s(n,t,r){return t?n=Vn[n]:r&&(n=Yn[n]),"\\"+n}function p(n){return"\\"+Yn[n]}function h(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function v(n){return!!n&&"object"==typeof n}function _(n){return n<=160&&n>=9&&n<=13||32==n||160==n||5760==n||6158==n||n>=8192&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function g(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=D,i[++u]=r);return i}function y(n,t){for(var r,e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++i]=f)}return o}function d(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function w(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function m(n){return Pn[n]}function x(_){function G(n){if(v(n)&&!Cf(n)&&!(n instanceof qn)){if(n instanceof nn)return n;if(no.call(n,"__chain__")&&no.call(n,"__wrapped__"))return he(n)}return new nn(n)}function H(){}function nn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function qn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function Mn(){var n=new qn(this.__wrapped__);return n.__actions__=et(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=et(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=et(this.__views__),n}function Pn(){if(this.__filtered__){var n=new qn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Kn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Cf(n),e=t<0,u=r?n.length:0,i=Vr(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,p=0,h=Ao(a,this.__takeCount__);if(!r||u<T||u==a&&h==a)return er(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;a--&&p<h;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,w=y.type,m=d(g);if(w==B)g=m;else if(!m){if(w==L)continue n;break n}}v[p++]=g}return v}function Vn(){this.__data__={}}function Yn(n){return this.has(n)&&delete this.__data__[n]}function Gn(n){return"__proto__"==n?b:this.__data__[n]}function Jn(n){return"__proto__"!=n&&no.call(this.__data__,n)}function Xn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Zn(n){var t=n?n.length:0;for(this.data={hash:go(null),set:new lo};t--;)this.push(n[t])}function Hn(n,t){var r=n.data,e="string"==typeof t||Wu(t)?r.set.has(t):r.hash[t];return e?0:-1}function Qn(n){var t=this.data;"string"==typeof n||Wu(n)?t.set.add(n):t.hash[n]=!0}function rt(n,t){for(var r=-1,e=n.length,u=-1,i=t.length,o=zi(e+i);++r<e;)o[r]=n[r];for(;++u<i;)o[r++]=t[u];return o}function et(n,t){var r=-1,e=n.length;for(t||(t=zi(e));++r<e;)t[r]=n[r];return t}function ut(n,t){for(var r=-1,e=n.length;++r<e&&t(n[r],r,n)!==!1;);return n}function it(n,t){for(var r=n.length;r--&&t(n[r],r,n)!==!1;);return n}function ot(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ft(n,t,r,e){for(var u=-1,i=n.length,o=e,f=o;++u<i;){var a=n[u],c=+t(a);r(c,o)&&(o=c,f=a)}return f}function at(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function ct(n,t){for(var r=-1,e=n.length,u=zi(e);++r<e;)u[r]=t(n[r],r,n);return u}function lt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function st(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function pt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function ht(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function vt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function _t(n,t){return n===b?t:n}function gt(n,t,r,e){return n!==b&&no.call(e,r)?n:t}function yt(n,t,r){for(var e=-1,u=Df(t),i=u.length;++e<i;){var o=u[e],f=n[o],a=r(f,t[o],o,n,t);(a===a?a===f:f!==f)&&(f!==b||o in n)||(n[o]=a)}return n}function dt(n,t){return null==t?n:mt(t,Df(t),n)}function wt(n,t){for(var r=-1,e=null==n,u=!e&&Zr(n),i=u?n.length:0,o=t.length,f=zi(o);++r<o;){var a=t[r];u?f[r]=Hr(a,i)?n[a]:b:f[r]=e?b:n[a]}return f}function mt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function xt(n,t,r){var e=typeof n;return"function"==e?t===b?n:or(n,t,r):null==n?Ri:"object"==e?zt(n):t===b?Si(n):Dt(n,t)}function bt(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==b)return f;if(!Wu(n))return n;var a=Cf(n);if(a){if(f=Yr(n),!t)return et(n,f)}else{var c=ro.call(n),l=c==Y;if(c!=X&&c!=q&&(!l||u))return Dn[c]?Jr(n,c,t):u?n:{};if(f=Gr(l?{}:n),!t)return dt(f,n)}i||(i=[]),o||(o=[]);for(var s=i.length;s--;)if(i[s]==n)return o[s];return i.push(n),o.push(f),(a?ut:$t)(n,function(e,u){f[u]=bt(e,t,r,u,n,i,o)}),f}function At(n,t,r){if("function"!=typeof n)throw new Ji(z);return so(function(){n.apply(b,r)},t)}function jt(n,t){var e=n?n.length:0,u=[];if(!e)return u;var i=-1,o=Mr(),f=o==r,a=f&&t.length>=T?_r(t):null,c=t.length;a&&(o=Hn,f=!1,t=a);n:for(;++i<e;){var l=n[i];if(f&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;u.push(l)}else o(t,l,0)<0&&u.push(l)}return u}function kt(n,t){var r=!0;return No(n,function(n,e,u){return r=!!t(n,e,u)}),r}function It(n,t,r,e){var u=e,i=u;return No(n,function(n,o,f){var a=+t(n,o,f);(r(a,u)||a===e&&a===i)&&(u=a,i=n)}),i}function Rt(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,r<0&&(r=-r>u?0:u+r),e=e===b||e>u?u:+e||0,e<0&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n}function Ot(n,t){var r=[];return No(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Et(n,t,r,e){var u;return r(n,function(n,r,i){if(t(n,r,i))return u=e?r:n,!1}),u}function Ct(n,t,r,e){e||(e=[]);for(var u=-1,i=n.length;++u<i;){var o=n[u];v(o)&&Zr(o)&&(r||Cf(o)||ku(o))?t?Ct(o,t,r,e):lt(e,o):r||(e[e.length]=o)}return e}function Ut(n,t){return Lo(n,t,ni)}function $t(n,t){return Lo(n,t,Df)}function St(n,t){return Bo(n,t,Df)}function Wt(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];Su(n[o])&&(i[++u]=o)}return i}function Ft(n,t,r){if(null!=n){r!==b&&r in se(n)&&(t=[r]);for(var e=0,u=t.length;null!=n&&e<u;)n=n[t[e++]];return e&&e==u?n:b}}function Nt(n,t,r,e,u,i){return n===t||(null==n||null==t||!Wu(n)&&!v(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,i))}function Tt(n,t,r,e,u,i,o){var f=Cf(n),a=Cf(t),c=M,l=M;f||(c=ro.call(n),c==q?c=X:c!=X&&(f=Mu(n))),a||(l=ro.call(t),l==q?l=X:l!=X&&(a=Mu(t)));var s=c==X,p=l==X,h=c==l;if(h&&!f&&!s)return Br(n,t,c);if(!u){var v=s&&no.call(n,"__wrapped__"),_=p&&no.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,i,o)}if(!h)return!1;i||(i=[]),o||(o=[]);for(var g=i.length;g--;)if(i[g]==n)return o[g]==t;i.push(n),o.push(t);var y=(f?Lr:zr)(n,t,r,e,u,i,o);return i.pop(),o.pop(),y}function Lt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=se(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){o=t[e];var f=o[0],a=n[f],c=o[1];if(i&&o[2]){if(a===b&&!(f in n))return!1}else{var l=r?r(a,c,f):b;if(!(l===b?Nt(c,a,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Zr(n)?zi(n.length):[];return No(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function zt(n){var t=Pr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null!=n&&(n[r]===e&&(e!==b||r in se(n)))}}return function(n){return Lt(n,t)}}function Dt(n,t){var r=Cf(n),e=ne(n)&&ee(t),u=n+"";return n=pe(n),function(i){if(null==i)return!1;var o=u;if(i=se(i),(r||!e)&&!(o in i)){if(i=1==n.length?i:Ft(i,Jt(n,0,-1)),null==i)return!1;o=Ie(n),i=se(i)}return i[o]===t?t!==b||o in i:Nt(t,i[o],b,!0)}}function qt(n,t,r,e,u){if(!Wu(n))return n;var i=Zr(t)&&(Cf(t)||Mu(t)),o=i?b:Df(t);return ut(o||t,function(f,a){if(o&&(a=f,f=t[a]),v(f))e||(e=[]),u||(u=[]),Mt(n,t,a,qt,r,e,u);else{var c=n[a],l=r?r(c,f,a,n,t):b,s=l===b;s&&(l=f),l===b&&(!i||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}}),n}function Mt(n,t,r,e,u,i,o){for(var f=i.length,a=t[r];f--;)if(i[f]==a)return void(n[r]=o[f]);var c=n[r],l=u?u(c,a,r,n,t):b,s=l===b;s&&(l=a,Zr(a)&&(Cf(a)||Mu(a))?l=Cf(c)?c:Zr(c)?et(c):[]:zu(a)||ku(a)?l=ku(c)?Gu(c):zu(c)?c:{}:s=!1),i.push(a),o.push(l),s?n[r]=e(l,a,u,i,o):(l===l?l!==c:c===c)&&(n[r]=l)}function Pt(n){return function(t){return null==t?b:t[n]}}function Kt(n){var t=n+"";return n=pe(n),function(r){return Ft(r,n,t)}}function Vt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Hr(e)){var u=e;po.call(n,e,1)}}return n}function Yt(n,t){return n+yo(Io()*(t-n+1))}function Gt(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Jt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,t<0&&(t=-t>u?0:u+t),r=r===b||r>u?u:+r||0,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=zi(u);++e<u;)i[e]=n[e+t];return i}function Xt(n,t){var r;return No(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Zt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Ht(n,t,r){var e=Dr(),u=-1;t=ct(t,function(n){return e(n)});var i=Bt(n,function(n){var r=ct(t,function(t){return t(n)});return{criteria:r,index:++u,value:n}});return Zt(i,function(n,t){return a(n,t,r)})}function Qt(n,t){var r=0;return No(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function nr(n,t){var e=-1,u=Mr(),i=n.length,o=u==r,f=o&&i>=T,a=f?_r():null,c=[];a?(u=Hn,o=!1):(f=!1,a=t?[]:c);n:for(;++e<i;){var l=n[e],s=t?t(l,e,n):l;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else u(a,s,0)<0&&((t||f)&&a.push(s),c.push(l))}return c}function tr(n,t){for(var r=-1,e=t.length,u=zi(e);++r<e;)u[r]=n[t[r]];return u}function rr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Jt(n,e?0:i,e?i+1:u):Jt(n,e?i+1:0,e?u:i)}function er(n,t){var r=n;r instanceof qn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var i=t[e];r=i.func.apply(i.thisArg,lt([r],i.args))}return r}function ur(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&u<=Uo){for(;e<u;){var i=e+u>>>1,o=n[i];(r?o<=t:o<t)&&null!==o?e=i+1:u=i}return u}return ir(n,t,Ri,r)}function ir(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=t===b;u<i;){var c=yo((u+i)/2),l=r(n[c]),s=l!==b,p=l===l;if(o)var h=p||e;else h=f?p&&s&&(e||null!=l):a?p&&(e||s):null!=l&&(e?l<=t:l<t);h?u=c+1:i=c}return Ao(i,Co)}function or(n,t,r){if("function"!=typeof n)return Ri;if(t===b)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function fr(n){var t=new io(n.byteLength),r=new ho(t);return r.set(new ho(n)),t}function ar(n,t,r){for(var e=r.length,u=-1,i=bo(n.length-e,0),o=-1,f=t.length,a=zi(f+i);++o<f;)a[o]=t[o];for(;++u<e;)a[r[u]]=n[u];for(;i--;)a[o++]=n[u++];return a}function cr(n,t,r){for(var e=-1,u=r.length,i=-1,o=bo(n.length-u,0),f=-1,a=t.length,c=zi(o+a);++i<o;)c[i]=n[i];for(var l=i;++f<a;)c[l+f]=t[f];for(;++e<u;)c[l+r[e]]=n[i++];return c}function lr(n,t){return function(r,e,u){var i=t?t():{};if(e=Dr(e,u,3),Cf(r))for(var o=-1,f=r.length;++o<f;){var a=r[o];n(i,a,e(a,o,r),r)}else No(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function sr(n){return yu(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:b,o=u>2?r[2]:b,f=u>1?r[u-1]:b;for("function"==typeof i?(i=or(i,f,5),u-=2):(i="function"==typeof f?f:b,u-=i?1:0),o&&Qr(r[0],r[1],o)&&(i=u<3?b:i,u=1);++e<u;){var a=r[e];a&&n(t,a,i)}return t})}function pr(n,t){return function(r,e){var u=r?qo(r):0;if(!re(u))return n(r,e);for(var i=t?u:-1,o=se(r);(t?i--:++i<u)&&e(o[i],i,o)!==!1;);return r}}function hr(n){return function(t,r,e){for(var u=se(t),i=e(t),o=i.length,f=n?o:-1;n?f--:++f<o;){var a=i[f];if(r(u[a],a,u)===!1)break}return t}}function vr(n,t){function r(){var u=this&&this!==nt&&this instanceof r?e:n;return u.apply(t,arguments)}var e=yr(n);return r}function _r(n){return go&&lo?new Zn(n):null}function gr(n){return function(t){for(var r=-1,e=ji(li(t)),u=e.length,i="";++r<u;)i=n(i,e[r],r);return i}}function yr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fo(n.prototype),e=n.apply(r,t);return Wu(e)?e:r}}function dr(n){function t(r,e,u){u&&Qr(r,e,u)&&(e=b);var i=Tr(r,n,b,b,b,b,b,e);return i.placeholder=t.placeholder,i}return t}function wr(n,t){return yu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(b,r))})}function mr(n,t){return function(r,e,u){if(u&&Qr(r,e,u)&&(e=b),e=Dr(e,u,3),1==e.length){r=Cf(r)?r:le(r);var i=ft(r,e,n,t);if(!r.length||i!==t)return i}return It(r,e,n,t)}}function xr(n,r){return function(e,u,i){if(u=Dr(u,i,3),Cf(e)){var o=t(e,u,r);return o>-1?e[o]:b}return Et(e,u,n)}}function br(n){return function(r,e,u){return r&&r.length?(e=Dr(e,u,3),t(r,e,n)):-1}}function Ar(n){return function(t,r,e){return r=Dr(r,e,3),Et(t,r,n,!0)}}function jr(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=zi(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Ji(z);!t&&nn.prototype.thru&&"wrapper"==qr(o)&&(t=new nn([],!0))}for(e=t?-1:r;++e<r;){o=i[e];var f=qr(o),a="wrapper"==f?Do(o):b;t=a&&te(a[0])&&a[1]==(U|R|E|$)&&!a[4].length&&1==a[9]?t[qr(a[0])].apply(t,a[3]):1==o.length&&te(o)?t[f]():t.thru(o)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Cf(e)&&e.length>=T)return t.plant(e).value();for(var u=0,o=r?i[u].apply(this,n):e;++u<r;)o=i[u].call(this,o);return o}}}function kr(n,t){return function(r,e,u){return"function"==typeof e&&u===b&&Cf(r)?n(r,e):t(r,or(e,u,3))}}function Ir(n){return function(t,r,e){return"function"==typeof r&&e===b||(r=or(r,e,3)),n(t,r,ni)}}function Rr(n){return function(t,r,e){return"function"==typeof r&&e===b||(r=or(r,e,3)),n(t,r)}}function Or(n){return function(t,r,e){var u={};return r=Dr(r,e,3),$t(t,function(t,e,i){var o=r(t,e,i);e=n?o:e,t=n?t:o,u[e]=t}),u}}function Er(n){return function(t,r,e){return t=u(t),(n?t:"")+Sr(t,r,e)+(n?"":t)}}function Cr(n){var t=yu(function(r,e){var u=g(e,t.placeholder);return Tr(r,n,b,e,u)});return t}function Ur(n,t){return function(r,e,u,i){var o=arguments.length<3;return"function"==typeof e&&i===b&&Cf(r)?n(r,e,u,o):Gt(r,Dr(e,i,4),u,o,t)}}function $r(n,t,r,e,u,i,o,f,a,c){function l(){for(var w=arguments.length,m=w,x=zi(w);m--;)x[m]=arguments[m];if(e&&(x=ar(x,e,u)),i&&(x=cr(x,i,o)),v||y){var A=l.placeholder,I=g(x,A);if(w-=I.length,w<c){var R=f?et(f):b,O=bo(c-w,0),U=v?I:b,$=v?b:I,S=v?x:b,W=v?b:x;t|=v?E:C,t&=~(v?C:E),_||(t&=~(j|k));var F=[n,t,r,S,U,W,$,R,a,O],N=$r.apply(b,F);return te(n)&&Mo(N,F),N.placeholder=A,N}}var T=p?r:this,L=h?T[n]:n;return f&&(x=ae(x,f)),s&&a<x.length&&(x.length=a),this&&this!==nt&&this instanceof l&&(L=d||yr(n)),L.apply(T,x)}var s=t&U,p=t&j,h=t&k,v=t&R,_=t&I,y=t&O,d=h?b:yr(n);return l}function Sr(n,t,r){var e=n.length;if(t=+t,e>=t||!mo(t))return"";var u=t-e;return r=null==r?" ":r+"",gi(r,_o(u/r.length)).slice(0,u)}function Wr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=zi(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];var s=this&&this!==nt&&this instanceof u?o:n;return s.apply(i?r:this,l)}var i=t&j,o=yr(n);return u}function Fr(n){var t=Pi[n];return function(n,r){return r=r===b?0:+r||0,r?(r=ao(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var i=Dr(e);return null==e&&i===xt?ur(t,r,n):ir(t,r,i(e,u,1),n)}}function Tr(n,t,r,e,u,i,o,f){var a=t&k;if(!a&&"function"!=typeof n)throw new Ji(z);var c=e?e.length:0;if(c||(t&=~(E|C),e=u=b),c-=u?u.length:0,t&C){var l=e,s=u;e=u=b}var p=a?b:Do(n),h=[n,t,r,e,u,l,s,i,o,f];if(p&&(ue(h,p),t=h[1],f=h[9]),h[9]=null==f?a?0:n.length:bo(f-c,0)||0,t==j)var v=vr(h[0],h[2]);else v=t!=E&&t!=(j|E)||h[4].length?$r.apply(b,h):Wr.apply(b,h);var _=p?zo:Mo;return _(v,h)}function Lr(n,t,r,e,u,i,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;for(;++f<a;){var l=n[f],s=t[f],p=e?e(u?s:l,u?l:s,f):b;if(p!==b){if(p)continue;return!1}if(u){if(!ht(t,function(n){return l===n||r(l,n,e,u,i,o)}))return!1}else if(l!==s&&!r(l,s,e,u,i,o))return!1}return!0}function Br(n,t,r){switch(r){case P:case K:return+n==+t;case V:return n.name==t.name&&n.message==t.message;case J:return n!=+n?t!=+t:n==+t;case Z:case Q:return n==t+""}return!1}function zr(n,t,r,e,u,i,o){var f=Df(n),a=f.length,c=Df(t),l=c.length;if(a!=l&&!u)return!1;for(var s=a;s--;){var p=f[s];if(!(u?p in t:no.call(t,p)))return!1}for(var h=u;++s<a;){p=f[s];var v=n[p],_=t[p],g=e?e(u?_:v,u?v:_,p):b;if(!(g===b?r(v,_,e,u,i,o):g))return!1;h||(h="constructor"==p)}if(!h){var y=n.constructor,d=t.constructor;if(y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d))return!1}return!0}function Dr(n,t,r){var e=G.callback||ki;return e=e===ki?xt:e,r?e(n,t,r):e}function qr(n){for(var t=n.name,r=Wo[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Mr(n,t,e){var u=G.indexOf||je;return u=u===je?r:u,n?u(n,t,e):u}function Pr(n){for(var t=ti(n),r=t.length;r--;)t[r][2]=ee(t[r][1]);return t}function Kr(n,t){var r=null==n?b:n[t];return Tu(r)?r:b}function Vr(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Ao(t,n+o);break;case"takeRight":n=bo(n,t-o)}}return{start:n,end:t}}function Yr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&no.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Gr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Vi),new t}function Jr(n,t,r){var e=n.constructor;switch(t){case tn:return fr(n);case P:case K:return new e(+n);case rn:case en:case un:case on:case fn:case an:case cn:case ln:case sn:var u=n.buffer;return new e(r?fr(u):u,n.byteOffset,n.length);case J:case Q:return new e(n);case Z:var i=new e(n.source,Cn.exec(n));i.lastIndex=n.lastIndex}return i}function Xr(n,t,r){null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),t=Ie(t));var e=null==n?n:n[t];return null==e?b:e.apply(n,r)}function Zr(n){return null!=n&&re(qo(n))}function Hr(n,t){return n="number"==typeof n||Sn.test(n)?+n:-1,t=null==t?$o:t,n>-1&&n%1==0&&n<t}function Qr(n,t,r){if(!Wu(r))return!1;var e=typeof t;if("number"==e?Zr(r)&&Hr(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function ne(n,t){var r=typeof n;if("string"==r&&An.test(n)||"number"==r)return!0;if(Cf(n))return!1;var e=!bn.test(n);return e||null!=t&&n in se(t)}function te(n){var t=qr(n);if(!(t in qn.prototype))return!1;var r=G[t];if(n===r)return!0;var e=Do(r);return!!e&&n===e[0]}function re(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=$o}function ee(n){return n===n&&!Wu(n)}function ue(n,t){var r=n[1],e=t[1],u=r|e,i=u<U,o=e==U&&r==R||e==U&&r==$&&n[7].length<=t[8]||e==(U|$)&&r==R;if(!i&&!o)return n;e&j&&(n[2]=t[2],u|=r&j?0:I);var f=t[3];if(f){var a=n[3];n[3]=a?ar(a,f,t[4]):et(f),n[4]=a?g(n[3],D):et(t[4])}return f=t[5],f&&(a=n[5],n[5]=a?cr(a,f,t[6]):et(f),n[6]=a?g(n[5],D):et(t[6])),f=t[7],f&&(n[7]=et(f)),e&U&&(n[8]=null==n[8]?t[8]:Ao(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ie(n,t){return n===b?t:Uf(n,t,ie)}function oe(n,t){n=se(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function fe(n,t){var r={};return Ut(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function ae(n,t){for(var r=n.length,e=Ao(t.length,r),u=et(n);e--;){var i=t[e];n[e]=Hr(i,r)?u[i]:b}return n}function ce(n){for(var t=ni(n),r=t.length,e=r&&n.length,u=!!e&&re(e)&&(Cf(n)||ku(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Hr(f,e)||no.call(n,f))&&o.push(f)}return o}function le(n){return null==n?[]:Zr(n)?Wu(n)?n:Vi(n):ii(n)}function se(n){return Wu(n)?n:Vi(n)}function pe(n){if(Cf(n))return n;var t=[];return u(n).replace(jn,function(n,r,e,u){t.push(e?u.replace(On,"$1"):r||n)}),t}function he(n){return n instanceof qn?n.clone():new nn(n.__wrapped__,n.__chain__,et(n.__actions__))}function ve(n,t,r){t=(r?Qr(n,t,r):null==t)?1:bo(yo(t)||1,1);for(var e=0,u=n?n.length:0,i=-1,o=zi(_o(u/t));e<u;)o[++i]=Jt(n,e,e+=t);return o}function _e(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u}function ge(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,t<0?0:t)):[]}function ye(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0,t<0?0:t)):[]}function de(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0,!0):[]}function we(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0):[]}function me(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Qr(n,t,r)&&(r=0,e=u),Rt(n,t,r,e)):[]}function xe(n){return n?n[0]:b}function be(n,t,r){var e=n?n.length:0;return r&&Qr(n,t,r)&&(t=!1),e?Ct(n,t):[]}function Ae(n){var t=n?n.length:0;return t?Ct(n,!0):[]}function je(n,t,e){var u=n?n.length:0;if(!u)return-1;if("number"==typeof e)e=e<0?bo(u+e,0):e;else if(e){var i=ur(n,t);return i<u&&(t===t?t===n[i]:n[i]!==n[i])?i:-1}return r(n,t,e||0)}function ke(n){return ye(n,1)}function Ie(n){var t=n?n.length:0;return t?n[t-1]:b}function Re(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(r<0?bo(e+r,0):Ao(r||0,e-1))+1;else if(r){u=ur(n,t,!0)-1;var i=n[u];return(t===t?t===i:i!==i)?u:-1}if(t!==t)return h(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Oe(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=Mr(),u=n.length;++r<u;)for(var i=0,o=n[r];(i=e(t,o,i))>-1;)po.call(t,i,1);return t}function Ee(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=Dr(t,r,3);++u<o;){var f=n[u];t(f,u,n)&&(e.push(f),i.push(u))}return Vt(n,i),e}function Ce(n){return ge(n,1)}function Ue(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Qr(n,t,r)&&(t=0,r=e),Jt(n,t,r)):[]}function $e(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0,t<0?0:t)):[]}function Se(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,t<0?0:t)):[]}function We(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!1,!0):[]}function Fe(n,t,r){return n&&n.length?rr(n,Dr(t,r,3)):[]}function Ne(n,t,e,u){var i=n?n.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(u=e,e=Qr(n,t,u)?b:t,t=!1);var o=Dr();return null==e&&o===xt||(e=o(e,u,3)),t&&Mr()==r?y(n,e):nr(n,e)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=at(n,function(n){if(Zr(n))return r=bo(n.length,r),!0});for(var e=zi(r);++t<r;)e[t]=ct(n,Pt(t));return e}function Le(n,t,r){var e=n?n.length:0;if(!e)return[];var u=Te(n);return null==t?u:(t=or(t,r,4),ct(u,function(n){return st(n,t,b,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Zr(r))var e=e?lt(jt(e,r),jt(r,e)):r}return e?nr(e):[]}function ze(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Cf(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function De(n){var t=G(n);return t.__chain__=!0,t}function qe(n,t,r){return t.call(r,n),n}function Me(n,t,r){return t.call(r,n)}function Pe(){return De(this)}function Ke(){return new nn(this.value(),this.__chain__)}function Ve(n){for(var t,r=this;r instanceof H;){var e=he(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ye(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof qn){var r=n;return this.__actions__.length&&(r=new qn(this)),r=r.reverse(),r.__actions__.push({func:Me,args:[t],thisArg:b}),new nn(r,this.__chain__)}return this.thru(t)}function Ge(){return this.value()+""}function Je(){return er(this.__wrapped__,this.__actions__)}function Xe(n,t,r){var e=Cf(n)?ot:kt;return r&&Qr(n,t,r)&&(t=b),"function"==typeof t&&r===b||(t=Dr(t,r,3)),e(n,t)}function Ze(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,t)}function He(n,t){return uf(n,zt(t))}function Qe(n,t,r,e){var u=n?qo(n):0;return re(u)||(n=ii(n),u=n.length),r="number"!=typeof r||e&&Qr(t,r,e)?0:r<0?bo(u+r,0):r||0,"string"==typeof n||!Cf(n)&&qu(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&Mr(n,t,r)>-1}function nu(n,t,r){var e=Cf(n)?ct:Bt;return t=Dr(t,r,3),e(n,t)}function tu(n,t){return nu(n,Si(t))}function ru(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function eu(n,t,r){if(r?Qr(n,t,r):null==t){n=le(n);var e=n.length;return e>0?n[Yt(0,e-1)]:b}var u=-1,i=Yu(n),e=i.length,o=e-1;for(t=Ao(t<0?0:+t||0,e);++u<t;){var f=Yt(u,o),a=i[f];i[f]=i[u],i[u]=a}return i.length=t,i}function uu(n){return eu(n,Oo)}function iu(n){var t=n?qo(n):0;return re(t)?t:Df(n).length}function ou(n,t,r){var e=Cf(n)?ht:Xt;return r&&Qr(n,t,r)&&(t=b),"function"==typeof t&&r===b||(t=Dr(t,r,3)),e(n,t)}function fu(n,t,r){if(null==n)return[];r&&Qr(n,t,r)&&(t=b);var e=-1;t=Dr(t,r,3);var u=Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}});return Zt(u,f)}function au(n,t,r,e){return null==n?[]:(e&&Qr(t,r,e)&&(r=b),Cf(t)||(t=null==t?[]:[t]),Cf(r)||(r=null==r?[]:[r]),Ht(n,t,r))}function cu(n,t){return Ze(n,zt(t))}function lu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var r=n;n=t,t=r}return n=mo(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}}function su(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=n&&null==t?n.length:bo(+t||0,0),Tr(n,U,b,b,b,b,t)}function pu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=b),r}}function hu(n,t,r){function e(){h&&oo(h),c&&oo(c),_=0,c=h=v=b}function u(t,r){r&&oo(r),c=h=v=b,t&&(_=gf(),l=n.apply(p,a),h||c||(a=p=b))}function i(){var n=t-(gf()-s);n<=0||n>t?u(v,c):h=so(i,n)}function o(){u(y,h)}function f(){if(a=arguments,s=gf(),p=this,v=y&&(h||!d),g===!1)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=e<=0||e>g;u?(c&&(c=oo(c)),_=s,l=n.apply(p,a)):c||(c=so(o,e))}return u&&h?h=oo(h):h||t===g||(h=so(i,t)),r&&(u=!0,l=n.apply(p,a)),!u||h||c||(a=p=b),l}var a,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ji(z);if(t=t<0?0:+t||0,r===!0){var d=!0;y=!1}else Wu(r)&&(d=!!r.leading,g="maxWait"in r&&bo(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return f.cancel=e,f}function vu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ji(z);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new vu.Cache,r}function _u(n){if("function"!=typeof n)throw new Ji(z);return function(){return!n.apply(this,arguments)}}function gu(n){return pu(2,n)}function yu(n,t){if("function"!=typeof n)throw new Ji(z);return t=bo(t===b?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bo(r.length-t,0),i=zi(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}var o=zi(t+1);for(e=-1;++e<t;)o[e]=r[e];return o[t]=i,n.apply(this,o)}}function du(n){if("function"!=typeof n)throw new Ji(z);return function(t){return n.apply(this,t)}}function wu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ji(z);return r===!1?e=!1:Wu(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),hu(n,t,{leading:e,maxWait:+t,trailing:u})}function mu(n,t){return t=null==t?Ri:t,Tr(t,E,b,[n],[])}function xu(n,t,r,e){return t&&"boolean"!=typeof t&&Qr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?bt(n,t,or(r,e,1)):bt(n,t)}function bu(n,t,r){return"function"==typeof t?bt(n,!0,or(t,r,1)):bt(n,!0)}function Au(n,t){return n>t}function ju(n,t){return n>=t}function ku(n){return v(n)&&Zr(n)&&no.call(n,"callee")&&!co.call(n,"callee")}function Iu(n){return n===!0||n===!1||v(n)&&ro.call(n)==P}function Ru(n){return v(n)&&ro.call(n)==K}function Ou(n){return!!n&&1===n.nodeType&&v(n)&&!zu(n)}function Eu(n){return null==n||(Zr(n)&&(Cf(n)||qu(n)||ku(n)||v(n)&&Su(n.splice))?!n.length:!Df(n).length)}function Cu(n,t,r,e){r="function"==typeof r?or(r,e,3):b;var u=r?r(n,t):b;return u===b?Nt(n,t,r):!!u}function Uu(n){return v(n)&&"string"==typeof n.message&&ro.call(n)==V}function $u(n){return"number"==typeof n&&mo(n)}function Su(n){return Wu(n)&&ro.call(n)==Y}function Wu(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Fu(n,t,r,e){return r="function"==typeof r?or(r,e,3):b,Lt(n,Pr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null!=n&&(Su(n)?uo.test(Qi.call(n)):v(n)&&$n.test(n))}function Lu(n){return null===n}function Bu(n){return"number"==typeof n||v(n)&&ro.call(n)==J}function zu(n){var t;if(!v(n)||ro.call(n)!=X||ku(n)||!no.call(n,"constructor")&&(t=n.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return Ut(n,function(n,t){r=t}),r===b||no.call(n,r)}function Du(n){return Wu(n)&&ro.call(n)==Z}function qu(n){return"string"==typeof n||v(n)&&ro.call(n)==Q}function Mu(n){return v(n)&&re(n.length)&&!!zn[ro.call(n)]}function Pu(n){return n===b}function Ku(n,t){return n<t}function Vu(n,t){return n<=t}function Yu(n){var t=n?qo(n):0;return re(t)?t?et(n):[]:ii(n)}function Gu(n){return mt(n,ni(n))}function Ju(n,t,r){var e=Fo(n);return r&&Qr(n,t,r)&&(t=b),t?dt(e,t):e}function Xu(n){return Wt(n,ni(n))}function Zu(n,t,r){var e=null==n?b:Ft(n,pe(t),t+"");return e===b?r:e}function Hu(n,t){if(null==n)return!1;var r=no.call(n,t);if(!r&&!ne(t)){if(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),null==n)return!1;t=Ie(t),r=no.call(n,t)}return r||re(n.length)&&Hr(t,n.length)&&(Cf(n)||ku(n))}function Qu(n,t,r){r&&Qr(n,t,r)&&(t=b);for(var e=-1,u=Df(n),i=u.length,o={};++e<i;){var f=u[e],a=n[f];t?no.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o}function ni(n){if(null==n)return[];Wu(n)||(n=Vi(n));var t=n.length;t=t&&re(t)&&(Cf(n)||ku(n))&&t||0;for(var r=n.constructor,e=-1,u="function"==typeof r&&r.prototype===n,i=zi(t),o=t>0;++e<t;)i[e]=e+"";for(var f in n)o&&Hr(f,t)||"constructor"==f&&(u||!no.call(n,f))||i.push(f);return i}function ti(n){n=se(n);for(var t=-1,r=Df(n),e=r.length,u=zi(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function ri(n,t,r){var e=null==n?b:n[t];return e===b&&(null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),e=null==n?b:n[Ie(t)]),e=e===b?r:e),Su(e)?e.call(n):e}function ei(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||ne(t,n)?[e]:pe(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=t[u];Wu(f)&&(u==o?f[a]=r:null==f[a]&&(f[a]=Hr(t[u+1])?[]:{})),f=f[a]}return n}function ui(n,t,r,e){var u=Cf(n)||Mu(n);if(t=Dr(t,e,4),null==r)if(u||Wu(n)){var i=n.constructor;r=u?Cf(n)?new i:[]:Fo(Su(i)?i.prototype:b)}else r={};return(u?ut:$t)(n,function(n,e,u){return t(r,n,e,u)}),r}function ii(n){return tr(n,Df(n))}function oi(n){return tr(n,ni(n))}function fi(n,t,r){return t=+t||0,r===b?(r=t,t=0):r=+r||0,n>=Ao(t,r)&&n<bo(t,r)}function ai(n,t,r){r&&Qr(n,t,r)&&(t=r=b);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var i=Io();return Ao(n+i*(t-n+fo("1e-"+((i+"").length-1))),t)}return Yt(n,t)}function ci(n){return n=u(n),n&&n.charAt(0).toUpperCase()+n.slice(1)}function li(n){return n=u(n),n&&n.replace(Wn,c).replace(Rn,"");
}function si(n,t,r){n=u(n),t+="";var e=n.length;return r=r===b?e:Ao(r<0?0:+r||0,e),r-=t.length,r>=0&&n.indexOf(t,r)==r}function pi(n){return n=u(n),n&&dn.test(n)?n.replace(gn,l):n}function hi(n){return n=u(n),n&&In.test(n)?n.replace(kn,s):n||"(?:)"}function vi(n,t,r){n=u(n),t=+t;var e=n.length;if(e>=t||!mo(t))return n;var i=(t-e)/2,o=yo(i),f=_o(i);return r=Sr("",f,r),r.slice(0,o)+n+r}function _i(n,t,r){return(r?Qr(n,t,r):null==t)?t=0:t&&(t=+t),n=wi(n),ko(n,t||(Un.test(n)?16:10))}function gi(n,t){var r="";if(n=u(n),t=+t,t<1||!n||!mo(t))return r;do t%2&&(r+=n),t=yo(t/2),n+=n;while(t);return r}function yi(n,t,r){return n=u(n),r=null==r?0:Ao(r<0?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function di(n,t,r){var e=G.templateSettings;r&&Qr(n,t,r)&&(t=r=b),n=u(n),t=yt(dt({},r||t),e,gt);var i,o,f=yt(dt({},t.imports),e.imports,gt),a=Df(f),c=tr(f,a),l=0,s=t.interpolate||Fn,h="__p += '",v=Yi((t.escape||Fn).source+"|"+s.source+"|"+(s===xn?En:Fn).source+"|"+(t.evaluate||Fn).source+"|$","g"),_="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Bn+"]")+"\n";n.replace(v,function(t,r,e,u,f,a){return e||(e=u),h+=n.slice(l,a).replace(Nn,p),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),h+="';\n";var g=t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(pn,""):h).replace(hn,"$1").replace(vn,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Hf(function(){return Mi(a,_+"return "+h).apply(b,c)});if(y.source=h,Uu(y))throw y;return y}function wi(n,t,r){var e=n;return(n=u(n))?(r?Qr(e,t,r):null==t)?n.slice(d(n),w(n)+1):(t+="",n.slice(i(n,t),o(n,t)+1)):n}function mi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(d(n)):n.slice(i(n,t+"")):n}function xi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(0,w(n)+1):n.slice(0,o(n,t+"")+1):n}function bi(n,t,r){r&&Qr(n,t,r)&&(t=b);var e=S,i=W;if(null!=t)if(Wu(t)){var o="separator"in t?t.separator:o;e="length"in t?+t.length||0:e,i="omission"in t?u(t.omission):i}else e=+t||0;if(n=u(n),e>=n.length)return n;var f=e-i.length;if(f<1)return i;var a=n.slice(0,f);if(null==o)return a+i;if(Du(o)){if(n.slice(f).search(o)){var c,l,s=n.slice(0,f);for(o.global||(o=Yi(o.source,(Cn.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(s);)l=c.index;a=a.slice(0,null==l?f:l)}}else if(n.indexOf(o,f)!=f){var p=a.lastIndexOf(o);p>-1&&(a=a.slice(0,p))}return a+i}function Ai(n){return n=u(n),n&&yn.test(n)?n.replace(_n,m):n}function ji(n,t,r){return r&&Qr(n,t,r)&&(t=b),n=u(n),n.match(t||Tn)||[]}function ki(n,t,r){return r&&Qr(n,t,r)&&(t=b),v(n)?Oi(n):xt(n,t)}function Ii(n){return function(){return n}}function Ri(n){return n}function Oi(n){return zt(bt(n,!0))}function Ei(n,t){return Dt(n,bt(t,!0))}function Ci(n,t,r){if(null==r){var e=Wu(t),u=e?Df(t):b,i=u&&u.length?Wt(t,u):b;(i?i.length:e)||(i=!1,r=t,t=n,n=this)}i||(i=Wt(t,Df(t)));var o=!0,f=-1,a=Su(n),c=i.length;r===!1?o=!1:Wu(r)&&"chain"in r&&(o=r.chain);for(;++f<c;){var l=i[f],s=t[l];n[l]=s,a&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__),u=e.__actions__=et(this.__actions__);return u.push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function Ui(){return nt._=eo,this}function $i(){}function Si(n){return ne(n)?Pt(n):Kt(n)}function Wi(n){return function(t){return Ft(n,pe(t),t+"")}}function Fi(n,t,r){r&&Qr(n,t,r)&&(t=r=b),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=bo(_o((t-n)/(r||1)),0),i=zi(u);++e<u;)i[e]=n,n+=r;return i}function Ni(n,t,r){if(n=yo(n),n<1||!mo(n))return[];var e=-1,u=zi(Ao(n,Eo));for(t=or(t,r,1);++e<n;)e<Eo?u[e]=t(e):t(e);return u}function Ti(n){var t=++to;return u(n)+t}function Li(n,t){return(+n||0)+(+t||0)}function Bi(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=Dr(t,r,3),1==t.length?vt(Cf(n)?n:le(n),t):Qt(n,t)}_=_?tt.defaults(nt.Object(),_,tt.pick(nt,Ln)):nt;var zi=_.Array,Di=_.Date,qi=_.Error,Mi=_.Function,Pi=_.Math,Ki=_.Number,Vi=_.Object,Yi=_.RegExp,Gi=_.String,Ji=_.TypeError,Xi=zi.prototype,Zi=Vi.prototype,Hi=Gi.prototype,Qi=Mi.prototype.toString,no=Zi.hasOwnProperty,to=0,ro=Zi.toString,eo=nt._,uo=Yi("^"+Qi.call(no).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=_.ArrayBuffer,oo=_.clearTimeout,fo=_.parseFloat,ao=Pi.pow,co=Zi.propertyIsEnumerable,lo=Kr(_,"Set"),so=_.setTimeout,po=Xi.splice,ho=_.Uint8Array,vo=Kr(_,"WeakMap"),_o=Pi.ceil,go=Kr(Vi,"create"),yo=Pi.floor,wo=Kr(zi,"isArray"),mo=_.isFinite,xo=Kr(Vi,"keys"),bo=Pi.max,Ao=Pi.min,jo=Kr(Di,"now"),ko=_.parseInt,Io=Pi.random,Ro=Ki.NEGATIVE_INFINITY,Oo=Ki.POSITIVE_INFINITY,Eo=4294967295,Co=Eo-1,Uo=Eo>>>1,$o=9007199254740991,So=vo&&new vo,Wo={};G.support={};G.templateSettings={escape:wn,evaluate:mn,interpolate:xn,variable:"",imports:{_:G}};var Fo=function(){function n(){}return function(t){if(Wu(t)){n.prototype=t;var r=new n;n.prototype=b}return r||{}}}(),No=pr($t),To=pr(St,!0),Lo=hr(),Bo=hr(!0),zo=So?function(n,t){return So.set(n,t),n}:Ri,Do=So?function(n){return So.get(n)}:$i,qo=Pt("length"),Mo=function(){var n=0,t=0;return function(r,e){var u=gf(),i=N-(u-t);if(t=u,i>0){if(++n>=F)return r}else n=0;return zo(r,e)}}(),Po=yu(function(n,t){return v(n)&&Zr(n)?jt(n,Ct(t,!1,!0)):[]}),Ko=br(),Vo=br(!0),Yo=yu(function(n){for(var t=n.length,e=t,u=zi(s),i=Mr(),o=i==r,f=[];e--;){var a=n[e]=Zr(a=n[e])?a:[];u[e]=o&&a.length>=120?_r(e&&a):null}var c=n[0],l=-1,s=c?c.length:0,p=u[0];n:for(;++l<s;)if(a=c[l],(p?Hn(p,a):i(f,a,0))<0){for(var e=t;--e;){var h=u[e];if((h?Hn(h,a):i(n[e],a,0))<0)continue n}p&&p.push(a),f.push(a)}return f}),Go=yu(function(t,r){r=Ct(r);var e=wt(t,r);return Vt(t,r.sort(n)),e}),Jo=Nr(),Xo=Nr(!0),Zo=yu(function(n){return nr(Ct(n,!1,!0))}),Ho=yu(function(n,t){return Zr(n)?jt(n,t):[]}),Qo=yu(Te),nf=yu(function(n){var t=n.length,r=t>2?n[t-2]:b,e=t>1?n[t-1]:b;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):b,e=b),n.length=t,Le(n,r,e)}),tf=yu(function(n){return n=Ct(n),this.thru(function(t){return rt(Cf(t)?t:[se(t)],n)})}),rf=yu(function(n,t){return wt(n,Ct(t))}),ef=lr(function(n,t,r){no.call(n,r)?++n[r]:n[r]=1}),uf=xr(No),of=xr(To,!0),ff=kr(ut,No),af=kr(it,To),cf=lr(function(n,t,r){no.call(n,r)?n[r].push(t):n[r]=[t]}),lf=lr(function(n,t,r){n[r]=t}),sf=yu(function(n,t,r){var e=-1,u="function"==typeof t,i=ne(t),o=Zr(n)?zi(n.length):[];return No(n,function(n){var f=u?t:i&&null!=n?n[t]:b;o[++e]=f?f.apply(n,r):Xr(n,t,r)}),o}),pf=lr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),hf=Ur(st,No),vf=Ur(pt,To),_f=yu(function(n,t){if(null==n)return[];var r=t[2];return r&&Qr(t[0],t[1],r)&&(t.length=1),Ht(n,Ct(t),[])}),gf=jo||function(){return(new Di).getTime()},yf=yu(function(n,t,r){var e=j;if(r.length){var u=g(r,yf.placeholder);e|=E}return Tr(n,e,t,r,u)}),df=yu(function(n,t){t=t.length?Ct(t):Xu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],j,n)}return n}),wf=yu(function(n,t,r){var e=j|k;if(r.length){var u=g(r,wf.placeholder);e|=E}return Tr(t,e,n,r,u)}),mf=dr(R),xf=dr(O),bf=yu(function(n,t){return At(n,1,t)}),Af=yu(function(n,t,r){return At(n,t,r)}),jf=jr(),kf=jr(!0),If=yu(function(n,t){if(t=Ct(t),"function"!=typeof n||!ot(t,e))throw new Ji(z);var r=t.length;return yu(function(e){for(var u=Ao(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Rf=Cr(E),Of=Cr(C),Ef=yu(function(n,t){return Tr(n,$,b,b,b,Ct(t))}),Cf=wo||function(n){return v(n)&&re(n.length)&&ro.call(n)==M},Uf=sr(qt),$f=sr(function(n,t,r){return r?yt(n,t,r):dt(n,t)}),Sf=wr($f,_t),Wf=wr(Uf,ie),Ff=Ar($t),Nf=Ar(St),Tf=Ir(Lo),Lf=Ir(Bo),Bf=Rr($t),zf=Rr(St),Df=xo?function(n){var t=null==n?b:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Zr(n)?ce(n):Wu(n)?xo(n):[]}:ce,qf=Or(!0),Mf=Or(),Pf=yu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(Ct(t),Gi);return oe(n,jt(ni(n),t))}var r=or(t[0],t[1],3);return fe(n,function(n,t,e){return!r(n,t,e)})}),Kf=yu(function(n,t){return null==n?{}:"function"==typeof t[0]?fe(n,or(t[0],t[1],3)):oe(n,Ct(t))}),Vf=gr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Yf=gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Gf=Er(),Jf=Er(!0),Xf=gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Zf=gr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Hf=yu(function(n,t){try{return n.apply(b,t)}catch(n){return Uu(n)?n:new qi(n)}}),Qf=yu(function(n,t){return function(r){return Xr(r,n,t)}}),na=yu(function(n,t){return function(r){return Xr(n,r,t)}}),ta=Fr("ceil"),ra=Fr("floor"),ea=mr(Au,Ro),ua=mr(Ku,Oo),ia=Fr("round");return G.prototype=H.prototype,nn.prototype=Fo(H.prototype),nn.prototype.constructor=nn,qn.prototype=Fo(H.prototype),qn.prototype.constructor=qn,Vn.prototype.delete=Yn,Vn.prototype.get=Gn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,Zn.prototype.push=Qn,vu.Cache=Vn,G.after=lu,G.ary=su,G.assign=$f,G.at=rf,G.before=pu,G.bind=yf,G.bindAll=df,G.bindKey=wf,G.callback=ki,G.chain=De,G.chunk=ve,G.compact=_e,G.constant=Ii,G.countBy=ef,G.create=Ju,G.curry=mf,G.curryRight=xf,G.debounce=hu,G.defaults=Sf,G.defaultsDeep=Wf,G.defer=bf,G.delay=Af,G.difference=Po,G.drop=ge,G.dropRight=ye,G.dropRightWhile=de,G.dropWhile=we,G.fill=me,G.filter=Ze,G.flatten=be,G.flattenDeep=Ae,G.flow=jf,G.flowRight=kf,G.forEach=ff,G.forEachRight=af,G.forIn=Tf,G.forInRight=Lf,G.forOwn=Bf,G.forOwnRight=zf,G.functions=Xu,G.groupBy=cf,G.indexBy=lf,G.initial=ke,G.intersection=Yo,G.invert=Qu,G.invoke=sf,G.keys=Df,G.keysIn=ni,G.map=nu,G.mapKeys=qf,G.mapValues=Mf,G.matches=Oi,G.matchesProperty=Ei,G.memoize=vu,G.merge=Uf,G.method=Qf,G.methodOf=na,G.mixin=Ci,G.modArgs=If,G.negate=_u,G.omit=Pf,G.once=gu,G.pairs=ti,G.partial=Rf,G.partialRight=Of,G.partition=pf,G.pick=Kf,G.pluck=tu,G.property=Si,G.propertyOf=Wi,G.pull=Oe,G.pullAt=Go,G.range=Fi,G.rearg=Ef,G.reject=ru,G.remove=Ee,G.rest=Ce,G.restParam=yu,G.set=ei,G.shuffle=uu,G.slice=Ue,G.sortBy=fu,G.sortByAll=_f,G.sortByOrder=au,G.spread=du,G.take=$e,G.takeRight=Se,G.takeRightWhile=We,G.takeWhile=Fe,G.tap=qe,G.throttle=wu,G.thru=Me,G.times=Ni,G.toArray=Yu,G.toPlainObject=Gu,G.transform=ui,G.union=Zo,G.uniq=Ne,G.unzip=Te,G.unzipWith=Le,G.values=ii,G.valuesIn=oi,G.where=cu,G.without=Ho,G.wrap=mu,G.xor=Be,G.zip=Qo,G.zipObject=ze,G.zipWith=nf,G.backflow=kf,G.collect=nu,G.compose=kf,G.each=ff,G.eachRight=af,G.extend=$f,G.iteratee=ki,G.methods=Xu,G.object=ze,G.select=Ze,G.tail=Ce,G.unique=Ne,Ci(G,G),G.add=Li,G.attempt=Hf,G.camelCase=Vf,G.capitalize=ci,G.ceil=ta,G.clone=xu,G.cloneDeep=bu,G.deburr=li,G.endsWith=si,G.escape=pi,G.escapeRegExp=hi,G.every=Xe,G.find=uf,G.findIndex=Ko,G.findKey=Ff,G.findLast=of,G.findLastIndex=Vo,G.findLastKey=Nf,G.findWhere=He,G.first=xe,G.floor=ra,G.get=Zu,G.gt=Au,G.gte=ju,G.has=Hu,G.identity=Ri,G.includes=Qe,G.indexOf=je,G.inRange=fi,G.isArguments=ku,G.isArray=Cf,G.isBoolean=Iu,G.isDate=Ru,G.isElement=Ou,G.isEmpty=Eu,G.isEqual=Cu,G.isError=Uu,G.isFinite=$u,G.isFunction=Su,G.isMatch=Fu,G.isNaN=Nu,G.isNative=Tu,G.isNull=Lu,G.isNumber=Bu,G.isObject=Wu,G.isPlainObject=zu,G.isRegExp=Du,G.isString=qu,G.isTypedArray=Mu,G.isUndefined=Pu,G.kebabCase=Yf,G.last=Ie,G.lastIndexOf=Re,G.lt=Ku,G.lte=Vu,G.max=ea,G.min=ua,G.noConflict=Ui,G.noop=$i,G.now=gf,G.pad=vi,G.padLeft=Gf,G.padRight=Jf,G.parseInt=_i,G.random=ai,G.reduce=hf,G.reduceRight=vf,G.repeat=gi,G.result=ri,G.round=ia,G.runInContext=x,G.size=iu,G.snakeCase=Xf,G.some=ou,G.sortedIndex=Jo,G.sortedLastIndex=Xo,G.startCase=Zf,G.startsWith=yi,G.sum=Bi,G.template=di,G.trim=wi,G.trimLeft=mi,G.trimRight=xi,G.trunc=bi,G.unescape=Ai,G.uniqueId=Ti,G.words=ji,G.all=Xe,G.any=ou,G.contains=Qe,G.eq=Cu,G.detect=uf,G.foldl=hf,G.foldr=vf,G.head=xe,G.include=Qe,G.inject=hf,Ci(G,function(){var n={};return $t(G,function(t,r){G.prototype[r]||(n[r]=t)}),n}(),!1),G.sample=eu,G.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return eu(t,n)}):eu(this.value())},G.VERSION=A,ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){G[n].placeholder=G}),ut(["drop","take"],function(n,t){qn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new qn(this);r=null==r?1:bo(yo(r)||0,0);var u=this.clone();return e?u.__takeCount__=Ao(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},qn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),ut(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=B;qn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:Dr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),ut(["first","last"],function(n,t){var r="take"+(t?"Right":"");qn.prototype[n]=function(){return this[r](1).value()[0]}}),ut(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");qn.prototype[n]=function(){return this.__filtered__?new qn(this):this[r](1)}}),ut(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?zt:Si;qn.prototype[n]=function(n){return this[r](e(n))}}),qn.prototype.compact=function(){return this.filter(Ri)},qn.prototype.reject=function(n,t){return n=Dr(n,t,1),this.filter(function(t){return!n(t)})},qn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||t<0)?new qn(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==b&&(t=+t||0,r=t<0?r.dropRight(-t):r.take(t-n)),r)},qn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},qn.prototype.toArray=function(){return this.take(Oo)},$t(qn.prototype,function(n,t){var r=/^(?:filter|map|reject)|While$/.test(t),e=/^(?:first|last)$/.test(t),u=G[e?"take"+("last"==t?"Right":""):t];u&&(G.prototype[t]=function(){var t=e?[1]:arguments,i=this.__chain__,o=this.__wrapped__,f=!!this.__actions__.length,a=o instanceof qn,c=t[0],l=a||Cf(o);l&&r&&"function"==typeof c&&1!=c.length&&(a=l=!1);var s=function(n){return e&&i?u(n,1)[0]:u.apply(b,lt([n],t))},p={func:Me,args:[s],thisArg:b},h=a&&!f;if(e&&!i)return h?(o=o.clone(),o.__actions__.push(p),n.call(o)):u.call(b,this.value())[0];if(!e&&l){o=h?o:new qn(this);var v=n.apply(o,t);return v.__actions__.push(p),new nn(v,i)}return this.thru(s)})}),ut(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hi:Xi)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);G.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),$t(qn.prototype,function(n,t){var r=G[t];if(r){var e=r.name,u=Wo[e]||(Wo[e]=[]);u.push({name:t,func:r})}}),Wo[$r(b,k).name]=[{name:"wrapper",func:b}],qn.prototype.clone=Mn,qn.prototype.reverse=Pn,qn.prototype.value=Kn,G.prototype.chain=Pe,G.prototype.commit=Ke,G.prototype.concat=tf,G.prototype.plant=Ve,G.prototype.reverse=Ye,G.prototype.toString=Ge,G.prototype.run=G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Je,G.prototype.collect=G.prototype.map,G.prototype.head=G.prototype.first,G.prototype.select=G.prototype.filter,G.prototype.tail=G.prototype.rest,G}var b,A="3.10.1",j=1,k=2,I=4,R=8,O=16,E=32,C=64,U=128,$=256,S=30,W="...",F=150,N=16,T=200,L=1,B=2,z="Expected a function",D="__lodash_placeholder__",q="[object Arguments]",M="[object Array]",P="[object Boolean]",K="[object Date]",V="[object Error]",Y="[object Function]",G="[object Map]",J="[object Number]",X="[object Object]",Z="[object RegExp]",H="[object Set]",Q="[object String]",nn="[object WeakMap]",tn="[object ArrayBuffer]",rn="[object Float32Array]",en="[object Float64Array]",un="[object Int8Array]",on="[object Int16Array]",fn="[object Int32Array]",an="[object Uint8Array]",cn="[object Uint8ClampedArray]",ln="[object Uint16Array]",sn="[object Uint32Array]",pn=/\b__p \+= '';/g,hn=/\b(__p \+=) '' \+/g,vn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_n=/&(?:amp|lt|gt|quot|#39|#96);/g,gn=/[&<>"'`]/g,yn=RegExp(_n.source),dn=RegExp(gn.source),wn=/<%-([\s\S]+?)%>/g,mn=/<%([\s\S]+?)%>/g,xn=/<%=([\s\S]+?)%>/g,bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,An=/^\w*$/,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,kn=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,In=RegExp(kn.source),Rn=/[\u0300-\u036f\ufe20-\ufe23]/g,On=/\\(\\)?/g,En=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,Un=/^0[xX]/,$n=/^\[object .+?Constructor\]$/,Sn=/^\d+$/,Wn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Fn=/($^)/,Nn=/['\n\r\u2028\u2029\\]/g,Tn=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Ln=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Bn=-1,zn={};zn[rn]=zn[en]=zn[un]=zn[on]=zn[fn]=zn[an]=zn[cn]=zn[ln]=zn[sn]=!0,zn[q]=zn[M]=zn[tn]=zn[P]=zn[K]=zn[V]=zn[Y]=zn[G]=zn[J]=zn[X]=zn[Z]=zn[H]=zn[Q]=zn[nn]=!1;var Dn={};Dn[q]=Dn[M]=Dn[tn]=Dn[P]=Dn[K]=Dn[rn]=Dn[en]=Dn[un]=Dn[on]=Dn[fn]=Dn[J]=Dn[X]=Dn[Z]=Dn[Q]=Dn[an]=Dn[cn]=Dn[ln]=Dn[sn]=!0,Dn[V]=Dn[Y]=Dn[G]=Dn[H]=Dn[nn]=!1;var qn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Pn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kn={function:!0,object:!0},Vn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Yn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gn=Kn[typeof exports]&&exports&&!exports.nodeType&&exports,Jn=Kn[typeof module]&&module&&!module.nodeType&&module,Xn=Gn&&Jn&&"object"==typeof global&&global&&global.Object&&global,Zn=Kn[typeof self]&&self&&self.Object&&self,Hn=Kn[typeof window]&&window&&window.Object&&window,Qn=Jn&&Jn.exports===Gn&&Gn,nt=Xn||Hn!==(this&&this.window)&&Hn||Zn||this,tt=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nt._=tt,define(function(){return tt})):Gn&&Jn?Qn?(Jn.exports=tt)._=tt:Gn._=tt:nt._=tt}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[575])


//# sourceMappingURL=locuslabs.prod.js.map